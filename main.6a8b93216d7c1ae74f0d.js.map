{"version":3,"file":"main.6a8b93216d7c1ae74f0d.js","mappings":"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ClH,MAA2G;AAC3G,MAA2G;AAC3G,MAAkJ;AAClJ;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;;AAErC,uBAAuB,uGAAa;AACpC;AACA,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,4HAAO;;;;AAI4F;AACpH,OAAO,iEAAe,4HAAO,IAAI,mIAAc,GAAG,mIAAc,YAAY,EAAC;;;;;;;;;;;;AC1BhE;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS7hB,KAAKA,CAACF,CAAC,EAAE;EAChB,OAAOA,CAAC,GAAG,GAAG,GAAG,CAAC;AACpB;AACA,IAAMy6B,GAAG,GAAG,SAANA,GAAGA,CAAIz6B,CAAC,EAAE06B,CAAC,EAAEC,CAAC;EAAA,OAAK58B,IAAI,CAACN,GAAG,CAACM,IAAI,CAACL,GAAG,CAACsC,CAAC,EAAE26B,CAAC,CAAC,EAAED,CAAC,CAAC;AAAA;AACpD,SAASE,GAAGA,CAAC56B,CAAC,EAAE;EACd,OAAOy6B,GAAG,CAACv6B,KAAK,CAACF,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;AACrC;AACA,SAAS66B,GAAGA,CAAC76B,CAAC,EAAE;EACd,OAAOy6B,GAAG,CAACv6B,KAAK,CAACF,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;AACrC;AACA,SAAS86B,GAAGA,CAAC96B,CAAC,EAAE;EACd,OAAOy6B,GAAG,CAACv6B,KAAK,CAACF,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;AACpC;AACA,SAAS+6B,GAAGA,CAAC/6B,CAAC,EAAE;EACd,OAAOy6B,GAAG,CAACv6B,KAAK,CAACF,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;AACzC;AACA,SAASg7B,GAAGA,CAACh7B,CAAC,EAAE;EACd,OAAOy6B,GAAG,CAACv6B,KAAK,CAACF,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;AACpC;AAEA,IAAMi7B,KAAK,GAAG;EAAC,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAE,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEzlB,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEylB,CAAC,EAAE,EAAE;EAAEC,CAAC,EAAE,EAAE;EAAEtwB,CAAC,EAAE,EAAE;EAAEuwB,CAAC,EAAE;AAAE,CAAC;AAC9J,IAAMC,GAAG,GAAAC,kBAAA,CAAO,kBAAkB,CAAC;AACnC,IAAMC,EAAE,GAAG,SAALA,EAAEA,CAAG9lB,CAAC;EAAA,OAAI4lB,GAAG,CAAC5lB,CAAC,GAAG,GAAG,CAAC;AAAA;AAC5B,IAAM+lB,EAAE,GAAG,SAALA,EAAEA,CAAG/lB,CAAC;EAAA,OAAI4lB,GAAG,CAAC,CAAC5lB,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG4lB,GAAG,CAAC5lB,CAAC,GAAG,GAAG,CAAC;AAAA;AACnD,IAAMgmB,EAAE,GAAG,SAALA,EAAEA,CAAGhmB,CAAC;EAAA,OAAK,CAACA,CAAC,GAAG,IAAI,KAAK,CAAC,MAAOA,CAAC,GAAG,GAAG,CAAC;AAAA;AAC/C,IAAMimB,OAAO,GAAG,SAAVA,OAAOA,CAAGh8B,CAAC;EAAA,OAAI+7B,EAAE,CAAC/7B,CAAC,CAACi8B,CAAC,CAAC,IAAIF,EAAE,CAAC/7B,CAAC,CAACk8B,CAAC,CAAC,IAAIH,EAAE,CAAC/7B,CAAC,CAAC+V,CAAC,CAAC,IAAIgmB,EAAE,CAAC/7B,CAAC,CAAC8V,CAAC,CAAC;AAAA;AAC7D,SAASqmB,QAAQA,CAACjnB,GAAG,EAAE;EACrB,IAAIknB,GAAG,GAAGlnB,GAAG,CAAC7Z,MAAM;EACpB,IAAIghC,GAAG;EACP,IAAInnB,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IAClB,IAAIknB,GAAG,KAAK,CAAC,IAAIA,GAAG,KAAK,CAAC,EAAE;MAC1BC,GAAG,GAAG;QACJJ,CAAC,EAAE,GAAG,GAAGhB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;QAC3BgnB,CAAC,EAAE,GAAG,GAAGjB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;QAC3Ba,CAAC,EAAE,GAAG,GAAGklB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;QAC3BY,CAAC,EAAEsmB,GAAG,KAAK,CAAC,GAAGnB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG;MACtC,CAAC;IACH,CAAC,MAAM,IAAIknB,GAAG,KAAK,CAAC,IAAIA,GAAG,KAAK,CAAC,EAAE;MACjCC,GAAG,GAAG;QACJJ,CAAC,EAAEhB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG+lB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC;QACrCgnB,CAAC,EAAEjB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG+lB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC;QACrCa,CAAC,EAAEklB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG+lB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC;QACrCY,CAAC,EAAEsmB,GAAG,KAAK,CAAC,GAAInB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG+lB,KAAK,CAAC/lB,GAAG,CAAC,CAAC,CAAC,CAAC,GAAI;MACxD,CAAC;IACH;EACF;EACA,OAAOmnB,GAAG;AACZ;AACA,IAAMC,KAAK,GAAG,SAARA,KAAKA,CAAIxmB,CAAC,EAAE4lB,CAAC;EAAA,OAAK5lB,CAAC,GAAG,GAAG,GAAG4lB,CAAC,CAAC5lB,CAAC,CAAC,GAAG,EAAE;AAAA;AAC3C,SAASymB,UAASA,CAACv8B,CAAC,EAAE;EACpB,IAAI07B,CAAC,GAAGM,OAAO,CAACh8B,CAAC,CAAC,GAAG67B,EAAE,GAAGC,EAAE;EAC5B,OAAO97B,CAAC,GACJ,GAAG,GAAG07B,CAAC,CAAC17B,CAAC,CAACi8B,CAAC,CAAC,GAAGP,CAAC,CAAC17B,CAAC,CAACk8B,CAAC,CAAC,GAAGR,CAAC,CAAC17B,CAAC,CAAC+V,CAAC,CAAC,GAAGumB,KAAK,CAACt8B,CAAC,CAAC8V,CAAC,EAAE4lB,CAAC,CAAC,GAC9CvhC,SAAS;AACf;AAEA,IAAMqiC,MAAM,GAAG,8GAA8G;AAC7H,SAASC,QAAQA,CAAC9B,CAAC,EAAE+B,CAAC,EAAEhC,CAAC,EAAE;EACzB,IAAM5kB,CAAC,GAAG4mB,CAAC,GAAG3+B,IAAI,CAACL,GAAG,CAACg9B,CAAC,EAAE,CAAC,GAAGA,CAAC,CAAC;EAChC,IAAMgB,CAAC,GAAG,SAAJA,CAACA,CAAIiB,CAAC;IAAA,IAAExsB,CAAC,GAAAlR,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAG,CAAC09B,CAAC,GAAGhC,CAAC,GAAG,EAAE,IAAI,EAAE;IAAA,OAAKD,CAAC,GAAG5kB,CAAC,GAAG/X,IAAI,CAACN,GAAG,CAACM,IAAI,CAACL,GAAG,CAACyS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAGA,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAAA;EACvF,OAAO,CAACurB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B;AACA,SAASkB,QAAQA,CAACjC,CAAC,EAAE+B,CAAC,EAAE18B,CAAC,EAAE;EACzB,IAAM07B,CAAC,GAAG,SAAJA,CAACA,CAAIiB,CAAC;IAAA,IAAExsB,CAAC,GAAAlR,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAG,CAAC09B,CAAC,GAAGhC,CAAC,GAAG,EAAE,IAAI,CAAC;IAAA,OAAK36B,CAAC,GAAGA,CAAC,GAAG08B,CAAC,GAAG3+B,IAAI,CAACN,GAAG,CAACM,IAAI,CAACL,GAAG,CAACyS,CAAC,EAAE,CAAC,GAAGA,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;EAAA;EACrF,OAAO,CAACurB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B;AACA,SAASmB,QAAQA,CAAClC,CAAC,EAAEmC,CAAC,EAAE/mB,CAAC,EAAE;EACzB,IAAMgnB,GAAG,GAAGN,QAAQ,CAAC9B,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;EAC/B,IAAIv/B,CAAC;EACL,IAAI0hC,CAAC,GAAG/mB,CAAC,GAAG,CAAC,EAAE;IACb3a,CAAC,GAAG,CAAC,IAAI0hC,CAAC,GAAG/mB,CAAC,CAAC;IACf+mB,CAAC,IAAI1hC,CAAC;IACN2a,CAAC,IAAI3a,CAAC;EACR;EACA,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;IACtB2hC,GAAG,CAAC3hC,CAAC,CAAC,IAAI,CAAC,GAAG0hC,CAAC,GAAG/mB,CAAC;IACnBgnB,GAAG,CAAC3hC,CAAC,CAAC,IAAI0hC,CAAC;EACb;EACA,OAAOC,GAAG;AACZ;AACA,SAASC,QAAQA,CAACf,CAAC,EAAEC,CAAC,EAAEnmB,CAAC,EAAE0lB,CAAC,EAAEh+B,GAAG,EAAE;EACjC,IAAIw+B,CAAC,KAAKx+B,GAAG,EAAE;IACb,OAAQ,CAACy+B,CAAC,GAAGnmB,CAAC,IAAI0lB,CAAC,IAAKS,CAAC,GAAGnmB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACxC;EACA,IAAImmB,CAAC,KAAKz+B,GAAG,EAAE;IACb,OAAO,CAACsY,CAAC,GAAGkmB,CAAC,IAAIR,CAAC,GAAG,CAAC;EACxB;EACA,OAAO,CAACQ,CAAC,GAAGC,CAAC,IAAIT,CAAC,GAAG,CAAC;AACxB;AACA,SAASwB,OAAOA,CAACj9B,CAAC,EAAE;EAClB,IAAMxC,KAAK,GAAG,GAAG;EACjB,IAAMy+B,CAAC,GAAGj8B,CAAC,CAACi8B,CAAC,GAAGz+B,KAAK;EACrB,IAAM0+B,CAAC,GAAGl8B,CAAC,CAACk8B,CAAC,GAAG1+B,KAAK;EACrB,IAAMuY,CAAC,GAAG/V,CAAC,CAAC+V,CAAC,GAAGvY,KAAK;EACrB,IAAMC,GAAG,GAAGM,IAAI,CAACN,GAAG,CAACw+B,CAAC,EAAEC,CAAC,EAAEnmB,CAAC,CAAC;EAC7B,IAAMrY,GAAG,GAAGK,IAAI,CAACL,GAAG,CAACu+B,CAAC,EAAEC,CAAC,EAAEnmB,CAAC,CAAC;EAC7B,IAAM2kB,CAAC,GAAG,CAACj9B,GAAG,GAAGC,GAAG,IAAI,CAAC;EACzB,IAAIi9B,CAAC,EAAE+B,CAAC,EAAEjB,CAAC;EACX,IAAIh+B,GAAG,KAAKC,GAAG,EAAE;IACf+9B,CAAC,GAAGh+B,GAAG,GAAGC,GAAG;IACbg/B,CAAC,GAAGhC,CAAC,GAAG,GAAG,GAAGe,CAAC,IAAI,CAAC,GAAGh+B,GAAG,GAAGC,GAAG,CAAC,GAAG+9B,CAAC,IAAIh+B,GAAG,GAAGC,GAAG,CAAC;IACnDi9B,CAAC,GAAGqC,QAAQ,CAACf,CAAC,EAAEC,CAAC,EAAEnmB,CAAC,EAAE0lB,CAAC,EAAEh+B,GAAG,CAAC;IAC7Bk9B,CAAC,GAAGA,CAAC,GAAG,EAAE,GAAG,GAAG;EAClB;EACA,OAAO,CAACA,CAAC,GAAG,CAAC,EAAE+B,CAAC,IAAI,CAAC,EAAEhC,CAAC,CAAC;AAC3B;AACA,SAASwC,KAAKA,CAACxB,CAAC,EAAE5lB,CAAC,EAAEC,CAAC,EAAEylB,CAAC,EAAE;EACzB,OAAO,CACLtpB,KAAK,CAACC,OAAO,CAAC2D,CAAC,CAAC,GACZ4lB,CAAC,CAAC5lB,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC,GACnB4lB,CAAC,CAAC5lB,CAAC,EAAEC,CAAC,EAAEylB,CAAC,CAAC,EACdjsB,GAAG,CAACurB,GAAG,CAAC;AACZ;AACA,SAASqC,OAAOA,CAACxC,CAAC,EAAE+B,CAAC,EAAEhC,CAAC,EAAE;EACxB,OAAOwC,KAAK,CAACT,QAAQ,EAAE9B,CAAC,EAAE+B,CAAC,EAAEhC,CAAC,CAAC;AACjC;AACA,SAAS0C,OAAOA,CAACzC,CAAC,EAAEmC,CAAC,EAAE/mB,CAAC,EAAE;EACxB,OAAOmnB,KAAK,CAACL,QAAQ,EAAElC,CAAC,EAAEmC,CAAC,EAAE/mB,CAAC,CAAC;AACjC;AACA,SAASsnB,OAAOA,CAAC1C,CAAC,EAAE+B,CAAC,EAAE18B,CAAC,EAAE;EACxB,OAAOk9B,KAAK,CAACN,QAAQ,EAAEjC,CAAC,EAAE+B,CAAC,EAAE18B,CAAC,CAAC;AACjC;AACA,SAASs9B,GAAGA,CAAC3C,CAAC,EAAE;EACd,OAAO,CAACA,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG;AAC9B;AACA,SAAS4C,QAAQA,CAACroB,GAAG,EAAE;EACrB,IAAMsoB,CAAC,GAAGhB,MAAM,CAACiB,IAAI,CAACvoB,GAAG,CAAC;EAC1B,IAAIY,CAAC,GAAG,GAAG;EACX,IAAI9V,CAAC;EACL,IAAI,CAACw9B,CAAC,EAAE;IACN;EACF;EACA,IAAIA,CAAC,CAAC,CAAC,CAAC,KAAKx9B,CAAC,EAAE;IACd8V,CAAC,GAAG0nB,CAAC,CAAC,CAAC,CAAC,GAAG5C,GAAG,CAAC,CAAC4C,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG1C,GAAG,CAAC,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAAC;EACpC;EACA,IAAM7C,CAAC,GAAG2C,GAAG,CAAC,CAACE,CAAC,CAAC,CAAC,CAAC,CAAC;EACpB,IAAMj5B,EAAE,GAAG,CAACi5B,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG;EACtB,IAAMvhB,EAAE,GAAG,CAACuhB,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG;EACtB,IAAIA,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE;IAClBx9B,CAAC,GAAGo9B,OAAO,CAACzC,CAAC,EAAEp2B,EAAE,EAAE0X,EAAE,CAAC;EACxB,CAAC,MAAM,IAAIuhB,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE;IACzBx9B,CAAC,GAAGq9B,OAAO,CAAC1C,CAAC,EAAEp2B,EAAE,EAAE0X,EAAE,CAAC;EACxB,CAAC,MAAM;IACLjc,CAAC,GAAGm9B,OAAO,CAACxC,CAAC,EAAEp2B,EAAE,EAAE0X,EAAE,CAAC;EACxB;EACA,OAAO;IACLggB,CAAC,EAAEj8B,CAAC,CAAC,CAAC,CAAC;IACPk8B,CAAC,EAAEl8B,CAAC,CAAC,CAAC,CAAC;IACP+V,CAAC,EAAE/V,CAAC,CAAC,CAAC,CAAC;IACP8V,CAAC,EAAEA;EACL,CAAC;AACH;AACA,SAAS4nB,OAAMA,CAAC19B,CAAC,EAAE29B,GAAG,EAAE;EACtB,IAAIhD,CAAC,GAAGsC,OAAO,CAACj9B,CAAC,CAAC;EAClB26B,CAAC,CAAC,CAAC,CAAC,GAAG2C,GAAG,CAAC3C,CAAC,CAAC,CAAC,CAAC,GAAGgD,GAAG,CAAC;EACtBhD,CAAC,GAAGwC,OAAO,CAACxC,CAAC,CAAC;EACd36B,CAAC,CAACi8B,CAAC,GAAGtB,CAAC,CAAC,CAAC,CAAC;EACV36B,CAAC,CAACk8B,CAAC,GAAGvB,CAAC,CAAC,CAAC,CAAC;EACV36B,CAAC,CAAC+V,CAAC,GAAG4kB,CAAC,CAAC,CAAC,CAAC;AACZ;AACA,SAASiD,UAASA,CAAC59B,CAAC,EAAE;EACpB,IAAI,CAACA,CAAC,EAAE;IACN;EACF;EACA,IAAM8V,CAAC,GAAGmnB,OAAO,CAACj9B,CAAC,CAAC;EACpB,IAAM26B,CAAC,GAAG7kB,CAAC,CAAC,CAAC,CAAC;EACd,IAAM4mB,CAAC,GAAG1B,GAAG,CAACllB,CAAC,CAAC,CAAC,CAAC,CAAC;EACnB,IAAM4kB,CAAC,GAAGM,GAAG,CAACllB,CAAC,CAAC,CAAC,CAAC,CAAC;EACnB,OAAO9V,CAAC,CAAC8V,CAAC,GAAG,GAAG,WAAAnG,MAAA,CACJgrB,CAAC,QAAAhrB,MAAA,CAAK+sB,CAAC,SAAA/sB,MAAA,CAAM+qB,CAAC,SAAA/qB,MAAA,CAAMorB,GAAG,CAAC/6B,CAAC,CAAC8V,CAAC,CAAC,gBAAAnG,MAAA,CAC7BgrB,CAAC,QAAAhrB,MAAA,CAAK+sB,CAAC,SAAA/sB,MAAA,CAAM+qB,CAAC,OAAI;AAC/B;AAEA,IAAMnrB,GAAG,GAAG;EACVjV,CAAC,EAAE,MAAM;EACTujC,CAAC,EAAE,OAAO;EACVC,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,KAAK;EACRC,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,QAAQ;EACXC,CAAC,EAAE,OAAO;EACVhD,CAAC,EAAE,IAAI;EACPiD,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,IAAI;EACPjD,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,OAAO;EACVC,CAAC,EAAE,OAAO;EACVgD,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,UAAU;EACbhD,CAAC,EAAE,IAAI;EACPiD,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,OAAO;EACVpD,CAAC,EAAE,IAAI;EACPqD,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,MAAM;EACTC,CAAC,EAAE,IAAI;EACPC,CAAC,EAAE,OAAO;EACVC,CAAC,EAAE;AACL,CAAC;AACD,IAAMC,OAAO,GAAG;EACdC,MAAM,EAAE,QAAQ;EAChBC,WAAW,EAAE,QAAQ;EACrBC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAE,QAAQ;EACnBC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,GAAG;EACVC,YAAY,EAAE,QAAQ;EACtBC,EAAE,EAAE,IAAI;EACRC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,QAAQ;EAClBC,OAAO,EAAE,QAAQ;EACjBC,GAAG,EAAE,QAAQ;EACbC,WAAW,EAAE,QAAQ;EACrBC,OAAO,EAAE,QAAQ;EACjBC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE,MAAM;EACZC,GAAG,EAAE,IAAI;EACTC,KAAK,EAAE,MAAM;EACbC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,MAAM;EACZC,IAAI,EAAE,QAAQ;EACdC,MAAM,EAAE,QAAQ;EAChBC,OAAO,EAAE,QAAQ;EACjBC,QAAQ,EAAE,QAAQ;EAClBC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,QAAQ;EACfC,KAAK,EAAE,QAAQ;EACfC,GAAG,EAAE,MAAM;EACXC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,MAAM;EAChBC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,QAAQ;EAClBC,QAAQ,EAAE,QAAQ;EAClBC,QAAQ,EAAE,QAAQ;EAClBC,QAAQ,EAAE,QAAQ;EAClBC,MAAM,EAAE,QAAQ;EAChBC,OAAO,EAAE,QAAQ;EACjBC,SAAS,EAAE,QAAQ;EACnBC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,QAAQ;EAChBC,GAAG,EAAE,QAAQ;EACbC,GAAG,EAAE,MAAM;EACXC,KAAK,EAAE,QAAQ;EACfC,GAAG,EAAE,QAAQ;EACbC,OAAO,EAAE,QAAQ;EACjBC,MAAM,EAAE,QAAQ;EAChBC,OAAO,EAAE,QAAQ;EACjBC,KAAK,EAAE,QAAQ;EACfC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,QAAQ;EAChBC,SAAS,EAAE,QAAQ;EACnBC,OAAO,EAAE,QAAQ;EACjBC,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,QAAQ;EACbC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,QAAQ;EACfC,SAAS,EAAE,QAAQ;EACnBC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,KAAK,EAAE,QAAQ;EACfC,OAAO,EAAE,QAAQ;EACjBC,GAAG,EAAE,QAAQ;EACbC,IAAI,EAAE,MAAM;EACZC,OAAO,EAAE,QAAQ;EACjBC,GAAG,EAAE,QAAQ;EACbC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,UAAU,EAAE,QAAQ;EACpBC,GAAG,EAAE,IAAI;EACTC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAE,MAAM;EACjBC,GAAG,EAAE,QAAQ;EACbC,QAAQ,EAAE,QAAQ;EAClBC,UAAU,EAAE,QAAQ;EACpBC,OAAO,EAAE,QAAQ;EACjBC,QAAQ,EAAE,QAAQ;EAClBC,OAAO,EAAE,QAAQ;EACjBC,UAAU,EAAE,QAAQ;EACpBC,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE,QAAQ;EAChBC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE,QAAQ;EACjBC,KAAK,EAAE,QAAQ;EACfC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE,QAAQ;EACnBC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE,QAAQ;EACdC,GAAG,EAAE,QAAQ;EACbC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE,QAAQ;EACjBC,KAAK,EAAE,QAAQ;EACfC,WAAW,EAAE,QAAQ;EACrBC,EAAE,EAAE,QAAQ;EACZC,QAAQ,EAAE,QAAQ;EAClBC,KAAK,EAAE,QAAQ;EACfC,SAAS,EAAE,QAAQ;EACnBC,KAAK,EAAE,QAAQ;EACfC,SAAS,EAAE,QAAQ;EACnBC,KAAK,EAAE,QAAQ;EACfC,OAAO,EAAE,QAAQ;EACjBC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,GAAG,EAAE,QAAQ;EACbC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,QAAQ,EAAE,MAAM;EAChBC,MAAM,EAAE,QAAQ;EAChBC,GAAG,EAAE,QAAQ;EACbC,GAAG,EAAE,MAAM;EACXC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,QAAQ;EAChBC,EAAE,EAAE,QAAQ;EACZC,KAAK,EAAE,QAAQ;EACfC,GAAG,EAAE,QAAQ;EACbC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAE,QAAQ;EACnBC,EAAE,EAAE,QAAQ;EACZC,KAAK,EAAE;AACT,CAAC;AACD,SAASC,MAAMA,CAAA,EAAG;EAChB,IAAMC,QAAQ,GAAG,CAAC,CAAC;EACnB,IAAMptC,IAAI,GAAGD,MAAM,CAACC,IAAI,CAAC8jC,OAAO,CAAC;EACjC,IAAMuJ,KAAK,GAAGttC,MAAM,CAACC,IAAI,CAACoU,GAAG,CAAC;EAC9B,IAAInU,CAAC,EAAEqtC,CAAC,EAAEt4B,CAAC,EAAEu4B,EAAE,EAAEC,EAAE;EACnB,KAAKvtC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAChCstC,EAAE,GAAGC,EAAE,GAAGxtC,IAAI,CAACC,CAAC,CAAC;IACjB,KAAKqtC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACntC,MAAM,EAAEotC,CAAC,EAAE,EAAE;MACjCt4B,CAAC,GAAGq4B,KAAK,CAACC,CAAC,CAAC;MACZE,EAAE,GAAGA,EAAE,CAAC/3B,OAAO,CAACT,CAAC,EAAEZ,GAAG,CAACY,CAAC,CAAC,CAAC;IAC5B;IACAA,CAAC,GAAGy4B,QAAQ,CAAC3J,OAAO,CAACyJ,EAAE,CAAC,EAAE,EAAE,CAAC;IAC7BH,QAAQ,CAACI,EAAE,CAAC,GAAG,CAACx4B,CAAC,IAAI,EAAE,GAAG,IAAI,EAAEA,CAAC,IAAI,CAAC,GAAG,IAAI,EAAEA,CAAC,GAAG,IAAI,CAAC;EAC1D;EACA,OAAOo4B,QAAQ;AACjB;AAEA,IAAIM,KAAK;AACT,SAASC,SAASA,CAAC5zB,GAAG,EAAE;EACtB,IAAI,CAAC2zB,KAAK,EAAE;IACVA,KAAK,GAAGP,MAAM,CAAC,CAAC;IAChBO,KAAK,CAACE,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAClC;EACA,IAAMjzB,CAAC,GAAG+yB,KAAK,CAAC3zB,GAAG,CAAC6I,WAAW,CAAC,CAAC,CAAC;EAClC,OAAOjI,CAAC,IAAI;IACVmmB,CAAC,EAAEnmB,CAAC,CAAC,CAAC,CAAC;IACPomB,CAAC,EAAEpmB,CAAC,CAAC,CAAC,CAAC;IACPC,CAAC,EAAED,CAAC,CAAC,CAAC,CAAC;IACPA,CAAC,EAAEA,CAAC,CAACza,MAAM,KAAK,CAAC,GAAGya,CAAC,CAAC,CAAC,CAAC,GAAG;EAC7B,CAAC;AACH;AAEA,IAAMkzB,MAAM,GAAG,sGAAsG;AACrH,SAASC,QAAQA,CAAC/zB,GAAG,EAAE;EACrB,IAAMsoB,CAAC,GAAGwL,MAAM,CAACvL,IAAI,CAACvoB,GAAG,CAAC;EAC1B,IAAIY,CAAC,GAAG,GAAG;EACX,IAAImmB,CAAC,EAAEC,CAAC,EAAEnmB,CAAC;EACX,IAAI,CAACynB,CAAC,EAAE;IACN;EACF;EACA,IAAIA,CAAC,CAAC,CAAC,CAAC,KAAKvB,CAAC,EAAE;IACd,IAAMj8B,CAAC,GAAG,CAACw9B,CAAC,CAAC,CAAC,CAAC;IACf1nB,CAAC,GAAG0nB,CAAC,CAAC,CAAC,CAAC,GAAG5C,GAAG,CAAC56B,CAAC,CAAC,GAAGy6B,GAAG,CAACz6B,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC;EAC1C;EACAi8B,CAAC,GAAG,CAACuB,CAAC,CAAC,CAAC,CAAC;EACTtB,CAAC,GAAG,CAACsB,CAAC,CAAC,CAAC,CAAC;EACTznB,CAAC,GAAG,CAACynB,CAAC,CAAC,CAAC,CAAC;EACTvB,CAAC,GAAG,GAAG,IAAIuB,CAAC,CAAC,CAAC,CAAC,GAAG5C,GAAG,CAACqB,CAAC,CAAC,GAAGxB,GAAG,CAACwB,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;EAC1CC,CAAC,GAAG,GAAG,IAAIsB,CAAC,CAAC,CAAC,CAAC,GAAG5C,GAAG,CAACsB,CAAC,CAAC,GAAGzB,GAAG,CAACyB,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;EAC1CnmB,CAAC,GAAG,GAAG,IAAIynB,CAAC,CAAC,CAAC,CAAC,GAAG5C,GAAG,CAAC7kB,CAAC,CAAC,GAAG0kB,GAAG,CAAC1kB,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;EAC1C,OAAO;IACLkmB,CAAC,EAAEA,CAAC;IACJC,CAAC,EAAEA,CAAC;IACJnmB,CAAC,EAAEA,CAAC;IACJD,CAAC,EAAEA;EACL,CAAC;AACH;AACA,SAASozB,UAASA,CAAClpC,CAAC,EAAE;EACpB,OAAOA,CAAC,KACNA,CAAC,CAAC8V,CAAC,GAAG,GAAG,WAAAnG,MAAA,CACG3P,CAAC,CAACi8B,CAAC,QAAAtsB,MAAA,CAAK3P,CAAC,CAACk8B,CAAC,QAAAvsB,MAAA,CAAK3P,CAAC,CAAC+V,CAAC,QAAApG,MAAA,CAAKorB,GAAG,CAAC/6B,CAAC,CAAC8V,CAAC,CAAC,gBAAAnG,MAAA,CACjC3P,CAAC,CAACi8B,CAAC,QAAAtsB,MAAA,CAAK3P,CAAC,CAACk8B,CAAC,QAAAvsB,MAAA,CAAK3P,CAAC,CAAC+V,CAAC,MAAG,CAClC;AACH;AAEA,IAAMjW,EAAE,GAAG,SAALA,EAAEA,CAAGE,CAAC;EAAA,OAAIA,CAAC,IAAI,SAAS,GAAGA,CAAC,GAAG,KAAK,GAAGjC,IAAI,CAACorC,GAAG,CAACnpC,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,KAAK,GAAG,KAAK;AAAA;AACnF,IAAMH,IAAI,GAAG,SAAPA,IAAIA,CAAGG,CAAC;EAAA,OAAIA,CAAC,IAAI,OAAO,GAAGA,CAAC,GAAG,KAAK,GAAGjC,IAAI,CAACorC,GAAG,CAAC,CAACnpC,CAAC,GAAG,KAAK,IAAI,KAAK,EAAE,GAAG,CAAC;AAAA;AAC/E,SAASopC,YAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEtoB,CAAC,EAAE;EAClC,IAAMib,CAAC,GAAGp8B,IAAI,CAACk7B,GAAG,CAACsO,IAAI,CAACpN,CAAC,CAAC,CAAC;EAC3B,IAAMC,CAAC,GAAGr8B,IAAI,CAACk7B,GAAG,CAACsO,IAAI,CAACnN,CAAC,CAAC,CAAC;EAC3B,IAAMnmB,CAAC,GAAGlW,IAAI,CAACk7B,GAAG,CAACsO,IAAI,CAACtzB,CAAC,CAAC,CAAC;EAC3B,OAAO;IACLkmB,CAAC,EAAEnB,GAAG,CAACh7B,EAAE,CAACm8B,CAAC,GAAGjb,CAAC,IAAInhB,IAAI,CAACk7B,GAAG,CAACuO,IAAI,CAACrN,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;IAC3CC,CAAC,EAAEpB,GAAG,CAACh7B,EAAE,CAACo8B,CAAC,GAAGlb,CAAC,IAAInhB,IAAI,CAACk7B,GAAG,CAACuO,IAAI,CAACpN,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;IAC3CnmB,CAAC,EAAE+kB,GAAG,CAACh7B,EAAE,CAACiW,CAAC,GAAGiL,CAAC,IAAInhB,IAAI,CAACk7B,GAAG,CAACuO,IAAI,CAACvzB,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;IAC3CD,CAAC,EAAEuzB,IAAI,CAACvzB,CAAC,GAAGkL,CAAC,IAAIsoB,IAAI,CAACxzB,CAAC,GAAGuzB,IAAI,CAACvzB,CAAC;EAClC,CAAC;AACH;AAEA,SAASyzB,MAAMA,CAACvpC,CAAC,EAAE5E,CAAC,EAAEouC,KAAK,EAAE;EAC3B,IAAIxpC,CAAC,EAAE;IACL,IAAIypC,GAAG,GAAGxM,OAAO,CAACj9B,CAAC,CAAC;IACpBypC,GAAG,CAACruC,CAAC,CAAC,GAAG2C,IAAI,CAACN,GAAG,CAAC,CAAC,EAAEM,IAAI,CAACL,GAAG,CAAC+rC,GAAG,CAACruC,CAAC,CAAC,GAAGquC,GAAG,CAACruC,CAAC,CAAC,GAAGouC,KAAK,EAAEpuC,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IAC1EquC,GAAG,GAAGtM,OAAO,CAACsM,GAAG,CAAC;IAClBzpC,CAAC,CAACi8B,CAAC,GAAGwN,GAAG,CAAC,CAAC,CAAC;IACZzpC,CAAC,CAACk8B,CAAC,GAAGuN,GAAG,CAAC,CAAC,CAAC;IACZzpC,CAAC,CAAC+V,CAAC,GAAG0zB,GAAG,CAAC,CAAC,CAAC;EACd;AACF;AACA,SAASC,KAAKA,CAAC1pC,CAAC,EAAE2pC,KAAK,EAAE;EACvB,OAAO3pC,CAAC,GAAG9E,MAAM,CAAC6X,MAAM,CAAC42B,KAAK,IAAI,CAAC,CAAC,EAAE3pC,CAAC,CAAC,GAAGA,CAAC;AAC9C;AACA,SAAS4pC,UAAUA,CAACpwB,KAAK,EAAE;EACzB,IAAIxZ,CAAC,GAAG;IAACi8B,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE,CAAC;IAAEnmB,CAAC,EAAE,CAAC;IAAED,CAAC,EAAE;EAAG,CAAC;EAClC,IAAI5D,KAAK,CAACC,OAAO,CAACqH,KAAK,CAAC,EAAE;IACxB,IAAIA,KAAK,CAACne,MAAM,IAAI,CAAC,EAAE;MACrB2E,CAAC,GAAG;QAACi8B,CAAC,EAAEziB,KAAK,CAAC,CAAC,CAAC;QAAE0iB,CAAC,EAAE1iB,KAAK,CAAC,CAAC,CAAC;QAAEzD,CAAC,EAAEyD,KAAK,CAAC,CAAC,CAAC;QAAE1D,CAAC,EAAE;MAAG,CAAC;MACnD,IAAI0D,KAAK,CAACne,MAAM,GAAG,CAAC,EAAE;QACpB2E,CAAC,CAAC8V,CAAC,GAAGglB,GAAG,CAACthB,KAAK,CAAC,CAAC,CAAC,CAAC;MACrB;IACF;EACF,CAAC,MAAM;IACLxZ,CAAC,GAAG0pC,KAAK,CAAClwB,KAAK,EAAE;MAACyiB,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE,CAAC;MAAEnmB,CAAC,EAAE,CAAC;MAAED,CAAC,EAAE;IAAC,CAAC,CAAC;IAC1C9V,CAAC,CAAC8V,CAAC,GAAGglB,GAAG,CAAC96B,CAAC,CAAC8V,CAAC,CAAC;EAChB;EACA,OAAO9V,CAAC;AACV;AACA,SAAS6pC,aAAaA,CAAC30B,GAAG,EAAE;EAC1B,IAAIA,GAAG,CAACujB,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACzB,OAAOwQ,QAAQ,CAAC/zB,GAAG,CAAC;EACtB;EACA,OAAOqoB,QAAQ,CAACroB,GAAG,CAAC;AACtB;AAAC,IACK40B,KAAK;EACT,SAAAA,MAAYtwB,KAAK,EAAE;IAAAuwB,eAAA,OAAAD,KAAA;IACjB,IAAItwB,KAAK,YAAYswB,KAAK,EAAE;MAC1B,OAAOtwB,KAAK;IACd;IACA,IAAMpW,IAAI,GAAAiR,OAAA,CAAUmF,KAAK;IACzB,IAAIxZ,CAAC;IACL,IAAIoD,IAAI,KAAK,QAAQ,EAAE;MACrBpD,CAAC,GAAG4pC,UAAU,CAACpwB,KAAK,CAAC;IACvB,CAAC,MAAM,IAAIpW,IAAI,KAAK,QAAQ,EAAE;MAC5BpD,CAAC,GAAGm8B,QAAQ,CAAC3iB,KAAK,CAAC,IAAIsvB,SAAS,CAACtvB,KAAK,CAAC,IAAIqwB,aAAa,CAACrwB,KAAK,CAAC;IACjE;IACA,IAAI,CAACwwB,IAAI,GAAGhqC,CAAC;IACb,IAAI,CAACiqC,MAAM,GAAG,CAAC,CAACjqC,CAAC;EACnB;EAACkqC,YAAA,CAAAJ,KAAA;IAAAlwC,GAAA;IAAAkD,GAAA,EACD,SAAAA,IAAA,EAAY;MACV,OAAO,IAAI,CAACmtC,MAAM;IACpB;EAAC;IAAArwC,GAAA;IAAAkD,GAAA,EACD,SAAAA,IAAA,EAAU;MACR,IAAIkD,CAAC,GAAG0pC,KAAK,CAAC,IAAI,CAACM,IAAI,CAAC;MACxB,IAAIhqC,CAAC,EAAE;QACLA,CAAC,CAAC8V,CAAC,GAAGilB,GAAG,CAAC/6B,CAAC,CAAC8V,CAAC,CAAC;MAChB;MACA,OAAO9V,CAAC;IACV,CAAC;IAAA7C,GAAA,EACD,SAAAA,IAAQiV,GAAG,EAAE;MACX,IAAI,CAAC43B,IAAI,GAAGJ,UAAU,CAACx3B,GAAG,CAAC;IAC7B;EAAC;IAAAxY,GAAA;IAAAmoB,KAAA,EACD,SAAAmnB,UAAA,EAAY;MACV,OAAO,IAAI,CAACe,MAAM,GAAGf,UAAS,CAAC,IAAI,CAACc,IAAI,CAAC,GAAG7vC,SAAS;IACvD;EAAC;IAAAP,GAAA;IAAAmoB,KAAA,EACD,SAAAwa,UAAA,EAAY;MACV,OAAO,IAAI,CAAC0N,MAAM,GAAG1N,UAAS,CAAC,IAAI,CAACyN,IAAI,CAAC,GAAG7vC,SAAS;IACvD;EAAC;IAAAP,GAAA;IAAAmoB,KAAA,EACD,SAAA6b,UAAA,EAAY;MACV,OAAO,IAAI,CAACqM,MAAM,GAAGrM,UAAS,CAAC,IAAI,CAACoM,IAAI,CAAC,GAAG7vC,SAAS;IACvD;EAAC;IAAAP,GAAA;IAAAmoB,KAAA,EACD,SAAAooB,IAAIC,KAAK,EAAEvgB,MAAM,EAAE;MACjB,IAAIugB,KAAK,EAAE;QACT,IAAMC,EAAE,GAAG,IAAI,CAACtN,GAAG;QACnB,IAAMuN,EAAE,GAAGF,KAAK,CAACrN,GAAG;QACpB,IAAIwN,EAAE;QACN,IAAMt/B,CAAC,GAAG4e,MAAM,KAAK0gB,EAAE,GAAG,GAAG,GAAG1gB,MAAM;QACtC,IAAMiT,CAAC,GAAG,CAAC,GAAG7xB,CAAC,GAAG,CAAC;QACnB,IAAM6K,CAAC,GAAGu0B,EAAE,CAACv0B,CAAC,GAAGw0B,EAAE,CAACx0B,CAAC;QACrB,IAAM00B,EAAE,GAAG,CAAC,CAAC1N,CAAC,GAAGhnB,CAAC,KAAK,CAAC,CAAC,GAAGgnB,CAAC,GAAG,CAACA,CAAC,GAAGhnB,CAAC,KAAK,CAAC,GAAGgnB,CAAC,GAAGhnB,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG;QACjEy0B,EAAE,GAAG,CAAC,GAAGC,EAAE;QACXH,EAAE,CAACpO,CAAC,GAAG,IAAI,GAAGuO,EAAE,GAAGH,EAAE,CAACpO,CAAC,GAAGsO,EAAE,GAAGD,EAAE,CAACrO,CAAC,GAAG,GAAG;QACzCoO,EAAE,CAACnO,CAAC,GAAG,IAAI,GAAGsO,EAAE,GAAGH,EAAE,CAACnO,CAAC,GAAGqO,EAAE,GAAGD,EAAE,CAACpO,CAAC,GAAG,GAAG;QACzCmO,EAAE,CAACt0B,CAAC,GAAG,IAAI,GAAGy0B,EAAE,GAAGH,EAAE,CAACt0B,CAAC,GAAGw0B,EAAE,GAAGD,EAAE,CAACv0B,CAAC,GAAG,GAAG;QACzCs0B,EAAE,CAACv0B,CAAC,GAAG7K,CAAC,GAAGo/B,EAAE,CAACv0B,CAAC,GAAG,CAAC,CAAC,GAAG7K,CAAC,IAAIq/B,EAAE,CAACx0B,CAAC;QAChC,IAAI,CAACinB,GAAG,GAAGsN,EAAE;MACf;MACA,OAAO,IAAI;IACb;EAAC;IAAAzwC,GAAA;IAAAmoB,KAAA,EACD,SAAAqnB,YAAYgB,KAAK,EAAEppB,CAAC,EAAE;MACpB,IAAIopB,KAAK,EAAE;QACT,IAAI,CAACJ,IAAI,GAAGZ,YAAW,CAAC,IAAI,CAACY,IAAI,EAAEI,KAAK,CAACJ,IAAI,EAAEhpB,CAAC,CAAC;MACnD;MACA,OAAO,IAAI;IACb;EAAC;IAAApnB,GAAA;IAAAmoB,KAAA,EACD,SAAA2nB,MAAA,EAAQ;MACN,OAAO,IAAII,KAAK,CAAC,IAAI,CAAC/M,GAAG,CAAC;IAC5B;EAAC;IAAAnjC,GAAA;IAAAmoB,KAAA,EACD,SAAAua,MAAMxmB,CAAC,EAAE;MACP,IAAI,CAACk0B,IAAI,CAACl0B,CAAC,GAAGglB,GAAG,CAAChlB,CAAC,CAAC;MACpB,OAAO,IAAI;IACb;EAAC;IAAAlc,GAAA;IAAAmoB,KAAA,EACD,SAAA0oB,QAAQjB,KAAK,EAAE;MACb,IAAMzM,GAAG,GAAG,IAAI,CAACiN,IAAI;MACrBjN,GAAG,CAACjnB,CAAC,IAAI,CAAC,GAAG0zB,KAAK;MAClB,OAAO,IAAI;IACb;EAAC;IAAA5vC,GAAA;IAAAmoB,KAAA,EACD,SAAA2oB,UAAA,EAAY;MACV,IAAM3N,GAAG,GAAG,IAAI,CAACiN,IAAI;MACrB,IAAM51B,GAAG,GAAGlU,KAAK,CAAC68B,GAAG,CAACd,CAAC,GAAG,GAAG,GAAGc,GAAG,CAACb,CAAC,GAAG,IAAI,GAAGa,GAAG,CAAChnB,CAAC,GAAG,IAAI,CAAC;MAC5DgnB,GAAG,CAACd,CAAC,GAAGc,GAAG,CAACb,CAAC,GAAGa,GAAG,CAAChnB,CAAC,GAAG3B,GAAG;MAC3B,OAAO,IAAI;IACb;EAAC;IAAAxa,GAAA;IAAAmoB,KAAA,EACD,SAAA4oB,QAAQnB,KAAK,EAAE;MACb,IAAMzM,GAAG,GAAG,IAAI,CAACiN,IAAI;MACrBjN,GAAG,CAACjnB,CAAC,IAAI,CAAC,GAAG0zB,KAAK;MAClB,OAAO,IAAI;IACb;EAAC;IAAA5vC,GAAA;IAAAmoB,KAAA,EACD,SAAA6oB,OAAA,EAAS;MACP,IAAM5qC,CAAC,GAAG,IAAI,CAACgqC,IAAI;MACnBhqC,CAAC,CAACi8B,CAAC,GAAG,GAAG,GAAGj8B,CAAC,CAACi8B,CAAC;MACfj8B,CAAC,CAACk8B,CAAC,GAAG,GAAG,GAAGl8B,CAAC,CAACk8B,CAAC;MACfl8B,CAAC,CAAC+V,CAAC,GAAG,GAAG,GAAG/V,CAAC,CAAC+V,CAAC;MACf,OAAO,IAAI;IACb;EAAC;IAAAnc,GAAA;IAAAmoB,KAAA,EACD,SAAA8oB,QAAQrB,KAAK,EAAE;MACbD,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,CAAC,EAAER,KAAK,CAAC;MAC3B,OAAO,IAAI;IACb;EAAC;IAAA5vC,GAAA;IAAAmoB,KAAA,EACD,SAAA+oB,OAAOtB,KAAK,EAAE;MACZD,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,CAAC,EAAE,CAACR,KAAK,CAAC;MAC5B,OAAO,IAAI;IACb;EAAC;IAAA5vC,GAAA;IAAAmoB,KAAA,EACD,SAAAgpB,SAASvB,KAAK,EAAE;MACdD,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,CAAC,EAAER,KAAK,CAAC;MAC3B,OAAO,IAAI;IACb;EAAC;IAAA5vC,GAAA;IAAAmoB,KAAA,EACD,SAAAipB,WAAWxB,KAAK,EAAE;MAChBD,MAAM,CAAC,IAAI,CAACS,IAAI,EAAE,CAAC,EAAE,CAACR,KAAK,CAAC;MAC5B,OAAO,IAAI;IACb;EAAC;IAAA5vC,GAAA;IAAAmoB,KAAA,EACD,SAAA2b,OAAOC,GAAG,EAAE;MACVD,OAAM,CAAC,IAAI,CAACsM,IAAI,EAAErM,GAAG,CAAC;MACtB,OAAO,IAAI;IACb;EAAC;EAAA,OAAAmM,KAAA;AAAA;AAGH,SAASmB,SAASA,CAACzxB,KAAK,EAAE;EACxB,OAAO,IAAIswB,KAAK,CAACtwB,KAAK,CAAC;AACzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1kBsD;AAEtDqP,gEAAc,CAAdA,iDAAK,EAAA+S,kBAAA,CAAasP,yDAAa,EAAC;AAEC;AACjC,iEAAeriB,iDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICMPsiB,QAAA;EACX,SAAAA,SAAA,EAAc;IAAApB,eAAA,OAAAoB,QAAA;IACZ,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,OAAO,GAAG,IAAIC,GAAA;IACnB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,SAAS,GAAGrxC,SAAA;EACnB;EAAA+vC,YAAA,CAAAiB,QAAA;IAAAvxC,GAAA;IAAAmoB,KAAA,EAKA,SAAA0pB,QAAQvxC,KAAK,EAAEwxC,KAAK,EAAEC,IAAI,EAAEvoC,IAAI,EAAE;MAChC,IAAMmnB,SAAY,GAAAmhB,KAAA,CAAME,SAAS,CAACxoC,IAAK;MACvC,IAAMyoC,QAAA,GAAWH,KAAA,CAAMI,QAAQ;MAE/BvhB,SAAA,CAAUjY,OAAO,CAAC,UAAA7X,EAAA;QAAA,OAAMA,EAAG;UACzBP,KAAA,EAAAA,KAAA;UACA6xC,OAAA,EAASL,KAAA,CAAMK,OAAO;UACtBF,QAAA,EAAAA,QAAA;UACAG,WAAA,EAAajuC,IAAA,CAAKL,GAAG,CAACiuC,IAAO,GAAAD,KAAA,CAAMx9B,KAAK,EAAE29B,QAAA;QAC5C;MAAA;IACF;EAAA;IAAAjyC,GAAA;IAAAmoB,KAAA,EAKA,SAAAkqB,SAAA,EAAW;MAAA,IAAAC,KAAA;MACT,IAAI,IAAI,CAACd,QAAQ,EAAE;QACjB;;MAEF,IAAI,CAACG,QAAQ,GAAG,IAAI;MAEpB,IAAI,CAACH,QAAQ,GAAGe,8DAAqB,CAACpkC,MAAA,EAAQ,YAAM;QAClDmkC,KAAI,CAACE,OAAO;QACZF,KAAI,CAACd,QAAQ,GAAG,IAAI;QAEpB,IAAIc,KAAI,CAACX,QAAQ,EAAE;UACjBW,KAAI,CAACD,QAAQ;;MAEjB;IACF;EAAA;IAAAryC,GAAA;IAAAmoB,KAAA,EAKA,SAAAqqB,QAAA,EAA2B;MAAA,IAAAC,MAAA;MAAA,IAAnBV,IAAA,GAAA1sC,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAO2S,IAAK,CAAAD,GAAG,EAAE;MACvB,IAAI26B,SAAY;MAEhB,IAAI,CAACjB,OAAO,CAAC/4B,OAAO,CAAC,UAACo5B,KAAA,EAAOxxC,KAAU;QACrC,IAAI,CAACwxC,KAAA,CAAMa,OAAO,IAAI,CAACb,KAAM,CAAAc,KAAK,CAACnxC,MAAM,EAAE;UACzC;;QAEF,IAAMmxC,KAAA,GAAQd,KAAA,CAAMc,KAAK;QACzB,IAAIpxC,CAAA,GAAIoxC,KAAM,CAAAnxC,MAAM,GAAG;QACvB,IAAI0R,IAAA,GAAO,KAAK;QAChB,IAAIyC,IAAA;QAEJ,OAAOpU,CAAA,IAAK,CAAG,IAAEA,CAAG;UAClBoU,IAAO,GAAAg9B,KAAK,CAACpxC,CAAE;UAEf,IAAIoU,IAAA,CAAKi9B,OAAO,EAAE;YAChB,IAAIj9B,IAAK,CAAAk9B,MAAM,GAAGhB,KAAA,CAAMI,QAAQ,EAAE;cAGhCJ,KAAM,CAAAI,QAAQ,GAAGt8B,IAAA,CAAKk9B,MAAM;;YAE9Bl9B,IAAA,CAAKm9B,IAAI,CAAChB,IAAA;YACV5+B,IAAA,GAAO,IAAI;WACN;YAGLy/B,KAAK,CAACpxC,CAAA,CAAE,GAAGoxC,KAAK,CAACA,KAAM,CAAAnxC,MAAM,GAAG,CAAE;YAClCmxC,KAAA,CAAMlU,GAAG;;QAEb;QAEA,IAAIvrB,IAAM;UACR7S,KAAA,CAAM6S,IAAI;UACVs/B,MAAI,CAACZ,OAAO,CAACvxC,KAAA,EAAOwxC,KAAA,EAAOC,IAAM;;QAGnC,IAAI,CAACa,KAAM,CAAAnxC,MAAM,EAAE;UACjBqwC,KAAM,CAAAa,OAAO,GAAG,KAAK;UACrBF,MAAI,CAACZ,OAAO,CAACvxC,KAAA,EAAOwxC,KAAA,EAAOC,IAAM;UACjCD,KAAM,CAAAK,OAAO,GAAG,KAAK;;QAGvBO,SAAA,IAAaE,KAAA,CAAMnxC,MAAM;MAC3B;MAEA,IAAI,CAACmwC,SAAS,GAAGG,IAAA;MAEjB,IAAIW,SAAA,KAAc,CAAG;QACnB,IAAI,CAACf,QAAQ,GAAG,KAAK;;IAEzB;EAAA;IAAA3xC,GAAA;IAAAmoB,KAAA,EAKA,SAAA6qB,UAAU1yC,KAAK,EAAE;MACf,IAAM2yC,MAAA,GAAS,IAAI,CAACxB,OAAO;MAC3B,IAAIK,KAAA,GAAQmB,MAAO,CAAA/vC,GAAG,CAAC5C,KAAA;MACvB,IAAI,CAACwxC,KAAO;QACVA,KAAQ;UACNa,OAAA,EAAS,KAAK;UACdR,OAAA,EAAS,IAAI;UACbS,KAAA,EAAO,EAAE;UACTZ,SAAW;YACTzS,QAAA,EAAU,EAAE;YACZ2T,QAAA,EAAU;UACZ;QACF;QACAD,MAAO,CAAA1vC,GAAG,CAACjD,KAAO,EAAAwxC,KAAA;;MAEpB,OAAOA,KAAA;IACT;EAAA;IAAA9xC,GAAA;IAAAmoB,KAAA,EAOA,SAAAgrB,OAAO7yC,KAAK,EAAEL,KAAK,EAAEmzC,EAAE,EAAE;MACvB,IAAI,CAACJ,SAAS,CAAC1yC,KAAA,EAAO0xC,SAAS,CAAC/xC,KAAA,CAAM,CAAC4C,IAAI,CAACuwC,EAAA;IAC9C;EAAA;IAAApzC,GAAA;IAAAmoB,KAAA,EAOA,SAAAzV,IAAIpS,KAAK,EAAEsyC,KAAK,EAAE;MAAA,IAAAS,qBAAA;MAChB,IAAI,CAACT,KAAA,IAAS,CAACA,KAAA,CAAMnxC,MAAM,EAAE;QAC3B;;MAEF,CAAA4xC,qBAAA,OAAI,CAACL,SAAS,CAAC1yC,KAAA,EAAOsyC,KAAK,EAAC/vC,IAAI,CAAAqW,KAAA,CAAAm6B,qBAAA,EAAArR,kBAAA,CAAI4Q,KAAA;IACtC;EAAA;IAAA5yC,GAAA;IAAAmoB,KAAA,EAMA,SAAAmrB,IAAIhzC,KAAK,EAAE;MACT,OAAO,IAAI,CAAC0yC,SAAS,CAAC1yC,KAAA,EAAOsyC,KAAK,CAACnxC,MAAM,GAAG;IAC9C;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAMA,SAAA7T,MAAMhU,KAAK,EAAE;MACX,IAAMwxC,KAAA,GAAQ,IAAI,CAACL,OAAO,CAACvuC,GAAG,CAAC5C,KAAA;MAC/B,IAAI,CAACwxC,KAAO;QACV;;MAEFA,KAAM,CAAAa,OAAO,GAAG,IAAI;MACpBb,KAAM,CAAAx9B,KAAK,GAAG0D,IAAA,CAAKD,GAAG;MACtB+5B,KAAA,CAAMI,QAAQ,GAAGJ,KAAA,CAAMc,KAAK,CAACW,MAAM,CAAC,UAACC,GAAK,EAAAC,GAAA;QAAA,OAAQtvC,IAAA,CAAKN,GAAG,CAAC2vC,GAAK,EAAAC,GAAA,CAAIC,SAAS,CAAG;MAAA;MAChF,IAAI,CAACrB,QAAQ;IACf;EAAA;IAAAryC,GAAA;IAAAmoB,KAAA,EAEA,SAAAwqB,QAAQryC,KAAK,EAAE;MACb,IAAI,CAAC,IAAI,CAACqxC,QAAQ,EAAE;QAClB,OAAO,KAAK;;MAEd,IAAMG,KAAA,GAAQ,IAAI,CAACL,OAAO,CAACvuC,GAAG,CAAC5C,KAAA;MAC/B,IAAI,CAACwxC,KAAS,KAACA,KAAM,CAAAa,OAAO,IAAI,CAACb,KAAM,CAAAc,KAAK,CAACnxC,MAAM,EAAE;QACnD,OAAO,KAAK;;MAEd,OAAO,IAAI;IACb;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAMA,SAAA/S,KAAK9U,KAAK,EAAE;MACV,IAAMwxC,KAAA,GAAQ,IAAI,CAACL,OAAO,CAACvuC,GAAG,CAAC5C,KAAA;MAC/B,IAAI,CAACwxC,KAAS,KAACA,KAAA,CAAMc,KAAK,CAACnxC,MAAM,EAAE;QACjC;;MAEF,IAAMmxC,KAAA,GAAQd,KAAA,CAAMc,KAAK;MACzB,IAAIpxC,CAAA,GAAIoxC,KAAM,CAAAnxC,MAAM,GAAG;MAEvB,OAAOD,CAAA,IAAK,CAAG,IAAEA,CAAG;QAClBoxC,KAAK,CAACpxC,CAAE,EAACmyC,MAAM;MACjB;MACA7B,KAAM,CAAAc,KAAK,GAAG,EAAE;MAChB,IAAI,CAACf,OAAO,CAACvxC,KAAA,EAAOwxC,KAAO,EAAA95B,IAAA,CAAKD,GAAG,EAAI;IACzC;EAAA;IAAA/X,GAAA;IAAAmoB,KAAA,EAMA,SAAAnV,OAAO1S,KAAK,EAAE;MACZ,OAAO,IAAI,CAACmxC,OAAO,UAAO,CAACnxC,KAAA;IAC7B;EAAA;EAAA,OAAAixC,QAAA;AAAA;AAIF,IAAAqC,QAAA,GAAe,eAAgB,IAAIrC,QAAW;ACjN9C,IAAMpC,WAAc;AACpB,IAAM0E,aAAgB;EAAA,oBAAAC,QACZ7tC,IAAI,EAAEC,EAAE,EAAE6tC,MAAM,EAAE;IACxB,OAAOA,MAAA,GAAS,GAAM,GAAA7tC,EAAA,GAAKD,IAAI;EACjC;EAMAuqC,KAAA,WAAAA,MAAMvqC,IAAI,EAAEC,EAAE,EAAE6tC,MAAM,EAAE;IACtB,IAAMC,EAAA,GAAKxD,6DAAA,CAAavqC,IAAQ,IAAAkpC,WAAA;IAChC,IAAMsB,EAAK,GAAAuD,EAAA,CAAGC,KAAK,IAAIzD,6DAAA,CAAatqC,EAAM,IAAAipC,WAAA;IAC1C,OAAOsB,EAAA,IAAMA,EAAG,CAAAwD,KAAK,GACjBxD,EAAA,CAAGF,GAAG,CAACyD,EAAI,EAAAD,MAAA,EAAQpR,SAAS,KAC5Bz8B,EAAE;EACR;EACAorB,MAAA,WAAAA,OAAOrrB,IAAI,EAAEC,EAAE,EAAE6tC,MAAM,EAAE;IACvB,OAAO9tC,IAAO,GAAC,CAAAC,EAAA,GAAKD,IAAG,IAAK8tC,MAAA;EAC9B;AACF;AAAA,IAEqBG,SAAA;EACnB,SAAAA,UAAYC,GAAG,EAAEpnC,MAAM,EAAEvI,IAAI,EAAE0B,EAAE,EAAE;IAAAiqC,eAAA,OAAA+D,SAAA;IACjC,IAAME,YAAA,GAAernC,MAAM,CAACvI,IAAK;IAEjC0B,EAAA,GAAKw1B,6DAAQ,EAACyY,GAAA,CAAIjuC,EAAE,EAAEA,EAAA,EAAIkuC,YAAA,EAAcD,GAAA,CAAIluC,IAAI,CAAC;IACjD,IAAMA,IAAA,GAAOy1B,6DAAQ,EAACyY,GAAA,CAAIluC,IAAI,EAAEmuC,YAAA,EAAcluC,EAAA,CAAG;IAEjD,IAAI,CAAC2sC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACwB,GAAG,GAAGF,GAAA,CAAItzC,EAAE,IAAIgzC,aAAa,CAACM,GAAI,CAAA3qC,IAAI,IAAAiR,OAAA,CAAWxU,IAAK;IAC3D,IAAI,CAACquC,OAAO,GAAGC,yDAAO,CAACJ,GAAA,CAAIK,MAAM,CAAC,IAAID,gEAAc;IACpD,IAAI,CAACG,MAAM,GAAGvwC,IAAA,CAAKotB,KAAK,CAACvZ,IAAK,CAAAD,GAAG,EAAM,IAAAo8B,GAAI,CAAArzC,KAAK,IAAI;IACpD,IAAI,CAAC4yC,SAAS,GAAG,IAAI,CAACZ,MAAM,GAAG3uC,IAAK,CAAAotB,KAAK,CAAC4iB,GAAA,CAAIjC,QAAQ;IACtD,IAAI,CAACyC,KAAK,GAAG,CAAC,CAACR,GAAA,CAAIS,IAAI;IACvB,IAAI,CAACC,OAAO,GAAG9nC,MAAA;IACf,IAAI,CAAC+nC,KAAK,GAAGtwC,IAAA;IACb,IAAI,CAACuwC,KAAK,GAAG9uC,IAAA;IACb,IAAI,CAAC+uC,GAAG,GAAG9uC,EAAA;IACX,IAAI,CAAC+uC,SAAS,GAAG10C,SAAA;EACnB;EAAA+vC,YAAA,CAAA4D,SAAA;IAAAl0C,GAAA;IAAAmoB,KAAA,EAEA,SAAA+sB,OAAA,EAAS;MACP,OAAO,IAAI,CAACrC,OAAO;IACrB;EAAA;IAAA7yC,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAO4pC,GAAG,EAAEjuC,EAAE,EAAE6rC,IAAI,EAAE;MACpB,IAAI,IAAI,CAACc,OAAO,EAAE;QAChB,IAAI,CAAChB,OAAO,CAAC,KAAK;QAElB,IAAMuC,YAAA,GAAe,IAAI,CAACS,OAAO,CAAC,IAAI,CAACC,KAAK,CAAC;QAC7C,IAAMK,OAAU,GAAApD,IAAA,GAAO,IAAI,CAAC2C,MAAM;QAClC,IAAMU,MAAS,OAAI,CAAC1B,SAAS,GAAGyB,OAAA;QAChC,IAAI,CAACT,MAAM,GAAG3C,IAAA;QACd,IAAI,CAAC2B,SAAS,GAAGvvC,IAAK,CAAAotB,KAAK,CAACptB,IAAA,CAAKN,GAAG,CAACuxC,MAAQ,EAAAjB,GAAA,CAAIjC,QAAQ;QACzD,IAAI,CAACY,MAAM,IAAIqC,OAAA;QACf,IAAI,CAACR,KAAK,GAAG,CAAC,CAACR,GAAA,CAAIS,IAAI;QACvB,IAAI,CAACI,GAAG,GAAGtZ,6DAAQ,EAACyY,GAAA,CAAIjuC,EAAE,EAAEA,EAAA,EAAIkuC,YAAA,EAAcD,GAAA,CAAIluC,IAAI,CAAC;QACvD,IAAI,CAAC8uC,KAAK,GAAGrZ,6DAAQ,EAACyY,GAAA,CAAIluC,IAAI,EAAEmuC,YAAA,EAAcluC,EAAA,CAAG;;IAErD;EAAA;IAAAlG,GAAA;IAAAmoB,KAAA,EAEA,SAAAwrB,OAAA,EAAS;MACP,IAAI,IAAI,CAACd,OAAO,EAAE;QAEhB,IAAI,CAACE,IAAI,CAAC/6B,IAAA,CAAKD,GAAG;QAClB,IAAI,CAAC86B,OAAO,GAAG,KAAK;QACpB,IAAI,CAAChB,OAAO,CAAC,KAAK;;IAEtB;EAAA;IAAA7xC,GAAA;IAAAmoB,KAAA,EAEA,SAAA4qB,KAAKhB,IAAI,EAAE;MACT,IAAMoD,OAAU,GAAApD,IAAA,GAAO,IAAI,CAAC2C,MAAM;MAClC,IAAMxC,QAAA,GAAW,IAAI,CAACwB,SAAS;MAC/B,IAAMlvC,IAAA,GAAO,IAAI,CAACswC,KAAK;MACvB,IAAM7uC,IAAA,GAAO,IAAI,CAAC8uC,KAAK;MACvB,IAAMH,IAAA,GAAO,IAAI,CAACD,KAAK;MACvB,IAAMzuC,EAAA,GAAK,IAAI,CAAC8uC,GAAG;MACnB,IAAIjB,MAAA;MAEJ,IAAI,CAAClB,OAAO,GAAG5sC,IAAA,KAASC,EAAA,KAAO0uC,IAAA,IAASO,OAAA,GAAUjD,QAAQ;MAE1D,IAAI,CAAC,IAAI,CAACW,OAAO,EAAE;QACjB,IAAI,CAACgC,OAAO,CAACrwC,IAAA,CAAK,GAAG0B,EAAA;QACrB,IAAI,CAAC2rC,OAAO,CAAC,IAAI;QACjB;;MAGF,IAAIsD,OAAA,GAAU,CAAG;QACf,IAAI,CAACN,OAAO,CAACrwC,IAAA,CAAK,GAAGyB,IAAA;QACrB;;MAGF8tC,MAAS,GAACoB,OAAA,GAAUjD,QAAY;MAChC6B,MAAA,GAASa,IAAQ,IAAAb,MAAA,GAAS,CAAI,OAAIA,MAAA,GAASA,MAAM;MACjDA,MAAS,OAAI,CAACO,OAAO,CAACnwC,IAAA,CAAKL,GAAG,CAAC,CAAG,EAAAK,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAkwC,MAAA;MAE9C,IAAI,CAACc,OAAO,CAACrwC,IAAK,IAAG,IAAI,CAAC6vC,GAAG,CAACpuC,IAAA,EAAMC,EAAI,EAAA6tC,MAAA;IAC1C;EAAA;IAAA/zC,GAAA;IAAAmoB,KAAA,EAEA,SAAAktB,KAAA,EAAO;MACL,IAAMC,QAAA,GAAW,IAAI,CAACL,SAAS,KAAK,IAAI,CAACA,SAAS,GAAG,EAAE,CAAD;MACtD,OAAO,IAAI3W,OAAA,CAAQ,UAACiX,GAAA,EAAKC,GAAQ;QAC/BF,QAAA,CAASzyC,IAAI,CAAC;UAAC0yC,GAAA,EAAAA,GAAA;UAAKC,GAAA,EAAAA;QAAG;MACzB;IACF;EAAA;IAAAx1C,GAAA;IAAAmoB,KAAA,EAEA,SAAA0pB,QAAQ4D,QAAQ,EAAE;MAChB,IAAM78B,MAAA,GAAS68B,QAAW,WAAQ,KAAK;MACvC,IAAMH,QAAW,OAAI,CAACL,SAAS,IAAI,EAAE;MACrC,KAAK,IAAIzzC,CAAI,MAAGA,CAAA,GAAI8zC,QAAS,CAAA7zC,MAAM,EAAED,CAAK;QACxC8zC,QAAQ,CAAC9zC,CAAE,EAACoX,MAAO;MACrB;IACF;EAAA;EAAA,OAAAs7B,SAAA;AAAA;AAAA,IChHmBwB,UAAA;EACnB,SAAAA,WAAYp1C,KAAK,EAAEuxB,MAAM,EAAE;IAAAse,eAAA,OAAAuF,UAAA;IACzB,IAAI,CAACC,MAAM,GAAGr1C,KAAA;IACd,IAAI,CAACs1C,WAAW,GAAG,IAAIlE,GAAA;IACvB,IAAI,CAACmE,SAAS,CAAChkB,MAAA;EACjB;EAAAye,YAAA,CAAAoF,UAAA;IAAA11C,GAAA;IAAAmoB,KAAA,EAEA,SAAA0tB,UAAUhkB,MAAM,EAAE;MAChB,IAAI,CAACikB,6DAAA,CAASjkB,MAAS;QACrB;;MAGF,IAAMkkB,gBAAmB,GAAAz0C,MAAA,CAAOC,IAAI,CAAC8S,mEAAkB;MACvD,IAAM4hC,aAAA,GAAgB,IAAI,CAACL,WAAW;MAEtCt0C,MAAA,CAAO40C,mBAAmB,CAACrkB,MAAA,EAAQnZ,OAAO,CAAC,UAAA1Y,GAAO;QAChD,IAAMm0C,GAAA,GAAMtiB,MAAM,CAAC7xB,GAAI;QACvB,IAAI,CAAC81C,6DAAA,CAAS3B,GAAM;UAClB;;QAEF,IAAMsB,QAAA,GAAW,EAAC;QAClB,SAAAjzC,EAAA,MAAA2zC,iBAAA,GAAqBJ,gBAAkB,EAAAvzC,EAAA,GAAA2zC,iBAAA,CAAA10C,MAAA,EAAAe,EAAA;UAAlC,IAAM4zC,MAAA,GAAAD,iBAAA,CAAA3zC,EAAA;UACTizC,QAAQ,CAACW,MAAA,CAAO,GAAGjC,GAAG,CAACiC,MAAO;QAChC;QAEC,CAAA79B,6DAAA,CAAQ47B,GAAI,CAAAn6B,UAAU,CAAK,IAAAm6B,GAAA,CAAIn6B,UAAU,IAAI,CAACha,GAAA,CAAG,EAAG0Y,OAAO,CAAC,UAAClU,IAAS;UACrE,IAAIA,IAAA,KAASxE,GAAO,KAACi2C,aAAc,CAAA3C,GAAG,CAAC9uC,IAAO;YAC5CyxC,aAAc,CAAA1yC,GAAG,CAACiB,IAAM,EAAAixC,QAAA;;QAE5B;MACF;IACF;EAAA;IAAAz1C,GAAA;IAAAmoB,KAAA,EAMA,SAAAkuB,gBAAgBtpC,MAAM,EAAEiP,MAAM,EAAE;MAC9B,IAAMs6B,UAAA,GAAat6B,MAAA,CAAOha,OAAO;MACjC,IAAMA,OAAA,GAAUu0C,oBAAA,CAAqBxpC,MAAQ,EAAAupC,UAAA;MAC7C,IAAI,CAACt0C,OAAS;QACZ,OAAO,EAAE;;MAGX,IAAMw0C,UAAa,OAAI,CAACC,iBAAiB,CAACz0C,OAAS,EAAAs0C,UAAA;MACnD,IAAIA,UAAA,CAAWI,OAAO,EAAE;QAItBC,QAAS,CAAA5pC,MAAA,CAAO/K,OAAO,CAAC40C,WAAW,EAAEN,UAAY,EAAAva,IAAI,CAAC,YAAM;UAC1DhvB,MAAA,CAAO/K,OAAO,GAAGs0C,UAAA;QACnB,GAAG,YAAM,CAET;;MAGF,OAAOE,UAAA;IACT;EAAA;IAAAx2C,GAAA;IAAAmoB,KAAA,EAKA,SAAAsuB,kBAAkB1pC,MAAM,EAAEiP,MAAM,EAAE;MAChC,IAAMi6B,aAAA,GAAgB,IAAI,CAACL,WAAW;MACtC,IAAMY,UAAA,GAAa,EAAE;MACrB,IAAM7D,OAAA,GAAU5lC,MAAA,CAAO6pC,WAAW,KAAK7pC,MAAO,CAAA6pC,WAAW,GAAG,EAAC;MAC7D,IAAMt0B,KAAA,GAAQhhB,MAAO,CAAAC,IAAI,CAACya,MAAA;MAC1B,IAAM+1B,IAAA,GAAO/5B,IAAA,CAAKD,GAAG;MACrB,IAAIvW,CAAA;MAEJ,KAAKA,CAAA,GAAI8gB,KAAA,CAAM7gB,MAAM,GAAG,GAAGD,CAAK,OAAG,EAAEA,CAAG;QACtC,IAAMgD,IAAA,GAAO8d,KAAK,CAAC9gB,CAAE;QACrB,IAAIgD,IAAK,CAAAq6B,MAAM,CAAC,OAAO,GAAK;UAC1B;;QAGF,IAAIr6B,IAAA,KAAS,SAAW;UACtBgyC,UAAA,CAAW3zC,IAAI,CAAAqW,KAAA,CAAfs9B,UAAA,EAAAxU,kBAAA,CAAmB,IAAI,CAACqU,eAAe,CAACtpC,MAAQ,EAAAiP,MAAA;UAChD;;QAEF,IAAMmM,KAAA,GAAQnM,MAAM,CAACxX,IAAK;QAC1B,IAAIwxC,SAAA,GAAYrD,OAAO,CAACnuC,IAAK;QAC7B,IAAM2vC,GAAA,GAAM8B,aAAc,CAAA/yC,GAAG,CAACsB,IAAA;QAE9B,IAAIwxC,SAAW;UACb,IAAI7B,GAAA,IAAO6B,SAAU,CAAAd,MAAM,EAAI;YAE7Bc,SAAU,CAAAzrC,MAAM,CAAC4pC,GAAA,EAAKhsB,KAAO,EAAA4pB,IAAA;YAC7B;WACK;YACLiE,SAAA,CAAUrC,MAAM;;;QAGpB,IAAI,CAACQ,GAAA,IAAO,CAACA,GAAA,CAAIjC,QAAQ,EAAE;UAEzBnlC,MAAM,CAACvI,IAAA,CAAK,GAAG2jB,KAAA;UACf;;QAGFwqB,OAAO,CAACnuC,IAAA,CAAK,GAAGwxC,SAAA,GAAY,IAAI9B,SAAU,CAAAC,GAAA,EAAKpnC,MAAA,EAAQvI,IAAM,EAAA2jB,KAAA;QAC7DquB,UAAA,CAAW3zC,IAAI,CAACmzC,SAAA;MAClB;MACA,OAAOQ,UAAA;IACT;EAAA;IAAAx2C,GAAA;IAAAmoB,KAAA,EASA,SAAA5d,OAAOwC,MAAM,EAAEiP,MAAM,EAAE;MACrB,IAAI,IAAI,CAAC45B,WAAW,CAACrlB,IAAI,KAAK,CAAG;QAE/BjvB,MAAO,CAAA6X,MAAM,CAACpM,MAAQ,EAAAiP,MAAA;QACtB;;MAGF,IAAMw6B,UAAa,OAAI,CAACC,iBAAiB,CAAC1pC,MAAQ,EAAAiP,MAAA;MAElD,IAAIw6B,UAAA,CAAW/0C,MAAM,EAAE;QACrBmyC,QAAA,CAASlhC,GAAG,CAAC,IAAI,CAACijC,MAAM,EAAEa,UAAA;QAC1B,OAAO,IAAI;;IAEf;EAAA;EAAA,OAAAd,UAAA;AAAA;AAGF,SAASiB,QAASA,CAAAH,UAAU,EAAEx8B,UAAU,EAAE;EACxC,IAAM24B,OAAA,GAAU,EAAE;EAClB,IAAMpxC,IAAA,GAAOD,MAAO,CAAAC,IAAI,CAACyY,UAAA;EACzB,KAAK,IAAIxY,CAAI,MAAGA,CAAA,GAAID,IAAK,CAAAE,MAAM,EAAED,CAAK;IACpC,IAAMq1C,IAAA,GAAOL,UAAU,CAACj1C,IAAI,CAACC,CAAA,CAAE,CAAC;IAChC,IAAIq1C,IAAA,IAAQA,IAAK,CAAA3B,MAAM,EAAI;MACzBvC,OAAQ,CAAA9vC,IAAI,CAACg0C,IAAA,CAAKxB,IAAI;;EAE1B;EAEA,OAAO/W,OAAA,CAAQlZ,GAAG,CAACutB,OAAA;AACrB;AAEA,SAAS4D,oBAAqBA,CAAAxpC,MAAM,EAAEupC,UAAU,EAAE;EAChD,IAAI,CAACA,UAAY;IACf;;EAEF,IAAIt0C,OAAA,GAAU+K,MAAA,CAAO/K,OAAO;EAC5B,IAAI,CAACA,OAAS;IACZ+K,MAAA,CAAO/K,OAAO,GAAGs0C,UAAA;IACjB;;EAEF,IAAIt0C,OAAA,CAAQ00C,OAAO,EAAE;IAGnB3pC,MAAO,CAAA/K,OAAO,GAAGA,OAAU,GAAAV,MAAA,CAAO6X,MAAM,CAAC,IAAInX,OAAS;MAAC00C,OAAA,EAAS,KAAK;MAAEE,WAAA,EAAa;IAAE;;EAExF,OAAO50C,OAAA;AACT;ACtJA,SAAS80C,UAAUp1C,KAAK,EAAEq1C,eAAe,EAAE;EACzC,IAAMn3C,IAAO,GAAA8B,KAAA,IAASA,KAAM,CAAAM,OAAO,IAAI,EAAC;EACxC,IAAMy8B,OAAA,GAAU7+B,IAAA,CAAK6+B,OAAO;EAC5B,IAAM36B,GAAA,GAAMlE,IAAK,CAAAkE,GAAG,KAAKvD,SAAA,GAAYw2C,eAAA,GAAkB,CAAC;EACxD,IAAMlzC,GAAA,GAAMjE,IAAK,CAAAiE,GAAG,KAAKtD,SAAA,GAAYw2C,eAAA,GAAkB,CAAC;EACxD,OAAO;IACLziC,KAAO,EAAAmqB,OAAA,GAAU56B,GAAA,GAAMC,GAAG;IAC1B2e,GAAK,EAAAgc,OAAA,GAAU36B,GAAA,GAAMD;EACvB;AACF;AAEA,SAASmzC,YAAYC,MAAM,EAAEC,MAAM,EAAEH,eAAe,EAAE;EACpD,IAAIA,eAAA,KAAoB,KAAK,EAAE;IAC7B,OAAO,KAAK;;EAEd,IAAMr2C,CAAA,GAAIo2C,SAAA,CAAUG,MAAQ,EAAAF,eAAA;EAC5B,IAAMp2C,CAAA,GAAIm2C,SAAA,CAAUI,MAAQ,EAAAH,eAAA;EAE5B,OAAO;IACLp1C,GAAA,EAAKhB,CAAA,CAAE8hB,GAAG;IACV3gB,KAAA,EAAOpB,CAAA,CAAE+hB,GAAG;IACZ7gB,MAAA,EAAQjB,CAAA,CAAE2T,KAAK;IACfzS,IAAA,EAAMnB,CAAA,CAAE4T;EACV;AACF;AAEA,SAAS6iC,OAAOhvB,KAAK,EAAE;EACrB,IAAIf,CAAA,EAAGib,CAAA,EAAGlmB,CAAG,EAAA2kB,CAAA;EAEb,IAAIgV,6DAAA,CAAS3tB,KAAQ;IACnBf,CAAA,GAAIe,KAAA,CAAMxmB,GAAG;IACb0gC,CAAA,GAAIla,KAAA,CAAMrmB,KAAK;IACfqa,CAAA,GAAIgM,KAAA,CAAMvmB,MAAM;IAChBk/B,CAAA,GAAI3Y,KAAA,CAAMtmB,IAAI;GACT;IACLulB,CAAI,GAAAib,CAAA,GAAIlmB,CAAA,GAAI2kB,CAAI,GAAA3Y,KAAA;;EAGlB,OAAO;IACLxmB,GAAK,EAAAylB,CAAA;IACLtlB,KAAO,EAAAugC,CAAA;IACPzgC,MAAQ,EAAAua,CAAA;IACRta,IAAM,EAAAi/B,CAAA;IACNsW,QAAA,EAAUjvB,KAAA,KAAU;EACtB;AACF;AAEA,SAASkvB,uBAAwBA,CAAA/2C,KAAK,EAAEg3C,aAAa,EAAE;EACrD,IAAM/1C,IAAA,GAAO,EAAE;EACf,IAAMg2C,QAAA,GAAWj3C,KAAM,CAAAk3C,sBAAsB,CAACF,aAAA;EAC9C,IAAI91C,CAAG,EAAAi2C,IAAA;EAEP,KAAKj2C,CAAA,GAAI,GAAGi2C,IAAO,GAAAF,QAAA,CAAS91C,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IACjDD,IAAA,CAAKsB,IAAI,CAAC00C,QAAQ,CAAC/1C,CAAA,CAAE,CAAC8X,KAAK;EAC7B;EACA,OAAO/X,IAAA;AACT;AAEA,SAASm2C,YAAW1+B,KAAK,EAAEmP,KAAK,EAAEwvB,OAAO,EAAgB;EAAA,IAAd31C,OAAA,GAAAqD,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAU,EAAE;EACrD,IAAM9D,IAAA,GAAOyX,KAAA,CAAMzX,IAAI;EACvB,IAAMq2C,UAAA,GAAa51C,OAAQ,CAAA5B,IAAI,KAAK;EACpC,IAAIoB,CAAA,EAAGi2C,IAAA,EAAMI,YAAc,EAAAC,UAAA;EAE3B,IAAI3vB,KAAA,KAAU,IAAI,EAAE;IAClB;;EAGF,KAAK3mB,CAAA,GAAI,GAAGi2C,IAAO,GAAAl2C,IAAA,CAAKE,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAC7Cq2C,YAAe,IAACt2C,IAAI,CAACC,CAAE;IACvB,IAAIq2C,YAAA,KAAiBF,OAAS;MAC5B,IAAI31C,OAAA,CAAQojB,GAAG,EAAE;QACf;;MAEF;;IAEF0yB,UAAa,GAAA9+B,KAAA,CAAMgD,MAAM,CAAC67B,YAAa;IACvC,IAAIE,6DAAA,CAASD,UAAgB,MAAAF,UAAe,IAAAzvB,KAAA,KAAU,KAAK1oB,6DAAK,CAAA0oB,KAAA,MAAW1oB,6DAAK,CAAAq4C,UAAA,CAAW,CAAI;MAC7F3vB,KAAS,IAAA2vB,UAAA;;EAEb;EACA,OAAO3vB,KAAA;AACT;AAEA,SAAS6vB,yBAAyBxgC,IAAI,EAAE;EACtC,IAAMjW,IAAA,GAAOD,MAAO,CAAAC,IAAI,CAACiW,IAAA;EACzB,IAAMygC,KAAQ,OAAI3/B,KAAM,CAAA/W,IAAA,CAAKE,MAAM;EACnC,IAAID,CAAA,EAAGi2C,IAAM,EAAAz3C,GAAA;EACb,KAAKwB,CAAA,GAAI,GAAGi2C,IAAO,GAAAl2C,IAAA,CAAKE,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAC7CxB,GAAM,GAAAuB,IAAI,CAACC,CAAE;IACby2C,KAAK,CAACz2C,CAAA,CAAE,GAAG;MACTd,CAAG,EAAAV,GAAA;MACHW,CAAG,EAAA6W,IAAI,CAACxX,GAAI;IACd;EACF;EACA,OAAOi4C,KAAA;AACT;AAEA,SAASC,SAAUA,CAAAx2C,KAAK,EAAEy2C,IAAI,EAAE;EAC9B,IAAMC,OAAU,GAAA12C,KAAA,IAASA,KAAM,CAAAM,OAAO,CAACo2C,OAAO;EAC9C,OAAOA,OAAY,IAAAA,OAAA,KAAY73C,SAAa,IAAA43C,IAAA,CAAKn/B,KAAK,KAAKzY,SAAA;AAC7D;AAEA,SAAS83C,YAAYC,UAAU,EAAEC,UAAU,EAAEJ,IAAI,EAAE;EACjD,UAAApiC,MAAA,CAAUuiC,UAAA,CAAW1zC,EAAE,OAAAmR,MAAA,CAAIwiC,UAAW,CAAA3zC,EAAE,OAAAmR,MAAA,CAAIoiC,IAAK,CAAAn/B,KAAK,IAAIm/B,IAAK,CAAA3uC,IAAI;AACrE;AAEA,SAASgvC,cAAc92C,KAAK,EAAE;EAC5B,IAAA+2C,oBAAA,GAA2C/2C,KAAA,CAAM82C,aAAa;IAAvD10C,GAAG,GAAA20C,oBAAA,CAAH30C,GAAG;IAAED,GAAG,GAAA40C,oBAAA,CAAH50C,GAAG;IAAE60C,UAAU,GAAAD,oBAAA,CAAVC,UAAU;IAAEC,UAAU,GAAAF,oBAAA,CAAVE,UAAU;EACvC,OAAO;IACL70C,GAAK,EAAA40C,UAAA,GAAa50C,GAAM,GAAA80C,MAAA,CAAOC,iBAAiB;IAChDh1C,GAAK,EAAA80C,UAAA,GAAa90C,GAAM,GAAA+0C,MAAA,CAAOE;EACjC;AACF;AAEA,SAASC,iBAAiBC,MAAM,EAAEC,QAAQ,EAAEC,UAAU,EAAE;EACtD,IAAMC,QAAA,GAAWH,MAAM,CAACC,QAAS,MAAKD,MAAM,CAACC,QAAA,CAAS,GAAG,EAAC;EAC1D,OAAOE,QAAQ,CAACD,UAAA,CAAW,KAAKC,QAAQ,CAACD,UAAA,CAAW,GAAG,EAAC;AAC1D;AAEA,SAASE,oBAAoBpgC,KAAK,EAAEqgC,MAAM,EAAEC,QAAQ,EAAE9vC,IAAI,EAAE;EAAA,IAAA+vC,SAAA,GAAAC,0BAAA,CACvCH,MAAA,CAAOI,uBAAuB,CAACjwC,IAAA,EAAMi1B,OAAO,EAAI;IAAAib,KAAA;EAAA;IAAnE,KAAAH,SAAA,CAAAzW,CAAA,MAAA4W,KAAA,GAAAH,SAAA,CAAAxW,CAAA,IAAApG,IAAA,GAAmE;MAAA,IAAxDwb,IAAQ,GAAAuB,KAAA,CAAAvxB,KAAA;MACjB,IAAMA,KAAQ,GAAAnP,KAAK,CAACm/B,IAAA,CAAK7+B,KAAK,CAAC;MAC/B,IAAIggC,QAAa,IAAAnxB,KAAA,GAAQ,KAAO,CAACmxB,QAAA,IAAYnxB,KAAA,GAAQ,CAAI;QACvD,OAAOgwB,IAAA,CAAK7+B,KAAK;;IAErB;EAAA,SAAA4gB,GAAA;IAAAqf,SAAA,CAAAhoC,CAAA,CAAA2oB,GAAA;EAAA;IAAAqf,SAAA,CAAAzX,CAAA;EAAA;EAEA,OAAO,IAAI;AACb;AAEA,SAAS6X,YAAaA,CAAAC,UAAU,EAAEC,MAAM,EAAE;EACxC,IAAOv5C,KAAK,GAAuBs5C,UAAA,CAA5Bt5C,KAAK;IAAe63C,IAAA,GAAQyB,UAAA,CAArBE,WAAa;EAC3B,IAAMd,MAAA,GAAS14C,KAAM,CAAAy5C,OAAO,KAAKz5C,KAAM,CAAAy5C,OAAO,GAAG,EAAC;EAClD,IAAOC,MAAA,GAAuC7B,IAAA,CAAvC6B,MAAA;IAAQX,MAAA,GAA+BlB,IAAA,CAA/BkB,MAAA;IAAexB,YAAA,GAAgBM,IAAA,CAAvB7+B,KAAO;EAC9B,IAAM2gC,KAAA,GAAQD,MAAA,CAAOt3C,IAAI;EACzB,IAAMw3C,KAAA,GAAQb,MAAA,CAAO32C,IAAI;EACzB,IAAM1C,GAAA,GAAMq4C,WAAY,CAAA2B,MAAA,EAAQX,MAAQ,EAAAlB,IAAA;EACxC,IAAMV,IAAA,GAAOoC,MAAA,CAAOp4C,MAAM;EAC1B,IAAIuX,KAAA;EAEJ,KAAK,IAAIxX,CAAI,MAAGA,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IAC7B,IAAMoU,IAAA,GAAOikC,MAAM,CAACr4C,CAAE;IACtB,IAAgB8X,MAAA,GAAyB1D,IAAA,CAAjCqkC,KAAA;MAAwB9xB,KAAK,GAAIvS,IAAA,CAAjBskC,KAAM;IAC9B,IAAMC,UAAA,GAAavkC,IAAA,CAAKmkC,OAAO,KAAKnkC,IAAK,CAAAmkC,OAAO,GAAG,EAAC;IACpD/gC,KAAA,GAAQmhC,UAAU,CAACD,KAAA,CAAM,GAAGnB,gBAAA,CAAiBC,MAAA,EAAQh5C,GAAK,EAAAsZ,MAAA;IAC1DN,KAAK,CAAC6+B,YAAA,CAAa,GAAG1vB,KAAA;IAEtBnP,KAAM,CAAAohC,IAAI,GAAGhB,mBAAoB,CAAApgC,KAAA,EAAOqgC,MAAA,EAAQ,IAAI,EAAElB,IAAA,CAAK3uC,IAAI;IAC/DwP,KAAM,CAAAqhC,OAAO,GAAGjB,mBAAoB,CAAApgC,KAAA,EAAOqgC,MAAA,EAAQ,KAAK,EAAElB,IAAA,CAAK3uC,IAAI;IAEnE,IAAM8wC,YAAA,GAAethC,KAAA,CAAMuhC,aAAa,KAAKvhC,KAAM,CAAAuhC,aAAa,GAAG,EAAC;IACpED,YAAY,CAACzC,YAAA,CAAa,GAAG1vB,KAAA;EAC/B;AACF;AAEA,SAASqyB,eAAgBA,CAAAl6C,KAAK,EAAEoC,IAAI,EAAE;EACpC,IAAMtB,MAAA,GAASd,KAAA,CAAMc,MAAM;EAC3B,OAAOE,MAAO,CAAAC,IAAI,CAACH,MAAA,EAAQ4kB,MAAM,CAAC,UAAAhmB,GAAO;IAAA,OAAAoB,MAAM,CAACpB,GAAI,EAAC0C,IAAI,KAAKA,IAAA;EAAA,GAAM+3C,KAAK;AAC3E;AAEA,SAASC,oBAAqBA,CAAAv/B,MAAM,EAAE7B,KAAK,EAAE;EAC3C,OAAOqhC,6DAAA,CAAcx/B,MACnB;IACE+5B,MAAA,EAAQ,KAAK;IACbtkB,OAAS,EAAArwB,SAAA;IACTs3C,YAAc,EAAAv+B,KAAA;IACdA,KAAA,EAAAA,KAAA;IACAlZ,IAAM;IACNoJ,IAAM;EACR;AAEJ;AAEA,SAASoxC,kBAAkBz/B,MAAM,EAAE7B,KAAK,EAAEsD,OAAO,EAAE;EACjD,OAAO+9B,6DAAA,CAAcx/B,MAAQ;IAC3B+5B,MAAA,EAAQ,KAAK;IACbrkB,SAAW,EAAAvX,KAAA;IACXugC,MAAQ,EAAAt5C,SAAA;IACRs6C,GAAK,EAAAt6C,SAAA;IACLqc,OAAA,EAAAA,OAAA;IACAtD,KAAA,EAAAA,KAAA;IACAlZ,IAAM;IACNoJ,IAAM;EACR;AACF;AAEA,SAASsxC,WAAYA,CAAA3C,IAAI,EAAEvF,KAAK,EAAE;EAEhC,IAAMiF,YAAe,GAAAM,IAAA,CAAKyB,UAAU,CAACtgC,KAAK;EAC1C,IAAM5W,IAAA,GAAOy1C,IAAK,CAAAkB,MAAM,IAAIlB,IAAK,CAAAkB,MAAM,CAAC32C,IAAI;EAC5C,IAAI,CAACA,IAAM;IACT;;EAGFkwC,KAAQ,GAAAA,KAAA,IAASuF,IAAA,CAAK4C,OAAO;EAAA,IAAAC,UAAA,GAAAxB,0BAAA,CACR5G,KAAO;IAAAqI,MAAA;EAAA;IAA5B,KAAAD,UAAA,CAAAlY,CAAA,MAAAmY,MAAA,GAAAD,UAAA,CAAAjY,CAAA,IAAApG,IAAA,GAA4B;MAAA,IAAjBkd,MAAA,GAAAoB,MAAA,CAAA9yB,KAAA;MACT,IAAM6wB,MAAA,GAASa,MAAA,CAAOE,OAAO;MAC7B,IAAI,CAACf,MAAA,IAAUA,MAAM,CAACt2C,IAAK,MAAKnC,SAAa,IAAAy4C,MAAM,CAACt2C,IAAA,CAAK,CAACm1C,YAAA,CAAa,KAAKt3C,SAAW;QACrF;;MAEF,OAAOy4C,MAAM,CAACt2C,IAAK,EAACm1C,YAAa;MACjC,IAAImB,MAAM,CAACt2C,IAAK,EAAC63C,aAAa,KAAKh6C,SAAA,IAAay4C,MAAM,CAACt2C,IAAA,CAAK,CAAC63C,aAAa,CAAC1C,YAAA,CAAa,KAAKt3C,SAAW;QACtG,OAAOy4C,MAAM,CAACt2C,IAAA,CAAK,CAAC63C,aAAa,CAAC1C,YAAa;;IAEnD;EAAA,SAAA3d,GAAA;IAAA8gB,UAAA,CAAAzpC,CAAA,CAAA2oB,GAAA;EAAA;IAAA8gB,UAAA,CAAAlZ,CAAA;EAAA;AACF;AAEA,IAAMoZ,kBAAqB,YAArBA,kBAAqBA,CAAC96C,IAAS;EAAA,OAAAA,IAAA,KAAS,WAAWA,IAAS;AAAA;AAClE,IAAM+6C,gBAAA,GAAmB,SAAnBA,iBAAoBC,MAAA,EAAQC,MAAW;EAAA,OAAAA,MAAA,GAASD,MAAS,GAAA95C,MAAA,CAAO6X,MAAM,CAAC,EAAC,EAAGiiC,MAAO;AAAA;AACxF,IAAME,WAAc,YAAdA,WAAcA,CAACC,QAAU,EAAApD,IAAA,EAAM73C,KAAU;EAAA,OAAAi7C,QAAA,IAAY,CAACpD,IAAA,CAAKqD,MAAM,IAAIrD,IAAK,CAAAsD,QAAQ,IACnF;IAACl6C,IAAM,EAAA81C,uBAAA,CAAwB/2C,KAAA,EAAO,IAAI;IAAG0b,MAAA,EAAQ;EAAI;AAAA;AAAA,IAEzC0/B,iBAAA;EAqBnB,SAAAA,kBAAYp7C,KAAK,EAAEu3C,YAAY,EAAE;IAAA1H,eAAA,OAAAuL,iBAAA;IAC/B,IAAI,CAACp7C,KAAK,GAAGA,KAAA;IACb,IAAI,CAACq7C,IAAI,GAAGr7C,KAAA,CAAMkT,GAAG;IACrB,IAAI,CAAC8F,KAAK,GAAGu+B,YAAA;IACb,IAAI,CAAC+D,eAAe,GAAG,EAAC;IACxB,IAAI,CAAC9B,WAAW,GAAG,IAAI,CAAC+B,OAAO;IAC/B,IAAI,CAACC,KAAK,GAAG,IAAI,CAAChC,WAAW,CAACtwC,IAAI;IAClC,IAAI,CAACxH,OAAO,GAAGzB,SAAA;IAEf,IAAI,CAACw7C,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,KAAK,GAAGz7C,SAAA;IACb,IAAI,CAAC07C,WAAW,GAAG17C,SAAA;IACnB,IAAI,CAAC27C,cAAc,GAAG37C,SAAA;IACtB,IAAI,CAAC47C,UAAU,GAAG57C,SAAA;IAClB,IAAI,CAAC67C,UAAU,GAAG77C,SAAA;IAClB,IAAI,CAAC87C,mBAAmB,GAAG,KAAK;IAChC,IAAI,CAACC,kBAAkB,GAAG,KAAK;IAC/B,IAAI,CAACC,QAAQ,GAAGh8C,SAAA;IAChB,IAAI,CAACi8C,SAAS,GAAG,EAAE;IACnB,IAAI,CAACC,kBAAkB,GAAG,iBAAAf,iBAAA,QAAAthC,WAAA,WAAWqiC,kBAAkB;IACvD,IAAI,CAACC,eAAe,GAAG,iBAAAhB,iBAAA,QAAAthC,WAAA,WAAWsiC,eAAe;IAEjD,IAAI,CAACC,UAAU;EACjB;EAAArM,YAAA,CAAAoL,iBAAA;IAAA17C,GAAA;IAAAmoB,KAAA,EAEA,SAAAw0B,WAAA,EAAa;MACX,IAAMxE,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAI,CAACjE,SAAS;MACd,IAAI,CAAC+G,UAAU;MACfzE,IAAA,CAAKsD,QAAQ,GAAGvD,SAAU,CAAAC,IAAA,CAAKkB,MAAM,EAAElB,IAAA;MACvC,IAAI,CAAC0E,WAAW;MAEhB,IAAI,IAAI,CAAC76C,OAAO,CAAC86C,IAAI,IAAI,CAAC,IAAI,CAACx8C,KAAK,CAACy8C,eAAe,CAAC,QAAW;QAC9DpoC,OAAA,CAAQC,IAAI,CAAC;;IAEjB;EAAA;IAAA5U,GAAA;IAAAmoB,KAAA,EAEA,SAAA60B,YAAYnF,YAAY,EAAE;MACxB,IAAI,IAAI,CAACv+B,KAAK,KAAKu+B,YAAc;QAC/BiD,WAAY,KAAI,CAAChB,WAAW;;MAE9B,IAAI,CAACxgC,KAAK,GAAGu+B,YAAA;IACf;EAAA;IAAA73C,GAAA;IAAAmoB,KAAA,EAEA,SAAAy0B,WAAA,EAAa;MACX,IAAMt8C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM63C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMlpB,OAAA,GAAU,IAAI,CAACqsB,UAAU;MAE/B,IAAMC,QAAW,YAAXA,QAAWA,CAACx6C,IAAM,EAAAhC,CAAA,EAAGC,CAAG,EAAA0hC,CAAA;QAAA,OAAM3/B,IAAS,WAAMhC,CAAI,GAAAgC,IAAA,KAAS,GAAM,GAAA2/B,CAAA,GAAI1hC,CAAC;MAAA;MAE3E,IAAMw8C,GAAA,GAAMhF,IAAA,CAAKiF,OAAO,GAAG79C,6DAAA,CAAeqxB,OAAQ,CAAAwsB,OAAO,EAAE5C,eAAA,CAAgBl6C,KAAO;MAClF,IAAM+8C,GAAA,GAAMlF,IAAA,CAAKmF,OAAO,GAAG/9C,6DAAA,CAAeqxB,OAAQ,CAAA0sB,OAAO,EAAE9C,eAAA,CAAgBl6C,KAAO;MAClF,IAAMi9C,GAAA,GAAMpF,IAAA,CAAKqF,OAAO,GAAGj+C,6DAAA,CAAeqxB,OAAQ,CAAA4sB,OAAO,EAAEhD,eAAA,CAAgBl6C,KAAO;MAClF,IAAMm9C,SAAA,GAAYtF,IAAA,CAAKsF,SAAS;MAChC,IAAMC,GAAA,GAAMvF,IAAK,CAAAwF,OAAO,GAAGT,QAAS,CAAAO,SAAA,EAAWN,GAAA,EAAKE,GAAK,EAAAE,GAAA;MACzD,IAAMK,GAAA,GAAMzF,IAAK,CAAA0F,OAAO,GAAGX,QAAS,CAAAO,SAAA,EAAWJ,GAAA,EAAKF,GAAK,EAAAI,GAAA;MACzDpF,IAAA,CAAKlB,MAAM,GAAG,IAAI,CAAC6G,aAAa,CAACX,GAAA;MACjChF,IAAA,CAAKjB,MAAM,GAAG,IAAI,CAAC4G,aAAa,CAACT,GAAA;MACjClF,IAAA,CAAK4F,MAAM,GAAG,IAAI,CAACD,aAAa,CAACP,GAAA;MACjCpF,IAAA,CAAK6B,MAAM,GAAG,IAAI,CAAC8D,aAAa,CAACJ,GAAA;MACjCvF,IAAA,CAAKkB,MAAM,GAAG,IAAI,CAACyE,aAAa,CAACF,GAAA;IACnC;EAAA;IAAA59C,GAAA;IAAAmoB,KAAA,EAEA,SAAA80B,WAAA,EAAa;MACX,OAAO,IAAI,CAAC38C,KAAK,CAACkX,IAAI,CAACgY,QAAQ,CAAC,IAAI,CAAClW,KAAK,CAAC;IAC7C;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAEA,SAAA0zB,QAAA,EAAU;MACR,OAAO,IAAI,CAACv7C,KAAK,CAAC09C,cAAc,CAAC,IAAI,CAAC1kC,KAAK;IAC7C;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAMA,SAAA21B,cAAcG,OAAO,EAAE;MACrB,OAAO,IAAI,CAAC39C,KAAK,CAACc,MAAM,CAAC68C,OAAQ;IACnC;EAAA;IAAAj+C,GAAA;IAAAmoB,KAAA,EAKA,SAAA+1B,eAAex8C,KAAK,EAAE;MACpB,IAAMy2C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,OAAOp4C,KAAA,KAAUy2C,IAAA,CAAK6B,MAAM,GACxB7B,IAAA,CAAKkB,MAAM,GACXlB,IAAA,CAAK6B,MAAM;IACjB;EAAA;IAAAh6C,GAAA;IAAAmoB,KAAA,EAEA,SAAA0C,MAAA,EAAQ;MACN,IAAI,CAAC2nB,OAAO,CAAC;IACf;EAAA;IAAAxyC,GAAA;IAAAmoB,KAAA,EAKA,SAAAg2B,SAAA,EAAW;MACT,IAAMhG,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAI,IAAI,CAACkC,KAAK,EAAE;QACdoC,6DAAA,CAAoB,IAAI,CAACpC,KAAK,EAAE,IAAI;;MAEtC,IAAI7D,IAAA,CAAKsD,QAAQ,EAAE;QACjBX,WAAY,CAAA3C,IAAA;;IAEhB;EAAA;IAAAn4C,GAAA;IAAAmoB,KAAA,EAKA,SAAAk2B,WAAA,EAAa;MACX,IAAMztB,OAAA,GAAU,IAAI,CAACqsB,UAAU;MAC/B,IAAMzlC,IAAA,GAAOoZ,OAAA,CAAQpZ,IAAI,KAAKoZ,OAAQ,CAAApZ,IAAI,GAAG,EAAE,CAAD;MAC9C,IAAMwkC,KAAA,GAAQ,IAAI,CAACA,KAAK;MAMxB,IAAIlG,6DAAA,CAASt+B,IAAO;QAClB,IAAI,CAACwkC,KAAK,GAAGhE,wBAAyB,CAAAxgC,IAAA;OACjC,UAAIwkC,KAAA,KAAUxkC,IAAM;QACzB,IAAIwkC,KAAO;UAEToC,6DAAA,CAAoBpC,KAAA,EAAO,IAAI;UAE/B,IAAM7D,IAAA,GAAO,IAAI,CAAC2B,WAAW;UAC7BgB,WAAY,CAAA3C,IAAA;UACZA,IAAK,CAAA4C,OAAO,GAAG,EAAE;;QAEnB,IAAIvjC,IAAQ,IAAAlW,MAAA,CAAOg9C,YAAY,CAAC9mC,IAAO;UACrC+mC,6DAAA,CAAkB/mC,IAAA,EAAM,IAAI;;QAE9B,IAAI,CAACglC,SAAS,GAAG,EAAE;QACnB,IAAI,CAACR,KAAK,GAAGxkC,IAAA;;IAEjB;EAAA;IAAAxX,GAAA;IAAAmoB,KAAA,EAEA,SAAA00B,YAAA,EAAc;MACZ,IAAM1E,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAE7B,IAAI,CAACuE,UAAU;MAEf,IAAI,IAAI,CAAC5B,kBAAkB,EAAE;QAC3BtE,IAAA,CAAKvnB,OAAO,GAAG,IAAI,IAAI,CAAC6rB,kBAAkB;;IAE9C;EAAA;IAAAz8C,GAAA;IAAAmoB,KAAA,EAEA,SAAAq2B,sBAAsBC,gBAAgB,EAAE;MACtC,IAAMtG,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMlpB,OAAA,GAAU,IAAI,CAACqsB,UAAU;MAC/B,IAAIyB,YAAA,GAAe,KAAK;MAExB,IAAI,CAACL,UAAU;MAGf,IAAMM,UAAA,GAAaxG,IAAA,CAAKsD,QAAQ;MAChCtD,IAAA,CAAKsD,QAAQ,GAAGvD,SAAU,CAAAC,IAAA,CAAKkB,MAAM,EAAElB,IAAA;MAGvC,IAAIA,IAAK,CAAAn/B,KAAK,KAAK4X,OAAA,CAAQ5X,KAAK,EAAE;QAChC0lC,YAAA,GAAe,IAAI;QAEnB5D,WAAY,CAAA3C,IAAA;QACZA,IAAK,CAAAn/B,KAAK,GAAG4X,OAAA,CAAQ5X,KAAK;;MAK5B,IAAI,CAAC4lC,eAAe,CAACH,gBAAA;MAGrB,IAAIC,YAAgB,IAAAC,UAAA,KAAexG,IAAK,CAAAsD,QAAQ,EAAE;QAChD9B,YAAa,KAAI,EAAExB,IAAA,CAAK4C,OAAO;;IAEnC;EAAA;IAAA/6C,GAAA;IAAAmoB,KAAA,EAMA,SAAA0tB,UAAA,EAAY;MACV,IAAMhkB,MAAS,OAAI,CAACvxB,KAAK,CAACuxB,MAAM;MAChC,IAAMgtB,SAAA,GAAYhtB,MAAO,CAAAitB,gBAAgB,CAAC,IAAI,CAAChD,KAAK;MACpD,IAAMiD,MAAA,GAASltB,MAAA,CAAOmtB,eAAe,CAAC,IAAI,CAAC/B,UAAU,EAAI,EAAA4B,SAAA,EAAW,IAAI;MACxE,IAAI,CAAC78C,OAAO,GAAG6vB,MAAA,CAAOotB,cAAc,CAACF,MAAA,EAAQ,IAAI,CAACG,UAAU;MAC5D,IAAI,CAACnD,QAAQ,GAAG,IAAI,CAAC/5C,OAAO,CAACm9C,OAAO;MACpC,IAAI,CAACvD,eAAe,GAAG,EAAC;IAC1B;EAAA;IAAA57C,GAAA;IAAAmoB,KAAA,EAMA,SAAAtiB,MAAMyO,KAAK,EAAEiY,KAAK,EAAE;MAClB,IAAoB4rB,IAAI,GAAiB,IAAI,CAAtC2B,WAAA;QAA0BtiC,IAAI,GAAI,IAAI,CAAnBwkC,KAAA;MAC1B,IAAOhC,MAAA,GAAoB7B,IAAA,CAApB6B,MAAA;QAAQyB,QAAA,GAAYtD,IAAA,CAAZsD,QAAA;MACf,IAAMxB,KAAA,GAAQD,MAAA,CAAOt3C,IAAI;MAEzB,IAAI08C,MAAA,GAAS9qC,KAAU,UAAKiY,KAAU,KAAA/U,IAAA,CAAK/V,MAAM,GAAG,IAAI,GAAG02C,IAAA,CAAKkH,OAAO;MACvE,IAAIzgB,IAAA,GAAOtqB,KAAQ,QAAK6jC,IAAA,CAAK4C,OAAO,CAACzmC,KAAA,GAAQ,CAAE;MAC/C,IAAI9S,CAAA,EAAGiyC,GAAK,EAAAoG,MAAA;MAEZ,IAAI,IAAI,CAACkC,QAAQ,KAAK,KAAK,EAAE;QAC3B5D,IAAA,CAAK4C,OAAO,GAAGvjC,IAAA;QACf2gC,IAAK,CAAAkH,OAAO,GAAG,IAAI;QACnBxF,MAAS,GAAAriC,IAAA;OACJ;QACL,IAAIe,6DAAQ,CAAAf,IAAI,CAAClD,KAAA,CAAM,CAAG;UACxBulC,MAAA,GAAS,IAAI,CAACyF,cAAc,CAACnH,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;QAClD,OAAO,IAAIupB,6DAAA,CAASt+B,IAAI,CAAClD,KAAA,CAAM,CAAG;UAChCulC,MAAA,GAAS,IAAI,CAAC0F,eAAe,CAACpH,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;SAC5C;UACLstB,MAAA,GAAS,IAAI,CAAC2F,kBAAkB,CAACrH,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;;QAGtD,IAAMkzB,0BAA6B,YAA7BA,0BAA6BA,CAAA;UAAA,OAAMhM,GAAG,CAACwG,KAAA,CAAM,KAAK,IAAI,IAAKrb,IAAA,IAAQ6U,GAAG,CAACwG,KAAA,CAAM,GAAGrb,IAAI,CAACqb,KAAM;QAAA;QACjG,KAAKz4C,CAAI,MAAGA,CAAI,GAAA+qB,KAAA,EAAO,EAAE/qB,CAAG;UAC1B22C,IAAK,CAAA4C,OAAO,CAACv5C,CAAI,GAAA8S,KAAA,CAAM,GAAGm/B,GAAM,GAAAoG,MAAM,CAACr4C,CAAE;UACzC,IAAI49C,MAAQ;YACV,IAAIK,0BAA8B;cAChCL,MAAA,GAAS,KAAK;;YAEhBxgB,IAAO,GAAA6U,GAAA;;QAEX;QACA0E,IAAA,CAAKkH,OAAO,GAAGD,MAAA;;MAGjB,IAAI3D,QAAU;QACZ9B,YAAA,CAAa,IAAI,EAAEE,MAAA;;IAEvB;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAaA,SAAAq3B,mBAAmBrH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MAC3C,IAAOytB,MAAA,GAAkB7B,IAAA,CAAlB6B,MAAA;QAAQX,MAAA,GAAUlB,IAAA,CAAVkB,MAAA;MACf,IAAMY,KAAA,GAAQD,MAAA,CAAOt3C,IAAI;MACzB,IAAMw3C,KAAA,GAAQb,MAAA,CAAO32C,IAAI;MACzB,IAAM8D,MAAA,GAASwzC,MAAA,CAAOvzC,SAAS;MAC/B,IAAMi5C,WAAA,GAAc1F,MAAW,KAAAX,MAAA;MAC/B,IAAMQ,MAAA,GAAS,IAAIvhC,KAAM,CAAAiU,KAAA;MACzB,IAAI/qB,CAAA,EAAGi2C,IAAM,EAAAn+B,KAAA;MAEb,KAAK9X,CAAA,GAAI,GAAGi2C,IAAO,GAAAlrB,KAAK,EAAE/qB,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;QAAA,IAAAm+C,SAAA;QACvCrmC,KAAA,GAAQ9X,CAAI,GAAA8S,KAAA;QACZulC,MAAM,CAACr4C,CAAA,CAAE,IAAAm+C,SAAA,OAAAC,eAAA,CAAAD,SAAA,EACN1F,KAAA,EAAQyF,WAAe,IAAA1F,MAAA,CAAOn0C,KAAK,CAACW,MAAM,CAAC8S,KAAA,CAAM,EAAEA,KAAA,IAAAsmC,eAAA,CAAAD,SAAA,EACnDzF,KAAA,EAAQb,MAAO,CAAAxzC,KAAK,CAAC2R,IAAI,CAAC8B,KAAA,CAAM,EAAEA,KAAA,IAAAqmC,SAAA,CACrC;MACF;MACA,OAAO9F,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAaA,SAAAm3B,eAAenH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACvC,IAAO0qB,MAAA,GAAkBkB,IAAA,CAAlBlB,MAAA;QAAQC,MAAA,GAAUiB,IAAA,CAAVjB,MAAA;MACf,IAAM2C,MAAA,GAAS,IAAIvhC,KAAM,CAAAiU,KAAA;MACzB,IAAI/qB,CAAA,EAAGi2C,IAAA,EAAMn+B,KAAO,EAAA1D,IAAA;MAEpB,KAAKpU,CAAA,GAAI,GAAGi2C,IAAO,GAAAlrB,KAAK,EAAE/qB,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;QACvC8X,KAAA,GAAQ9X,CAAI,GAAA8S,KAAA;QACZsB,IAAO,GAAA4B,IAAI,CAAC8B,KAAM;QAClBugC,MAAM,CAACr4C,CAAA,CAAE,GAAG;UACVd,CAAA,EAAGu2C,MAAA,CAAOpxC,KAAK,CAAC+P,IAAI,CAAC,EAAE,EAAE0D,KAAA;UACzB3Y,CAAA,EAAGu2C,MAAA,CAAOrxC,KAAK,CAAC+P,IAAI,CAAC,EAAE,EAAE0D,KAAA;QAC3B;MACF;MACA,OAAOugC,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAaA,SAAAo3B,gBAAgBpH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACxC,IAAO0qB,MAAA,GAAkBkB,IAAA,CAAlBlB,MAAA;QAAQC,MAAA,GAAUiB,IAAA,CAAVjB,MAAA;MACf,IAAA2I,cAAA,GAAyC,IAAI,CAAC9D,QAAQ;QAAA+D,qBAAA,GAAAD,cAAA,CAA/CE,QAAW;QAAXA,QAAW,GAAAD,qBAAA,oBAAAA,qBAAA;QAAAE,qBAAA,GAAAH,cAAA,CAAKI,QAAA;QAAAA,QAAA,GAAAD,qBAAA,cAAW,MAAAA,qBAAA;MAClC,IAAMnG,MAAA,GAAS,IAAIvhC,KAAM,CAAAiU,KAAA;MACzB,IAAI/qB,CAAA,EAAGi2C,IAAA,EAAMn+B,KAAO,EAAA1D,IAAA;MAEpB,KAAKpU,CAAA,GAAI,GAAGi2C,IAAO,GAAAlrB,KAAK,EAAE/qB,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;QACvC8X,KAAA,GAAQ9X,CAAI,GAAA8S,KAAA;QACZsB,IAAO,GAAA4B,IAAI,CAAC8B,KAAM;QAClBugC,MAAM,CAACr4C,CAAA,CAAE,GAAG;UACVd,CAAA,EAAGu2C,MAAO,CAAApxC,KAAK,CAACq6C,6DAAA,CAAiBtqC,IAAA,EAAMmqC,QAAW,GAAAzmC,KAAA;UAClD3Y,CAAA,EAAGu2C,MAAO,CAAArxC,KAAK,CAACq6C,6DAAA,CAAiBtqC,IAAA,EAAMqqC,QAAW,GAAA3mC,KAAA;QACpD;MACF;MACA,OAAOugC,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAKA,SAAAg4B,UAAU7mC,KAAK,EAAE;MACf,OAAO,IAAI,CAACwgC,WAAW,CAACiB,OAAO,CAACzhC,KAAM;IACxC;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAKA,SAAAi4B,eAAe9mC,KAAK,EAAE;MACpB,OAAO,IAAI,CAACwgC,WAAW,CAACtiC,IAAI,CAAC8B,KAAM;IACrC;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAKA,SAAAuvB,WAAWh2C,KAAK,EAAEm4C,MAAM,EAAEz5C,IAAI,EAAE;MAC9B,IAAME,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM63C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAM3xB,KAAQ,GAAA0xB,MAAM,CAACn4C,KAAA,CAAMgB,IAAI,CAAC;MAChC,IAAMsW,KAAQ;QACZzX,IAAM,EAAA81C,uBAAA,CAAwB/2C,KAAA,EAAO,IAAI;QACzC0b,MAAA,EAAQ69B,MAAA,CAAOE,OAAO,CAACr4C,KAAA,CAAMgB,IAAI,CAAC,CAAC63C;MACrC;MACA,OAAO7C,WAAW,CAAA1+B,KAAA,EAAOmP,KAAO,EAAAgwB,IAAA,CAAK7+B,KAAK,EAAE;QAAClZ,IAAA,EAAAA;MAAI;IACnD;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAKA,SAAAk4B,sBAAsBz8C,KAAK,EAAElC,KAAK,EAAEm4C,MAAM,EAAE7gC,KAAK,EAAE;MACjD,IAAMsnC,WAAc,GAAAzG,MAAM,CAACn4C,KAAA,CAAMgB,IAAI,CAAC;MACtC,IAAIylB,KAAQ,GAAAm4B,WAAA,KAAgB,IAAI,GAAGC,GAAA,GAAMD,WAAW;MACpD,IAAMtkC,MAAA,GAAShD,KAAS,IAAA6gC,MAAA,CAAOE,OAAO,CAACr4C,KAAA,CAAMgB,IAAI,CAAC;MAClD,IAAIsW,KAAA,IAASgD,MAAQ;QACnBhD,KAAA,CAAMgD,MAAM,GAAGA,MAAA;QACfmM,KAAA,GAAQuvB,WAAA,CAAW1+B,KAAO,EAAAsnC,WAAA,EAAa,IAAI,CAACxG,WAAW,CAACxgC,KAAK;;MAE/D1V,KAAA,CAAME,GAAG,GAAGK,IAAA,CAAKL,GAAG,CAACF,KAAA,CAAME,GAAG,EAAEqkB,KAAA;MAChCvkB,KAAA,CAAMC,GAAG,GAAGM,IAAA,CAAKN,GAAG,CAACD,KAAA,CAAMC,GAAG,EAAEskB,KAAA;IAClC;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAKA,SAAAq4B,UAAU9+C,KAAK,EAAE65C,QAAQ,EAAE;MACzB,IAAMpD,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMiB,OAAA,GAAU5C,IAAA,CAAK4C,OAAO;MAC5B,IAAMqE,MAAA,GAASjH,IAAK,CAAAkH,OAAO,IAAI39C,KAAA,KAAUy2C,IAAA,CAAK6B,MAAM;MACpD,IAAMvC,IAAA,GAAOsD,OAAA,CAAQt5C,MAAM;MAC3B,IAAMg/C,UAAa,OAAI,CAACvC,cAAc,CAACx8C,KAAA;MACvC,IAAMsX,KAAA,GAAQsiC,WAAY,CAAAC,QAAA,EAAUpD,IAAM,MAAI,CAAC73C,KAAK;MACpD,IAAMsD,KAAQ;QAACE,GAAA,EAAK80C,MAAA,CAAOE,iBAAiB;QAAEj1C,GAAA,EAAK+0C,MAAA,CAAOC;MAAiB;MAC3E,IAAA6H,cAAA,GAAuClI,aAAc,CAAAiI,UAAA;QAAzCE,QAAQ,GAAAD,cAAA,CAAb58C,GAAA;QAAoB88C,QAAQ,GAAAF,cAAA,CAAb78C,GAAA;MACtB,IAAIrC,CAAG,EAAAq4C,MAAA;MAEP,SAASgH,KAAQA,CAAA;QACfhH,MAAS,GAAAkB,OAAO,CAACv5C,CAAE;QACnB,IAAMs2C,UAAa,GAAA+B,MAAM,CAAC4G,UAAA,CAAW/9C,IAAI,CAAC;QAC1C,OAAO,CAACq1C,6DAAS,CAAA8B,MAAM,CAACn4C,KAAA,CAAMgB,IAAI,CAAC,KAAKi+C,QAAW,GAAA7I,UAAA,IAAc8I,QAAW,GAAA9I,UAAA;MAC9E;MAEA,KAAKt2C,CAAI,MAAGA,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;QACzB,IAAIq/C,KAAS;UACX;;QAEF,IAAI,CAACR,qBAAqB,CAACz8C,KAAA,EAAOlC,KAAA,EAAOm4C,MAAQ,EAAA7gC,KAAA;QACjD,IAAIomC,MAAQ;UAEV;;MAEJ;MACA,IAAIA,MAAQ;QAEV,KAAK59C,CAAA,GAAIi2C,IAAO,MAAGj2C,CAAK,OAAG,EAAEA,CAAG;UAC9B,IAAIq/C,KAAS;YACX;;UAEF,IAAI,CAACR,qBAAqB,CAACz8C,KAAA,EAAOlC,KAAA,EAAOm4C,MAAQ,EAAA7gC,KAAA;UACjD;QACF;;MAEF,OAAOpV,KAAA;IACT;EAAA;IAAA5D,GAAA;IAAAmoB,KAAA,EAEA,SAAA24B,mBAAmBp/C,KAAK,EAAE;MACxB,IAAMm4C,MAAS,OAAI,CAACC,WAAW,CAACiB,OAAO;MACvC,IAAM/+B,MAAA,GAAS,EAAE;MACjB,IAAIxa,CAAA,EAAGi2C,IAAM,EAAAtvB,KAAA;MAEb,KAAK3mB,CAAA,GAAI,GAAGi2C,IAAO,GAAAoC,MAAA,CAAOp4C,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC/C2mB,KAAA,GAAQ0xB,MAAM,CAACr4C,CAAA,CAAE,CAACE,KAAA,CAAMgB,IAAI,CAAC;QAC7B,IAAIq1C,6DAAA,CAAS5vB,KAAQ;UACnBnM,MAAA,CAAOnZ,IAAI,CAACslB,KAAA;;MAEhB;MACA,OAAOnM,MAAA;IACT;EAAA;IAAAhc,GAAA;IAAAmoB,KAAA,EAMA,SAAA44B,eAAA,EAAiB;MACf,OAAO,KAAK;IACd;EAAA;IAAA/gD,GAAA;IAAAmoB,KAAA,EAKA,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM6+B,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAME,MAAA,GAAS7B,IAAA,CAAK6B,MAAM;MAC1B,IAAMX,MAAA,GAASlB,IAAA,CAAKkB,MAAM;MAC1B,IAAMQ,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAC9B,OAAO;QACLmW,KAAO,EAAAuqB,MAAA,GAAS,EAAK,GAAAA,MAAA,CAAOiH,gBAAgB,CAACpH,MAAM,CAACG,MAAO,CAAAt3C,IAAI,CAAC,IAAI,EAAE;QACtEylB,KAAO,EAAAkxB,MAAA,GAAS,EAAK,GAAAA,MAAA,CAAO4H,gBAAgB,CAACpH,MAAM,CAACR,MAAO,CAAA32C,IAAI,CAAC,IAAI;MACtE;IACF;EAAA;IAAA1C,GAAA;IAAAmoB,KAAA,EAKA,SAAAqqB,QAAQpyC,IAAI,EAAE;MACZ,IAAM+3C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAI,CAACvvC,MAAM,CAACnK,IAAQ;MACpB+3C,IAAA,CAAK+I,KAAK,GAAG/J,MAAA,CAAO53C,6DAAA,CAAe,IAAI,CAACyC,OAAO,CAACm/C,IAAI,EAAEnK,WAAY,CAAAmB,IAAA,CAAKlB,MAAM,EAAEkB,IAAA,CAAKjB,MAAM,EAAE,IAAI,CAAC6J,cAAc;IACjH;EAAA;IAAA/gD,GAAA;IAAAmoB,KAAA,EAKA,SAAA5d,OAAOnK,IAAI,EAAE;EAAC;IAAAJ,GAAA;IAAAmoB,KAAA,EAEd,SAAAhV,KAAA,EAAO;MACL,IAAMK,GAAA,GAAM,IAAI,CAACmoC,IAAI;MACrB,IAAMr7C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM63C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMsH,QAAW,GAAAjJ,IAAA,CAAK3gC,IAAI,IAAI,EAAE;MAChC,IAAM6pC,IAAA,GAAO/gD,KAAA,CAAMsJ,SAAS;MAC5B,IAAMsrC,MAAA,GAAS,EAAE;MACjB,IAAM5gC,KAAQ,OAAI,CAAC6nC,UAAU,IAAI;MACjC,IAAM5vB,KAAA,GAAQ,IAAI,CAAC6vB,UAAU,IAAKgF,QAAA,CAAS3/C,MAAM,GAAG6S,KAAA;MACpD,IAAMgtC,uBAA0B,OAAI,CAACt/C,OAAO,CAACs/C,uBAAuB;MACpE,IAAI9/C,CAAA;MAEJ,IAAI22C,IAAA,CAAKvnB,OAAO,EAAE;QAChBunB,IAAA,CAAKvnB,OAAO,CAACzd,IAAI,CAACK,GAAA,EAAK6tC,IAAA,EAAM/sC,KAAO,EAAAiY,KAAA;;MAGtC,KAAK/qB,CAAA,GAAI8S,KAAO,EAAA9S,CAAA,GAAI8S,KAAQ,GAAAiY,KAAA,EAAO,EAAE/qB,CAAG;QACtC,IAAMob,OAAA,GAAUwkC,QAAQ,CAAC5/C,CAAE;QAC3B,IAAIob,OAAA,CAAQ4+B,MAAM,EAAE;UAClB;;QAEF,IAAI5+B,OAAA,CAAQs4B,MAAM,IAAIoM,uBAAyB;UAC7CpM,MAAA,CAAOryC,IAAI,CAAC+Z,OAAA;SACP;UACLA,OAAQ,CAAAzJ,IAAI,CAACK,GAAK,EAAA6tC,IAAA;;MAEtB;MAEA,KAAK7/C,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI0zC,MAAA,CAAOzzC,MAAM,EAAE,EAAED,CAAG;QAClC0zC,MAAM,CAAC1zC,CAAA,CAAE,CAAC2R,IAAI,CAACK,GAAK,EAAA6tC,IAAA;MACtB;IACF;EAAA;IAAArhD,GAAA;IAAAmoB,KAAA,EASA,SAAAo5B,SAASjoC,KAAK,EAAE47B,MAAM,EAAE;MACtB,IAAM90C,IAAA,GAAO80C,MAAS,cAAW,SAAS;MAC1C,OAAO57B,KAAA,KAAU/Y,SAAa,QAAI,CAACu5C,WAAW,CAAClpB,OAAO,GAClD,IAAI,CAAC4wB,4BAA4B,CAACphD,IAAA,IAClC,IAAI,CAACqhD,yBAAyB,CAACnoC,KAAA,IAAS,GAAGlZ,IAAK;IACtD;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAKA,SAAA+2B,WAAW5lC,KAAK,EAAE47B,MAAM,EAAE90C,IAAI,EAAE;MAC9B,IAAMwwB,OAAA,GAAU,IAAI,CAACqsB,UAAU;MAC/B,IAAI/kC,OAAA;MACJ,IAAIoB,KAAA,IAAS,CAAK,IAAAA,KAAA,GAAQ,IAAI,CAACwgC,WAAW,CAACtiC,IAAI,CAAC/V,MAAM,EAAE;QACtD,IAAMmb,OAAA,GAAU,IAAI,CAACk9B,WAAW,CAACtiC,IAAI,CAAC8B,KAAM;QAC5CpB,OAAA,GAAU0E,OAAQ,CAAA2/B,QAAQ,KACvB3/B,OAAQ,CAAA2/B,QAAQ,GAAG3B,iBAAA,CAAkB,IAAI,CAACsE,UAAU,IAAI5lC,KAAA,EAAOsD,OAAO;QACzE1E,OAAA,CAAQ2hC,MAAM,GAAG,IAAI,CAACsG,SAAS,CAAC7mC,KAAA;QAChCpB,OAAA,CAAQ2iC,GAAG,GAAGjqB,OAAQ,CAAApZ,IAAI,CAAC8B,KAAM;QACjCpB,OAAA,CAAQoB,KAAK,GAAGpB,OAAQ,CAAA2Y,SAAS,GAAGvX,KAAA;OAC/B;QACLpB,OAAA,GAAU,IAAI,CAACqkC,QAAQ,KACpB,IAAI,CAACA,QAAQ,GAAG7B,oBAAA,CAAqB,IAAI,CAACp6C,KAAK,CAAC4+C,UAAU,IAAI,IAAI,CAAC5lC,KAAK;QAC3EpB,OAAA,CAAQ0Y,OAAO,GAAGA,OAAA;QAClB1Y,OAAA,CAAQoB,KAAK,GAAGpB,OAAA,CAAQ2/B,YAAY,GAAG,IAAI,CAACv+B,KAAK;;MAGnDpB,OAAQ,CAAAg9B,MAAM,GAAG,CAAC,CAACA,MAAA;MACnBh9B,OAAA,CAAQ9X,IAAI,GAAGA,IAAA;MACf,OAAO8X,OAAA;IACT;EAAA;IAAAlY,GAAA;IAAAmoB,KAAA,EAMA,SAAAq5B,6BAA6BphD,IAAI,EAAE;MACjC,OAAO,IAAI,CAACshD,sBAAsB,CAAC,IAAI,CAACjF,kBAAkB,CAAC73C,EAAE,EAAExE,IAAA;IACjE;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAOA,SAAAs5B,0BAA0BnoC,KAAK,EAAElZ,IAAI,EAAE;MACrC,OAAO,IAAI,CAACshD,sBAAsB,CAAC,IAAI,CAAChF,eAAe,CAAC93C,EAAE,EAAExE,IAAM,EAAAkZ,KAAA;IACpE;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAKA,SAAAu5B,uBAAuBC,WAAW,EAA2B;MAAA,IAAAC,MAAA;MAAA,IAAzBxhD,IAAA,GAAAiF,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAO,SAAS;MAAA,IAAEiU,KAAK,GAAAjU,SAAA,CAAA5D,MAAA,OAAA4D,SAAA,MAAA9E,SAAA;MACzD,IAAM20C,MAAA,GAAS90C,IAAS;MACxB,IAAMyhD,KAAA,GAAQ,IAAI,CAACjG,eAAe;MAClC,IAAMkG,QAAA,GAAWH,WAAA,GAAc,GAAM,GAAAvhD,IAAA;MACrC,IAAMg7C,MAAA,GAASyG,KAAK,CAACC,QAAS;MAC9B,IAAMC,OAAU,OAAI,CAAC1F,mBAAmB,IAAI2F,6DAAQ,CAAA1oC,KAAA;MACpD,IAAI8hC,MAAQ;QACV,OAAOD,gBAAA,CAAiBC,MAAQ,EAAA2G,OAAA;;MAElC,IAAMlwB,MAAS,OAAI,CAACvxB,KAAK,CAACuxB,MAAM;MAChC,IAAMgtB,SAAA,GAAYhtB,MAAO,CAAAowB,uBAAuB,CAAC,IAAI,CAACnG,KAAK,EAAE6F,WAAA;MAC7D,IAAMO,QAAA,GAAWhN,MAAS,OAAAn/B,MAAA,CAAI4rC,WAAY,YAAQ,SAASA,WAAA,EAAa,GAAG,GAAG,CAACA,WAAA,EAAa,GAAG;MAC/F,IAAM5C,MAAA,GAASltB,MAAO,CAAAmtB,eAAe,CAAC,IAAI,CAAC/B,UAAU,EAAI,EAAA4B,SAAA;MACzD,IAAM5P,KAAA,GAAQ3tC,MAAO,CAAAC,IAAI,CAAC8S,kEAAiB,CAACstC,WAAY;MAGxD,IAAMzpC,OAAA,GAAU,SAAVA,QAAA;QAAA,OAAgB0pC,MAAI,CAAC1C,UAAU,CAAC5lC,KAAA,EAAO47B,MAAQ,EAAA90C,IAAA;MAAA;MACrD,IAAM4b,MAAA,GAAS6V,MAAO,CAAAswB,mBAAmB,CAACpD,MAAA,EAAQ9P,KAAA,EAAO/2B,OAAS,EAAAgqC,QAAA;MAElE,IAAIlmC,MAAA,CAAO06B,OAAO,EAAE;QAGlB16B,MAAA,CAAO06B,OAAO,GAAGqL,OAAA;QAKjBF,KAAK,CAACC,QAAS,IAAGxgD,MAAA,CAAO8gD,MAAM,CAACjH,gBAAA,CAAiBn/B,MAAQ,EAAA+lC,OAAA;;MAG3D,OAAO/lC,MAAA;IACT;EAAA;IAAAhc,GAAA;IAAAmoB,KAAA,EAMA,SAAAk6B,mBAAmB/oC,KAAK,EAAEzP,UAAU,EAAEqrC,MAAM,EAAE;MAC5C,IAAM50C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMuhD,KAAA,GAAQ,IAAI,CAACjG,eAAe;MAClC,IAAMkG,QAAW,gBAAA/rC,MAAA,CAAalM,UAAA,CAAY;MAC1C,IAAMuxC,MAAA,GAASyG,KAAK,CAACC,QAAS;MAC9B,IAAI1G,MAAQ;QACV,OAAOA,MAAA;;MAET,IAAIp5C,OAAA;MACJ,IAAI1B,KAAA,CAAM0B,OAAO,CAACg0C,SAAS,KAAK,KAAK,EAAE;QACrC,IAAMnkB,MAAS,OAAI,CAACvxB,KAAK,CAACuxB,MAAM;QAChC,IAAMgtB,SAAA,GAAYhtB,MAAO,CAAAywB,yBAAyB,CAAC,IAAI,CAACxG,KAAK,EAAEjyC,UAAA;QAC/D,IAAMk1C,MAAA,GAASltB,MAAO,CAAAmtB,eAAe,CAAC,IAAI,CAAC/B,UAAU,EAAI,EAAA4B,SAAA;QACzD78C,OAAU,GAAA6vB,MAAA,CAAOotB,cAAc,CAACF,MAAA,EAAQ,IAAI,CAACG,UAAU,CAAC5lC,KAAA,EAAO47B,MAAQ,EAAArrC,UAAA;;MAEzE,IAAM2sC,UAAA,GAAa,IAAId,UAAA,CAAWp1C,KAAO,EAAA0B,OAAA,IAAWA,OAAA,CAAQw0C,UAAU;MACtE,IAAIx0C,OAAA,IAAWA,OAAQ,CAAAugD,UAAU,EAAE;QACjCV,KAAK,CAACC,QAAA,CAAS,GAAGxgD,MAAA,CAAO8gD,MAAM,CAAC5L,UAAA;;MAElC,OAAOA,UAAA;IACT;EAAA;IAAAx2C,GAAA;IAAAmoB,KAAA,EAMA,SAAAq6B,iBAAiBxgD,OAAO,EAAE;MACxB,IAAI,CAACA,OAAQ,CAAA00C,OAAO,EAAE;QACpB;;MAEF,OAAO,IAAI,CAACwF,cAAc,KAAK,IAAI,CAACA,cAAc,GAAG56C,MAAO,CAAA6X,MAAM,CAAC,IAAInX,OAAO;IAChF;EAAA;IAAAhC,GAAA;IAAAmoB,KAAA,EAMA,SAAAs6B,eAAeriD,IAAI,EAAEsiD,aAAa,EAAE;MAClC,OAAO,CAACA,aAAA,IAAiBxH,kBAAmB,CAAA96C,IAAA,KAAS,IAAI,CAACE,KAAK,CAACqiD,mBAAmB;IACrF;EAAA;IAAA3iD,GAAA;IAAAmoB,KAAA,EAKA,SAAAy6B,kBAAkBtuC,KAAK,EAAElU,IAAI,EAAE;MAC7B,IAAMyiD,SAAY,OAAI,CAACpB,yBAAyB,CAACntC,KAAO,EAAAlU,IAAA;MACxD,IAAM0iD,uBAAA,GAA0B,IAAI,CAAC5G,cAAc;MACnD,IAAMwG,aAAgB,OAAI,CAACF,gBAAgB,CAACK,SAAA;MAC5C,IAAMJ,cAAA,GAAiB,IAAI,CAACA,cAAc,CAACriD,IAAA,EAAMsiD,aAAA,KAAmBA,aAAkB,KAAAI,uBAAA;MACtF,IAAI,CAACC,mBAAmB,CAACL,aAAA,EAAetiD,IAAM,EAAAyiD,SAAA;MAC9C,OAAO;QAACH,aAAA,EAAAA,aAAA;QAAeD,cAAA,EAAAA;MAAc;IACvC;EAAA;IAAAziD,GAAA;IAAAmoB,KAAA,EAMA,SAAA66B,cAAcpmC,OAAO,EAAEtD,KAAK,EAAEU,UAAU,EAAE5Z,IAAI,EAAE;MAC9C,IAAI86C,kBAAA,CAAmB96C,IAAO;QAC5BkB,MAAO,CAAA6X,MAAM,CAACyD,OAAS,EAAA5C,UAAA;OAClB;QACL,IAAI,CAACqoC,kBAAkB,CAAC/oC,KAAA,EAAOlZ,IAAM,EAAAmK,MAAM,CAACqS,OAAS,EAAA5C,UAAA;;IAEzD;EAAA;IAAAha,GAAA;IAAAmoB,KAAA,EAMA,SAAA46B,oBAAoBL,aAAa,EAAEtiD,IAAI,EAAEk2C,UAAU,EAAE;MACnD,IAAIoM,aAAA,IAAiB,CAACxH,kBAAA,CAAmB96C,IAAO;QAC9C,IAAI,CAACiiD,kBAAkB,CAAC9hD,SAAA,EAAWH,IAAM,EAAAmK,MAAM,CAACm4C,aAAe,EAAApM,UAAA;;IAEnE;EAAA;IAAAt2C,GAAA;IAAAmoB,KAAA,EAKA,SAAA86B,UAAUrmC,OAAO,EAAEtD,KAAK,EAAElZ,IAAI,EAAE80C,MAAM,EAAE;MACtCt4B,OAAA,CAAQs4B,MAAM,GAAGA,MAAA;MACjB,IAAMlzC,OAAU,OAAI,CAACu/C,QAAQ,CAACjoC,KAAO,EAAA47B,MAAA;MACrC,IAAI,CAACmN,kBAAkB,CAAC/oC,KAAA,EAAOlZ,IAAA,EAAM80C,MAAQ,EAAA3qC,MAAM,CAACqS,OAAS;QAG3D5a,OAAA,EAAS,CAAEkzC,MAAA,IAAU,IAAI,CAACsN,gBAAgB,CAACxgD,OAAa,KAAAA;MAC1D;IACF;EAAA;IAAAhC,GAAA;IAAAmoB,KAAA,EAEA,SAAA+6B,iBAAiBtmC,OAAO,EAAEi7B,YAAY,EAAEv+B,KAAK,EAAE;MAC7C,IAAI,CAAC2pC,SAAS,CAACrmC,OAAS,EAAAtD,KAAA,EAAO,UAAU,KAAK;IAChD;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAEA,SAAAg7B,cAAcvmC,OAAO,EAAEi7B,YAAY,EAAEv+B,KAAK,EAAE;MAC1C,IAAI,CAAC2pC,SAAS,CAACrmC,OAAS,EAAAtD,KAAA,EAAO,UAAU,IAAI;IAC/C;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAKA,SAAAi7B,yBAAA,EAA2B;MACzB,IAAMxmC,OAAU,OAAI,CAACk9B,WAAW,CAAClpB,OAAO;MAExC,IAAIhU,OAAS;QACX,IAAI,CAACqmC,SAAS,CAACrmC,OAAS,EAAArc,SAAA,EAAW,UAAU,KAAK;;IAEtD;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAKA,SAAAk7B,sBAAA,EAAwB;MACtB,IAAMzmC,OAAU,OAAI,CAACk9B,WAAW,CAAClpB,OAAO;MAExC,IAAIhU,OAAS;QACX,IAAI,CAACqmC,SAAS,CAACrmC,OAAS,EAAArc,SAAA,EAAW,UAAU,IAAI;;IAErD;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAKA,SAAAy2B,gBAAgBH,gBAAgB,EAAE;MAChC,IAAMjnC,IAAA,GAAO,IAAI,CAACwkC,KAAK;MACvB,IAAMoF,QAAW,OAAI,CAACtH,WAAW,CAACtiC,IAAI;MAAA,IAAA8rC,UAAA,GAAA9J,0BAAA,CAGH,IAAI,CAACgD,SAAS;QAAA+G,MAAA;MAAA;QAAjD,KAAAD,UAAA,CAAAxgB,CAAA,MAAAygB,MAAA,GAAAD,UAAA,CAAAvgB,CAAA,IAAApG,IAAA,GAAmD;UAAA,IAAA6mB,YAAA,GAAAC,cAAA,CAAAF,MAAA,CAAAp7B,KAAA;YAAvCvP,MAAQ,GAAA4qC,YAAA;YAAAE,IAAA,GAAAF,YAAA;YAAMG,IAAA,GAAAH,YAAA;UACxB,IAAI,CAAC5qC,MAAO,EAAC8qC,IAAM,EAAAC,IAAA;QACrB;MAAA,SAAAzpB,GAAA;QAAAopB,UAAA,CAAA/xC,CAAA,CAAA2oB,GAAA;MAAA;QAAAopB,UAAA,CAAAxhB,CAAA;MAAA;MACA,IAAI,CAAC0a,SAAS,GAAG,EAAE;MAEnB,IAAMoH,OAAA,GAAUxC,QAAA,CAAS3/C,MAAM;MAC/B,IAAMoiD,OAAA,GAAUrsC,IAAA,CAAK/V,MAAM;MAC3B,IAAM8qB,KAAQ,GAAApoB,IAAA,CAAKL,GAAG,CAAC+/C,OAAS,EAAAD,OAAA;MAEhC,IAAIr3B,KAAO;QAKT,IAAI,CAAC1mB,KAAK,CAAC,CAAG,EAAA0mB,KAAA;;MAGhB,IAAIs3B,OAAA,GAAUD,OAAS;QACrB,IAAI,CAACE,eAAe,CAACF,OAAA,EAASC,OAAA,GAAUD,OAAS,EAAAnF,gBAAA;OAC5C,UAAIoF,OAAA,GAAUD,OAAS;QAC5B,IAAI,CAACG,eAAe,CAACF,OAAA,EAASD,OAAU,GAAAC,OAAA;;IAE5C;EAAA;IAAA7jD,GAAA;IAAAmoB,KAAA,EAKA,SAAA27B,gBAAgBxvC,KAAK,EAAEiY,KAAK,EAA2B;MAAA,IAAzBkyB,gBAAA,GAAAp5C,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAmB,IAAI;MACnD,IAAM8yC,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMtiC,IAAA,GAAO2gC,IAAA,CAAK3gC,IAAI;MACtB,IAAMiL,GAAA,GAAMnO,KAAQ,GAAAiY,KAAA;MACpB,IAAI/qB,CAAA;MAEJ,IAAMwiD,IAAA,GAAO,SAAPA,KAAQC,GAAQ;QACpBA,GAAA,CAAIxiD,MAAM,IAAI8qB,KAAA;QACd,KAAK/qB,CAAA,GAAIyiD,GAAI,CAAAxiD,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAKihB,GAAA,EAAKjhB,CAAK;UACtCyiD,GAAG,CAACziD,CAAE,IAAGyiD,GAAG,CAACziD,CAAA,GAAI+qB,KAAM;QACzB;MACF;MACAy3B,IAAK,CAAAxsC,IAAA;MAEL,KAAKhW,CAAI,GAAA8S,KAAA,EAAO9S,CAAI,GAAAihB,GAAA,EAAK,EAAEjhB,CAAG;QAC5BgW,IAAI,CAAChW,CAAE,IAAG,IAAI,IAAI,CAACk7C,eAAe;MACpC;MAEA,IAAI,IAAI,CAACX,QAAQ,EAAE;QACjBiI,IAAA,CAAK7L,IAAA,CAAK4C,OAAO;;MAEnB,IAAI,CAACl1C,KAAK,CAACyO,KAAO,EAAAiY,KAAA;MAElB,IAAIkyB,gBAAkB;QACpB,IAAI,CAACyF,cAAc,CAAC1sC,IAAA,EAAMlD,KAAA,EAAOiY,KAAO;;IAE5C;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAetnC,OAAO,EAAEtI,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;EAAC;IAAAJ,GAAA;IAAAmoB,KAAA,EAK7C,SAAA47B,gBAAgBzvC,KAAK,EAAEiY,KAAK,EAAE;MAC5B,IAAM4rB,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAI,IAAI,CAACiC,QAAQ,EAAE;QACjB,IAAMoI,OAAA,GAAUhM,IAAK,CAAA4C,OAAO,CAACx2B,MAAM,CAACjQ,KAAO,EAAAiY,KAAA;QAC3C,IAAI4rB,IAAA,CAAKsD,QAAQ,EAAE;UACjBX,WAAA,CAAY3C,IAAM,EAAAgM,OAAA;;;MAGtBhM,IAAA,CAAK3gC,IAAI,CAAC+M,MAAM,CAACjQ,KAAO,EAAAiY,KAAA;IAC1B;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAKA,SAAAi8B,MAAMvvC,IAAI,EAAE;MACV,IAAI,IAAI,CAACknC,QAAQ,EAAE;QACjB,IAAI,CAACS,SAAS,CAAC35C,IAAI,CAACgS,IAAA;OACf;QACL,IAAAwvC,MAAA,GAAAZ,cAAA,CAA6B5uC,IAAA;UAAtB+D,MAAA,GAAAyrC,MAAA;UAAQX,IAAM,GAAAW,MAAA;UAAAV,IAAA,GAAAU,MAAA;QACrB,IAAI,CAACzrC,MAAO,EAAC8qC,IAAM,EAAAC,IAAA;;MAErB,IAAI,CAACrjD,KAAK,CAACgkD,YAAY,CAACzhD,IAAI,EAAE,IAAI,CAACyW,KAAK,EAAAvD,MAAA,CAAAisB,kBAAA,CAAKntB,IAAA,EAAK;IACpD;EAAA;IAAA7U,GAAA;IAAAmoB,KAAA,EAEA,SAAAo8B,YAAA,EAAc;MACZ,IAAMh4B,KAAA,GAAQlnB,SAAA,CAAU5D,MAAM;MAC9B,IAAI,CAAC2iD,KAAK,CAAC,CAAC,mBAAmB,IAAI,CAACnH,UAAU,GAAGzlC,IAAI,CAAC/V,MAAM,GAAG8qB,KAAA,EAAOA,KAAA,CAAM;IAC9E;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAEA,SAAAq8B,WAAA,EAAa;MACX,IAAI,CAACJ,KAAK,CAAC,CAAC,mBAAmB,IAAI,CAACtK,WAAW,CAACtiC,IAAI,CAAC/V,MAAM,GAAG,GAAG,EAAE;IACrE;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAEA,SAAAs8B,aAAA,EAAe;MACb,IAAI,CAACL,KAAK,CAAC,CAAC,mBAAmB,GAAG,EAAE;IACtC;EAAA;IAAApkD,GAAA;IAAAmoB,KAAA,EAEA,SAAAu8B,cAAcpwC,KAAK,EAAEiY,KAAK,EAAE;MAC1B,IAAIA,KAAO;QACT,IAAI,CAAC63B,KAAK,CAAC,CAAC,mBAAmB9vC,KAAA,EAAOiY,KAAA,CAAM;;MAE9C,IAAMo4B,QAAA,GAAWt/C,SAAU,CAAA5D,MAAM,GAAG;MACpC,IAAIkjD,QAAU;QACZ,IAAI,CAACP,KAAK,CAAC,CAAC,mBAAmB9vC,KAAA,EAAOqwC,QAAA,CAAS;;IAEnD;EAAA;IAAA3kD,GAAA;IAAAmoB,KAAA,EAEA,SAAAy8B,eAAA,EAAiB;MACf,IAAI,CAACR,KAAK,CAAC,CAAC,mBAAmB,GAAG/+C,SAAA,CAAU5D,MAAM,CAAC;IACrD;EAAA;EAAA,OAAAi6C,iBAAA;AAAA;AAAAkE,eAAA,CAx0BmBlE,iBAAA,cAKD,EAAG;AAAAkE,eAAA,CALFlE,iBAAA,wBAUS,IAAI;AAAAkE,eAAA,CAVblE,iBAAA,qBAeM,IAAI;ACxO/B,SAASmJ,iBAAkBA,CAAAnjD,KAAK,EAAE8H,IAAI,EAAE;EACtC,IAAI,CAAC9H,KAAA,CAAMojD,MAAM,CAACC,IAAI,EAAE;IACtB,IAAMC,YAAA,GAAetjD,KAAM,CAAA+3C,uBAAuB,CAACjwC,IAAA;IACnD,IAAIwS,MAAA,GAAS,EAAE;IAEf,KAAK,IAAIxa,CAAA,GAAI,CAAG,EAAAi2C,IAAA,GAAOuN,YAAA,CAAavjD,MAAM,EAAED,CAAI,GAAAi2C,IAAA,EAAMj2C,CAAK;MACzDwa,MAAS,GAAAA,MAAA,CAAOjG,MAAM,CAACivC,YAAY,CAACxjD,CAAA,CAAE,CAACo4C,UAAU,CAACkH,kBAAkB,CAACp/C,KAAA;IACvE;IACAA,KAAM,CAAAojD,MAAM,CAACC,IAAI,GAAGE,6DAAA,CAAajpC,MAAO,CAAAF,IAAI,CAAC,UAACI,CAAG,EAAAC,CAAA;MAAA,OAAMD,CAAI,GAAAC,CAAA;IAAA;;EAE7D,OAAOza,KAAA,CAAMojD,MAAM,CAACC,IAAI;AAC1B;AAMA,SAASG,oBAAqBA,CAAA/M,IAAI,EAAE;EAClC,IAAMz2C,KAAA,GAAQy2C,IAAA,CAAK6B,MAAM;EACzB,IAAMh+B,MAAS,GAAA6oC,iBAAA,CAAkBnjD,KAAO,EAAAy2C,IAAA,CAAK3uC,IAAI;EACjD,IAAI1F,GAAA,GAAMpC,KAAA,CAAMyjD,OAAO;EACvB,IAAI3jD,CAAA,EAAGi2C,IAAA,EAAM2N,IAAM,EAAAxmB,IAAA;EACnB,IAAMymB,gBAAA,GAAmB,SAAnBA,iBAAA,EAAyB;IAC7B,IAAID,IAAS,cAASA,IAAS,MAAC,KAAO;MAErC;;IAEF,IAAIpD,6DAAA,CAAQpjB,IAAO;MAEjB96B,GAAM,GAAAK,IAAA,CAAKL,GAAG,CAACA,GAAA,EAAKK,IAAA,CAAKgD,GAAG,CAACi+C,IAAA,GAAOxmB,IAAS,KAAA96B,GAAA;;IAE/C86B,IAAO,GAAAwmB,IAAA;EACT;EAEA,KAAK5jD,CAAA,GAAI,GAAGi2C,IAAO,GAAAz7B,MAAA,CAAOva,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAC/C4jD,IAAA,GAAO1jD,KAAM,CAAA0G,gBAAgB,CAAC4T,MAAM,CAACxa,CAAE;IACvC6jD,gBAAA;EACF;EAEAzmB,IAAO,GAAAr+B,SAAA;EACP,KAAKiB,CAAA,GAAI,CAAG,EAAAi2C,IAAA,GAAO/1C,KAAM,CAAAquB,KAAK,CAACtuB,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IACpD4jD,IAAO,GAAA1jD,KAAA,CAAM4jD,eAAe,CAAC9jD,CAAA;IAC7B6jD,gBAAA;EACF;EAEA,OAAOvhD,GAAA;AACT;AAQA,SAASyhD,yBAAyBjsC,KAAK,EAAEksC,KAAK,EAAExjD,OAAO,EAAEyjD,UAAU,EAAE;EACnE,IAAMC,SAAA,GAAY1jD,OAAA,CAAQ2jD,YAAY;EACtC,IAAIp1B,IAAM,EAAAqf,KAAA;EAEV,IAAIgW,6DAAA,CAAcF,SAAY;IAC5Bn1B,IAAA,GAAOi1B,KAAM,CAAA1hD,GAAG,GAAG9B,OAAA,CAAQ6jD,kBAAkB;IAC7CjW,KAAA,GAAQ5tC,OAAA,CAAQ8jD,aAAa;GACxB;IAILv1B,IAAA,GAAOm1B,SAAY,GAAAD,UAAA;IACnB7V,KAAQ;;EAGV,OAAO;IACLmW,KAAA,EAAOx1B,IAAO,GAAAk1B,UAAA;IACd7V,KAAA,EAAAA,KAAA;IACAt7B,KAAA,EAAOkxC,KAAM,CAAAQ,MAAM,CAAC1sC,KAAA,CAAM,GAAIiX,IAAO;EACvC;AACF;AAQA,SAAS01B,0BAA0B3sC,KAAK,EAAEksC,KAAK,EAAExjD,OAAO,EAAEyjD,UAAU,EAAE;EACpE,IAAMO,MAAA,GAASR,KAAA,CAAMQ,MAAM;EAC3B,IAAMZ,IAAA,GAAOY,MAAM,CAAC1sC,KAAM;EAC1B,IAAIslB,IAAA,GAAOtlB,KAAA,GAAQ,CAAI,GAAA0sC,MAAM,CAAC1sC,KAAQ,KAAE,GAAG,IAAI;EAC/C,IAAIyjB,IAAA,GAAOzjB,KAAQ,GAAA0sC,MAAA,CAAOvkD,MAAM,GAAG,CAAI,GAAAukD,MAAM,CAAC1sC,KAAA,GAAQ,CAAE,IAAG,IAAI;EAC/D,IAAM4sC,OAAA,GAAUlkD,OAAA,CAAQ6jD,kBAAkB;EAE1C,IAAIjnB,IAAA,KAAS,IAAI,EAAE;IAGjBA,IAAA,GAAOwmB,IAAQ,IAAAroB,IAAS,SAAI,GAAGyoB,KAAA,CAAM/iC,GAAG,GAAG+iC,KAAM,CAAAlxC,KAAK,GAAGyoB,IAAA,GAAOqoB,IAAI,CAAD;;EAGrE,IAAIroB,IAAA,KAAS,IAAI,EAAE;IAEjBA,IAAA,GAAOqoB,IAAA,GAAOA,IAAO,GAAAxmB,IAAA;;EAGvB,IAAMtqB,KAAA,GAAQ8wC,IAAO,GAAC,CAAAA,IAAA,GAAOjhD,IAAK,CAAAL,GAAG,CAAC86B,IAAA,EAAM7B,IAAI,KAAK,CAAI,GAAAmpB,OAAA;EACzD,IAAM31B,IAAA,GAAOpsB,IAAK,CAAAgD,GAAG,CAAC41B,IAAA,GAAO6B,IAAA,IAAQ,CAAI,GAAAsnB,OAAA;EAEzC,OAAO;IACLH,KAAA,EAAOx1B,IAAO,GAAAk1B,UAAA;IACd7V,KAAA,EAAO5tC,OAAA,CAAQ8jD,aAAa;IAC5BxxC,KAAA,EAAAA;EACF;AACF;AAEA,SAAS6xC,cAAchpB,KAAK,EAAEvnB,IAAI,EAAEyjC,MAAM,EAAE73C,CAAC,EAAE;EAC7C,IAAM4kD,UAAA,GAAa/M,MAAO,CAAAxzC,KAAK,CAACs3B,KAAK,CAAC,EAAE,EAAE37B,CAAA;EAC1C,IAAM6kD,QAAA,GAAWhN,MAAO,CAAAxzC,KAAK,CAACs3B,KAAK,CAAC,EAAE,EAAE37B,CAAA;EACxC,IAAMsC,GAAM,GAAAK,IAAA,CAAKL,GAAG,CAACsiD,UAAY,EAAAC,QAAA;EACjC,IAAMxiD,GAAM,GAAAM,IAAA,CAAKN,GAAG,CAACuiD,UAAY,EAAAC,QAAA;EACjC,IAAIC,QAAW,GAAAxiD,GAAA;EACf,IAAIyiD,MAAS,GAAA1iD,GAAA;EAEb,IAAIM,IAAA,CAAKgD,GAAG,CAACrD,GAAA,IAAOK,IAAK,CAAAgD,GAAG,CAACtD,GAAM;IACjCyiD,QAAW,GAAAziD,GAAA;IACX0iD,MAAS,GAAAziD,GAAA;;EAKX8R,IAAI,CAACyjC,MAAA,CAAO32C,IAAI,CAAC,GAAG6jD,MAAA;EAEpB3wC,IAAA,CAAK4wC,OAAO,GAAG;IACbF,QAAA,EAAAA,QAAA;IACAC,MAAA,EAAAA,MAAA;IACAjyC,KAAO,EAAA8xC,UAAA;IACP3jC,GAAK,EAAA4jC,QAAA;IACLviD,GAAA,EAAAA,GAAA;IACAD,GAAA,EAAAA;EACF;AACF;AAEA,SAAS4iD,WAAWtpB,KAAK,EAAEvnB,IAAI,EAAEyjC,MAAM,EAAE73C,CAAC,EAAE;EAC1C,IAAI+W,6DAAA,CAAQ4kB,KAAQ;IAClBgpB,aAAc,CAAAhpB,KAAA,EAAOvnB,IAAA,EAAMyjC,MAAQ,EAAA73C,CAAA;GAC9B;IACLoU,IAAI,CAACyjC,MAAA,CAAO32C,IAAI,CAAC,GAAG22C,MAAO,CAAAxzC,KAAK,CAACs3B,KAAO,EAAA37B,CAAA;;EAE1C,OAAOoU,IAAA;AACT;AAEA,SAAS8wC,sBAAsBvO,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;EACvD,IAAMytB,MAAA,GAAS7B,IAAA,CAAK6B,MAAM;EAC1B,IAAMX,MAAA,GAASlB,IAAA,CAAKkB,MAAM;EAC1B,IAAM7yC,MAAA,GAASwzC,MAAA,CAAOvzC,SAAS;EAC/B,IAAMi5C,WAAA,GAAc1F,MAAW,KAAAX,MAAA;EAC/B,IAAMQ,MAAA,GAAS,EAAE;EACjB,IAAIr4C,CAAA,EAAGi2C,IAAA,EAAM7hC,IAAM,EAAAunB,KAAA;EAEnB,KAAK37B,CAAA,GAAI8S,KAAA,EAAOmjC,IAAO,GAAAnjC,KAAA,GAAQiY,KAAK,EAAE/qB,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IACnD27B,KAAQ,GAAA3lB,IAAI,CAAChW,CAAE;IACfoU,IAAA,GAAO,EAAC;IACRA,IAAI,CAACokC,MAAA,CAAOt3C,IAAI,CAAC,GAAGg9C,WAAA,IAAe1F,MAAO,CAAAn0C,KAAK,CAACW,MAAM,CAAChF,CAAA,CAAE,EAAEA,CAAA;IAC3Dq4C,MAAA,CAAOh3C,IAAI,CAAC4jD,UAAW,CAAAtpB,KAAA,EAAOvnB,IAAA,EAAMyjC,MAAQ,EAAA73C,CAAA;EAC9C;EACA,OAAOq4C,MAAA;AACT;AAEA,SAAS8M,WAAWC,MAAM,EAAE;EAC1B,OAAOA,MAAA,IAAUA,MAAO,CAAAN,QAAQ,KAAK/lD,SAAa,IAAAqmD,MAAA,CAAOL,MAAM,KAAKhmD,SAAA;AACtE;AAEA,SAASsmD,QAAQt2B,IAAI,EAAE8oB,MAAM,EAAEyN,UAAU,EAAE;EACzC,IAAIv2B,IAAA,KAAS,CAAG;IACd,OAAO9wB,6DAAK,CAAA8wB,IAAA;;EAEd,OAAO,CAAC8oB,MAAA,CAAOp1C,YAAY,EAAK,OAAI,CAAC,MAAMo1C,MAAA,CAAOv1C,GAAG,IAAIgjD,UAAA,GAAa,CAAI,IAAC,CAAC,CAAD;AAC7E;AAEA,SAASC,YAAY/sC,UAAU,EAAE;EAC/B,IAAIykB,OAAA,EAASnqB,KAAO,EAAAmO,GAAA,EAAK9gB,GAAK,EAAAC,MAAA;EAC9B,IAAIoY,UAAA,CAAWgtC,UAAU,EAAE;IACzBvoB,OAAA,GAAUzkB,UAAW,CAAAD,IAAI,GAAGC,UAAA,CAAWtZ,CAAC;IACxC4T,KAAQ;IACRmO,GAAM;GACD;IACLgc,OAAA,GAAUzkB,UAAW,CAAAD,IAAI,GAAGC,UAAA,CAAWrZ,CAAC;IACxC2T,KAAQ;IACRmO,GAAM;;EAER,IAAIgc,OAAS;IACX98B,GAAM;IACNC,MAAS;GACJ;IACLD,GAAM;IACNC,MAAS;;EAEX,OAAO;IAAC0S,KAAA,EAAAA,KAAA;IAAOmO,GAAA,EAAAA,GAAA;IAAKgc,OAAA,EAAAA,OAAA;IAAS98B,GAAA,EAAAA,GAAA;IAAKC,MAAA,EAAAA;EAAM;AAC1C;AAEA,SAASqlD,iBAAiBjtC,UAAU,EAAEhY,OAAO,EAAEgX,KAAK,EAAEM,KAAK,EAAE;EAC3D,IAAI4tC,IAAA,GAAOllD,OAAA,CAAQmlD,aAAa;EAChC,IAAM5R,GAAA,GAAM,EAAC;EAEb,IAAI,CAAC2R,IAAM;IACTltC,UAAA,CAAWmtC,aAAa,GAAG5R,GAAA;IAC3B;;EAGF,IAAI2R,IAAA,KAAS,IAAI,EAAE;IACjBltC,UAAA,CAAWmtC,aAAa,GAAG;MAACxlD,GAAA,EAAK,IAAI;MAAEG,KAAA,EAAO,IAAI;MAAEF,MAAA,EAAQ,IAAI;MAAEC,IAAA,EAAM;IAAI;IAC5E;;EAGF,IAAAulD,YAAA,GAA2CL,WAAY,CAAA/sC,UAAA;IAAhD1F,KAAA,GAAA8yC,YAAA,CAAA9yC,KAAA;IAAOmO,GAAA,GAAA2kC,YAAA,CAAA3kC,GAAA;IAAKgc,OAAA,GAAA2oB,YAAA,CAAA3oB,OAAA;IAAS98B,GAAA,GAAAylD,YAAA,CAAAzlD,GAAA;IAAKC,MAAA,GAAAwlD,YAAA,CAAAxlD,MAAA;EAEjC,IAAIslD,IAAA,KAAS,YAAYluC,KAAO;IAC9BgB,UAAW,CAAAqtC,kBAAkB,GAAG,IAAI;IACpC,IAAI,CAACruC,KAAA,CAAMohC,IAAI,IAAI,OAAO9gC,KAAO;MAC/B4tC,IAAO,GAAAvlD,GAAA;KACF,UAAI,CAACqX,KAAA,CAAMqhC,OAAO,IAAI,OAAO/gC,KAAO;MACzC4tC,IAAO,GAAAtlD,MAAA;KACF;MACL2zC,GAAG,CAAC+R,SAAU,CAAA1lD,MAAA,EAAQ0S,KAAA,EAAOmO,GAAK,EAAAgc,OAAA,EAAS,GAAG,IAAI;MAClDyoB,IAAO,GAAAvlD,GAAA;;;EAIX4zC,GAAG,CAAC+R,SAAU,CAAAJ,IAAA,EAAM5yC,KAAA,EAAOmO,GAAK,EAAAgc,OAAA,EAAS,GAAG,IAAI;EAChDzkB,UAAA,CAAWmtC,aAAa,GAAG5R,GAAA;AAC7B;AAEA,SAAS+R,UAAUJ,IAAI,EAAEhrC,CAAC,EAAEC,CAAC,EAAEsiB,OAAO,EAAE;EACtC,IAAIA,OAAS;IACXyoB,IAAO,GAAAK,IAAA,CAAKL,IAAA,EAAMhrC,CAAG,EAAAC,CAAA;IACrB+qC,IAAO,GAAAM,QAAA,CAASN,IAAA,EAAM/qC,CAAG,EAAAD,CAAA;GACpB;IACLgrC,IAAO,GAAAM,QAAA,CAASN,IAAA,EAAMhrC,CAAG,EAAAC,CAAA;;EAE3B,OAAO+qC,IAAA;AACT;AAEA,SAASK,KAAKE,IAAI,EAAExiD,EAAE,EAAEyiD,EAAE,EAAE;EAC1B,OAAOD,IAAA,KAASxiD,EAAK,GAAAyiD,EAAA,GAAKD,IAAS,KAAAC,EAAA,GAAKziD,EAAA,GAAKwiD,IAAI;AACnD;AAEA,SAASD,SAASphD,CAAC,EAAEkO,KAAK,EAAEmO,GAAG,EAAE;EAC/B,OAAOrc,CAAA,KAAM,OAAU,GAAAkO,KAAA,GAAQlO,CAAM,aAAQqc,GAAA,GAAMrc,CAAC;AACtD;AAEA,SAASuhD,iBAAiB3tC,UAAU,EAAA7Y,IAAA,EAAmByuC,KAAK,EAAE;EAAA,IAAvBgY,aAAA,GAAAzmD,IAAA,CAAAymD,aAAA;EACrC5tC,UAAW,CAAA4tC,aAAa,GAAGA,aAAkB,cACzChY,KAAA,KAAU,CAAI,UAAO,CAAC,GACtBgY,aAAa;AACnB;AAAA,IAEqBC,aAAsB,0BAAAC,kBAAA;EAAAC,SAAA,CAAAF,aAAA,EAAAC,kBAAA;EAAA,IAAAztC,MAAA,GAAA2tC,YAAA,CAAAH,aAAA;EAAA,SAAAA,cAAA;IAAA1X,eAAA,OAAA0X,aAAA;IAAA,OAAAxtC,MAAA,CAAAnB,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAAuX,aAAA;IAAA7nD,GAAA;IAAAmoB,KAAA,EAgDzC,SAAAq3B,mBAAmBrH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MAC3C,OAAOm6B,qBAAA,CAAsBvO,IAAM,EAAA3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;IAClD;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAOA,SAAAm3B,eAAenH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACvC,OAAOm6B,qBAAA,CAAsBvO,IAAM,EAAA3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;IAClD;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAOA,SAAAo3B,gBAAgBpH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACxC,IAAOytB,MAAA,GAAkB7B,IAAA,CAAlB6B,MAAA;QAAQX,MAAA,GAAUlB,IAAA,CAAVkB,MAAA;MACf,IAAA4O,eAAA,GAAyC,IAAI,CAAClM,QAAQ;QAAAmM,qBAAA,GAAAD,eAAA,CAA/ClI,QAAW;QAAXA,QAAW,GAAAmI,qBAAA,oBAAAA,qBAAA;QAAAC,qBAAA,GAAAF,eAAA,CAAKhI,QAAA;QAAAA,QAAA,GAAAkI,qBAAA,cAAW,MAAAA,qBAAA;MAClC,IAAMC,QAAA,GAAWpO,MAAO,CAAAt3C,IAAI,KAAK,MAAMq9C,QAAA,GAAWE,QAAQ;MAC1D,IAAMoI,QAAA,GAAWhP,MAAO,CAAA32C,IAAI,KAAK,MAAMq9C,QAAA,GAAWE,QAAQ;MAC1D,IAAMpG,MAAA,GAAS,EAAE;MACjB,IAAIr4C,CAAA,EAAGi2C,IAAA,EAAM7hC,IAAM,EAAA4C,GAAA;MACnB,KAAKhX,CAAA,GAAI8S,KAAA,EAAOmjC,IAAO,GAAAnjC,KAAA,GAAQiY,KAAK,EAAE/qB,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QACnDgX,GAAM,GAAAhB,IAAI,CAAChW,CAAE;QACboU,IAAA,GAAO,EAAC;QACRA,IAAI,CAACokC,MAAO,CAAAt3C,IAAI,CAAC,GAAGs3C,MAAA,CAAOn0C,KAAK,CAACq6C,6DAAiB,CAAA1nC,GAAA,EAAK4vC,QAAW,GAAA5mD,CAAA;QAClEq4C,MAAA,CAAOh3C,IAAI,CAAC4jD,UAAA,CAAWvG,6DAAA,CAAiB1nC,GAAK,EAAA6vC,QAAA,GAAWzyC,IAAA,EAAMyjC,MAAQ,EAAA73C,CAAA;MACxE;MACA,OAAOq4C,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAKA,SAAAk4B,sBAAsBz8C,KAAK,EAAElC,KAAK,EAAEm4C,MAAM,EAAE7gC,KAAK,EAAE;MACjDsvC,IAAA,CAAAC,eAAA,CAAAV,aAAA,CAAArzC,SAAA,kCAAAE,IAAA,OAA4B9Q,KAAA,EAAOlC,KAAA,EAAOm4C,MAAQ,EAAA7gC,KAAA;MAClD,IAAM4tC,MAAA,GAAS/M,MAAA,CAAO2M,OAAO;MAC7B,IAAII,MAAA,IAAUllD,KAAU,SAAI,CAACo4C,WAAW,CAACT,MAAM,EAAE;QAE/Cz1C,KAAM,CAAAE,GAAG,GAAGK,IAAK,CAAAL,GAAG,CAACF,KAAM,CAAAE,GAAG,EAAE8iD,MAAA,CAAO9iD,GAAG;QAC1CF,KAAM,CAAAC,GAAG,GAAGM,IAAK,CAAAN,GAAG,CAACD,KAAM,CAAAC,GAAG,EAAE+iD,MAAA,CAAO/iD,GAAG;;IAE9C;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAMA,SAAA44B,eAAA,EAAiB;MACf,OAAO;IACT;EAAA;IAAA/gD,GAAA;IAAAmoB,KAAA,EAKA,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM6+B,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAOE,MAAA,GAAkB7B,IAAA,CAAlB6B,MAAA;QAAQX,MAAA,GAAUlB,IAAA,CAAVkB,MAAA;MACf,IAAMQ,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAC9B,IAAMstC,MAAA,GAAS/M,MAAA,CAAO2M,OAAO;MAC7B,IAAMr+B,KAAA,GAAQw+B,UAAA,CAAWC,MACrB,UAAMA,MAAA,CAAOtyC,KAAK,GAAG,OAAOsyC,MAAO,CAAAnkC,GAAG,GAAG,GACzC,QAAK42B,MAAA,CAAO4H,gBAAgB,CAACpH,MAAM,CAACR,MAAA,CAAO32C,IAAI,CAAC,CAAC;MAErD,OAAO;QACL+sB,KAAO,OAAKuqB,MAAA,CAAOiH,gBAAgB,CAACpH,MAAM,CAACG,MAAA,CAAOt3C,IAAI,CAAC;QACvDylB,KAAA,EAAAA;MACF;IACF;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAEA,SAAAw0B,WAAA,EAAa;MACX,IAAI,CAACN,mBAAmB,GAAG,IAAI;MAE/BiM,IAAA,CAAAC,eAAA,CAAAV,aAAA,CAAArzC,SAAA,uBAAAE,IAAA;MAEA,IAAMyjC,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B3B,IAAA,CAAKn/B,KAAK,GAAG,IAAI,CAACikC,UAAU,GAAGjkC,KAAK;IACtC;EAAA;IAAAhZ,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAM+3C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAI,CAACoK,cAAc,CAAC/L,IAAK,CAAA3gC,IAAI,EAAE,GAAG2gC,IAAK,CAAA3gC,IAAI,CAAC/V,MAAM,EAAErB,IAAA;IACtD;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAesE,IAAI,EAAEl0C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACvC,IAAMyqB,KAAA,GAAQzqB,IAAS;MACvB,IAAOkZ,KAAK,GAA2B,IAAI,CAApCA,KAAK;QAAgB+/B,MAAA,GAAW,IAAI,CAA7BS,WAAa,CAACT,MAAA;MAC5B,IAAMt/B,IAAA,GAAOs/B,MAAA,CAAOoP,YAAY;MAChC,IAAMzB,UAAA,GAAa3N,MAAA,CAAOp1C,YAAY;MACtC,IAAMuhD,KAAA,GAAQ,IAAI,CAACkD,SAAS;MAC5B,IAAAC,qBAAA,GAAwC,IAAI,CAAC/F,iBAAiB,CAACtuC,KAAO,EAAAlU,IAAA;QAA/DsiD,aAAa,GAAAiG,qBAAA,CAAbjG,aAAa;QAAED,cAAc,GAAAkG,qBAAA,CAAdlG,cAAc;MAEpC,KAAK,IAAIjhD,CAAI,GAAA8S,KAAA,EAAO9S,CAAI,GAAA8S,KAAA,GAAQiY,KAAA,EAAO/qB,CAAK;QAC1C,IAAMq4C,MAAS,OAAI,CAACsG,SAAS,CAAC3+C,CAAA;QAC9B,IAAMonD,OAAA,GAAU/9B,KAAA,IAAS+6B,6DAAc,CAAA/L,MAAM,CAACR,MAAO,CAAA32C,IAAI,CAAC,CAAI;UAACqX,IAAA,EAAAA,IAAA;UAAM8uC,IAAM,EAAA9uC;QAAI,IAAI,IAAI,CAAC+uC,wBAAwB,CAACtnD,CAAE;QACnH,IAAMunD,OAAU,OAAI,CAACC,wBAAwB,CAACxnD,CAAG,EAAAgkD,KAAA;QACjD,IAAMxsC,KAAQ,GAAC,CAAA6gC,MAAA,CAAOE,OAAO,IAAI,EAAC,EAAGV,MAAO,CAAA32C,IAAI,CAAC;QAEjD,IAAMsX,UAAa;UACjBgtC,UAAA,EAAAA,UAAA;UACAjtC,IAAA,EAAM6uC,OAAA,CAAQ7uC,IAAI;UAClBstC,kBAAA,EAAoB,CAACruC,KAAA,IAAS2tC,UAAW,CAAA9M,MAAA,CAAO2M,OAAO,KAAMltC,KAAU,KAAAN,KAAA,CAAMohC,IAAI,IAAI9gC,KAAU,KAAAN,KAAA,CAAMqhC,OAAO;UAC5G35C,CAAA,EAAGsmD,UAAa,GAAA4B,OAAA,CAAQC,IAAI,GAAGE,OAAA,CAAQplD,MAAM;UAC7ChD,CAAA,EAAGqmD,UAAa,GAAA+B,OAAA,CAAQplD,MAAM,GAAGilD,OAAA,CAAQC,IAAI;UAC7C/hD,MAAQ,EAAAkgD,UAAA,GAAa+B,OAAA,CAAQx4B,IAAI,GAAGpsB,IAAA,CAAKgD,GAAG,CAACyhD,OAAQ,CAAAr4B,IAAI,CAAC;UAC1D1pB,KAAO,EAAAmgD,UAAA,GAAa7iD,IAAA,CAAKgD,GAAG,CAACyhD,OAAA,CAAQr4B,IAAI,IAAIw4B,OAAA,CAAQx4B;QACvD;QAEA,IAAIkyB,cAAgB;UAClBzoC,UAAA,CAAWhY,OAAO,GAAG0gD,aAAiB,QAAI,CAACjB,yBAAyB,CAACjgD,CAAG,EAAAgnD,IAAI,CAAChnD,CAAE,EAAC0zC,MAAM,GAAG,WAAW90C,IAAI;;QAE1G,IAAM4B,OAAA,GAAUgY,UAAA,CAAWhY,OAAO,IAAIwmD,IAAI,CAAChnD,CAAA,CAAE,CAACQ,OAAO;QACrDilD,gBAAiB,CAAAjtC,UAAA,EAAYhY,OAAA,EAASgX,KAAO,EAAAM,KAAA;QAC7CquC,gBAAiB,CAAA3tC,UAAA,EAAYhY,OAAS,EAAAwjD,KAAA,CAAM5V,KAAK;QACjD,IAAI,CAACoT,aAAa,CAACwF,IAAI,CAAChnD,CAAE,GAAEA,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;MAC7C;IACF;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EASA,SAAA8gC,WAAWlnC,IAAI,EAAE8O,SAAS,EAAE;MAC1B,IAAOmpB,MAAM,GAAI,IAAI,CAACF,WAAW,CAA1BE,MAAM;MACb,IAAMzC,QAAA,GAAWyC,MAAO,CAAAP,uBAAuB,CAAC,IAAI,CAACqC,KAAK,EACvD91B,MAAM,CAAC,UAAAmyB,IAAQ;QAAA,OAAAA,IAAA,CAAKyB,UAAU,CAAC53C,OAAO,CAACknD,OAAO;MAAA;MACjD,IAAM9Q,OAAU,GAAA4B,MAAA,CAAOh4C,OAAO,CAACo2C,OAAO;MACtC,IAAMY,MAAA,GAAS,EAAE;MAEjB,IAAMmQ,QAAA,GAAW,SAAXA,SAAYhR,IAAS;QACzB,IAAM0B,MAAS,GAAA1B,IAAA,CAAKyB,UAAU,CAACuG,SAAS,CAACtvB,SAAA;QACzC,IAAMrW,GAAA,GAAMq/B,MAAA,IAAUA,MAAM,CAAC1B,IAAA,CAAKkB,MAAM,CAAC32C,IAAI,CAAC;QAE9C,IAAIkjD,6DAAA,CAAcprC,GAAQ,KAAAnU,KAAA,CAAMmU,GAAM;UACpC,OAAO,IAAI;;MAEf;MAAA,IAAA4uC,UAAA,GAAA5P,0BAAA,CAEmBjC,QAAU;QAAA8R,MAAA;MAAA;QAA7B,KAAAD,UAAA,CAAAtmB,CAAA,MAAAumB,MAAA,GAAAD,UAAA,CAAArmB,CAAA,IAAApG,IAAA,GAA6B;UAAA,IAAlBwb,IAAA,GAAAkR,MAAA,CAAAlhC,KAAA;UACT,IAAI0I,SAAA,KAActwB,SAAa,IAAA4oD,QAAA,CAAShR,IAAO;YAC7C;;UAQF,IAAIC,OAAA,KAAY,KAAK,IAAIY,MAAO,CAAAx4C,OAAO,CAAC23C,IAAK,CAAAn/B,KAAK,CAAM,MAAC,KAC1Do/B,OAAY,KAAA73C,SAAA,IAAa43C,IAAK,CAAAn/B,KAAK,KAAKzY,SAAY;YACjDy4C,MAAO,CAAAn2C,IAAI,CAACs1C,IAAA,CAAKn/B,KAAK;;UAExB,IAAIm/B,IAAA,CAAK7+B,KAAK,KAAKyI,IAAM;YACvB;;QAEJ;MAAA,SAAAmY,GAAA;QAAAkvB,UAAA,CAAA73C,CAAA,CAAA2oB,GAAA;MAAA;QAAAkvB,UAAA,CAAAtnB,CAAA;MAAA;MAKA,IAAI,CAACkX,MAAO,CAAAv3C,MAAM,EAAE;QAClBu3C,MAAA,CAAOn2C,IAAI,CAACtC,SAAA;;MAGd,OAAOy4C,MAAA;IACT;EAAA;IAAAh5C,GAAA;IAAAmoB,KAAA,EAMA,SAAAmhC,eAAehwC,KAAK,EAAE;MACpB,OAAO,IAAI,CAAC2vC,UAAU,CAAC1oD,SAAA,EAAW+Y,KAAA,EAAO7X,MAAM;IACjD;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAUA,SAAAohC,eAAe1R,YAAY,EAAE1nC,IAAI,EAAE0gB,SAAS,EAAE;MAC5C,IAAMmoB,MAAS,OAAI,CAACiQ,UAAU,CAACpR,YAAc,EAAAhnB,SAAA;MAC7C,IAAMvX,KAAA,GAAQnJ,IAAC,KAAS5P,SACpB,GAAAy4C,MAAA,CAAOx4C,OAAO,CAAC2P,IACf,KAAC,CAAC;MAEN,OAAQmJ,KAAA,KAAU,CAAC,IACf0/B,MAAA,CAAOv3C,MAAM,GAAG,IAChB6X,KAAK;IACX;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAKA,SAAAugC,UAAA,EAAY;MACV,IAAM9oD,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAMm2C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAME,MAAA,GAAS7B,IAAA,CAAK6B,MAAM;MAC1B,IAAMgM,MAAA,GAAS,EAAE;MACjB,IAAIxkD,CAAG,EAAAi2C,IAAA;MAEP,KAAKj2C,CAAA,GAAI,CAAG,EAAAi2C,IAAA,GAAOU,IAAK,CAAA3gC,IAAI,CAAC/V,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAClDwkD,MAAA,CAAOnjD,IAAI,CAACm3C,MAAO,CAAA5xC,gBAAgB,CAAC,IAAI,CAAC+3C,SAAS,CAAC3+C,CAAE,EAACw4C,MAAO,CAAAt3C,IAAI,CAAC,EAAElB,CAAA;MACtE;MAEA,IAAMmkD,YAAA,GAAe/lD,IAAA,CAAK+lD,YAAY;MACtC,IAAM7hD,GAAA,GAAM6hD,YAAA,IAAgBT,oBAAqB,CAAA/M,IAAA;MAEjD,OAAO;QACLr0C,GAAA,EAAAA,GAAA;QACAkiD,MAAA,EAAAA,MAAA;QACA1xC,KAAA,EAAO0lC,MAAA,CAAOwP,WAAW;QACzB/mC,GAAA,EAAKu3B,MAAA,CAAOyP,SAAS;QACrBhE,UAAY,MAAI,CAAC6D,cAAc;QAC/B5nD,KAAO,EAAAs4C,MAAA;QACPkP,OAAA,EAAStpD,IAAA,CAAKspD,OAAO;QAErBtZ,KAAA,EAAO+V,YAAA,GAAe,CAAI,GAAA/lD,IAAA,CAAKimD,kBAAkB,GAAGjmD,IAAA,CAAKkmD;MAC3D;IACF;EAAA;IAAA9lD,GAAA;IAAAmoB,KAAA,EAMA,SAAA2gC,yBAAyBxvC,KAAK,EAAE;MAC9B,IAAAowC,iBAAA,GAAyG,IAAI,CAAtG5P,WAAA;QAAcT,MAAA,GAAAqQ,iBAAA,CAAArQ,MAAA;QAAQoC,QAAQ,GAAAiO,iBAAA,CAARjO,QAAQ;QAAS5D,YAAA,GAAA6R,iBAAA,CAAPpwC,KAAO;QAAAqwC,aAAA,GAA2D,IAAI,CAAhD3nD,OAAS;QAAO4nD,SAAS,GAAAD,aAAA,CAAf5vC,IAAA;QAAiB8vC,YAAA,GAAAF,aAAA,CAAAE,YAAA;MACxF,IAAM/C,UAAA,GAAa8C,SAAa;MAChC,IAAM/P,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAC9B,IAAMstC,MAAA,GAAS/M,MAAA,CAAO2M,OAAO;MAC7B,IAAMsD,QAAA,GAAWnD,UAAW,CAAAC,MAAA;MAC5B,IAAIz+B,KAAQ,GAAA0xB,MAAM,CAACR,MAAA,CAAO32C,IAAI,CAAC;MAC/B,IAAI4R,KAAQ;MACZ,IAAI7S,MAAA,GAASg6C,QAAA,GAAW,IAAI,CAAC/D,UAAU,CAAC2B,MAAA,EAAQQ,MAAQ,EAAA4B,QAAA,IAAYtzB,KAAK;MACzE,IAAI0gC,IAAM,EAAAt4B,IAAA;MAEV,IAAI9uB,MAAA,KAAW0mB,KAAO;QACpB7T,KAAA,GAAQ7S,MAAS,GAAA0mB,KAAA;QACjB1mB,MAAS,GAAA0mB,KAAA;;MAGX,IAAI2hC,QAAU;QACZ3hC,KAAA,GAAQy+B,MAAA,CAAON,QAAQ;QACvB7kD,MAAA,GAASmlD,MAAO,CAAAL,MAAM,GAAGK,MAAA,CAAON,QAAQ;QAExC,IAAIn+B,KAAA,KAAU,CAAK,IAAA1oB,6DAAA,CAAK0oB,KAAA,MAAW1oB,6DAAK,CAAAmnD,MAAA,CAAOL,MAAM,CAAG;UACtDjyC,KAAQ;;QAEVA,KAAS,IAAA6T,KAAA;;MAGX,IAAMi+B,UAAA,GAAa,CAACR,6DAAA,CAAcgE,SAAA,KAAc,CAACE,QAAA,GAAWF,SAAA,GAAYt1C,KAAK;MAC7E,IAAIyF,IAAA,GAAOs/B,MAAO,CAAAjxC,gBAAgB,CAACg+C,UAAA;MAEnC,IAAI,IAAI,CAAC9lD,KAAK,CAACypD,iBAAiB,CAACzwC,KAAQ;QACvCuvC,IAAO,GAAAxP,MAAA,CAAOjxC,gBAAgB,CAACkM,KAAQ,GAAA7S,MAAA;OAClC;QAELonD,IAAO,GAAA9uC,IAAA;;MAGTwW,IAAA,GAAOs4B,IAAO,GAAA9uC,IAAA;MAEd,IAAI5V,IAAK,CAAAgD,GAAG,CAACopB,IAAA,IAAQs5B,YAAc;QACjCt5B,IAAO,GAAAs2B,OAAA,CAAQt2B,IAAM,EAAA8oB,MAAA,EAAQyN,UAAc,IAAA+C,YAAA;QAC3C,IAAI1hC,KAAA,KAAU2+B,UAAY;UACxB/sC,IAAA,IAAQwW,IAAO;;QAEjB,IAAMy5B,UAAA,GAAa3Q,MAAO,CAAA4Q,kBAAkB,CAAC;QAC7C,IAAMC,QAAA,GAAW7Q,MAAO,CAAA4Q,kBAAkB,CAAC;QAC3C,IAAMnmD,GAAM,GAAAK,IAAA,CAAKL,GAAG,CAACkmD,UAAY,EAAAE,QAAA;QACjC,IAAMrmD,GAAM,GAAAM,IAAA,CAAKN,GAAG,CAACmmD,UAAY,EAAAE,QAAA;QACjCnwC,IAAA,GAAO5V,IAAA,CAAKN,GAAG,CAACM,IAAA,CAAKL,GAAG,CAACiW,IAAA,EAAMlW,GAAM,GAAAC,GAAA;QACrC+kD,IAAA,GAAO9uC,IAAO,GAAAwW,IAAA;QAEd,IAAIkrB,QAAA,IAAY,CAACqO,QAAU;UAEzBjQ,MAAA,CAAOE,OAAO,CAACV,MAAA,CAAO32C,IAAI,CAAC,CAAC63C,aAAa,CAAC1C,YAAa,IAAGwB,MAAA,CAAOj1C,gBAAgB,CAACykD,IAAQ,IAAAxP,MAAA,CAAOj1C,gBAAgB,CAAC2V,IAAA;;;MAItH,IAAIA,IAAS,KAAAs/B,MAAA,CAAOjxC,gBAAgB,CAAC0+C,UAAa;QAChD,IAAMqD,QAAA,GAAW1qD,6DAAK,CAAA8wB,IAAA,IAAQ8oB,MAAO,CAAA+Q,oBAAoB,CAACtD,UAAc;QACxE/sC,IAAQ,IAAAowC,QAAA;QACR55B,IAAQ,IAAA45B,QAAA;;MAGV,OAAO;QACL55B,IAAA,EAAAA,IAAA;QACAxW,IAAA,EAAAA,IAAA;QACA8uC,IAAA,EAAAA,IAAA;QACAllD,MAAA,EAAQklD,IAAA,GAAOt4B,IAAO;MACxB;IACF;EAAA;IAAAvwB,GAAA;IAAAmoB,KAAA,EAKA,SAAA6gC,yBAAyB1vC,KAAK,EAAEksC,KAAK,EAAE;MACrC,IAAM9jD,KAAA,GAAQ8jD,KAAA,CAAM9jD,KAAK;MACzB,IAAMM,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMmnD,QAAA,GAAWnnD,OAAA,CAAQmnD,QAAQ;MACjC,IAAMkB,eAAkB,GAAA9qD,6DAAA,CAAeyC,OAAQ,CAAAqoD,eAAe,EAAE3kD,QAAA;MAChE,IAAI/B,MAAQ,EAAA4sB,IAAA;MACZ,IAAIi1B,KAAA,CAAM0D,OAAO,EAAE;QACjB,IAAMzD,UAAA,GAAa0D,QAAA,GAAW,IAAI,CAACG,cAAc,CAAChwC,KAAA,IAASksC,KAAA,CAAMC,UAAU;QAC3E,IAAM7hD,KAAQ,GAAA5B,OAAA,CAAQ2jD,YAAY,KAAK,SACnCM,yBAA0B,CAAA3sC,KAAA,EAAOksC,KAAO,EAAAxjD,OAAA,EAASyjD,UACjD,IAAAF,wBAAA,CAAyBjsC,KAAO,EAAAksC,KAAA,EAAOxjD,OAAA,EAASyjD,UAAW;QAE/D,IAAM6E,UAAA,GAAa,IAAI,CAACf,cAAc,CAAC,IAAI,CAACjwC,KAAK,EAAE,IAAI,CAACwgC,WAAW,CAAC9gC,KAAK,EAAEmwC,QAAA,GAAW7vC,KAAA,GAAQ/Y,SAAS;QACvGoD,MAAS,GAAAC,KAAA,CAAM0Q,KAAK,GAAI1Q,KAAA,CAAMmiD,KAAK,GAAGuE,UAAA,GAAe1mD,KAAM,CAAAmiD,KAAK,GAAG;QACnEx1B,IAAO,GAAApsB,IAAA,CAAKL,GAAG,CAACumD,eAAA,EAAiBzmD,KAAA,CAAMmiD,KAAK,GAAGniD,KAAA,CAAMgsC,KAAK;OACrD;QAELjsC,MAAA,GAASjC,KAAM,CAAA0G,gBAAgB,CAAC,IAAI,CAAC+3C,SAAS,CAAC7mC,KAAA,CAAM,CAAC5X,KAAA,CAAMgB,IAAI,CAAC,EAAE4W,KAAA;QACnEiX,IAAO,GAAApsB,IAAA,CAAKL,GAAG,CAACumD,eAAA,EAAiB7E,KAAA,CAAM1hD,GAAG,GAAG0hD,KAAA,CAAM5V,KAAK;;MAG1D,OAAO;QACL71B,IAAA,EAAMpW,MAAA,GAAS4sB,IAAO;QACtBs4B,IAAA,EAAMllD,MAAA,GAAS4sB,IAAO;QACtB5sB,MAAA,EAAAA,MAAA;QACA4sB,IAAA,EAAAA;MACF;IACF;EAAA;IAAAvwB,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAA,EAAO;MACL,IAAMglC,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMT,MAAA,GAASlB,IAAA,CAAKkB,MAAM;MAC1B,IAAMkR,KAAA,GAAQpS,IAAA,CAAK3gC,IAAI;MACvB,IAAMigC,IAAA,GAAO8S,KAAA,CAAM9oD,MAAM;MACzB,IAAID,CAAI;MAER,OAAOA,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QACpB,IAAI,IAAI,CAAC2+C,SAAS,CAAC3+C,CAAA,CAAE,CAAC63C,MAAA,CAAO32C,IAAI,CAAC,KAAK,IAAI,EAAE;UAC3C6nD,KAAK,CAAC/oD,CAAE,EAAC2R,IAAI,CAAC,IAAI,CAACwoC,IAAI;;MAE3B;IACF;EAAA;EAAA,OAAAkM,aAAA;AAAA,EA5YyCnM,iBAAA;AAAAkE,eAAA,CAAtBiI,aAAsB,QAE7B,KAAM;AAAAjI,eAAA,CAFCiI,aAAsB,cAOvB;EAChBpL,kBAAA,EAAoB,KAAK;EACzBC,eAAiB;EAEjBmJ,kBAAoB;EACpBC,aAAe;EACfoD,OAAA,EAAS,IAAI;EAEb1S,UAAY;IACVgU,OAAS;MACPhhD,IAAM;MACNwQ,UAAY,GAAC,KAAK,KAAK,QAAQ,SAAS;IAC1C;EACF;CACA;AAAA4lC,eAAA,CArBiBiI,aAAsB,eA0BtB;EACjBzmD,MAAQ;IACNqpD,OAAS;MACPjhD,IAAM;MACN5D,MAAA,EAAQ,IAAI;MACZ8kD,IAAM;QACJ9kD,MAAA,EAAQ;MACV;IACF;IACA+kD,OAAS;MACPnhD,IAAM;MACNohD,WAAA,EAAa;IACf;EACF;CACA;AAAA,ICtSiBC,gBAAyB,0BAAAC,mBAAA;EAAA/C,SAAA,CAAA8C,gBAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAA/C,YAAA,CAAA6C,gBAAA;EAAA,SAAAA,iBAAA;IAAA1a,eAAA,OAAA0a,gBAAA;IAAA,OAAAE,OAAA,CAAA7xC,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAAua,gBAAA;IAAA7qD,GAAA;IAAAmoB,KAAA,EAiC5C,SAAAw0B,WAAA,EAAa;MACX,IAAI,CAACN,mBAAmB,GAAG,IAAI;MAC/BiM,IAAA,CAAAC,eAAA,CAAAsC,gBAAA,CAAAr2C,SAAA,uBAAAE,IAAA;IACF;EAAA;IAAA1U,GAAA;IAAAmoB,KAAA,EAMA,SAAAq3B,mBAAmBrH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MAC3C,IAAMstB,MAAA,GAAAyO,IAAA,CAAAC,eAAA,CAAAsC,gBAAA,CAAAr2C,SAAA,+BAAAE,IAAA,OAAkCyjC,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;MAC3D,KAAK,IAAI/qB,CAAI,MAAGA,CAAA,GAAIq4C,MAAO,CAAAp4C,MAAM,EAAED,CAAK;QACtCq4C,MAAM,CAACr4C,CAAE,EAACglD,OAAO,GAAG,IAAI,CAAC/E,yBAAyB,CAACjgD,CAAI,GAAA8S,KAAA,EAAO02C,MAAM;MACtE;MACA,OAAOnR,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAMA,SAAAm3B,eAAenH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACvC,IAAMstB,MAAA,GAAAyO,IAAA,CAAAC,eAAA,CAAAsC,gBAAA,CAAAr2C,SAAA,2BAAAE,IAAA,OAA8ByjC,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;MACvD,KAAK,IAAI/qB,CAAI,MAAGA,CAAA,GAAIq4C,MAAO,CAAAp4C,MAAM,EAAED,CAAK;QACtC,IAAMoU,IAAO,GAAA4B,IAAI,CAAClD,KAAA,GAAQ9S,CAAE;QAC5Bq4C,MAAM,CAACr4C,CAAE,EAACglD,OAAO,GAAGjnD,6DAAA,CAAeqW,IAAI,CAAC,CAAE,GAAE,IAAI,CAAC6rC,yBAAyB,CAACjgD,CAAA,GAAI8S,KAAA,EAAO02C,MAAM;MAC9F;MACA,OAAOnR,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAMA,SAAAo3B,gBAAgBpH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACxC,IAAMstB,MAAA,GAAAyO,IAAA,CAAAC,eAAA,CAAAsC,gBAAA,CAAAr2C,SAAA,4BAAAE,IAAA,OAA+ByjC,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;MACxD,KAAK,IAAI/qB,CAAI,MAAGA,CAAA,GAAIq4C,MAAO,CAAAp4C,MAAM,EAAED,CAAK;QACtC,IAAMoU,IAAO,GAAA4B,IAAI,CAAClD,KAAA,GAAQ9S,CAAE;QAC5Bq4C,MAAM,CAACr4C,CAAA,CAAE,CAACglD,OAAO,GAAGjnD,6DAAe,CAAAqW,IAAA,IAAQA,IAAA,CAAKysB,CAAC,IAAI,CAACzsB,IAAK,CAAAysB,CAAC,EAAE,IAAI,CAACof,yBAAyB,CAACjgD,CAAA,GAAI8S,KAAA,EAAO02C,MAAM;MAChH;MACA,OAAOnR,MAAA;IACT;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAKA,SAAA44B,eAAA,EAAiB;MACf,IAAMvpC,IAAO,OAAI,CAACsiC,WAAW,CAACtiC,IAAI;MAElC,IAAI3T,GAAM;MACV,KAAK,IAAIrC,CAAA,GAAIgW,IAAK,CAAA/V,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAK,CAAG,IAAEA,CAAG;QACzCqC,GAAA,GAAMM,IAAK,CAAAN,GAAG,CAACA,GAAA,EAAK2T,IAAI,CAAChW,CAAA,CAAE,CAAC+uB,IAAI,CAAC,IAAI,CAACkxB,yBAAyB,CAACjgD,CAAM;MACxE;MACA,OAAOqC,GAAA,GAAM,CAAK,IAAAA,GAAA;IACpB;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAKA,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM6+B,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMtzC,MAAA,GAAS,IAAI,CAAClG,KAAK,CAACkX,IAAI,CAAChR,MAAM,IAAI,EAAE;MAC3C,IAAOywC,MAAA,GAAkBkB,IAAA,CAAlBlB,MAAA;QAAQC,MAAA,GAAUiB,IAAA,CAAVjB,MAAA;MACf,IAAM2C,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAC9B,IAAM5Y,CAAI,GAAAu2C,MAAA,CAAOgK,gBAAgB,CAACpH,MAAA,CAAOn5C,CAAC;MAC1C,IAAMC,CAAI,GAAAu2C,MAAA,CAAO+J,gBAAgB,CAACpH,MAAA,CAAOl5C,CAAC;MAC1C,IAAM0hC,CAAA,GAAIwX,MAAA,CAAO2M,OAAO;MAExB,OAAO;QACL/2B,KAAO,EAAAjpB,MAAM,CAAC8S,KAAA,CAAM,IAAI;QACxB6O,KAAO,QAAMznB,CAAI,UAAOC,CAAK,IAAA0hC,CAAA,GAAI,IAAO,GAAAA,CAAA,GAAI,EAAC,CAAK;MACpD;IACF;EAAA;IAAAriC,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAM6qD,MAAS,OAAI,CAACnR,WAAW,CAACtiC,IAAI;MAGpC,IAAI,CAAC0sC,cAAc,CAAC+G,MAAA,EAAQ,CAAG,EAAAA,MAAA,CAAOxpD,MAAM,EAAErB,IAAA;IAChD;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAe+G,MAAM,EAAE32C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACzC,IAAMyqB,KAAA,GAAQzqB,IAAS;MACvB,IAAA8qD,kBAAA,GAAyB,IAAI,CAACpR,WAAW;QAAlCE,MAAA,GAAAkR,kBAAA,CAAAlR,MAAA;QAAQX,MAAA,GAAA6R,kBAAA,CAAA7R,MAAA;MACf,IAAA8R,sBAAA,GAAwC,IAAI,CAACvI,iBAAiB,CAACtuC,KAAO,EAAAlU,IAAA;QAA/DsiD,aAAa,GAAAyI,sBAAA,CAAbzI,aAAa;QAAED,cAAc,GAAA0I,sBAAA,CAAd1I,cAAc;MACpC,IAAMxI,KAAA,GAAQD,MAAA,CAAOt3C,IAAI;MACzB,IAAMw3C,KAAA,GAAQb,MAAA,CAAO32C,IAAI;MAEzB,KAAK,IAAIlB,CAAI,GAAA8S,KAAA,EAAO9S,CAAI,GAAA8S,KAAA,GAAQiY,KAAA,EAAO/qB,CAAK;QAC1C,IAAMS,KAAA,GAAQgpD,MAAM,CAACzpD,CAAE;QACvB,IAAMq4C,MAAA,GAAS,CAAChvB,KAAA,IAAS,IAAI,CAACs1B,SAAS,CAAC3+C,CAAA;QACxC,IAAMwY,UAAA,GAAa,EAAC;QACpB,IAAMoxC,MAAA,GAASpxC,UAAU,CAACigC,KAAM,IAAGpvB,KAAA,GAAQmvB,MAAO,CAAAiQ,kBAAkB,CAAC,OAAOjQ,MAAA,CAAO5xC,gBAAgB,CAACyxC,MAAM,CAACI,KAAA,CAAM,CAAC;QAClH,IAAMoR,MAAS,GAAArxC,UAAU,CAACkgC,KAAA,CAAM,GAAGrvB,KAAQ,GAAAwuB,MAAA,CAAOoP,YAAY,KAAKpP,MAAA,CAAOjxC,gBAAgB,CAACyxC,MAAM,CAACK,KAAA,CAAM,CAAC;QAEzGlgC,UAAA,CAAWsxC,IAAI,GAAGjlD,KAAM,CAAA+kD,MAAA,KAAW/kD,KAAM,CAAAglD,MAAA;QAEzC,IAAI5I,cAAgB;UAClBzoC,UAAA,CAAWhY,OAAO,GAAG0gD,aAAiB,QAAI,CAACjB,yBAAyB,CAACjgD,CAAA,EAAGS,KAAM,CAAAizC,MAAM,GAAG,WAAW90C,IAAI;UAEtG,IAAIyqB,KAAO;YACT7Q,UAAW,CAAAhY,OAAO,CAACgpD,MAAM,GAAG;;;QAIhC,IAAI,CAAChI,aAAa,CAAC/gD,KAAA,EAAOT,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;MAC3C;IACF;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAOA,SAAAs5B,0BAA0BnoC,KAAK,EAAElZ,IAAI,EAAE;MACrC,IAAMy5C,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAC9B,IAAI0C,MAAS,GAAAssC,IAAA,CAAAC,eAAA,CAAAsC,gBAAA,CAAAr2C,SAAA,sCAAAE,IAAA,OAAgC4E,KAAO,EAAAlZ,IAAA;MAGpD,IAAI4b,MAAA,CAAO06B,OAAO,EAAE;QAClB16B,MAAA,GAAS1a,MAAO,CAAA6X,MAAM,CAAC,IAAI6C,MAAQ;UAAC06B,OAAA,EAAS;QAAK;;MAIpD,IAAMsU,MAAA,GAAShvC,MAAA,CAAOgvC,MAAM;MAC5B,IAAI5qD,IAAA,KAAS,QAAU;QACrB4b,MAAA,CAAOgvC,MAAM,GAAG;;MAElBhvC,MAAA,CAAOgvC,MAAM,IAAIzrD,6DAAA,CAAes6C,MAAU,IAAAA,MAAA,CAAO2M,OAAO,EAAEwE,MAAA;MAE1D,OAAOhvC,MAAA;IACT;EAAA;EAAA,OAAA6uC,gBAAA;AAAA,EApK4CnP,iBAAA;AAAAkE,eAAA,CAAzBiL,gBAAyB,QAEhC,QAAS;AAAAjL,eAAA,CAFFiL,gBAAyB,cAO1B;EAChBpO,kBAAA,EAAoB,KAAK;EACzBC,eAAiB;EAEjBlG,UAAY;IACVgU,OAAS;MACPhhD,IAAM;MACNwQ,UAAY,GAAC,KAAK,KAAK,eAAe;IACxC;EACF;CACA;AAAA4lC,eAAA,CAjBiBiL,gBAAyB,eAsBzB;EACjBzpD,MAAQ;IACNV,CAAG;MACD8I,IAAM;IACR;IACA7I,CAAG;MACD6I,IAAM;IACR;EACF;CACA;ACzBJ,SAAS+hD,iBAAkBA,CAAA9pC,QAAQ,EAAE+pC,aAAa,EAAEC,MAAM,EAAE;EAC1D,IAAIC,MAAS;EACb,IAAIC,MAAS;EACb,IAAIC,OAAU;EACd,IAAIC,OAAU;EAEd,IAAIL,aAAA,GAAgBM,yDAAK;IACvB,IAAMC,UAAa,GAAAtqC,QAAA;IACnB,IAAMuqC,QAAA,GAAWD,UAAa,GAAAP,aAAA;IAC9B,IAAMS,MAAA,GAAS9nD,IAAK,CAAA+nD,GAAG,CAACH,UAAA;IACxB,IAAMI,MAAA,GAAShoD,IAAK,CAAAqyB,GAAG,CAACu1B,UAAA;IACxB,IAAMK,IAAA,GAAOjoD,IAAK,CAAA+nD,GAAG,CAACF,QAAA;IACtB,IAAMK,IAAA,GAAOloD,IAAK,CAAAqyB,GAAG,CAACw1B,QAAA;IACtB,IAAMM,OAAA,GAAU,SAAVA,QAAWxrC,KAAO,EAAA5E,CAAA,EAAGC,CAAA;MAAA,OAAMowC,6DAAc,CAAAzrC,KAAA,EAAOirC,UAAA,EAAYC,QAAU,MAAI,IAAI,CAAI,GAAA7nD,IAAA,CAAKN,GAAG,CAACqY,CAAA,EAAGA,CAAA,GAAIuvC,MAAQ,EAAAtvC,CAAA,EAAGA,CAAA,GAAIsvC,MAAO;IAAA;IAC9H,IAAMe,OAAA,GAAU,SAAVA,QAAW1rC,KAAO,EAAA5E,CAAA,EAAGC,CAAA;MAAA,OAAMowC,6DAAc,CAAAzrC,KAAA,EAAOirC,UAAA,EAAYC,QAAU,MAAI,IAAI,CAAC,IAAI7nD,IAAA,CAAKL,GAAG,CAACoY,CAAA,EAAGA,CAAI,GAAAuvC,MAAA,EAAQtvC,CAAG,EAAAA,CAAA,GAAIsvC,MAAO;IAAA;IAC/H,IAAMgB,IAAA,GAAOH,OAAQ,IAAGL,MAAQ,EAAAG,IAAA;IAChC,IAAMM,IAAA,GAAOJ,OAAQ,CAAAK,yDAAA,EAASR,MAAQ,EAAAE,IAAA;IACtC,IAAMO,IAAA,GAAOJ,OAAQ,CAAAhqC,yDAAA,EAAIypC,MAAQ,EAAAG,IAAA;IACjC,IAAMS,IAAO,GAAAL,OAAA,CAAQhqC,yDAAK,GAAAmqC,yDAAA,EAASR,MAAQ,EAAAE,IAAA;IAC3CX,MAAA,GAAS,CAACe,IAAO,GAAAG,IAAG,IAAK;IACzBjB,MAAA,GAAS,CAACe,IAAO,GAAAG,IAAG,IAAK;IACzBjB,OAAA,GAAU,EAAEa,IAAO,GAAAG,IAAG,CAAK;IAC3Bf,OAAA,GAAU,EAAEa,IAAO,GAAAG,IAAG,CAAK;;EAE7B,OAAO;IAACnB,MAAA,EAAAA,MAAA;IAAQC,MAAA,EAAAA,MAAA;IAAQC,OAAA,EAAAA,OAAA;IAASC,OAAA,EAAAA;EAAO;AAC1C;AAAA,IAEqBiB,kBAA2B,0BAAAC,mBAAA;EAAAhF,SAAA,CAAA+E,kBAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAAhF,YAAA,CAAA8E,kBAAA;EA0F9C,SAAAA,mBAAYxsD,KAAK,EAAEu3C,YAAY,EAAE;IAAA,IAAAoV,MAAA;IAAA9c,eAAA,OAAA2c,kBAAA;IAC/BG,MAAA,GAAAD,OAAA,CAAAt4C,IAAA,OAAMpU,KAAO,EAAAu3C,YAAA;IAEboV,MAAA,CAAK5Q,mBAAmB,GAAG,IAAI;IAC/B4Q,MAAA,CAAKC,WAAW,GAAG3sD,SAAA;IACnB0sD,MAAA,CAAKE,WAAW,GAAG5sD,SAAA;IACnB0sD,MAAA,CAAKrB,OAAO,GAAGrrD,SAAA;IACf0sD,MAAA,CAAKpB,OAAO,GAAGtrD,SAAA;IAAA,OAAA0sD,MAAA;EACjB;EAAA3c,YAAA,CAAAwc,kBAAA;IAAA9sD,GAAA;IAAAmoB,KAAA,EAEA,SAAAy0B,WAAA,EAAa;EAAC;IAAA58C,GAAA;IAAAmoB,KAAA,EAKd,SAAAtiB,MAAMyO,KAAK,EAAEiY,KAAK,EAAE;MAClB,IAAM/U,IAAO,OAAI,CAACylC,UAAU,GAAGzlC,IAAI;MACnC,IAAM2gC,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAE7B,IAAI,IAAI,CAACiC,QAAQ,KAAK,KAAK,EAAE;QAC3B5D,IAAA,CAAK4C,OAAO,GAAGvjC,IAAA;OACV;QACL,IAAI41C,MAAA,GAAS,SAAAA,OAAC5rD,CAAA;UAAA,OAAM,CAACgW,IAAI,CAAChW,CAAE;QAAA;QAE5B,IAAIs0C,6DAAS,CAAAt+B,IAAI,CAAClD,KAAA,CAAM,CAAG;UACzB,IAAA+4C,kBAAA,GAAwB,IAAI,CAACtR,QAAQ,CAA9B/7C,GAAM;YAANA,GAAM,GAAAqtD,kBAAA,wBAAAA,kBAAA;UACbD,MAAA,GAAS,SAAAA,OAAC5rD,CAAM;YAAA,QAAC0+C,6DAAA,CAAiB1oC,IAAI,CAAChW,CAAA,CAAE,EAAExB,GAAA;UAAA;;QAG7C,IAAIwB,CAAG,EAAAi2C,IAAA;QACP,KAAKj2C,CAAA,GAAI8S,KAAA,EAAOmjC,IAAO,GAAAnjC,KAAA,GAAQiY,KAAK,EAAE/qB,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;UACnD22C,IAAA,CAAK4C,OAAO,CAACv5C,CAAE,IAAG4rD,MAAO,CAAA5rD,CAAA;QAC3B;;IAEJ;EAAA;IAAAxB,GAAA;IAAAmoB,KAAA,EAKA,SAAAmlC,aAAA,EAAe;MACb,OAAOC,6DAAA,CAAU,IAAI,CAACvrD,OAAO,CAACyf,QAAQ,GAAG;IAC3C;EAAA;IAAAzhB,GAAA;IAAAmoB,KAAA,EAKA,SAAAqlC,kBAAA,EAAoB;MAClB,OAAOD,6DAAU,KAAI,CAACvrD,OAAO,CAACwpD,aAAa;IAC7C;EAAA;IAAAxrD,GAAA;IAAAmoB,KAAA,EAMA,SAAAslC,oBAAA,EAAsB;MACpB,IAAI3pD,GAAM,GAAAgoD,yDAAA;MACV,IAAIjoD,GAAA,GAAM,CAACioD,yDAAA;MAEX,KAAK,IAAItqD,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI,IAAI,CAAClB,KAAK,CAACkX,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,EAAE,EAAED,CAAG;QACxD,IAAI,IAAI,CAAClB,KAAK,CAACotD,gBAAgB,CAAClsD,CAAA,KAAM,IAAI,CAAClB,KAAK,CAAC09C,cAAc,CAACx8C,CAAG,EAAAgI,IAAI,KAAK,IAAI,CAACsyC,KAAK,EAAE;UACtF,IAAMlC,UAAA,GAAa,IAAI,CAACt5C,KAAK,CAAC09C,cAAc,CAACx8C,CAAA,EAAGo4C,UAAU;UAC1D,IAAMn4B,QAAA,GAAWm4B,UAAA,CAAW0T,YAAY;UACxC,IAAM9B,aAAA,GAAgB5R,UAAA,CAAW4T,iBAAiB;UAElD1pD,GAAM,GAAAK,IAAA,CAAKL,GAAG,CAACA,GAAK,EAAA2d,QAAA;UACpB5d,GAAA,GAAMM,IAAK,CAAAN,GAAG,CAACA,GAAA,EAAK4d,QAAW,GAAA+pC,aAAA;;MAEnC;MAEA,OAAO;QACL/pC,QAAU,EAAA3d,GAAA;QACV0nD,aAAA,EAAe3nD,GAAM,GAAAC;MACvB;IACF;EAAA;IAAA9D,GAAA;IAAAmoB,KAAA,EAKA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAME,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAOsJ,SAAS,GAAItJ,KAAA,CAAbsJ,SAAS;MAChB,IAAMuuC,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAM6T,IAAA,GAAOxV,IAAA,CAAK3gC,IAAI;MACtB,IAAMo2C,OAAU,OAAI,CAACC,iBAAiB,KAAK,IAAI,CAACC,YAAY,CAACH,IAAQ,QAAI,CAAC3rD,OAAO,CAAC4rD,OAAO;MACzF,IAAMG,OAAA,GAAU5pD,IAAK,CAAAN,GAAG,CAAE,CAAAM,IAAK,CAAAL,GAAG,CAAC8F,SAAA,CAAU/C,KAAK,EAAE+C,SAAA,CAAU9C,MAAM,CAAI,GAAA8mD,OAAM,IAAK,CAAG;MACtF,IAAMnC,MAAA,GAAStnD,IAAK,CAAAL,GAAG,CAACkqD,6DAAA,CAAa,IAAI,CAAChsD,OAAO,CAACypD,MAAM,EAAEsC,OAAU;MACpE,IAAME,WAAA,GAAc,IAAI,CAACC,cAAc,CAAC,IAAI,CAAC50C,KAAK;MAKlD,IAAA60C,qBAAA,GAAkC,IAAI,CAACV,mBAAmB;QAAnDjC,aAAA,GAAA2C,qBAAA,CAAA3C,aAAA;QAAe/pC,QAAA,GAAA0sC,qBAAA,CAAA1sC,QAAA;MACtB,IAAA2sC,kBAAA,GAA2C7C,iBAAkB,CAAA9pC,QAAA,EAAU+pC,aAAe,EAAAC,MAAA;QAA/EC,MAAA,GAAA0C,kBAAA,CAAA1C,MAAA;QAAQC,MAAA,GAAAyC,kBAAA,CAAAzC,MAAA;QAAQC,OAAA,GAAAwC,kBAAA,CAAAxC,OAAA;QAASC,OAAA,GAAAuC,kBAAA,CAAAvC,OAAA;MAChC,IAAMwC,QAAA,GAAW,CAACzkD,SAAA,CAAU/C,KAAK,GAAG+mD,OAAM,IAAKlC,MAAA;MAC/C,IAAM4C,SAAA,GAAY,CAAC1kD,SAAA,CAAU9C,MAAM,GAAG8mD,OAAM,IAAKjC,MAAA;MACjD,IAAM4C,SAAA,GAAYpqD,IAAA,CAAKN,GAAG,CAACM,IAAA,CAAKL,GAAG,CAACuqD,QAAU,EAAAC,SAAA,IAAa,CAAG;MAC9D,IAAMnB,WAAA,GAAcqB,6DAAY,KAAI,CAACxsD,OAAO,CAACgpD,MAAM,EAAEuD,SAAA;MACrD,IAAMrB,WAAc,GAAA/oD,IAAA,CAAKN,GAAG,CAACspD,WAAA,GAAc1B,MAAQ;MACnD,IAAMgD,YAAA,GAAe,CAACtB,WAAA,GAAcD,WAAU,IAAK,IAAI,CAACwB,6BAA6B;MACrF,IAAI,CAAC9C,OAAO,GAAGA,OAAU,GAAAuB,WAAA;MACzB,IAAI,CAACtB,OAAO,GAAGA,OAAU,GAAAsB,WAAA;MAEzBhV,IAAA,CAAKwW,KAAK,GAAG,IAAI,CAACC,cAAc;MAEhC,IAAI,CAACzB,WAAW,GAAGA,WAAc,GAAAsB,YAAA,GAAe,IAAI,CAACI,oBAAoB,CAAC,IAAI,CAACv1C,KAAK;MACpF,IAAI,CAAC4zC,WAAW,GAAG/oD,IAAK,CAAAN,GAAG,CAAC,IAAI,CAACspD,WAAW,GAAGsB,YAAA,GAAeR,WAAa;MAE3E,IAAI,CAAC/J,cAAc,CAACyJ,IAAA,EAAM,CAAG,EAAAA,IAAA,CAAKlsD,MAAM,EAAErB,IAAA;IAC5C;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAKA,SAAA2mC,eAAettD,CAAC,EAAEqpB,KAAK,EAAE;MACvB,IAAMjrB,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAMm2C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAM0R,aAAA,GAAgB,IAAI,CAACgC,iBAAiB;MAC5C,IAAI3iC,KAAC,IAASjrB,IAAK,CAAAo2C,SAAS,CAAC+Y,aAAa,IAAK,CAAC,IAAI,CAACzuD,KAAK,CAACypD,iBAAiB,CAACvoD,CAAM,KAAA22C,IAAA,CAAK4C,OAAO,CAACv5C,CAAE,MAAK,IAAI,IAAI22C,IAAK,CAAA3gC,IAAI,CAAChW,CAAA,CAAE,CAACg6C,MAAM,EAAE;QAClI,OAAO;;MAET,OAAO,IAAI,CAACwT,sBAAsB,CAAC7W,IAAA,CAAK4C,OAAO,CAACv5C,CAAE,IAAGgqD,aAAgB,GAAAM,yDAAA;IACvE;EAAA;IAAA9rD,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAeyJ,IAAI,EAAEr5C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACvC,IAAMyqB,KAAA,GAAQzqB,IAAS;MACvB,IAAME,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMsJ,SAAA,GAAYtJ,KAAA,CAAMsJ,SAAS;MACjC,IAAMhK,IAAA,GAAOU,KAAA,CAAM0B,OAAO;MAC1B,IAAMitD,aAAA,GAAgBrvD,IAAA,CAAKo2C,SAAS;MACpC,IAAMkZ,OAAA,GAAU,CAACtlD,SAAA,CAAU/H,IAAI,GAAG+H,SAAA,CAAU9H,KAAI,IAAK;MACrD,IAAMqtD,OAAA,GAAU,CAACvlD,SAAA,CAAUjI,GAAG,GAAGiI,SAAA,CAAUhI,MAAK,IAAK;MACrD,IAAMwtD,YAAA,GAAevkC,KAAS,IAAAokC,aAAA,CAAcG,YAAY;MACxD,IAAMlC,WAAc,GAAAkC,YAAA,GAAe,CAAI,OAAI,CAAClC,WAAW;MACvD,IAAMC,WAAc,GAAAiC,YAAA,GAAe,CAAI,OAAI,CAACjC,WAAW;MACvD,IAAAkC,sBAAA,GAAwC,IAAI,CAACzM,iBAAiB,CAACtuC,KAAO,EAAAlU,IAAA;QAA/DsiD,aAAa,GAAA2M,sBAAA,CAAb3M,aAAa;QAAED,cAAc,GAAA4M,sBAAA,CAAd5M,cAAc;MACpC,IAAIsJ,UAAA,GAAa,IAAI,CAACuB,YAAY;MAClC,IAAI9rD,CAAA;MAEJ,KAAKA,CAAI,MAAGA,CAAI,GAAA8S,KAAA,EAAO,EAAE9S,CAAG;QAC1BuqD,UAAA,IAAc,IAAI,CAAC+C,cAAc,CAACttD,CAAG,EAAAqpB,KAAA;MACvC;MAEA,KAAKrpB,CAAA,GAAI8S,KAAO,EAAA9S,CAAA,GAAI8S,KAAQ,GAAAiY,KAAA,EAAO,EAAE/qB,CAAG;QACtC,IAAMgqD,aAAgB,OAAI,CAACsD,cAAc,CAACttD,CAAG,EAAAqpB,KAAA;QAC7C,IAAMykC,GAAA,GAAM3B,IAAI,CAACnsD,CAAE;QACnB,IAAMwY,UAAa;UACjBtZ,CAAG,EAAAwuD,OAAA,GAAU,IAAI,CAACtD,OAAO;UACzBjrD,CAAG,EAAAwuD,OAAA,GAAU,IAAI,CAACtD,OAAO;UACzBE,UAAA,EAAAA,UAAA;UACAC,QAAA,EAAUD,UAAa,GAAAP,aAAA;UACvBA,aAAA,EAAAA,aAAA;UACA2B,WAAA,EAAAA,WAAA;UACAD,WAAA,EAAAA;QACF;QACA,IAAIzK,cAAgB;UAClBzoC,UAAA,CAAWhY,OAAO,GAAG0gD,aAAiB,QAAI,CAACjB,yBAAyB,CAACjgD,CAAA,EAAG8tD,GAAI,CAAApa,MAAM,GAAG,WAAW90C,IAAI;;QAEtG2rD,UAAc,IAAAP,aAAA;QAEd,IAAI,CAACxI,aAAa,CAACsM,GAAA,EAAK9tD,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;MACzC;IACF;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAAymC,eAAA,EAAiB;MACf,IAAMzW,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMyV,QAAA,GAAWpX,IAAA,CAAK3gC,IAAI;MAC1B,IAAIm3C,KAAQ;MACZ,IAAIntD,CAAA;MAEJ,KAAKA,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI+tD,QAAS,CAAA9tD,MAAM,EAAED,CAAK;QACpC,IAAM2mB,KAAQ,GAAAgwB,IAAA,CAAK4C,OAAO,CAACv5C,CAAE;QAC7B,IAAI2mB,KAAA,KAAU,IAAI,IAAI,CAAC9hB,KAAM,CAAA8hB,KAAA,KAAU,IAAI,CAAC7nB,KAAK,CAACypD,iBAAiB,CAACvoD,CAAA,KAAM,CAAC+tD,QAAQ,CAAC/tD,CAAE,EAACg6C,MAAM,EAAE;UAC7FmT,KAAS,IAAAxqD,IAAA,CAAKgD,GAAG,CAACghB,KAAA;;MAEtB;MAEA,OAAOwmC,KAAA;IACT;EAAA;IAAA3uD,GAAA;IAAAmoB,KAAA,EAEA,SAAA6mC,uBAAuB7mC,KAAK,EAAE;MAC5B,IAAMwmC,KAAQ,OAAI,CAAC7U,WAAW,CAAC6U,KAAK;MACpC,IAAIA,KAAQ,QAAK,CAACtoD,KAAA,CAAM8hB,KAAQ;QAC9B,OAAO2jC,yDAAA,IAAO3nD,IAAA,CAAKgD,GAAG,CAACghB,KAAA,IAASwmC,KAAI;;MAEtC,OAAO;IACT;EAAA;IAAA3uD,GAAA;IAAAmoB,KAAA,EAEA,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM6+B,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMx5C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMkG,MAAA,GAASlG,KAAM,CAAAkX,IAAI,CAAChR,MAAM,IAAI,EAAE;MACtC,IAAM2hB,KAAA,GAAQqnC,6DAAa,CAAArX,IAAA,CAAK4C,OAAO,CAACzhC,KAAA,CAAM,EAAEhZ,KAAA,CAAM0B,OAAO,CAACytD,MAAM;MAEpE,OAAO;QACLhgC,KAAO,EAAAjpB,MAAM,CAAC8S,KAAA,CAAM,IAAI;QACxB6O,KAAA,EAAAA;MACF;IACF;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAEA,SAAA0lC,kBAAkBF,IAAI,EAAE;MACtB,IAAI9pD,GAAM;MACV,IAAMvD,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAIkB,CAAA,EAAGi2C,IAAM,EAAAU,IAAA,EAAMyB,UAAY,EAAA53C,OAAA;MAE/B,IAAI,CAAC2rD,IAAM;QAET,KAAKnsD,CAAI,MAAGi2C,IAAO,GAAAn3C,KAAA,CAAMkX,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,EAAED,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;UAC5D,IAAIlB,KAAA,CAAMotD,gBAAgB,CAAClsD,CAAI;YAC7B22C,IAAO,GAAA73C,KAAA,CAAM09C,cAAc,CAACx8C,CAAA;YAC5BmsD,IAAA,GAAOxV,IAAA,CAAK3gC,IAAI;YAChBoiC,UAAA,GAAazB,IAAA,CAAKyB,UAAU;YAC5B;;QAEJ;;MAGF,IAAI,CAAC+T,IAAM;QACT,OAAO;;MAGT,KAAKnsD,CAAA,GAAI,GAAGi2C,IAAO,GAAAkW,IAAA,CAAKlsD,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC7CQ,OAAU,GAAA43C,UAAA,CAAW6H,yBAAyB,CAACjgD,CAAA;QAC/C,IAAIQ,OAAA,CAAQ0tD,WAAW,KAAK,OAAS;UACnC7rD,GAAM,GAAAM,IAAA,CAAKN,GAAG,CAACA,GAAK,EAAA7B,OAAA,CAAQ8R,WAAW,IAAI,GAAG9R,OAAQ,CAAA2tD,gBAAgB,IAAI;;MAE9E;MACA,OAAO9rD,GAAA;IACT;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAEA,SAAA2lC,aAAaH,IAAI,EAAE;MACjB,IAAI9pD,GAAM;MAEV,KAAK,IAAIrC,CAAI,MAAGi2C,IAAO,GAAAkW,IAAA,CAAKlsD,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QACjD,IAAMQ,OAAU,OAAI,CAACy/C,yBAAyB,CAACjgD,CAAA;QAC/CqC,GAAM,GAAAM,IAAA,CAAKN,GAAG,CAACA,GAAK,EAAA7B,OAAA,CAAQ4D,MAAM,IAAI,GAAG5D,OAAQ,CAAA4tD,WAAW,IAAI;MAClE;MACA,OAAO/rD,GAAA;IACT;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAMA,SAAA0mC,qBAAqBhX,YAAY,EAAE;MACjC,IAAIgY,gBAAmB;MAEvB,KAAK,IAAIruD,CAAI,MAAGA,CAAI,GAAAq2C,YAAA,EAAc,EAAEr2C,CAAG;QACrC,IAAI,IAAI,CAAClB,KAAK,CAACotD,gBAAgB,CAAClsD,CAAI;UAClCquD,gBAAoB,QAAI,CAAC3B,cAAc,CAAC1sD,CAAA;;MAE5C;MAEA,OAAOquD,gBAAA;IACT;EAAA;IAAA7vD,GAAA;IAAAmoB,KAAA,EAKA,SAAA+lC,eAAerW,YAAY,EAAE;MAC3B,OAAO1zC,IAAA,CAAKN,GAAG,CAACtE,6DAAe,KAAI,CAACe,KAAK,CAACkX,IAAI,CAACgY,QAAQ,CAACqoB,YAAA,CAAa,CAAC5nB,MAAM,EAAE,CAAI;IACpF;EAAA;IAAAjwB,GAAA;IAAAmoB,KAAA,EAMA,SAAAumC,8BAAA,EAAgC;MAC9B,OAAO,IAAI,CAACG,oBAAoB,CAAC,IAAI,CAACvuD,KAAK,CAACkX,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,CAAK;IACvE;EAAA;EAAA,OAAAqrD,kBAAA;AAAA,EAtW8CpR,iBAAA;AAAAkE,eAAA,CAA3BkN,kBAA2B,QAElC,UAAW;AAAAlN,eAAA,CAFJkN,kBAA2B,cAO5B;EAChBrQ,kBAAA,EAAoB,KAAK;EACzBC,eAAiB;EACjB1G,SAAW;IAET+Y,aAAA,EAAe,IAAI;IAEnBK,YAAA,EAAc;EAChB;EACA5Y,UAAY;IACVgU,OAAS;MACPhhD,IAAM;MACNwQ,UAAY,GAAC,iBAAiB,YAAY,eAAe,eAAe,cAAc,KAAK,KAAK,UAAU,eAAe;IAC3H;EACF;EAEAyxC,MAAQ;EAGRhqC,QAAU;EAGV+pC,aAAe;EAGfR,MAAQ;EAGR4C,OAAS;EAETnQ,SAAW;CACX;AAAAmC,eAAA,CAtCiBkN,kBAA2B,iBAwCzB;EACnBgD,WAAa,WAAAA,YAAC3/C,IAAA;IAAA,OAASA,IAAS;EAAA;EAChC4/C,UAAA,EAAY,SAAAA,WAAC5/C,IAAA;IAAA,OAASA,IAAS,kBAAa,CAACA,IAAA,CAAK6/C,UAAU,CAAC,YAAiB,MAAC7/C,IAAK,CAAA6/C,UAAU,CAAC;EAAA;CAC/F;AAAApQ,eAAA,CA3CiBkN,kBAA2B,eAgD3B;EACjBmD,WAAa;EAGb7/B,OAAS;IACPU,MAAQ;MACNtqB,MAAQ;QACN0pD,cAAA,WAAAA,eAAe5vD,KAAK,EAAE;UACpB,IAAMkX,IAAA,GAAOlX,KAAA,CAAMkX,IAAI;UACvB,IAAIA,IAAA,CAAKhR,MAAM,CAAC/E,MAAM,IAAI+V,IAAK,CAAAgY,QAAQ,CAAC/tB,MAAM,EAAE;YAC9C,IAAA0uD,sBAAA,GAAsC7vD,KAAM,CAAAwwB,MAAM,CAAC9uB,OAAO,CAAnDwE,MAAA;cAAS4pD,UAAA,GAAAD,sBAAA,CAAAC,UAAA;cAAY5f,KAAA,GAAA2f,sBAAA,CAAA3f,KAAA;YAE5B,OAAOh5B,IAAA,CAAKhR,MAAM,CAACmP,GAAG,CAAC,UAAC8Z,KAAA,EAAOjuB,CAAM;cACnC,IAAM22C,IAAA,GAAO73C,KAAM,CAAA09C,cAAc,CAAC;cAClC,IAAMx2B,KAAQ,GAAA2wB,IAAA,CAAKyB,UAAU,CAAC2H,QAAQ,CAAC//C,CAAA;cAEvC,OAAO;gBACL4xB,IAAM,EAAA3D,KAAA;gBACN9b,SAAA,EAAW6T,KAAA,CAAM5T,eAAe;gBAChCI,WAAA,EAAawT,KAAA,CAAMvT,WAAW;gBAC9Bo8C,SAAW,EAAA7f,KAAA;gBACXz8B,SAAA,EAAWyT,KAAA,CAAM1T,WAAW;gBAC5Bs8C,UAAY,EAAAA,UAAA;gBACZ5U,MAAQ,GAACl7C,KAAM,CAAAypD,iBAAiB,CAACvoD,CAAA;gBAGjC8X,KAAO,EAAA9X;cACT;YACF;;UAEF,OAAO,EAAE;QACX;MACF;MAEA8uD,OAAA,WAAAA,QAAQ/+C,CAAC,EAAEg/C,UAAU,EAAEz/B,MAAM,EAAE;QAC7BA,MAAA,CAAOxwB,KAAK,CAACkwD,oBAAoB,CAACD,UAAA,CAAWj3C,KAAK;QAClDwX,MAAO,CAAAxwB,KAAK,CAACiK,MAAM;MACrB;IACF;EACF;CACA;AAAA,ICvHiBkmD,cAAuB,0BAAAC,mBAAA;EAAA3I,SAAA,CAAA0I,cAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAA3I,YAAA,CAAAyI,cAAA;EAAA,SAAAA,eAAA;IAAAtgB,eAAA,OAAAsgB,cAAA;IAAA,OAAAE,OAAA,CAAAz3C,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAAmgB,cAAA;IAAAzwD,GAAA;IAAAmoB,KAAA,EA6B1C,SAAAw0B,WAAA,EAAa;MACX,IAAI,CAACN,mBAAmB,GAAG,IAAI;MAC/B,IAAI,CAACC,kBAAkB,GAAG,IAAI;MAC9BgM,IAAA,CAAAC,eAAA,CAAAkI,cAAA,CAAAj8C,SAAA,uBAAAE,IAAA;IACF;EAAA;IAAA1U,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAM+3C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAgB8W,IAAA,GAAqCzY,IAAA,CAA9CvnB,OAAS;QAAAigC,UAAA,GAAqC1Y,IAAA,CAA/B3gC,IAAA;QAAMyzC,MAAS,GAAA4F,UAAA,gBAAE,GAAAA,UAAA;QAAEC,QAAQ,GAAI3Y,IAAA,CAAZ2Y,QAAQ;MAEjD,IAAMC,kBAAqB,OAAI,CAACzwD,KAAK,CAACqiD,mBAAmB;MACzD,IAAAqO,qBAAA,GAAqBC,6DAAA,CAAiC9Y,IAAA,EAAM8S,MAAQ,EAAA8F,kBAAA;QAA/Dz8C,KAAA,GAAA08C,qBAAA,CAAA18C,KAAA;QAAOiY,KAAA,GAAAykC,qBAAA,CAAAzkC,KAAA;MAEZ,IAAI,CAAC4vB,UAAU,GAAG7nC,KAAA;MAClB,IAAI,CAAC8nC,UAAU,GAAG7vB,KAAA;MAElB,IAAI2kC,6DAAA,CAAoB/Y,IAAO;QAC7B7jC,KAAQ;QACRiY,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;;MAIvBmvD,IAAA,CAAKjb,MAAM,GAAG,IAAI,CAACr1C,KAAK;MACxBswD,IAAA,CAAKO,aAAa,GAAG,IAAI,CAAC73C,KAAK;MAC/Bs3C,IAAA,CAAKQ,UAAU,GAAG,CAAC,CAACN,QAAA,CAASM,UAAU;MACvCR,IAAA,CAAK3F,MAAM,GAAGA,MAAA;MAEd,IAAMjpD,OAAU,OAAI,CAACw/C,4BAA4B,CAACphD,IAAA;MAClD,IAAI,CAAC,IAAI,CAAC4B,OAAO,CAACqvD,QAAQ,EAAE;QAC1BrvD,OAAA,CAAQ8R,WAAW,GAAG;;MAExB9R,OAAA,CAAQsvD,OAAO,GAAG,IAAI,CAACtvD,OAAO,CAACsvD,OAAO;MACtC,IAAI,CAACtO,aAAa,CAAC4N,IAAA,EAAMrwD,SAAW;QAClCgxD,QAAA,EAAU,CAACR,kBAAA;QACX/uD,OAAA,EAAAA;OACC,EAAA5B,IAAA;MAGH,IAAI,CAAC8jD,cAAc,CAAC+G,MAAA,EAAQ32C,KAAA,EAAOiY,KAAO,EAAAnsB,IAAA;IAC5C;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAe+G,MAAM,EAAE32C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACzC,IAAMyqB,KAAA,GAAQzqB,IAAS;MACvB,IAAAoxD,kBAAA,GAA6C,IAAI,CAAC1X,WAAW;QAAtDE,MAAA,GAAAwX,kBAAA,CAAAxX,MAAA;QAAQX,MAAA,GAAAmY,kBAAA,CAAAnY,MAAA;QAAQoC,QAAA,GAAA+V,kBAAA,CAAA/V,QAAA;QAAUqV,QAAA,GAAAU,kBAAA,CAAAV,QAAA;MACjC,IAAAW,sBAAA,GAAwC,IAAI,CAAC7O,iBAAiB,CAACtuC,KAAO,EAAAlU,IAAA;QAA/DsiD,aAAa,GAAA+O,sBAAA,CAAb/O,aAAa;QAAED,cAAc,GAAAgP,sBAAA,CAAdhP,cAAc;MACpC,IAAMxI,KAAA,GAAQD,MAAA,CAAOt3C,IAAI;MACzB,IAAMw3C,KAAA,GAAQb,MAAA,CAAO32C,IAAI;MACzB,IAAAgvD,cAAA,GAA4B,IAAI,CAAC1vD,OAAO;QAAjC2vD,QAAA,GAAAD,cAAA,CAAAC,QAAA;QAAUL,OAAA,GAAAI,cAAA,CAAAJ,OAAA;MACjB,IAAMM,YAAe,GAAAC,6DAAA,CAASF,QAAY,IAAAA,QAAA,GAAW/Y,MAAA,CAAOE,iBAAiB;MAC7E,IAAMgZ,YAAA,GAAe,IAAI,CAACxxD,KAAK,CAACqiD,mBAAmB,IAAI93B,KAAA,IAASzqB,IAAS;MACzE,IAAMqiB,GAAA,GAAMnO,KAAQ,GAAAiY,KAAA;MACpB,IAAMwlC,WAAA,GAAc9G,MAAA,CAAOxpD,MAAM;MACjC,IAAIuwD,UAAA,GAAa19C,KAAQ,QAAK,IAAI,CAAC6rC,SAAS,CAAC7rC,KAAQ;MAErD,KAAK,IAAI9S,CAAI,MAAGA,CAAI,GAAAuwD,WAAA,EAAa,EAAEvwD,CAAG;QACpC,IAAMS,KAAA,GAAQgpD,MAAM,CAACzpD,CAAE;QACvB,IAAMwY,UAAa,GAAA83C,YAAA,GAAe7vD,KAAQ,KAAE;QAE5C,IAAIT,CAAA,GAAI8S,KAAS,IAAA9S,CAAA,IAAKihB,GAAK;UACzBzI,UAAW,CAAAsxC,IAAI,GAAG,IAAI;UACtB;;QAGF,IAAMzR,MAAS,OAAI,CAACsG,SAAS,CAAC3+C,CAAA;QAC9B,IAAMywD,QAAW,GAAArM,6DAAA,CAAc/L,MAAM,CAACK,KAAM;QAC5C,IAAMkR,MAAA,GAASpxC,UAAU,CAACigC,KAAM,IAAGD,MAAO,CAAA5xC,gBAAgB,CAACyxC,MAAM,CAACI,KAAA,CAAM,EAAEz4C,CAAA;QAC1E,IAAM6pD,MAAA,GAASrxC,UAAU,CAACkgC,KAAM,IAAGrvB,KAAA,IAASonC,QAAW,GAAA5Y,MAAA,CAAOoP,YAAY,KAAKpP,MAAO,CAAAjxC,gBAAgB,CAACqzC,QAAW,OAAI,CAAC/D,UAAU,CAAC2B,MAAA,EAAQQ,MAAQ,EAAA4B,QAAA,IAAY5B,MAAM,CAACK,KAAM,GAAE14C,CAAE;QAE/KwY,UAAA,CAAWsxC,IAAI,GAAGjlD,KAAM,CAAA+kD,MAAA,KAAW/kD,KAAA,CAAMglD,MAAW,KAAA4G,QAAA;QACpDj4C,UAAA,CAAW5E,IAAI,GAAG5T,CAAI,QAAK2C,IAAM,CAAAgD,GAAG,CAAC0yC,MAAM,CAACI,KAAM,IAAG+X,UAAU,CAAC/X,KAAA,CAAM,CAAK,GAAA2X,YAAA;QAC3E,IAAIN,OAAS;UACXt3C,UAAA,CAAW6/B,MAAM,GAAGA,MAAA;UACpB7/B,UAAA,CAAW6gC,GAAG,GAAGiW,QAAS,CAAAt5C,IAAI,CAAChW,CAAE;;QAGnC,IAAIihD,cAAgB;UAClBzoC,UAAA,CAAWhY,OAAO,GAAG0gD,aAAiB,QAAI,CAACjB,yBAAyB,CAACjgD,CAAA,EAAGS,KAAM,CAAAizC,MAAM,GAAG,WAAW90C,IAAI;;QAGxG,IAAI,CAAC0xD,YAAc;UACjB,IAAI,CAAC9O,aAAa,CAAC/gD,KAAA,EAAOT,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;;QAG3C4xD,UAAa,GAAAnY,MAAA;MACf;IACF;EAAA;IAAA75C,GAAA;IAAAmoB,KAAA,EAKA,SAAA44B,eAAA,EAAiB;MACf,IAAM5I,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMlpB,OAAA,GAAUunB,IAAA,CAAKvnB,OAAO;MAC5B,IAAMshC,MAAA,GAASthC,OAAA,CAAQ5uB,OAAO,IAAI4uB,OAAA,CAAQ5uB,OAAO,CAAC8R,WAAW,IAAI;MACjE,IAAM0D,IAAO,GAAA2gC,IAAA,CAAK3gC,IAAI,IAAI,EAAE;MAC5B,IAAI,CAACA,IAAK,CAAA/V,MAAM,EAAE;QAChB,OAAOywD,MAAA;;MAET,IAAMC,UAAA,GAAa36C,IAAI,CAAC,CAAE,EAAC+Y,IAAI,CAAC,IAAI,CAACkxB,yBAAyB,CAAC;MAC/D,IAAM2Q,SAAA,GAAY56C,IAAI,CAACA,IAAK,CAAA/V,MAAM,GAAG,CAAE,EAAC8uB,IAAI,CAAC,IAAI,CAACkxB,yBAAyB,CAACjqC,IAAA,CAAK/V,MAAM,GAAG;MAC1F,OAAO0C,IAAK,CAAAN,GAAG,CAACquD,MAAA,EAAQC,UAAA,EAAYC,SAAa;IACnD;EAAA;IAAApyD,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAA,EAAO;MACL,IAAMglC,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B3B,IAAA,CAAKvnB,OAAO,CAACyhC,mBAAmB,CAAC,IAAI,CAAC/xD,KAAK,CAACsJ,SAAS,EAAEuuC,IAAK,CAAA6B,MAAM,CAACt3C,IAAI;MACvE4lD,IAAA,CAAAC,eAAA,CAAAkI,cAAA,CAAAj8C,SAAA,iBAAAE,IAAA;IACF;EAAA;EAAA,OAAA+7C,cAAA;AAAA,EAxI0C/U,iBAAA;AAAAkE,eAAA,CAAvB6Q,cAAuB,QAE9B,MAAO;AAAA7Q,eAAA,CAFA6Q,cAAuB,cAOxB;EAChBhU,kBAAoB;EACpBC,eAAiB;EAEjB2U,QAAA,EAAU,IAAI;EACdM,QAAA,EAAU;CACV;AAAA/R,eAAA,CAbiB6Q,cAAuB,eAkBvB;EACjBrvD,MAAQ;IACNqpD,OAAS;MACPjhD,IAAM;IACR;IACAmhD,OAAS;MACPnhD,IAAM;IACR;EACF;CACA;AAAA,IC7BiB8oD,mBAA4B,0BAAAC,mBAAA;EAAAxK,SAAA,CAAAuK,mBAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAAxK,YAAA,CAAAsK,mBAAA;EAoF/C,SAAAA,oBAAYhyD,KAAK,EAAEu3C,YAAY,EAAE;IAAA,IAAA4a,MAAA;IAAAtiB,eAAA,OAAAmiB,mBAAA;IAC/BG,MAAA,GAAAD,OAAA,CAAA99C,IAAA,OAAMpU,KAAO,EAAAu3C,YAAA;IAEb4a,MAAA,CAAKvF,WAAW,GAAG3sD,SAAA;IACnBkyD,MAAA,CAAKtF,WAAW,GAAG5sD,SAAA;IAAA,OAAAkyD,MAAA;EACrB;EAAAniB,YAAA,CAAAgiB,mBAAA;IAAAtyD,GAAA;IAAAmoB,KAAA,EAEA,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM6+B,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMx5C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMkG,MAAA,GAASlG,KAAM,CAAAkX,IAAI,CAAChR,MAAM,IAAI,EAAE;MACtC,IAAM2hB,KAAQ,GAAAqnC,6DAAA,CAAarX,IAAK,CAAA4C,OAAO,CAACzhC,KAAA,CAAM,CAAC+oB,CAAC,EAAE/hC,KAAA,CAAM0B,OAAO,CAACytD,MAAM;MAEtE,OAAO;QACLhgC,KAAO,EAAAjpB,MAAM,CAAC8S,KAAA,CAAM,IAAI;QACxB6O,KAAA,EAAAA;MACF;IACF;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAEA,SAAAo3B,gBAAgBpH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACxC,OAAOmmC,8DAAgC,CAAC,IAAI,CAAE,CAAAva,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;IACnE;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAMutD,IAAO,OAAI,CAAC7T,WAAW,CAACtiC,IAAI;MAElC,IAAI,CAACo7C,aAAa;MAClB,IAAI,CAAC1O,cAAc,CAACyJ,IAAA,EAAM,CAAG,EAAAA,IAAA,CAAKlsD,MAAM,EAAErB,IAAA;IAC5C;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAKA,SAAAq4B,UAAA,EAAY;MAAA,IAAAqS,MAAA;MACV,IAAM1a,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMl2C,KAAQ;QAACE,GAAA,EAAK80C,MAAA,CAAOE,iBAAiB;QAAEj1C,GAAA,EAAK+0C,MAAA,CAAOC;MAAiB;MAE3EV,IAAA,CAAK3gC,IAAI,CAACkB,OAAO,CAAC,UAACkE,OAAA,EAAStD,KAAU;QACpC,IAAMugC,MAAA,GAASgZ,MAAI,CAAC1S,SAAS,CAAC7mC,KAAA,EAAO+oB,CAAC;QAEtC,IAAI,CAACh8B,KAAA,CAAMwzC,MAAW,KAAAgZ,MAAI,CAACvyD,KAAK,CAACypD,iBAAiB,CAACzwC,KAAQ;UACzD,IAAIugC,MAAA,GAASj2C,KAAM,CAAAE,GAAG,EAAE;YACtBF,KAAA,CAAME,GAAG,GAAG+1C,MAAA;;UAGd,IAAIA,MAAA,GAASj2C,KAAM,CAAAC,GAAG,EAAE;YACtBD,KAAA,CAAMC,GAAG,GAAGg2C,MAAA;;;MAGlB;MAEA,OAAOj2C,KAAA;IACT;EAAA;IAAA5D,GAAA;IAAAmoB,KAAA,EAKA,SAAAyqC,cAAA,EAAgB;MACd,IAAMtyD,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMsJ,SAAA,GAAYtJ,KAAA,CAAMsJ,SAAS;MACjC,IAAMhK,IAAA,GAAOU,KAAA,CAAM0B,OAAO;MAC1B,IAAM8wD,OAAU,GAAA3uD,IAAA,CAAKL,GAAG,CAAC8F,SAAA,CAAU9H,KAAK,GAAG8H,SAAU,CAAA/H,IAAI,EAAE+H,SAAA,CAAUhI,MAAM,GAAGgI,SAAA,CAAUjI,GAAG;MAE3F,IAAMwrD,WAAc,GAAAhpD,IAAA,CAAKN,GAAG,CAACivD,OAAA,GAAU,CAAG;MAC1C,IAAM5F,WAAc,GAAA/oD,IAAA,CAAKN,GAAG,CAACjE,IAAA,CAAKmzD,gBAAgB,GAAG5F,WAAC,GAAc,GAAQ,GAAAvtD,IAAA,CAAKmzD,gBAAgB,GAAI,CAAC,EAAE;MACxG,IAAMtE,YAAA,GAAe,CAACtB,WAAA,GAAcD,WAAU,IAAK5sD,KAAA,CAAM0yD,sBAAsB;MAE/E,IAAI,CAAC7F,WAAW,GAAGA,WAAA,GAAesB,YAAe,OAAI,CAACn1C,KAAK;MAC3D,IAAI,CAAC4zC,WAAW,GAAG,IAAI,CAACC,WAAW,GAAGsB,YAAA;IACxC;EAAA;IAAAzuD,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAeyJ,IAAI,EAAEr5C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACvC,IAAMyqB,KAAA,GAAQzqB,IAAS;MACvB,IAAME,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMV,IAAA,GAAOU,KAAA,CAAM0B,OAAO;MAC1B,IAAMitD,aAAA,GAAgBrvD,IAAA,CAAKo2C,SAAS;MACpC,IAAMt0C,KAAQ,OAAI,CAACo4C,WAAW,CAACiE,MAAM;MACrC,IAAMmR,OAAA,GAAUxtD,KAAA,CAAMuxD,OAAO;MAC7B,IAAM9D,OAAA,GAAUztD,KAAA,CAAMwxD,OAAO;MAC7B,IAAMC,iBAAoB,GAAAzxD,KAAA,CAAM0xD,aAAa,CAAC,KAAK,GAAM,GAAA5wC,yDAAA;MACzD,IAAI1B,KAAQ,GAAAqyC,iBAAA;MACZ,IAAI3xD,CAAA;MAEJ,IAAM6xD,YAAe,SAAM,IAAI,CAACC,oBAAoB;MAEpD,KAAK9xD,CAAI,MAAGA,CAAI,GAAA8S,KAAA,EAAO,EAAE9S,CAAG;QAC1Bsf,KAAA,IAAS,IAAI,CAACyyC,aAAa,CAAC/xD,CAAA,EAAGpB,IAAM,EAAAizD,YAAA;MACvC;MACA,KAAK7xD,CAAI,GAAA8S,KAAA,EAAO9S,CAAI,GAAA8S,KAAA,GAAQiY,KAAA,EAAO/qB,CAAK;QACtC,IAAM8tD,GAAA,GAAM3B,IAAI,CAACnsD,CAAE;QACnB,IAAIuqD,UAAa,GAAAjrC,KAAA;QACjB,IAAIkrC,QAAA,GAAWlrC,KAAQ,OAAI,CAACyyC,aAAa,CAAC/xD,CAAA,EAAGpB,IAAM,EAAAizD,YAAA;QACnD,IAAIlG,WAAc,GAAA7sD,KAAA,CAAMypD,iBAAiB,CAACvoD,CAAA,IAAKE,KAAM,CAAA8xD,6BAA6B,CAAC,IAAI,CAACrT,SAAS,CAAC3+C,CAAG,EAAA6gC,CAAC,IAAI,CAAC;QAC3GvhB,KAAQ,GAAAkrC,QAAA;QAER,IAAInhC,KAAO;UACT,IAAIokC,aAAA,CAAcG,YAAY,EAAE;YAC9BjC,WAAc;;UAEhB,IAAI8B,aAAA,CAAcF,aAAa,EAAE;YAC/BhD,UAAA,GAAaC,QAAW,GAAAmH,iBAAA;;;QAI5B,IAAMn5C,UAAa;UACjBtZ,CAAG,EAAAwuD,OAAA;UACHvuD,CAAG,EAAAwuD,OAAA;UACHjC,WAAa;UACbC,WAAA,EAAAA,WAAA;UACApB,UAAA,EAAAA,UAAA;UACAC,QAAA,EAAAA,QAAA;UACAhqD,OAAS,MAAI,CAACy/C,yBAAyB,CAACjgD,CAAA,EAAG8tD,GAAI,CAAApa,MAAM,GAAG,WAAW90C,IAAI;QACzE;QAEA,IAAI,CAAC4iD,aAAa,CAACsM,GAAA,EAAK9tD,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;MACzC;IACF;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAAmrC,qBAAA,EAAuB;MAAA,IAAAG,MAAA;MACrB,IAAMtb,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAIvtB,KAAQ;MAEZ4rB,IAAA,CAAK3gC,IAAI,CAACkB,OAAO,CAAC,UAACkE,OAAA,EAAStD,KAAU;QACpC,IAAI,CAACjT,KAAA,CAAMotD,MAAI,CAACtT,SAAS,CAAC7mC,KAAA,EAAO+oB,CAAC,KAAKoxB,MAAI,CAACnzD,KAAK,CAACypD,iBAAiB,CAACzwC,KAAQ;UAC1EiT,KAAA;;MAEJ;MAEA,OAAOA,KAAA;IACT;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAKA,SAAAorC,cAAcj6C,KAAK,EAAElZ,IAAI,EAAEizD,YAAY,EAAE;MACvC,OAAO,IAAI,CAAC/yD,KAAK,CAACypD,iBAAiB,CAACzwC,KAChC,IAAAi0C,6DAAA,CAAU,IAAI,CAAC9L,yBAAyB,CAACnoC,KAAA,EAAOlZ,IAAA,EAAM0gB,KAAK,IAAIuyC,YAAA,IAC/D,CAAC;IACP;EAAA;EAAA,OAAAf,mBAAA;AAAA,EA9N+C5W,iBAAA;AAAAkE,eAAA,CAA5B0S,mBAA4B,QAEnC,WAAY;AAAA1S,eAAA,CAFL0S,mBAA4B,cAO7B;EAChB5V,eAAiB;EACjB1G,SAAW;IACT+Y,aAAA,EAAe,IAAI;IACnBK,YAAA,EAAc;EAChB;EACA5Y,UAAY;IACVgU,OAAS;MACPhhD,IAAM;MACNwQ,UAAY,GAAC,KAAK,KAAK,cAAc,YAAY,eAAe;IAClE;EACF;EACAyjC,SAAW;EACXsO,UAAY;CACZ;AAAAnM,eAAA,CArBiB0S,mBAA4B,eA0B5B;EACjBrC,WAAa;EAEb7/B,OAAS;IACPU,MAAQ;MACNtqB,MAAQ;QACN0pD,cAAA,WAAAA,eAAe5vD,KAAK,EAAE;UACpB,IAAMkX,IAAA,GAAOlX,KAAA,CAAMkX,IAAI;UACvB,IAAIA,IAAA,CAAKhR,MAAM,CAAC/E,MAAM,IAAI+V,IAAK,CAAAgY,QAAQ,CAAC/tB,MAAM,EAAE;YAC9C,IAAAiyD,sBAAA,GAAsCpzD,KAAM,CAAAwwB,MAAM,CAAC9uB,OAAO,CAAnDwE,MAAA;cAAS4pD,UAAA,GAAAsD,sBAAA,CAAAtD,UAAA;cAAY5f,KAAA,GAAAkjB,sBAAA,CAAAljB,KAAA;YAE5B,OAAOh5B,IAAA,CAAKhR,MAAM,CAACmP,GAAG,CAAC,UAAC8Z,KAAA,EAAOjuB,CAAM;cACnC,IAAM22C,IAAA,GAAO73C,KAAM,CAAA09C,cAAc,CAAC;cAClC,IAAMx2B,KAAQ,GAAA2wB,IAAA,CAAKyB,UAAU,CAAC2H,QAAQ,CAAC//C,CAAA;cAEvC,OAAO;gBACL4xB,IAAM,EAAA3D,KAAA;gBACN9b,SAAA,EAAW6T,KAAA,CAAM5T,eAAe;gBAChCI,WAAA,EAAawT,KAAA,CAAMvT,WAAW;gBAC9Bo8C,SAAW,EAAA7f,KAAA;gBACXz8B,SAAA,EAAWyT,KAAA,CAAM1T,WAAW;gBAC5Bs8C,UAAY,EAAAA,UAAA;gBACZ5U,MAAQ,GAACl7C,KAAM,CAAAypD,iBAAiB,CAACvoD,CAAA;gBAGjC8X,KAAO,EAAA9X;cACT;YACF;;UAEF,OAAO,EAAE;QACX;MACF;MAEA8uD,OAAA,WAAAA,QAAQ/+C,CAAC,EAAEg/C,UAAU,EAAEz/B,MAAM,EAAE;QAC7BA,MAAA,CAAOxwB,KAAK,CAACkwD,oBAAoB,CAACD,UAAA,CAAWj3C,KAAK;QAClDwX,MAAO,CAAAxwB,KAAK,CAACiK,MAAM;MACrB;IACF;EACF;EAEAnJ,MAAQ;IACNihC,CAAG;MACD74B,IAAM;MACNmqD,UAAY;QACVviC,OAAA,EAAS;MACX;MACAw5B,WAAA,EAAa,IAAI;MACjBF,IAAM;QACJkJ,QAAA,EAAU;MACZ;MACAC,WAAa;QACXziC,OAAA,EAAS;MACX;MACA26B,UAAY;IACd;EACF;CACA;AAAA,IClFiB+H,aAAsB,0BAAAC,mBAAA;EAAAhM,SAAA,CAAA+L,aAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAAhM,YAAA,CAAA8L,aAAA;EAAA,SAAAA,cAAA;IAAA3jB,eAAA,OAAA2jB,aAAA;IAAA,OAAAE,OAAA,CAAA96C,KAAA,OAAA7T,SAAA;EAAA;EAAA,OAAAirC,YAAA,CAAAwjB,aAAA;AAAA,EAAAhH,kBAAA;AAAAlN,eAAA,CAAtBkU,aAAsB,QAE7B,KAAM;AAAAlU,eAAA,CAFCkU,aAAsB,cAOvB;EAEhBrI,MAAQ;EAGRhqC,QAAU;EAGV+pC,aAAe;EAGfR,MAAQ;CACR;AAAA,ICnBiBiJ,eAAwB,0BAAAC,mBAAA;EAAAnM,SAAA,CAAAkM,eAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAAnM,YAAA,CAAAiM,eAAA;EAAA,SAAAA,gBAAA;IAAA9jB,eAAA,OAAA8jB,eAAA;IAAA,OAAAE,OAAA,CAAAj7C,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAA2jB,eAAA;IAAAj0D,GAAA;IAAAmoB,KAAA,EAmC3C,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM+/B,MAAS,OAAI,CAACS,WAAW,CAACT,MAAM;MACtC,IAAMQ,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAE9B,OAAO;QACLmW,KAAA,EAAO4pB,MAAO,CAAA5yC,SAAS,EAAE,CAAC6S,KAAM;QAChC6O,KAAO,OAAKkxB,MAAA,CAAO4H,gBAAgB,CAACpH,MAAM,CAACR,MAAA,CAAO32C,IAAI,CAAC;MACzD;IACF;EAAA;IAAA1C,GAAA;IAAAmoB,KAAA,EAEA,SAAAo3B,gBAAgBpH,IAAI,EAAE3gC,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE;MACxC,OAAOmmC,8DAAgC,CAAC,IAAI,CAAE,CAAAva,IAAA,EAAM3gC,IAAA,EAAMlD,KAAO,EAAAiY,KAAA;IACnE;EAAA;IAAAvsB,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAM+3C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAM8W,IAAA,GAAOzY,IAAA,CAAKvnB,OAAO;MACzB,IAAMq6B,MAAS,GAAA9S,IAAA,CAAK3gC,IAAI,IAAI,EAAE;MAC9B,IAAMhR,MAAS,GAAA2xC,IAAA,CAAK6B,MAAM,CAACvzC,SAAS;MAGpCmqD,IAAA,CAAK3F,MAAM,GAAGA,MAAA;MAEd,IAAI7qD,IAAA,KAAS,QAAU;QACrB,IAAM4B,OAAU,OAAI,CAACw/C,4BAA4B,CAACphD,IAAA;QAClD,IAAI,CAAC,IAAI,CAAC4B,OAAO,CAACqvD,QAAQ,EAAE;UAC1BrvD,OAAA,CAAQ8R,WAAW,GAAG;;QAGxB,IAAMkG,UAAa;UACjB26B,KAAA,EAAO,IAAI;UACXyf,SAAA,EAAW5tD,MAAO,CAAA/E,MAAM,KAAKwpD,MAAA,CAAOxpD,MAAM;UAC1CO,OAAA,EAAAA;QACF;QAEA,IAAI,CAACghD,aAAa,CAAC4N,IAAA,EAAMrwD,SAAA,EAAWyZ,UAAY,EAAA5Z,IAAA;;MAIlD,IAAI,CAAC8jD,cAAc,CAAC+G,MAAA,EAAQ,CAAG,EAAAA,MAAA,CAAOxpD,MAAM,EAAErB,IAAA;IAChD;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAe+G,MAAM,EAAE32C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACzC,IAAMsB,KAAQ,OAAI,CAACo4C,WAAW,CAACiE,MAAM;MACrC,IAAMlzB,KAAA,GAAQzqB,IAAS;MAEvB,KAAK,IAAIoB,CAAI,GAAA8S,KAAA,EAAO9S,CAAI,GAAA8S,KAAA,GAAQiY,KAAA,EAAO/qB,CAAK;QAC1C,IAAMS,KAAA,GAAQgpD,MAAM,CAACzpD,CAAE;QACvB,IAAMQ,OAAA,GAAU,IAAI,CAACy/C,yBAAyB,CAACjgD,CAAA,EAAGS,KAAM,CAAAizC,MAAM,GAAG,WAAW90C,IAAI;QAChF,IAAMi0D,aAAA,GAAgB3yD,KAAM,CAAA4yD,wBAAwB,CAAC9yD,CAAA,EAAG,IAAI,CAAC2+C,SAAS,CAAC3+C,CAAA,EAAG6gC,CAAC;QAE3E,IAAM3hC,CAAA,GAAImqB,KAAQ,GAAAnpB,KAAA,CAAMuxD,OAAO,GAAGoB,aAAA,CAAc3zD,CAAC;QACjD,IAAMC,CAAA,GAAIkqB,KAAQ,GAAAnpB,KAAA,CAAMwxD,OAAO,GAAGmB,aAAA,CAAc1zD,CAAC;QAEjD,IAAMqZ,UAAa;UACjBtZ,CAAA,EAAAA,CAAA;UACAC,CAAA,EAAAA,CAAA;UACAmgB,KAAA,EAAOuzC,aAAA,CAAcvzC,KAAK;UAC1BwqC,IAAM,EAAAjlD,KAAA,CAAM3F,CAAA,KAAM2F,KAAM,CAAA1F,CAAA;UACxBqB,OAAA,EAAAA;QACF;QAEA,IAAI,CAACghD,aAAa,CAAC/gD,KAAA,EAAOT,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;MAC3C;IACF;EAAA;EAAA,OAAA6zD,eAAA;AAAA,EAnG2CvY,iBAAA;AAAAkE,eAAA,CAAxBqU,eAAwB,QAE/B,OAAQ;AAAArU,eAAA,CAFDqU,eAAwB,cAOzB;EAChBxX,kBAAoB;EACpBC,eAAiB;EACjBe,SAAW;EACX4T,QAAA,EAAU,IAAI;EACdjQ,QAAU;IACRwP,IAAM;MACJ9T,IAAM;IACR;EACF;CACA;AAAA8C,eAAA,CAjBiBqU,eAAwB,eAsBxB;EACjBhE,WAAa;EAEb7uD,MAAQ;IACNihC,CAAG;MACD74B,IAAM;IACR;EACF;CACA;AAAA,IC5BiB+qD,iBAA0B,0BAAAC,mBAAA;EAAAzM,SAAA,CAAAwM,iBAAA,EAAAC,mBAAA;EAAA,IAAAC,OAAA,GAAAzM,YAAA,CAAAuM,iBAAA;EAAA,SAAAA,kBAAA;IAAApkB,eAAA,OAAAokB,iBAAA;IAAA,OAAAE,OAAA,CAAAv7C,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAAikB,iBAAA;IAAAv0D,GAAA;IAAAmoB,KAAA,EAoC7C,SAAA64B,iBAAiB1nC,KAAK,EAAE;MACtB,IAAM6+B,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMtzC,MAAA,GAAS,IAAI,CAAClG,KAAK,CAACkX,IAAI,CAAChR,MAAM,IAAI,EAAE;MAC3C,IAAOywC,MAAA,GAAkBkB,IAAA,CAAlBlB,MAAA;QAAQC,MAAA,GAAUiB,IAAA,CAAVjB,MAAA;MACf,IAAM2C,MAAS,OAAI,CAACsG,SAAS,CAAC7mC,KAAA;MAC9B,IAAM5Y,CAAI,GAAAu2C,MAAA,CAAOgK,gBAAgB,CAACpH,MAAA,CAAOn5C,CAAC;MAC1C,IAAMC,CAAI,GAAAu2C,MAAA,CAAO+J,gBAAgB,CAACpH,MAAA,CAAOl5C,CAAC;MAE1C,OAAO;QACL8uB,KAAO,EAAAjpB,MAAM,CAAC8S,KAAA,CAAM,IAAI;QACxB6O,KAAO,QAAMznB,CAAI,UAAOC,CAAI;MAC9B;IACF;EAAA;IAAAX,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAM+3C,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAA4a,WAAA,GAA4Bvc,IAAA,CAArB3gC,IAAM;QAAAyzC,MAAA,GAAAyJ,WAAA,cAAS,EAAE,GAAAA,WAAA;MAExB,IAAM3D,kBAAqB,OAAI,CAACzwD,KAAK,CAACqiD,mBAAmB;MACzD,IAAAgS,sBAAA,GAAqB1D,6DAAA,CAAiC9Y,IAAA,EAAM8S,MAAQ,EAAA8F,kBAAA;QAA/Dz8C,KAAA,GAAAqgD,sBAAA,CAAArgD,KAAA;QAAOiY,KAAA,GAAAooC,sBAAA,CAAApoC,KAAA;MAEZ,IAAI,CAAC4vB,UAAU,GAAG7nC,KAAA;MAClB,IAAI,CAAC8nC,UAAU,GAAG7vB,KAAA;MAElB,IAAI2kC,6DAAA,CAAoB/Y,IAAO;QAC7B7jC,KAAQ;QACRiY,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;;MAGvB,IAAI,IAAI,CAACO,OAAO,CAACqvD,QAAQ,EAAE;QAGzB,IAAI,CAAC,IAAI,CAAC5U,kBAAkB,EAAE;UAC5B,IAAI,CAACI,WAAW;;QAElB,IAAgB+T,IAAA,GAAkBzY,IAAA,CAA3BvnB,OAAS;UAAMkgC,QAAA,GAAY3Y,IAAA,CAAZ2Y,QAAA;QAGtBF,IAAA,CAAKjb,MAAM,GAAG,IAAI,CAACr1C,KAAK;QACxBswD,IAAA,CAAKO,aAAa,GAAG,IAAI,CAAC73C,KAAK;QAC/Bs3C,IAAA,CAAKQ,UAAU,GAAG,CAAC,CAACN,QAAA,CAASM,UAAU;QACvCR,IAAA,CAAK3F,MAAM,GAAGA,MAAA;QAEd,IAAMjpD,OAAU,OAAI,CAACw/C,4BAA4B,CAACphD,IAAA;QAClD4B,OAAA,CAAQsvD,OAAO,GAAG,IAAI,CAACtvD,OAAO,CAACsvD,OAAO;QACtC,IAAI,CAACtO,aAAa,CAAC4N,IAAA,EAAMrwD,SAAW;UAClCgxD,QAAA,EAAU,CAACR,kBAAA;UACX/uD,OAAA,EAAAA;SACC,EAAA5B,IAAA;MACL,OAAO,IAAI,IAAI,CAACq8C,kBAAkB,EAAE;QAElC,OAAOtE,IAAA,CAAKvnB,OAAO;QACnB,IAAI,CAAC6rB,kBAAkB,GAAG,KAAK;;MAIjC,IAAI,CAACyH,cAAc,CAAC+G,MAAA,EAAQ32C,KAAA,EAAOiY,KAAO,EAAAnsB,IAAA;IAC5C;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAEA,SAAA00B,YAAA,EAAc;MACZ,IAAOwU,QAAQ,GAAI,IAAI,CAACrvD,OAAO,CAAxBqvD,QAAQ;MAEf,IAAI,CAAC,IAAI,CAAC5U,kBAAkB,IAAI4U,QAAU;QACxC,IAAI,CAAC5U,kBAAkB,GAAG,IAAI,CAACn8C,KAAK,CAACs0D,QAAQ,CAACC,UAAU,CAAC;;MAG3DvM,IAAA,CAAAC,eAAA,CAAAgM,iBAAA,CAAA//C,SAAA,wBAAAE,IAAA;IACF;EAAA;IAAA1U,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7B,eAAe+G,MAAM,EAAE32C,KAAK,EAAEiY,KAAK,EAAEnsB,IAAI,EAAE;MACzC,IAAMyqB,KAAA,GAAQzqB,IAAS;MACvB,IAAA00D,kBAAA,GAA6C,IAAI,CAAChb,WAAW;QAAtDE,MAAA,GAAA8a,kBAAA,CAAA9a,MAAA;QAAQX,MAAA,GAAAyb,kBAAA,CAAAzb,MAAA;QAAQoC,QAAA,GAAAqZ,kBAAA,CAAArZ,QAAA;QAAUqV,QAAA,GAAAgE,kBAAA,CAAAhE,QAAA;MACjC,IAAMjO,SAAY,OAAI,CAACpB,yBAAyB,CAACntC,KAAO,EAAAlU,IAAA;MACxD,IAAMsiD,aAAgB,OAAI,CAACF,gBAAgB,CAACK,SAAA;MAC5C,IAAMJ,cAAiB,OAAI,CAACA,cAAc,CAACriD,IAAM,EAAAsiD,aAAA;MACjD,IAAMzI,KAAA,GAAQD,MAAA,CAAOt3C,IAAI;MACzB,IAAMw3C,KAAA,GAAQb,MAAA,CAAO32C,IAAI;MACzB,IAAAqyD,cAAA,GAA4B,IAAI,CAAC/yD,OAAO;QAAjC2vD,QAAA,GAAAoD,cAAA,CAAApD,QAAA;QAAUL,OAAA,GAAAyD,cAAA,CAAAzD,OAAA;MACjB,IAAMM,YAAe,GAAAC,6DAAA,CAASF,QAAY,IAAAA,QAAA,GAAW/Y,MAAA,CAAOE,iBAAiB;MAC7E,IAAMgZ,YAAA,GAAe,IAAI,CAACxxD,KAAK,CAACqiD,mBAAmB,IAAI93B,KAAA,IAASzqB,IAAS;MACzE,IAAI4xD,UAAA,GAAa19C,KAAQ,QAAK,IAAI,CAAC6rC,SAAS,CAAC7rC,KAAQ;MAErD,KAAK,IAAI9S,CAAI,GAAA8S,KAAA,EAAO9S,CAAA,GAAI8S,KAAQ,GAAAiY,KAAA,EAAO,EAAE/qB,CAAG;QAC1C,IAAMS,KAAA,GAAQgpD,MAAM,CAACzpD,CAAE;QACvB,IAAMq4C,MAAS,OAAI,CAACsG,SAAS,CAAC3+C,CAAA;QAC9B,IAAMwY,UAAa,GAAA83C,YAAA,GAAe7vD,KAAQ,KAAE;QAC5C,IAAMgwD,QAAW,GAAArM,6DAAA,CAAc/L,MAAM,CAACK,KAAM;QAC5C,IAAMkR,MAAA,GAASpxC,UAAU,CAACigC,KAAM,IAAGD,MAAO,CAAA5xC,gBAAgB,CAACyxC,MAAM,CAACI,KAAA,CAAM,EAAEz4C,CAAA;QAC1E,IAAM6pD,MAAA,GAASrxC,UAAU,CAACkgC,KAAM,IAAGrvB,KAAA,IAASonC,QAAW,GAAA5Y,MAAA,CAAOoP,YAAY,KAAKpP,MAAO,CAAAjxC,gBAAgB,CAACqzC,QAAW,OAAI,CAAC/D,UAAU,CAAC2B,MAAA,EAAQQ,MAAQ,EAAA4B,QAAA,IAAY5B,MAAM,CAACK,KAAM,GAAE14C,CAAE;QAE/KwY,UAAA,CAAWsxC,IAAI,GAAGjlD,KAAM,CAAA+kD,MAAA,KAAW/kD,KAAA,CAAMglD,MAAW,KAAA4G,QAAA;QACpDj4C,UAAA,CAAW5E,IAAI,GAAG5T,CAAI,QAAK2C,IAAM,CAAAgD,GAAG,CAAC0yC,MAAM,CAACI,KAAM,IAAG+X,UAAU,CAAC/X,KAAA,CAAM,CAAK,GAAA2X,YAAA;QAC3E,IAAIN,OAAS;UACXt3C,UAAA,CAAW6/B,MAAM,GAAGA,MAAA;UACpB7/B,UAAA,CAAW6gC,GAAG,GAAGiW,QAAS,CAAAt5C,IAAI,CAAChW,CAAE;;QAGnC,IAAIihD,cAAgB;UAClBzoC,UAAA,CAAWhY,OAAO,GAAG0gD,aAAiB,QAAI,CAACjB,yBAAyB,CAACjgD,CAAA,EAAGS,KAAM,CAAAizC,MAAM,GAAG,WAAW90C,IAAI;;QAGxG,IAAI,CAAC0xD,YAAc;UACjB,IAAI,CAAC9O,aAAa,CAAC/gD,KAAA,EAAOT,CAAA,EAAGwY,UAAY,EAAA5Z,IAAA;;QAG3C4xD,UAAa,GAAAnY,MAAA;MACf;MAEA,IAAI,CAACkJ,mBAAmB,CAACL,aAAA,EAAetiD,IAAM,EAAAyiD,SAAA;IAChD;EAAA;IAAA7iD,GAAA;IAAAmoB,KAAA,EAKA,SAAA44B,eAAA,EAAiB;MACf,IAAM5I,IAAA,GAAO,IAAI,CAAC2B,WAAW;MAC7B,IAAMtiC,IAAO,GAAA2gC,IAAA,CAAK3gC,IAAI,IAAI,EAAE;MAE5B,IAAI,CAAC,IAAI,CAACxV,OAAO,CAACqvD,QAAQ,EAAE;QAC1B,IAAIxtD,GAAM;QACV,KAAK,IAAIrC,CAAA,GAAIgW,IAAK,CAAA/V,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAK,CAAG,IAAEA,CAAG;UACzCqC,GAAA,GAAMM,IAAK,CAAAN,GAAG,CAACA,GAAA,EAAK2T,IAAI,CAAChW,CAAA,CAAE,CAAC+uB,IAAI,CAAC,IAAI,CAACkxB,yBAAyB,CAACjgD,CAAM;QACxE;QACA,OAAOqC,GAAA,GAAM,CAAK,IAAAA,GAAA;;MAGpB,IAAM+sB,OAAA,GAAUunB,IAAA,CAAKvnB,OAAO;MAC5B,IAAMshC,MAAA,GAASthC,OAAA,CAAQ5uB,OAAO,IAAI4uB,OAAA,CAAQ5uB,OAAO,CAAC8R,WAAW,IAAI;MAEjE,IAAI,CAAC0D,IAAK,CAAA/V,MAAM,EAAE;QAChB,OAAOywD,MAAA;;MAGT,IAAMC,UAAA,GAAa36C,IAAI,CAAC,CAAE,EAAC+Y,IAAI,CAAC,IAAI,CAACkxB,yBAAyB,CAAC;MAC/D,IAAM2Q,SAAA,GAAY56C,IAAI,CAACA,IAAK,CAAA/V,MAAM,GAAG,CAAE,EAAC8uB,IAAI,CAAC,IAAI,CAACkxB,yBAAyB,CAACjqC,IAAA,CAAK/V,MAAM,GAAG;MAC1F,OAAO0C,IAAK,CAAAN,GAAG,CAACquD,MAAA,EAAQC,UAAA,EAAYC,SAAa;IACnD;EAAA;EAAA,OAAAmC,iBAAA;AAAA,EA5K6C7Y,iBAAA;AAAAkE,eAAA,CAA1B2U,iBAA0B,QAEjC,SAAU;AAAA3U,eAAA,CAFH2U,iBAA0B,cAO3B;EAChB9X,kBAAA,EAAoB,KAAK;EACzBC,eAAiB;EACjB2U,QAAA,EAAU,KAAK;EACfvU,IAAA,EAAM;CACN;AAAA8C,eAAA,CAZiB2U,iBAA0B,eAiB1B;EAEjBS,WAAa;IACX50D,IAAM;EACR;EAEAgB,MAAQ;IACNV,CAAG;MACD8I,IAAM;IACR;IACA7I,CAAG;MACD6I,IAAM;IACR;EACF;CACA;;;;;;;;;;;;;ACpCJ;;;;AAIC;AA4DD,SAASyrD,SAAwBA,CAAA;EAC/B,MAAM,IAAIl8C,KAAA,CAAM,iFAAmF;AACrG;AAEA;;;;;AAKC;AALD,IAMMm8C,eAAA;EAoBJ,SAAAA,gBAAYlzD,OAAkB,EAAE;IAAAmuC,eAAA,OAAA+kB,eAAA;IAAAtV,eAAA;IAC9B,IAAI,CAAC59C,OAAO,GAAGA,OAAA,IAAW,EAAC;EAC7B;;;;WAGA,SAAA+c,KAAA,EAAO;EAAC;IAAA/e,GAAA;IAAAmoB,KAAA,EAER,SAAAgtC,QAAA,EAAkC;MAChC,OAAOF,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA,EAEA,SAAAtiB,MAAA,EAAuB;MACrB,OAAOovD,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA,EAEA,SAAAitC,OAAA,EAAiB;MACf,OAAOH,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA,EAEA,SAAAzV,IAAA,EAAc;MACZ,OAAOuiD,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA,EAEA,SAAAktC,KAAA,EAAe;MACb,OAAOJ,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA,EAEA,SAAAmtC,QAAA,EAAkB;MAChB,OAAOL,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA,EAEA,SAAAotC,MAAA,EAAgB;MACd,OAAON,SAAA;IACT;EAAA;IAAAj1D,GAAA;IAAAmoB,KAAA;IAnDA;;;;;;;;;;IAUA,SAAAqtC,SACEC,OAAiD,EACjD;MACAn0D,MAAA,CAAO6X,MAAM,CAAC+7C,eAAgB,CAAA1gD,SAAS,EAAEihD,OAAA;IAC3C;EAAA;EAAA,OAAAP,eAAA;AAAA;AAwCF,IAAAQ,QAAA,GAAe;EACbC,KAAO,EAAAT;AACT,CAAE;AC/GF,SAASU,aAAaC,OAAO,EAAEnzD,IAAI,EAAEylB,KAAK,EAAE2tC,SAAS,EAAE;EACrD,IAAOlc,UAAU,GAAmBic,OAAA,CAA7Bjc,UAAU;IAAEpiC,IAAA,GAAiBq+C,OAAA,CAAjBr+C,IAAA;IAAM6nC,OAAA,GAAWwW,OAAA,CAAXxW,OAAA;EACzB,IAAMrF,MAAS,GAAAJ,UAAA,CAAWE,WAAW,CAACE,MAAM;EAC5C,IAAIA,MAAA,IAAUt3C,IAAS,KAAAs3C,MAAA,CAAOt3C,IAAI,IAAIA,IAAA,KAAS,GAAO,IAAA28C,OAAA,IAAW7nC,IAAK,CAAA/V,MAAM,EAAE;IAC5E,IAAMs0D,YAAe,GAAA/b,MAAA,CAAOgc,cAAc,GAAGC,yDAAA,GAAgBC,yDAAY;IACzE,IAAI,CAACJ,SAAW;MACd,OAAOC,YAAA,CAAav+C,IAAA,EAAM9U,IAAM,EAAAylB,KAAA;KAC3B,UAAIyxB,UAAW,CAAAsC,cAAc,EAAE;MAIpC,IAAMia,EAAA,GAAK3+C,IAAI,CAAC,CAAE;MAClB,IAAM5T,KAAA,GAAQ,OAAOuyD,EAAG,CAAAtxD,QAAQ,KAAK,UAAc,IAAAsxD,EAAA,CAAGtxD,QAAQ,CAACnC,IAAA;MAC/D,IAAIkB,KAAO;QACT,IAAM0Q,KAAQ,GAAAyhD,YAAA,CAAav+C,IAAM,EAAA9U,IAAA,EAAMylB,KAAQ,GAAAvkB,KAAA;QAC/C,IAAM6e,GAAM,GAAAszC,YAAA,CAAav+C,IAAM,EAAA9U,IAAA,EAAMylB,KAAQ,GAAAvkB,KAAA;QAC7C,OAAO;UAACwyD,EAAA,EAAI9hD,KAAA,CAAM8hD,EAAE;UAAEC,EAAA,EAAI5zC,GAAA,CAAI4zC;QAAE;;;;EAKtC,OAAO;IAACD,EAAI;IAAGC,EAAI,EAAA7+C,IAAA,CAAK/V,MAAM,GAAG;EAAC;AACpC;AAUA,SAAS60D,wBAAyBA,CAAAh2D,KAAK,EAAEoC,IAAI,EAAE6zD,QAAQ,EAAEzpD,OAAO,EAAEgpD,SAAS,EAAE;EAC3E,IAAMve,QAAA,GAAWj3C,KAAA,CAAMk2D,4BAA4B;EACnD,IAAMruC,KAAA,GAAQouC,QAAQ,CAAC7zD,IAAK;EAC5B,KAAK,IAAIlB,CAAI,MAAGi2C,IAAO,GAAAF,QAAA,CAAS91C,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IACrD,IAAAi1D,WAAA,GAAsBlf,QAAQ,CAAC/1C,CAAE;MAA1B8X,OAAA,GAAAm9C,WAAA,CAAAn9C,KAAA;MAAO9B,IAAA,GAAAi/C,WAAA,CAAAj/C,IAAA;IACd,IAAAk/C,aAAA,GAAiBd,YAAa,CAAAre,QAAQ,CAAC/1C,CAAA,CAAE,EAAEkB,IAAA,EAAMylB,KAAO,EAAA2tC,SAAA;MAAjDM,EAAA,GAAAM,aAAA,CAAAN,EAAA;MAAIC,EAAA,GAAAK,aAAA,CAAAL,EAAA;IACX,KAAK,IAAIxnB,CAAI,GAAAunB,EAAA,EAAIvnB,CAAK,IAAAwnB,EAAA,EAAI,EAAExnB,CAAG;MAC7B,IAAMjyB,OAAA,GAAUpF,IAAI,CAACq3B,CAAE;MACvB,IAAI,CAACjyB,OAAQ,CAAA0uC,IAAI,EAAE;QACjBx+C,OAAA,CAAQ8P,OAAA,EAAStD,OAAO,EAAAu1B,CAAA;;IAE5B;EACF;AACF;AAOA,SAAS8nB,wBAAyBA,CAAAj0D,IAAI,EAAE;EACtC,IAAMk0D,IAAO,GAAAl0D,IAAA,CAAKlC,OAAO,CAAC,SAAS,CAAC;EACpC,IAAMq2D,IAAO,GAAAn0D,IAAA,CAAKlC,OAAO,CAAC,SAAS,CAAC;EAEpC,OAAO,UAASs2D,GAAG,EAAEC,GAAG,EAAE;IACxB,IAAMjlD,MAAA,GAAS8kD,IAAO,GAAAzyD,IAAA,CAAKgD,GAAG,CAAC2vD,GAAI,CAAAp2D,CAAC,GAAGq2D,GAAA,CAAIr2D,CAAC,IAAI,CAAC;IACjD,IAAMkP,MAAA,GAASinD,IAAO,GAAA1yD,IAAA,CAAKgD,GAAG,CAAC2vD,GAAI,CAAAn2D,CAAC,GAAGo2D,GAAA,CAAIp2D,CAAC,IAAI,CAAC;IACjD,OAAOwD,IAAA,CAAKoL,IAAI,CAACpL,IAAK,CAAAorC,GAAG,CAACz9B,MAAA,EAAQ,CAAK,IAAA3N,IAAA,CAAKorC,GAAG,CAAC3/B,MAAQ;EAC1D;AACF;AAWA,SAASonD,iBAAkBA,CAAA12D,KAAK,EAAEi2D,QAAQ,EAAE7zD,IAAI,EAAEu0D,gBAAgB,EAAEC,gBAAgB,EAAE;EACpF,IAAMtkB,KAAA,GAAQ,EAAE;EAEhB,IAAI,CAACskB,gBAAoB,KAAC52D,KAAM,CAAA62D,aAAa,CAACZ,QAAW;IACvD,OAAO3jB,KAAA;;EAGT,IAAMwkB,cAAA,GAAiB,SAAjBA,eAA0Bx6C,OAAO,EAAEi7B,YAAY,EAAEv+B,KAAK,EAAE;IAC5D,IAAI,CAAC49C,gBAAA,IAAoB,CAACG,6DAAA,CAAez6C,OAAA,EAAStc,KAAM,CAAAsJ,SAAS,EAAE,CAAI;MACrE;;IAEF,IAAIgT,OAAA,CAAQ06C,OAAO,CAACf,QAAA,CAAS71D,CAAC,EAAE61D,QAAA,CAAS51D,CAAC,EAAEs2D,gBAAmB;MAC7DrkB,KAAA,CAAM/vC,IAAI,CAAC;QAAC+Z,OAAA,EAAAA,OAAA;QAASi7B,YAAA,EAAAA,YAAA;QAAcv+B,KAAA,EAAAA;MAAK;;EAE5C;EAEAg9C,wBAAA,CAAyBh2D,KAAO,EAAAoC,IAAA,EAAM6zD,QAAU,EAAAa,cAAA,EAAgB,IAAI;EACpE,OAAOxkB,KAAA;AACT;AAUA,SAAS2kB,sBAAsBj3D,KAAK,EAAEi2D,QAAQ,EAAE7zD,IAAI,EAAEu0D,gBAAgB,EAAE;EACtE,IAAIrkB,KAAA,GAAQ,EAAE;EAEd,SAASwkB,eAAex6C,OAAO,EAAEi7B,YAAY,EAAEv+B,KAAK,EAAE;IACpD,IAAAk+C,iBAAA,GAA+B56C,OAAA,CAAQ66C,QAAQ,CAAC,CAAC,cAAc,WAAW,EAAER,gBAAA;MAArElL,UAAA,GAAAyL,iBAAA,CAAAzL,UAAA;MAAYC,QAAA,GAAAwL,iBAAA,CAAAxL,QAAA;IACnB,IAAA0L,kBAAA,GAAgBC,6DAAA,CAAkB/6C,OAAS;QAAClc,CAAA,EAAG61D,QAAA,CAAS71D,CAAC;QAAEC,CAAA,EAAG41D,QAAA,CAAS51D;MAAC;MAAjEmgB,KAAA,GAAA42C,kBAAA,CAAA52C,KAAA;IAEP,IAAIyrC,6DAAA,CAAczrC,KAAO,EAAAirC,UAAA,EAAYC,QAAW;MAC9CpZ,KAAA,CAAM/vC,IAAI,CAAC;QAAC+Z,OAAA,EAAAA,OAAA;QAASi7B,YAAA,EAAAA,YAAA;QAAcv+B,KAAA,EAAAA;MAAK;;EAE5C;EAEAg9C,wBAAyB,CAAAh2D,KAAA,EAAOoC,IAAA,EAAM6zD,QAAU,EAAAa,cAAA;EAChD,OAAOxkB,KAAA;AACT;AAYA,SAASglB,yBAAyBt3D,KAAK,EAAEi2D,QAAQ,EAAE7zD,IAAI,EAAEozD,SAAS,EAAEmB,gBAAgB,EAAEC,gBAAgB,EAAE;EACtG,IAAItkB,KAAA,GAAQ,EAAE;EACd,IAAMilB,cAAA,GAAiBlB,wBAAyB,CAAAj0D,IAAA;EAChD,IAAIo1D,WAAA,GAAclf,MAAA,CAAOE,iBAAiB;EAE1C,SAASse,eAAex6C,OAAO,EAAEi7B,YAAY,EAAEv+B,KAAK,EAAE;IACpD,IAAMg+C,OAAA,GAAU16C,OAAA,CAAQ06C,OAAO,CAACf,QAAA,CAAS71D,CAAC,EAAE61D,QAAS,CAAA51D,CAAC,EAAEs2D,gBAAA;IACxD,IAAInB,SAAA,IAAa,CAACwB,OAAS;MACzB;;IAGF,IAAM3zD,MAAA,GAASiZ,OAAQ,CAAAm7C,cAAc,CAACd,gBAAA;IACtC,IAAMe,WAAA,GAAc,CAAC,CAACd,gBAAoB,IAAA52D,KAAA,CAAM62D,aAAa,CAACxzD,MAAA;IAC9D,IAAI,CAACq0D,WAAe,KAACV,OAAS;MAC5B;;IAGF,IAAMhoD,QAAA,GAAWuoD,cAAA,CAAetB,QAAU,EAAA5yD,MAAA;IAC1C,IAAI2L,QAAA,GAAWwoD,WAAa;MAC1BllB,KAAQ,IAAC;QAACh2B,OAAA,EAAAA,OAAA;QAASi7B,YAAA,EAAAA,YAAA;QAAcv+B,KAAA,EAAAA;MAAK,EAAE;MACxCw+C,WAAc,GAAAxoD,QAAA;KACT,UAAIA,QAAA,KAAawoD,WAAa;MAEnCllB,KAAA,CAAM/vC,IAAI,CAAC;QAAC+Z,OAAA,EAAAA,OAAA;QAASi7B,YAAA,EAAAA,YAAA;QAAcv+B,KAAA,EAAAA;MAAK;;EAE5C;EAEAg9C,wBAAyB,CAAAh2D,KAAA,EAAOoC,IAAA,EAAM6zD,QAAU,EAAAa,cAAA;EAChD,OAAOxkB,KAAA;AACT;AAYA,SAASqlB,gBAAgB33D,KAAK,EAAEi2D,QAAQ,EAAE7zD,IAAI,EAAEozD,SAAS,EAAEmB,gBAAgB,EAAEC,gBAAgB,EAAE;EAC7F,IAAI,CAACA,gBAAoB,KAAC52D,KAAM,CAAA62D,aAAa,CAACZ,QAAW;IACvD,OAAO,EAAE;;EAGX,OAAO7zD,IAAS,YAAO,CAACozD,SAAA,GACpByB,qBAAA,CAAsBj3D,KAAO,EAAAi2D,QAAA,EAAU7zD,IAAM,EAAAu0D,gBAAA,IAC7CW,wBAAA,CAAyBt3D,KAAO,EAAAi2D,QAAA,EAAU7zD,IAAM,EAAAozD,SAAA,EAAWmB,gBAAA,EAAkBC,gBAAiB;AACpG;AAWA,SAASgB,YAAaA,CAAA53D,KAAK,EAAEi2D,QAAQ,EAAE7zD,IAAI,EAAEozD,SAAS,EAAEmB,gBAAgB,EAAE;EACxE,IAAMrkB,KAAA,GAAQ,EAAE;EAChB,IAAMulB,WAAc,GAAAz1D,IAAA,KAAS,GAAM,gBAAa,UAAU;EAC1D,IAAI01D,cAAA,GAAiB,KAAK;EAE1B9B,wBAAA,CAAyBh2D,KAAA,EAAOoC,IAAM,EAAA6zD,QAAA,EAAU,UAAC35C,OAAA,EAASi7B,YAAA,EAAcv+B,KAAU;IAChF,IAAIsD,OAAO,CAACu7C,WAAY,EAAC5B,QAAQ,CAAC7zD,IAAA,CAAK,EAAEu0D,gBAAmB;MAC1DrkB,KAAA,CAAM/vC,IAAI,CAAC;QAAC+Z,OAAA,EAAAA,OAAA;QAASi7B,YAAA,EAAAA,YAAA;QAAcv+B,KAAA,EAAAA;MAAK;MACxC8+C,cAAiB,GAAAA,cAAA,IAAkBx7C,OAAA,CAAQ06C,OAAO,CAACf,QAAA,CAAS71D,CAAC,EAAE61D,QAAS,CAAA51D,CAAC,EAAEs2D,gBAAA;;EAE/E;EAIA,IAAInB,SAAA,IAAa,CAACsC,cAAgB;IAChC,OAAO,EAAE;;EAEX,OAAOxlB,KAAA;AACT;AAMA,IAAAylB,WAAA,GAAe;EAEb/B,wBAAA,EAAAA,wBAAA;EAGAgC,KAAO;IAYLh/C,KAAA,WAAAA,MAAMhZ,KAAK,EAAEiR,CAAC,EAAEvP,OAAO,EAAEi1D,gBAAgB,EAAE;MACzC,IAAMV,QAAA,GAAW72D,6DAAA,CAAoB6R,CAAG,EAAAjR,KAAA;MAExC,IAAMoC,IAAA,GAAOV,OAAQ,CAAAU,IAAI,IAAI;MAC7B,IAAMw0D,gBAAmB,GAAAl1D,OAAA,CAAQk1D,gBAAgB,IAAI,KAAK;MAC1D,IAAMtkB,KAAA,GAAQ5wC,OAAQ,CAAA8zD,SAAS,GAC3BkB,iBAAA,CAAkB12D,KAAA,EAAOi2D,QAAU,EAAA7zD,IAAA,EAAMu0D,gBAAkB,EAAAC,gBAAA,IAC3De,eAAA,CAAgB33D,KAAO,EAAAi2D,QAAA,EAAU7zD,IAAA,EAAM,KAAK,EAAEu0D,gBAAA,EAAkBC,gBAAiB;MACrF,IAAM9V,QAAA,GAAW,EAAE;MAEnB,IAAI,CAACxO,KAAM,CAAAnxC,MAAM,EAAE;QACjB,OAAO,EAAE;;MAGXnB,KAAA,CAAMk2D,4BAA4B,GAAG99C,OAAO,CAAC,UAACy/B,IAAS;QACrD,IAAM7+B,KAAQ,GAAAs5B,KAAK,CAAC,EAAE,CAACt5B,KAAK;QAC5B,IAAMsD,OAAU,GAAAu7B,IAAA,CAAK3gC,IAAI,CAAC8B,KAAM;QAGhC,IAAIsD,OAAW,KAACA,OAAQ,CAAA0uC,IAAI,EAAE;UAC5BlK,QAAA,CAASv+C,IAAI,CAAC;YAAC+Z,OAAA,EAAAA,OAAA;YAASi7B,YAAA,EAAcM,IAAA,CAAK7+B,KAAK;YAAEA,KAAA,EAAAA;UAAK;;MAE3D;MAEA,OAAO8nC,QAAA;IACT;IAYAxwB,OAAA,WAAAA,QAAQtwB,KAAK,EAAEiR,CAAC,EAAEvP,OAAO,EAAEi1D,gBAAgB,EAAE;MAC3C,IAAMV,QAAA,GAAW72D,6DAAA,CAAoB6R,CAAG,EAAAjR,KAAA;MACxC,IAAMoC,IAAA,GAAOV,OAAQ,CAAAU,IAAI,IAAI;MAC7B,IAAMw0D,gBAAmB,GAAAl1D,OAAA,CAAQk1D,gBAAgB,IAAI,KAAK;MAC1D,IAAItkB,KAAA,GAAQ5wC,OAAQ,CAAA8zD,SAAS,GACzBkB,iBAAA,CAAkB12D,KAAA,EAAOi2D,QAAU,EAAA7zD,IAAA,EAAMu0D,gBAAkB,EAAAC,gBAAA,IAC7De,eAAA,CAAgB33D,KAAO,EAAAi2D,QAAA,EAAU7zD,IAAA,EAAM,KAAK,EAAEu0D,gBAAA,EAAkBC,gBAAiB;MAEnF,IAAItkB,KAAA,CAAMnxC,MAAM,GAAG,CAAG;QACpB,IAAMo2C,YAAe,GAAAjF,KAAK,CAAC,EAAE,CAACiF,YAAY;QAC1C,IAAMrgC,IAAO,GAAAlX,KAAA,CAAM09C,cAAc,CAACnG,YAAA,EAAcrgC,IAAI;QACpDo7B,KAAA,GAAQ,EAAE;QACV,KAAK,IAAIpxC,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAIgW,IAAA,CAAK/V,MAAM,EAAE,EAAED,CAAG;UACpCoxC,KAAA,CAAM/vC,IAAI,CAAC;YAAC+Z,OAAS,EAAApF,IAAI,CAAChW,CAAE;YAAEq2C,YAAA,EAAAA,YAAA;YAAcv+B,KAAO,EAAA9X;UAAC;QACtD;;MAGF,OAAOoxC,KAAA;IACT;IAYA3wC,KAAA,WAAAA,MAAM3B,KAAK,EAAEiR,CAAC,EAAEvP,OAAO,EAAEi1D,gBAAgB,EAAE;MACzC,IAAMV,QAAA,GAAW72D,6DAAA,CAAoB6R,CAAG,EAAAjR,KAAA;MACxC,IAAMoC,IAAA,GAAOV,OAAQ,CAAAU,IAAI,IAAI;MAC7B,IAAMw0D,gBAAmB,GAAAl1D,OAAA,CAAQk1D,gBAAgB,IAAI,KAAK;MAC1D,OAAOF,iBAAkB,CAAA12D,KAAA,EAAOi2D,QAAU,EAAA7zD,IAAA,EAAMu0D,gBAAkB,EAAAC,gBAAA;IACpE;IAWAqB,OAAA,WAAAA,QAAQj4D,KAAK,EAAEiR,CAAC,EAAEvP,OAAO,EAAEi1D,gBAAgB,EAAE;MAC3C,IAAMV,QAAA,GAAW72D,6DAAA,CAAoB6R,CAAG,EAAAjR,KAAA;MACxC,IAAMoC,IAAA,GAAOV,OAAQ,CAAAU,IAAI,IAAI;MAC7B,IAAMw0D,gBAAmB,GAAAl1D,OAAA,CAAQk1D,gBAAgB,IAAI,KAAK;MAC1D,OAAOe,eAAA,CAAgB33D,KAAO,EAAAi2D,QAAA,EAAU7zD,IAAA,EAAMV,OAAQ,CAAA8zD,SAAS,EAAEmB,gBAAkB,EAAAC,gBAAA;IACrF;IAWAx2D,CAAA,WAAAA,EAAEJ,KAAK,EAAEiR,CAAC,EAAEvP,OAAO,EAAEi1D,gBAAgB,EAAE;MACrC,IAAMV,QAAA,GAAW72D,6DAAA,CAAoB6R,CAAG,EAAAjR,KAAA;MACxC,OAAO43D,YAAA,CAAa53D,KAAO,EAAAi2D,QAAA,EAAU,GAAK,EAAAv0D,OAAA,CAAQ8zD,SAAS,EAAEmB,gBAAA;IAC/D;IAWAt2D,CAAA,WAAAA,EAAEL,KAAK,EAAEiR,CAAC,EAAEvP,OAAO,EAAEi1D,gBAAgB,EAAE;MACrC,IAAMV,QAAA,GAAW72D,6DAAA,CAAoB6R,CAAG,EAAAjR,KAAA;MACxC,OAAO43D,YAAA,CAAa53D,KAAO,EAAAi2D,QAAA,EAAU,GAAK,EAAAv0D,OAAA,CAAQ8zD,SAAS,EAAEmB,gBAAA;IAC/D;EACF;AACF,CAAE;ACvWF,IAAMuB,gBAAmB,IAAC,QAAQ,OAAO,SAAS,SAAS;AAE3D,SAASC,gBAAiBA,CAAAC,KAAK,EAAEnC,QAAQ,EAAE;EACzC,OAAOmC,KAAA,CAAM1yC,MAAM,CAAC,UAAA5f,CAAK;IAAA,OAAAA,CAAA,CAAEuyD,GAAG,KAAKpC,QAAA;EAAA;AACrC;AAEA,SAASqC,2BAA4BA,CAAAF,KAAK,EAAEh2D,IAAI,EAAE;EAChD,OAAOg2D,KAAA,CAAM1yC,MAAM,CAAC,UAAA5f,CAAA;IAAA,OAAKoyD,gBAAA,CAAiBh4D,OAAO,CAAC4F,CAAE,CAAAuyD,GAAG,MAAM,CAAC,KAAKvyD,CAAA,CAAEyyD,GAAG,CAACn2D,IAAI,KAAKA,IAAA;EAAA;AACpF;AAEA,SAASo2D,YAAaA,CAAAJ,KAAK,EAAEj6B,OAAO,EAAE;EACpC,OAAOi6B,KAAM,CAAA58C,IAAI,CAAC,UAACI,CAAA,EAAGC,CAAM;IAC1B,IAAMnX,EAAA,GAAKy5B,OAAU,GAAAtiB,CAAA,GAAID,CAAC;IAC1B,IAAMjX,EAAA,GAAKw5B,OAAU,GAAAviB,CAAA,GAAIC,CAAC;IAC1B,OAAOnX,EAAA,CAAGirB,MAAM,KAAKhrB,EAAG,CAAAgrB,MAAM,GAC5BjrB,EAAG,CAAAsU,KAAK,GAAGrU,EAAA,CAAGqU,KAAK,GACnBtU,EAAA,CAAGirB,MAAM,GAAGhrB,EAAA,CAAGgrB,MAAM;EACzB;AACF;AAEA,SAAS8oC,UAAUC,KAAK,EAAE;EACxB,IAAMC,WAAA,GAAc,EAAE;EACtB,IAAIz3D,CAAG,EAAAi2C,IAAA,EAAMohB,GAAK,EAAAF,GAAA,EAAK3/C,KAAO,EAAAkgD,WAAA;EAE9B,KAAK13D,CAAI,MAAGi2C,IAAO,GAAC,CAAAuhB,KAAS,MAAE,EAAEv3D,MAAM,EAAED,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IACtDq3D,GAAM,GAAAG,KAAK,CAACx3D,CAAE;IAAA,IAAA23D,IAAA,GACwCN,GAAE;IAA5CF,GAAG,GAAAQ,IAAA,CAAb5C,QAAA;IAAA,IAAA6C,YAAA,GAAAD,IAAA,CAAen3D,OAAA;IAAUgX,KAAA,GAAAogD,YAAA,CAAApgD,KAAA;IAAA,IAAAqgD,qBAAA,GAAAD,YAAA,CAAOF,WAAA;IAAAA,WAAA,GAAAG,qBAAA,cAAc,CAAC,GAAAA,qBAAA;IACjDJ,WAAA,CAAYp2D,IAAI,CAAC;MACfyW,KAAO,EAAA9X,CAAA;MACPq3D,GAAA,EAAAA,GAAA;MACAF,GAAA,EAAAA,GAAA;MACA3R,UAAA,EAAY6R,GAAA,CAAI50D,YAAY;MAC5BgsB,MAAA,EAAQ4oC,GAAA,CAAI5oC,MAAM;MAClBjX,KAAA,EAAOA,KAAA,IAAU2/C,GAAM,GAAA3/C,KAAA;MACvBkgD,WAAA,EAAAA;IACF;EACF;EACA,OAAOD,WAAA;AACT;AAEA,SAASK,YAAYC,OAAO,EAAE;EAC5B,IAAMvgB,MAAA,GAAS,EAAC;EAAA,IAAAwgB,UAAA,GAAAhgB,0BAAA,CACG+f,OAAS;IAAAE,MAAA;EAAA;IAA5B,KAAAD,UAAA,CAAA12B,CAAA,MAAA22B,MAAA,GAAAD,UAAA,CAAAz2B,CAAA,IAAApG,IAAA,GAA4B;MAAA,IAAjBxC,IAAA,GAAAs/B,MAAA,CAAAtxC,KAAA;MACT,IAAOnP,KAAK,GAAsBmhB,IAAA,CAA3BnhB,KAAK;QAAE2/C,GAAA,GAAoBx+B,IAAA,CAApBw+B,GAAA;QAAKO,WAAA,GAAe/+B,IAAA,CAAf++B,WAAA;MACnB,IAAI,CAAClgD,KAAS,KAACw/C,gBAAiB,CAAAkB,QAAQ,CAACf,GAAM;QAC7C;;MAEF,IAAMgB,MAAA,GAAS3gB,MAAM,CAAChgC,KAAA,CAAM,KAAKggC,MAAM,CAAChgC,KAAA,CAAM,GAAG;QAACuT,KAAO;QAAGqtC,MAAQ;QAAG3pC,MAAQ;QAAGM,IAAM;OAAC;MACzFopC,MAAA,CAAOptC,KAAK;MACZotC,MAAA,CAAO1pC,MAAM,IAAIipC,WAAA;IACnB;EAAA,SAAAh/B,GAAA;IAAAs/B,UAAA,CAAAjoD,CAAA,CAAA2oB,GAAA;EAAA;IAAAs/B,UAAA,CAAA13B,CAAA;EAAA;EACA,OAAOkX,MAAA;AACT;AAKA,SAAS6gB,cAAcN,OAAO,EAAEO,MAAM,EAAE;EACtC,IAAM9gB,MAAA,GAASsgB,WAAY,CAAAC,OAAA;EAC3B,IAAOQ,YAAA,GAA+BD,MAAA,CAA/BC,YAAA;IAAcC,aAAA,GAAiBF,MAAA,CAAjBE,aAAA;EACrB,IAAIx4D,CAAA,EAAGi2C,IAAM,EAAAvnB,MAAA;EACb,KAAK1uB,CAAA,GAAI,GAAGi2C,IAAO,GAAA8hB,OAAA,CAAQ93D,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAChD0uB,MAAS,GAAAqpC,OAAO,CAAC/3D,CAAE;IACnB,IAAOy4D,QAAA,GAAY/pC,MAAA,CAAO2oC,GAAG,CAAtBoB,QAAA;IACP,IAAMjhD,KAAQ,GAAAggC,MAAM,CAAC9oB,MAAA,CAAOlX,KAAK,CAAC;IAClC,IAAM+6B,MAAA,GAAS/6B,KAAS,IAAAkX,MAAA,CAAOgpC,WAAW,GAAGlgD,KAAA,CAAMiX,MAAM;IACzD,IAAIC,MAAA,CAAO82B,UAAU,EAAE;MACrB92B,MAAA,CAAOrpB,KAAK,GAAGktC,MAAA,GAASA,MAAA,GAASgmB,YAAe,GAAAE,QAAA,IAAYH,MAAA,CAAOI,cAAc;MACjFhqC,MAAA,CAAOppB,MAAM,GAAGkzD,aAAA;KACX;MACL9pC,MAAA,CAAOrpB,KAAK,GAAGkzD,YAAA;MACf7pC,MAAA,CAAOppB,MAAM,GAAGitC,MAAA,GAASA,MAAA,GAASimB,aAAgB,GAAAC,QAAA,IAAYH,MAAA,CAAOK,eAAe;;EAExF;EACA,OAAOnhB,MAAA;AACT;AAEA,SAASohB,iBAAiBpB,KAAK,EAAE;EAC/B,IAAMC,WAAA,GAAcF,SAAU,CAAAC,KAAA;EAC9B,IAAMiB,QAAW,GAAAnB,YAAA,CAAaG,WAAY,CAAAjzC,MAAM,CAAC,UAAAmU,IAAQ;IAAA,OAAAA,IAAA,CAAK0+B,GAAG,CAACoB,QAAQ;EAAA,IAAG,IAAI;EACjF,IAAMp4D,IAAO,GAAAi3D,YAAA,CAAaL,gBAAiB,CAAAQ,WAAA,EAAa,SAAS,IAAI;EACrE,IAAMn3D,KAAA,GAAQg3D,YAAa,CAAAL,gBAAA,CAAiBQ,WAAa;EACzD,IAAMt3D,GAAM,GAAAm3D,YAAA,CAAaL,gBAAiB,CAAAQ,WAAA,EAAa,QAAQ,IAAI;EACnE,IAAMr3D,MAAA,GAASk3D,YAAa,CAAAL,gBAAA,CAAiBQ,WAAa;EAC1D,IAAMoB,gBAAA,GAAmBzB,2BAAA,CAA4BK,WAAa;EAClE,IAAMqB,cAAA,GAAiB1B,2BAAA,CAA4BK,WAAa;EAEhE,OAAO;IACLgB,QAAA,EAAAA,QAAA;IACAM,UAAY,EAAA14D,IAAA,CAAKkU,MAAM,CAACpU,GAAA;IACxB64D,cAAgB,EAAA14D,KAAA,CAAMiU,MAAM,CAACukD,cAAA,EAAgBvkD,MAAM,CAACnU,MAAA,EAAQmU,MAAM,CAACskD,gBAAA;IACnEzwD,SAAA,EAAW6uD,gBAAA,CAAiBQ,WAAa;IACzCwB,QAAA,EAAU54D,IAAK,CAAAkU,MAAM,CAACjU,KAAA,EAAOiU,MAAM,CAACukD,cAAA;IACpCtT,UAAA,EAAYrlD,GAAI,CAAAoU,MAAM,CAACnU,MAAA,EAAQmU,MAAM,CAACskD,gBAAA;EACxC;AACF;AAEA,SAASK,eAAeC,UAAU,EAAE/wD,SAAS,EAAEsS,CAAC,EAAEC,CAAC,EAAE;EACnD,OAAOhY,IAAA,CAAKN,GAAG,CAAC82D,UAAU,CAACz+C,CAAE,GAAEtS,SAAS,CAACsS,CAAA,CAAE,IAAI/X,IAAK,CAAAN,GAAG,CAAC82D,UAAU,CAACx+C,CAAA,CAAE,EAAEvS,SAAS,CAACuS,CAAE;AACrF;AAEA,SAASy+C,gBAAiBA,CAAAD,UAAU,EAAEE,UAAU,EAAE;EAChDF,UAAW,CAAAh5D,GAAG,GAAGwC,IAAK,CAAAN,GAAG,CAAC82D,UAAW,CAAAh5D,GAAG,EAAEk5D,UAAA,CAAWl5D,GAAG;EACxDg5D,UAAW,CAAA94D,IAAI,GAAGsC,IAAK,CAAAN,GAAG,CAAC82D,UAAW,CAAA94D,IAAI,EAAEg5D,UAAA,CAAWh5D,IAAI;EAC3D84D,UAAW,CAAA/4D,MAAM,GAAGuC,IAAK,CAAAN,GAAG,CAAC82D,UAAW,CAAA/4D,MAAM,EAAEi5D,UAAA,CAAWj5D,MAAM;EACjE+4D,UAAW,CAAA74D,KAAK,GAAGqC,IAAK,CAAAN,GAAG,CAAC82D,UAAW,CAAA74D,KAAK,EAAE+4D,UAAA,CAAW/4D,KAAK;AAChE;AAEA,SAASg5D,WAAWlxD,SAAS,EAAEkwD,MAAM,EAAE5pC,MAAM,EAAE8oB,MAAM,EAAE;EACrD,IAAO2f,GAAA,GAAYzoC,MAAA,CAAZyoC,GAAA;IAAKE,GAAA,GAAO3oC,MAAA,CAAP2oC,GAAA;EACZ,IAAM8B,UAAA,GAAa/wD,SAAA,CAAU+wD,UAAU;EAGvC,IAAI,CAAC7kB,6DAAA,CAAS6iB,GAAM;IAClB,IAAIzoC,MAAA,CAAOK,IAAI,EAAE;MAEf3mB,SAAS,CAAC+uD,GAAA,CAAI,IAAIzoC,MAAA,CAAOK,IAAI;;IAE/B,IAAMvX,KAAA,GAAQggC,MAAM,CAAC9oB,MAAO,CAAAlX,KAAK,CAAC,IAAI;MAACuX,IAAM;MAAGhE,KAAO;IAAC;IACxDvT,KAAA,CAAMuX,IAAI,GAAGpsB,IAAK,CAAAN,GAAG,CAACmV,KAAM,CAAAuX,IAAI,EAAEL,MAAA,CAAO82B,UAAU,GAAG6R,GAAA,CAAI/xD,MAAM,GAAG+xD,GAAA,CAAIhyD,KAAK;IAC5EqpB,MAAA,CAAOK,IAAI,GAAGvX,KAAA,CAAMuX,IAAI,GAAGvX,KAAA,CAAMuT,KAAK;IACtC3iB,SAAS,CAAC+uD,GAAA,CAAI,IAAIzoC,MAAA,CAAOK,IAAI;;EAG/B,IAAIsoC,GAAA,CAAIkC,UAAU,EAAE;IAClBH,gBAAiB,CAAAD,UAAA,EAAY9B,GAAA,CAAIkC,UAAU;;EAG7C,IAAMC,QAAA,GAAW72D,IAAK,CAAAN,GAAG,CAAC,GAAGi2D,MAAO,CAAAmB,UAAU,GAAGP,cAAA,CAAeC,UAAY,EAAA/wD,SAAA,EAAW,MAAQ;EAC/F,IAAMsxD,SAAA,GAAY/2D,IAAK,CAAAN,GAAG,CAAC,GAAGi2D,MAAO,CAAAqB,WAAW,GAAGT,cAAA,CAAeC,UAAY,EAAA/wD,SAAA,EAAW,KAAO;EAChG,IAAMwxD,YAAA,GAAeJ,QAAa,KAAApxD,SAAA,CAAUs5B,CAAC;EAC7C,IAAMm4B,aAAA,GAAgBH,SAAc,KAAAtxD,SAAA,CAAUm3B,CAAC;EAC/Cn3B,SAAA,CAAUs5B,CAAC,GAAG83B,QAAA;EACdpxD,SAAA,CAAUm3B,CAAC,GAAGm6B,SAAA;EAGd,OAAOhrC,MAAA,CAAO82B,UAAU,GACpB;IAACsU,IAAM,EAAAF,YAAA;IAAcG,KAAO,EAAAF;GAC5B;IAACC,IAAM,EAAAD,aAAA;IAAeE,KAAO,EAAAH;GAAa;AAChD;AAEA,SAASI,iBAAiB5xD,SAAS,EAAE;EACnC,IAAM+wD,UAAA,GAAa/wD,SAAA,CAAU+wD,UAAU;EAEvC,SAASc,UAAU9C,GAAG,EAAE;IACtB,IAAM+C,MAAA,GAASv3D,IAAK,CAAAN,GAAG,CAAC82D,UAAU,CAAChC,GAAA,CAAI,GAAG/uD,SAAS,CAAC+uD,GAAA,CAAI,EAAE;IAC1D/uD,SAAS,CAAC+uD,GAAA,CAAI,IAAI+C,MAAA;IAClB,OAAOA,MAAA;EACT;EACA9xD,SAAU,CAAAjJ,CAAC,IAAI86D,SAAU;EACzB7xD,SAAU,CAAAlJ,CAAC,IAAI+6D,SAAU;EACzBA,SAAU;EACVA,SAAU;AACZ;AAEA,SAASE,UAAWA,CAAA3U,UAAU,EAAEp9C,SAAS,EAAE;EACzC,IAAM+wD,UAAA,GAAa/wD,SAAA,CAAU+wD,UAAU;EAEvC,SAASiB,mBAAmBC,SAAS,EAAE;IACrC,IAAMC,MAAS;MAACj6D,IAAM;MAAGF,GAAK;MAAGG,KAAO;MAAGF,MAAQ;IAAC;IACpDi6D,SAAU,CAAAnjD,OAAO,CAAC,UAACigD,GAAQ;MACzBmD,MAAM,CAACnD,GAAA,CAAI,GAAGx0D,IAAA,CAAKN,GAAG,CAAC+F,SAAS,CAAC+uD,GAAI,GAAEgC,UAAU,CAAChC,GAAI;IACxD;IACA,OAAOmD,MAAA;EACT;EAEA,OAAO9U,UAAA,GACH4U,kBAAmB,EAAC,QAAQ,QAAQ,IACpCA,kBAAmB,EAAC,OAAO,SAAS,CAAC;AAC3C;AAEA,SAASG,SAAS/C,KAAK,EAAEpvD,SAAS,EAAEkwD,MAAM,EAAE9gB,MAAM,EAAE;EAClD,IAAMgjB,UAAA,GAAa,EAAE;EACrB,IAAIx6D,CAAG,EAAAi2C,IAAA,EAAMvnB,MAAQ,EAAA2oC,GAAA,EAAKoD,KAAO,EAAA52C,OAAA;EAEjC,KAAK7jB,CAAI,MAAGi2C,IAAO,GAAAuhB,KAAA,CAAMv3D,MAAM,EAAEw6D,KAAQ,IAAC,EAAEz6D,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IACzD0uB,MAAS,GAAA8oC,KAAK,CAACx3D,CAAE;IACjBq3D,GAAA,GAAM3oC,MAAA,CAAO2oC,GAAG;IAEhBA,GAAA,CAAItuD,MAAM,CACR2lB,MAAA,CAAOrpB,KAAK,IAAI+C,SAAA,CAAUs5B,CAAC,EAC3BhT,MAAO,CAAAppB,MAAM,IAAI8C,SAAU,CAAAm3B,CAAC,EAC5B46B,UAAW,CAAAzrC,MAAA,CAAO82B,UAAU,EAAEp9C,SAAA;IAEhC,IAAAsyD,WAAA,GAAsBpB,UAAA,CAAWlxD,SAAW,EAAAkwD,MAAA,EAAQ5pC,MAAQ,EAAA8oB,MAAA;MAArDsiB,IAAA,GAAAY,WAAA,CAAAZ,IAAA;MAAMC,KAAA,GAAAW,WAAA,CAAAX,KAAA;IAIbU,KAAS,IAAAX,IAAA,IAAQU,UAAA,CAAWv6D,MAAM;IAGlC4jB,OAAA,GAAUA,OAAW,IAAAk2C,KAAA;IAErB,IAAI,CAAC1C,GAAI,CAAAoB,QAAQ,EAAE;MACjB+B,UAAA,CAAWn5D,IAAI,CAACqtB,MAAA;;EAEpB;EAEA,OAAO+rC,KAAS,IAAAF,QAAA,CAASC,UAAY,EAAApyD,SAAA,EAAWkwD,MAAA,EAAQ9gB,MAAW,KAAA3zB,OAAA;AACrE;AAEA,SAAS82C,WAAWtD,GAAG,EAAEh3D,IAAI,EAAEF,GAAG,EAAEkF,KAAK,EAAEC,MAAM,EAAE;EACjD+xD,GAAA,CAAIl3D,GAAG,GAAGA,GAAA;EACVk3D,GAAA,CAAIh3D,IAAI,GAAGA,IAAA;EACXg3D,GAAI,CAAA/2D,KAAK,GAAGD,IAAO,GAAAgF,KAAA;EACnBgyD,GAAI,CAAAj3D,MAAM,GAAGD,GAAM,GAAAmF,MAAA;EACnB+xD,GAAA,CAAIhyD,KAAK,GAAGA,KAAA;EACZgyD,GAAA,CAAI/xD,MAAM,GAAGA,MAAA;AACf;AAEA,SAASs1D,WAAWpD,KAAK,EAAEpvD,SAAS,EAAEkwD,MAAM,EAAE9gB,MAAM,EAAE;EACpD,IAAMqjB,WAAA,GAAcvC,MAAA,CAAO3pC,OAAO;EAClC,IAAKzvB,CAAA,GAAQkJ,SAAA,CAARlJ,CAAA;IAAGC,CAAA,GAAKiJ,SAAA,CAALjJ,CAAA;EAAK,IAAA27D,UAAA,GAAA9iB,0BAAA,CAEQwf,KAAO;IAAAuD,MAAA;EAAA;IAA5B,KAAAD,UAAA,CAAAx5B,CAAA,MAAAy5B,MAAA,GAAAD,UAAA,CAAAv5B,CAAA,IAAApG,IAAA,GAA4B;MAAA,IAAjBzM,MAAA,GAAAqsC,MAAA,CAAAp0C,KAAA;MACT,IAAM0wC,GAAA,GAAM3oC,MAAA,CAAO2oC,GAAG;MACtB,IAAM7/C,KAAA,GAAQggC,MAAM,CAAC9oB,MAAO,CAAAlX,KAAK,CAAC,IAAI;QAACuT,KAAO;QAAGqtC,MAAQ;QAAG3pC,MAAQ;MAAC;MACrE,IAAMA,MAAA,GAASC,MAAC,CAAOgpC,WAAW,GAAGlgD,KAAA,CAAMiX,MAAM,IAAK;MACtD,IAAIC,MAAA,CAAO82B,UAAU,EAAE;QACrB,IAAMngD,KAAA,GAAQ+C,SAAU,CAAAs5B,CAAC,GAAGjT,MAAA;QAC5B,IAAMnpB,MAAS,GAAAkS,KAAA,CAAMuX,IAAI,IAAIsoC,GAAA,CAAI/xD,MAAM;QACvC,IAAIk7C,6DAAA,CAAQhpC,KAAM,CAAA1E,KAAK,CAAG;UACxB3T,CAAA,GAAIqY,KAAA,CAAM1E,KAAK;;QAEjB,IAAIukD,GAAA,CAAIoB,QAAQ,EAAE;UAChBkC,UAAA,CAAWtD,GAAK,EAAAwD,WAAA,CAAYx6D,IAAI,EAAElB,CAAG,EAAAm5D,MAAA,CAAOmB,UAAU,GAAGoB,WAAY,CAAAv6D,KAAK,GAAGu6D,WAAA,CAAYx6D,IAAI,EAAEiF,MAAA;SAC1F;UACLq1D,UAAW,CAAAtD,GAAA,EAAKjvD,SAAA,CAAU/H,IAAI,GAAGmX,KAAA,CAAM4gD,MAAM,EAAEj5D,CAAA,EAAGkG,KAAO,EAAAC,MAAA;;QAE3DkS,KAAA,CAAM1E,KAAK,GAAG3T,CAAA;QACdqY,KAAA,CAAM4gD,MAAM,IAAI/yD,KAAA;QAChBlG,CAAA,GAAIk4D,GAAA,CAAIj3D,MAAM;OACT;QACL,IAAMkF,OAAA,GAAS8C,SAAU,CAAAm3B,CAAC,GAAG9Q,MAAA;QAC7B,IAAMppB,MAAQ,GAAAmS,KAAA,CAAMuX,IAAI,IAAIsoC,GAAA,CAAIhyD,KAAK;QACrC,IAAIm7C,6DAAA,CAAQhpC,KAAM,CAAA1E,KAAK,CAAG;UACxB5T,CAAA,GAAIsY,KAAA,CAAM1E,KAAK;;QAEjB,IAAIukD,GAAA,CAAIoB,QAAQ,EAAE;UAChBkC,UAAA,CAAWtD,GAAK,EAAAn4D,CAAA,EAAG27D,WAAY,CAAA16D,GAAG,EAAEkF,MAAA,EAAOizD,MAAO,CAAAqB,WAAW,GAAGkB,WAAA,CAAYz6D,MAAM,GAAGy6D,WAAA,CAAY16D,GAAG;SAC/F;UACLw6D,UAAW,CAAAtD,GAAA,EAAKn4D,CAAA,EAAGkJ,SAAU,CAAAjI,GAAG,GAAGqX,KAAM,CAAA4gD,MAAM,EAAE/yD,MAAO,EAAAC,OAAA;;QAE1DkS,KAAA,CAAM1E,KAAK,GAAG5T,CAAA;QACdsY,KAAA,CAAM4gD,MAAM,IAAI9yD,OAAA;QAChBpG,CAAA,GAAIm4D,GAAA,CAAI/2D,KAAK;;IAEjB;EAAA,SAAAo4B,GAAA;IAAAoiC,UAAA,CAAA/qD,CAAA,CAAA2oB,GAAA;EAAA;IAAAoiC,UAAA,CAAAx6B,CAAA;EAAA;EAEAl4B,SAAA,CAAUlJ,CAAC,GAAGA,CAAA;EACdkJ,SAAA,CAAUjJ,CAAC,GAAGA,CAAA;AAChB;AAwBA,IAAA44D,OAAA,GAAe;EAQbiD,MAAO,WAAAA,OAAAl8D,KAAK,EAAEsV,IAAI,EAAE;IAClB,IAAI,CAACtV,KAAM,CAAA04D,KAAK,EAAE;MAChB14D,KAAM,CAAA04D,KAAK,GAAG,EAAE;;IAIlBpjD,IAAA,CAAKqkD,QAAQ,GAAGrkD,IAAK,CAAAqkD,QAAQ,IAAI,KAAK;IACtCrkD,IAAA,CAAK2gD,QAAQ,GAAG3gD,IAAK,CAAA2gD,QAAQ,IAAI;IACjC3gD,IAAA,CAAKqa,MAAM,GAAGra,IAAK,CAAAqa,MAAM,IAAI;IAE7Bra,IAAA,CAAK6mD,OAAO,GAAG7mD,IAAK,CAAA6mD,OAAO,IAAI,YAAW;MACxC,OAAO,CAAC;QACNC,CAAG;QACHvpD,IAAA,WAAAA,KAAKvJ,SAAS,EAAE;UACdgM,IAAA,CAAKzC,IAAI,CAACvJ,SAAA;QACZ;MACF,EAAE;IACJ;IAEAtJ,KAAM,CAAA04D,KAAK,CAACn2D,IAAI,CAAC+S,IAAA;EACnB;EAOA+mD,SAAU,WAAAA,UAAAr8D,KAAK,EAAEs8D,UAAU,EAAE;IAC3B,IAAMtjD,KAAA,GAAQhZ,KAAM,CAAA04D,KAAK,GAAG14D,KAAA,CAAM04D,KAAK,CAACx4D,OAAO,CAACo8D,UAAc,KAAC,CAAC;IAChE,IAAItjD,KAAA,KAAU,CAAC,CAAG;MAChBhZ,KAAA,CAAM04D,KAAK,CAACz0C,MAAM,CAACjL,KAAO;;EAE9B;EAQAu8B,SAAA,WAAAA,UAAUv1C,KAAK,EAAEsV,IAAI,EAAE5T,OAAO,EAAE;IAC9B4T,IAAK,CAAAqkD,QAAQ,GAAGj4D,OAAA,CAAQi4D,QAAQ;IAChCrkD,IAAK,CAAA2gD,QAAQ,GAAGv0D,OAAA,CAAQu0D,QAAQ;IAChC3gD,IAAK,CAAAqa,MAAM,GAAGjuB,OAAA,CAAQiuB,MAAM;EAC9B;EAUA1lB,MAAA,WAAAA,OAAOjK,KAAK,EAAEuG,KAAK,EAAEC,MAAM,EAAE+1D,UAAU,EAAE;IACvC,IAAI,CAACv8D,KAAO;MACV;;IAGF,IAAM6vB,OAAA,GAAU2sC,6DAAU,CAAAx8D,KAAA,CAAM0B,OAAO,CAACkuB,MAAM,CAACC,OAAO;IACtD,IAAM+pC,cAAA,GAAiB/1D,IAAK,CAAAN,GAAG,CAACgD,KAAQ,GAAAspB,OAAA,CAAQtpB,KAAK,EAAE;IACvD,IAAMszD,eAAA,GAAkBh2D,IAAK,CAAAN,GAAG,CAACiD,MAAS,GAAAqpB,OAAA,CAAQrpB,MAAM,EAAE;IAC1D,IAAMkyD,KAAA,GAAQoB,gBAAiB,CAAA95D,KAAA,CAAM04D,KAAK;IAC1C,IAAM+D,aAAA,GAAgB/D,KAAA,CAAMyB,QAAQ;IACpC,IAAMuC,eAAA,GAAkBhE,KAAA,CAAMhS,UAAU;IAIxC1nD,6DAAA,CAAKgB,KAAM,CAAA04D,KAAK,EAAE,UAAAH,GAAO;MACvB,IAAI,OAAOA,GAAA,CAAIoE,YAAY,KAAK,UAAY;QAC1CpE,GAAA,CAAIoE,YAAY;;IAEpB;IA6BA,IAAMC,uBAAA,GAA0BH,aAAc,CAAAxpB,MAAM,CAAC,UAACob,KAAA,EAAOx0B,IAC3D;MAAA,OAAAA,IAAA,CAAK0+B,GAAG,CAAC72D,OAAO,IAAIm4B,IAAA,CAAK0+B,GAAG,CAAC72D,OAAO,CAACovB,OAAO,KAAK,KAAK,GAAGu9B,KAAQ,GAAAA,KAAA,GAAQ,CAAC;IAAA,GAAE,CAAM;IAEpF,IAAMmL,MAAA,GAASx4D,MAAO,CAAA8gD,MAAM,CAAC;MAC3B6Y,UAAY,EAAAp0D,KAAA;MACZs0D,WAAa,EAAAr0D,MAAA;MACbqpB,OAAA,EAAAA,OAAA;MACA+pC,cAAA,EAAAA,cAAA;MACAC,eAAA,EAAAA,eAAA;MACAJ,YAAA,EAAcG,cAAA,GAAiB,CAAI,GAAAgD,uBAAA;MACnClD,aAAA,EAAeG,eAAkB;IACnC;IACA,IAAMQ,UAAa,GAAAr5D,MAAA,CAAO6X,MAAM,CAAC,EAAI,EAAAgX,OAAA;IACrCyqC,gBAAA,CAAiBD,UAAA,EAAYmC,6DAAU,CAAAD,UAAA;IACvC,IAAMjzD,SAAA,GAAYtI,MAAO,CAAA6X,MAAM,CAAC;MAC9BwhD,UAAA,EAAAA,UAAA;MACAz3B,CAAG,EAAAg3B,cAAA;MACHn5B,CAAG,EAAAo5B,eAAA;MACHz5D,CAAA,EAAGyvB,OAAA,CAAQtuB,IAAI;MACflB,CAAA,EAAGwvB,OAAA,CAAQxuB;KACV,EAAAwuB,OAAA;IAEH,IAAM6oB,MAAS,GAAA6gB,aAAA,CAAckD,aAAc,CAAAhnD,MAAM,CAACinD,eAAkB,GAAAlD,MAAA;IAGpEiC,QAAA,CAAS/C,KAAM,CAAAiB,QAAQ,EAAErwD,SAAA,EAAWkwD,MAAQ,EAAA9gB,MAAA;IAG5C+iB,QAAS,CAAAgB,aAAA,EAAenzD,SAAA,EAAWkwD,MAAQ,EAAA9gB,MAAA;IAG3C,IAAI+iB,QAAS,CAAAiB,eAAA,EAAiBpzD,SAAW,EAAAkwD,MAAA,EAAQ9gB,MAAS;MAExD+iB,QAAS,CAAAgB,aAAA,EAAenzD,SAAA,EAAWkwD,MAAQ,EAAA9gB,MAAA;;IAG7CwiB,gBAAiB,CAAA5xD,SAAA;IAGjBwyD,UAAA,CAAWpD,KAAM,CAAAuB,UAAU,EAAE3wD,SAAA,EAAWkwD,MAAQ,EAAA9gB,MAAA;IAGhDpvC,SAAU,CAAAlJ,CAAC,IAAIkJ,SAAA,CAAUs5B,CAAC;IAC1Bt5B,SAAU,CAAAjJ,CAAC,IAAIiJ,SAAA,CAAUm3B,CAAC;IAE1Bq7B,UAAA,CAAWpD,KAAM,CAAAwB,cAAc,EAAE5wD,SAAA,EAAWkwD,MAAQ,EAAA9gB,MAAA;IAEpD14C,KAAA,CAAMsJ,SAAS,GAAG;MAChB/H,IAAA,EAAM+H,SAAA,CAAU/H,IAAI;MACpBF,GAAA,EAAKiI,SAAA,CAAUjI,GAAG;MAClBG,KAAA,EAAO8H,SAAU,CAAA/H,IAAI,GAAG+H,SAAA,CAAUs5B,CAAC;MACnCthC,MAAA,EAAQgI,SAAU,CAAAjI,GAAG,GAAGiI,SAAA,CAAUm3B,CAAC;MACnCj6B,MAAA,EAAQ8C,SAAA,CAAUm3B,CAAC;MACnBl6B,KAAA,EAAO+C,SAAA,CAAUs5B;IACnB;IAGA5jC,6DAAA,CAAK05D,KAAM,CAAApvD,SAAS,EAAE,UAACsmB,MAAW;MAChC,IAAM2oC,GAAA,GAAM3oC,MAAA,CAAO2oC,GAAG;MACtBv3D,MAAA,CAAO6X,MAAM,CAAC0/C,GAAK,EAAAv4D,KAAA,CAAMsJ,SAAS;MAClCivD,GAAA,CAAItuD,MAAM,CAACX,SAAA,CAAUs5B,CAAC,EAAEt5B,SAAA,CAAUm3B,CAAC,EAAE;QAACl/B,IAAM;QAAGF,GAAK;QAAGG,KAAO;QAAGF,MAAQ;MAAC;IAC5E;EACF;AACF,CAAE;AAAA,IC9bmBu7D,YAAA;EAAA,SAAAA,aAAA;IAAAhtB,eAAA,OAAAgtB,YAAA;EAAA;EAAA7sB,YAAA,CAAA6sB,YAAA;IAAAn9D,GAAA;IAAAmoB,KAAA,EAOnB,SAAAi1C,eAAelvD,MAAM,EAAE+hD,WAAW,EAAE;EAAC;IAAAjwD,GAAA;IAAAmoB,KAAA,EAQrC,SAAAk1C,eAAenlD,OAAO,EAAE;MACtB,OAAO,KAAK;IACd;EAAA;IAAAlY,GAAA;IAAAmoB,KAAA,EASA,SAAA/a,iBAAiB9M,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EAAC;IAAAt9D,GAAA;IAAAmoB,KAAA,EAQzC,SAAAnb,oBAAoB1M,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EAAC;IAAAt9D,GAAA;IAAAmoB,KAAA,EAK5C,SAAAo1C,oBAAA,EAAsB;MACpB,OAAO;IACT;EAAA;IAAAv9D,GAAA;IAAAmoB,KAAA,EASA,SAAAq1C,eAAe5gD,OAAO,EAAE/V,KAAK,EAAEC,MAAM,EAAEmpD,WAAW,EAAE;MAClDppD,KAAA,GAAQ1C,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAgD,KAAA,IAAS+V,OAAA,CAAQ/V,KAAK;MAC1CC,MAAS,GAAAA,MAAA,IAAU8V,OAAA,CAAQ9V,MAAM;MACjC,OAAO;QACLD,KAAA,EAAAA,KAAA;QACAC,MAAQ,EAAA3C,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAosD,WAAA,GAAc9rD,IAAA,CAAKotB,KAAK,CAAC1qB,KAAQ,GAAAopD,WAAA,IAAenpD,MAAM;MAC5E;IACF;EAAA;IAAA9G,GAAA;IAAAmoB,KAAA,EAMA,SAAAs1C,WAAWvvD,MAAM,EAAE;MACjB,OAAO,IAAI;IACb;EAAA;IAAAlO,GAAA;IAAAmoB,KAAA,EAMA,SAAAu1C,aAAa7rC,MAAM,EAAE,CAErB;EAAA;EAAA,OAAAsrC,YAAA;AAAA;AAAA,ICrEmBQ,aAAsB,0BAAAC,aAAA;EAAA7V,SAAA,CAAA4V,aAAA,EAAAC,aAAA;EAAA,IAAAC,OAAA,GAAA7V,YAAA,CAAA2V,aAAA;EAAA,SAAAA,cAAA;IAAAxtB,eAAA,OAAAwtB,aAAA;IAAA,OAAAE,OAAA,CAAA3kD,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAAqtB,aAAA;IAAA39D,GAAA;IAAAmoB,KAAA,EACzC,SAAAi1C,eAAexnD,IAAI,EAAE;MAInB,OAAOA,IAAA,IAAQA,IAAA,CAAKspC,UAAU,IAAItpC,IAAA,CAAKspC,UAAU,CAAC,SAAS,IAAI;IACjE;EAAA;IAAAl/C,GAAA;IAAAmoB,KAAA,EACA,SAAAu1C,aAAa7rC,MAAM,EAAE;MACnBA,MAAA,CAAO7vB,OAAO,CAACg0C,SAAS,GAAG,KAAK;IAClC;EAAA;EAAA,OAAA2nB,aAAA;AAAA,EATyCR,YAAA;ACC3C,IAAMW,WAAc;AAOpB,IAAMC,WAAc;EAClBt5C,UAAY;EACZC,SAAW;EACXC,QAAU;EACVq5C,YAAc;EACd56C,WAAa;EACbC,WAAa;EACbC,SAAW;EACX26C,YAAc;EACdz6C,UAAY;AACd;AAEA,IAAM06C,aAAA,GAAgB,SAAhBA,cAAgB/1C,KAAA;EAAA,OAASA,KAAU,SAAI,IAAIA,KAAU;AAAA;AAQ3D,SAASg2C,WAAWjwD,MAAM,EAAE+hD,WAAW,EAAE;EACvC,IAAMzoC,KAAA,GAAQtZ,MAAA,CAAOsZ,KAAK;EAI1B,IAAM42C,YAAA,GAAelwD,MAAO,CAAAmwD,YAAY,CAAC;EACzC,IAAMC,WAAA,GAAcpwD,MAAO,CAAAmwD,YAAY,CAAC;EAGxCnwD,MAAM,CAAC4vD,WAAA,CAAY,GAAG;IACpB3rB,OAAS;MACPrrC,MAAQ,EAAAs3D,YAAA;MACRv3D,KAAO,EAAAy3D,WAAA;MACP92C,KAAO;QACL4J,OAAA,EAAS5J,KAAA,CAAM4J,OAAO;QACtBtqB,MAAA,EAAQ0gB,KAAA,CAAM1gB,MAAM;QACpBD,KAAA,EAAO2gB,KAAA,CAAM3gB;MACf;IACF;EACF;EAKA2gB,KAAA,CAAM4J,OAAO,GAAG5J,KAAM,CAAA4J,OAAO,IAAI;EAEjC5J,KAAA,CAAM+2C,SAAS,GAAG/2C,KAAM,CAAA+2C,SAAS,IAAI;EAErC,IAAIL,aAAA,CAAcI,WAAc;IAC9B,IAAME,YAAA,GAAeC,6DAAA,CAAavwD,MAAQ;IAC1C,IAAIswD,YAAA,KAAiBj+D,SAAW;MAC9B2N,MAAA,CAAOrH,KAAK,GAAG23D,YAAA;;;EAInB,IAAIN,aAAA,CAAcE,YAAe;IAC/B,IAAIlwD,MAAO,CAAAsZ,KAAK,CAAC1gB,MAAM,KAAK,EAAI;MAI9BoH,MAAA,CAAOpH,MAAM,GAAGoH,MAAA,CAAOrH,KAAK,IAAIopD,WAAA,IAAe;KAC1C;MACL,IAAMyO,aAAA,GAAgBD,6DAAA,CAAavwD,MAAQ;MAC3C,IAAIwwD,aAAA,KAAkBn+D,SAAW;QAC/B2N,MAAA,CAAOpH,MAAM,GAAG43D,aAAA;;;;EAKtB,OAAOxwD,MAAA;AACT;AAIA,IAAMywD,oBAAA,GAAuBC,yDAA+B;EAACC,OAAA,EAAS;AAAI,IAAI,KAAK;AAEnF,SAASC,YAAY5jD,IAAI,EAAE1R,IAAI,EAAE8zD,QAAQ,EAAE;EACzCpiD,IAAK,CAAA9N,gBAAgB,CAAC5D,IAAA,EAAM8zD,QAAU,EAAAqB,oBAAA;AACxC;AAEA,SAASI,eAAez+D,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EAC7Ch9D,KAAA,CAAM4N,MAAM,CAAClB,mBAAmB,CAACxD,IAAA,EAAM8zD,QAAU,EAAAqB,oBAAA;AACnD;AAEA,SAASK,eAAgBA,CAAA/+D,KAAK,EAAEK,KAAK,EAAE;EACrC,IAAMkJ,IAAA,GAAOu0D,WAAW,CAAC99D,KAAA,CAAMuJ,IAAI,CAAC,IAAIvJ,KAAA,CAAMuJ,IAAI;EAClD,IAAAy1D,oBAAA,GAAev/D,6DAAA,CAAoBO,KAAO,EAAAK,KAAA;IAAnCI,CAAC,GAAAu+D,oBAAA,CAADv+D,CAAC;IAAEC,CAAA,GAAAs+D,oBAAA,CAAAt+D,CAAA;EACV,OAAO;IACL6I,IAAA,EAAAA,IAAA;IACAlJ,KAAA,EAAAA,KAAA;IACA,UAAQL,KAAA;IACRS,CAAG,EAAAA,CAAA,KAAMH,SAAY,GAAAG,CAAA,GAAI,IAAI;IAC7BC,CAAG,EAAAA,CAAA,KAAMJ,SAAY,GAAAI,CAAA,GAAI;EAC3B;AACF;AAEA,SAASu+D,gBAAiBA,CAAAC,QAAQ,EAAEjxD,MAAM,EAAE;EAAA,IAAAkxD,UAAA,GAAA5lB,0BAAA,CACvB2lB,QAAU;IAAAE,MAAA;EAAA;IAA7B,KAAAD,UAAA,CAAAt8B,CAAA,MAAAu8B,MAAA,GAAAD,UAAA,CAAAr8B,CAAA,IAAApG,IAAA,GAA6B;MAAA,IAAlBzhB,IAAA,GAAAmkD,MAAA,CAAAl3C,KAAA;MACT,IAAIjN,IAAS,KAAAhN,MAAA,IAAUgN,IAAK,CAAAokD,QAAQ,CAACpxD,MAAS;QAC5C,OAAO,IAAI;;IAEf;EAAA,SAAAgsB,GAAA;IAAAklC,UAAA,CAAA7tD,CAAA,CAAA2oB,GAAA;EAAA;IAAAklC,UAAA,CAAAt9B,CAAA;EAAA;AACF;AAEA,SAASy9B,qBAAqBj/D,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EACnD,IAAMpvD,MAAA,GAAS5N,KAAA,CAAM4N,MAAM;EAC3B,IAAMsxD,QAAW,OAAIC,gBAAiB,WAAAC,OAAW;IAC/C,IAAIC,OAAA,GAAU,KAAK;IAAA,IAAAC,UAAA,GAAApmB,0BAAA,CACCkmB,OAAS;MAAAG,MAAA;IAAA;MAA7B,KAAAD,UAAA,CAAA98B,CAAA,MAAA+8B,MAAA,GAAAD,UAAA,CAAA78B,CAAA,IAAApG,IAAA,GAA6B;QAAA,IAAlBQ,KAAA,GAAA0iC,MAAA,CAAA13C,KAAA;QACTw3C,OAAA,GAAUA,OAAW,IAAAT,gBAAA,CAAiB/hC,KAAM,CAAA2iC,UAAU,EAAE5xD,MAAA;QACxDyxD,OAAA,GAAUA,OAAW,KAACT,gBAAiB,CAAA/hC,KAAA,CAAM4iC,YAAY,EAAE7xD,MAAA;MAC7D;IAAA,SAAAgsB,GAAA;MAAA0lC,UAAA,CAAAruD,CAAA,CAAA2oB,GAAA;IAAA;MAAA0lC,UAAA,CAAA99B,CAAA;IAAA;IACA,IAAI69B,OAAS;MACXrC,QAAA;;EAEJ;EACAkC,QAAS,CAAAQ,OAAO,CAAC5xD,QAAU;IAAC6xD,SAAA,EAAW,IAAI;IAAEC,OAAA,EAAS;EAAI;EAC1D,OAAOV,QAAA;AACT;AAEA,SAASW,qBAAqB7/D,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EACnD,IAAMpvD,MAAA,GAAS5N,KAAA,CAAM4N,MAAM;EAC3B,IAAMsxD,QAAW,OAAIC,gBAAiB,WAAAC,OAAW;IAC/C,IAAIC,OAAA,GAAU,KAAK;IAAA,IAAAS,UAAA,GAAA5mB,0BAAA,CACCkmB,OAAS;MAAAW,MAAA;IAAA;MAA7B,KAAAD,UAAA,CAAAt9B,CAAA,MAAAu9B,MAAA,GAAAD,UAAA,CAAAr9B,CAAA,IAAApG,IAAA,GAA6B;QAAA,IAAlBQ,KAAA,GAAAkjC,MAAA,CAAAl4C,KAAA;QACTw3C,OAAA,GAAUA,OAAW,IAAAT,gBAAA,CAAiB/hC,KAAM,CAAA4iC,YAAY,EAAE7xD,MAAA;QAC1DyxD,OAAA,GAAUA,OAAW,KAACT,gBAAiB,CAAA/hC,KAAA,CAAM2iC,UAAU,EAAE5xD,MAAA;MAC3D;IAAA,SAAAgsB,GAAA;MAAAkmC,UAAA,CAAA7uD,CAAA,CAAA2oB,GAAA;IAAA;MAAAkmC,UAAA,CAAAt+B,CAAA;IAAA;IACA,IAAI69B,OAAS;MACXrC,QAAA;;EAEJ;EACAkC,QAAS,CAAAQ,OAAO,CAAC5xD,QAAU;IAAC6xD,SAAA,EAAW,IAAI;IAAEC,OAAA,EAAS;EAAI;EAC1D,OAAOV,QAAA;AACT;AAEA,IAAMc,kBAAA,GAAqB,IAAI5uB,GAAA;AAC/B,IAAI6uB,mBAAsB;AAE1B,SAASC,cAAiBA,CAAA;EACxB,IAAMC,GAAA,GAAMtyD,MAAA,CAAOuyD,gBAAgB;EACnC,IAAID,GAAA,KAAQF,mBAAqB;IAC/B;;EAEFA,mBAAsB,GAAAE,GAAA;EACtBH,kBAAA,CAAmB5nD,OAAO,CAAC,UAACioD,MAAA,EAAQrgE,KAAU;IAC5C,IAAIA,KAAA,CAAMsgE,uBAAuB,KAAKH,GAAK;MACzCE,MAAA;;EAEJ;AACF;AAEA,SAASE,6BAA8BA,CAAAvgE,KAAK,EAAEqgE,MAAM,EAAE;EACpD,IAAI,CAACL,kBAAmB,CAAA/vC,IAAI,EAAE;IAC5BpiB,MAAO,CAAAf,gBAAgB,CAAC,QAAU,EAAAozD,cAAA;;EAEpCF,kBAAmB,CAAA/8D,GAAG,CAACjD,KAAO,EAAAqgE,MAAA;AAChC;AAEA,SAASG,gCAAgCxgE,KAAK,EAAE;EAC9CggE,kBAAA,UAAyB,CAAChgE,KAAA;EAC1B,IAAI,CAACggE,kBAAmB,CAAA/vC,IAAI,EAAE;IAC5BpiB,MAAO,CAAAnB,mBAAmB,CAAC,QAAU,EAAAwzD,cAAA;;AAEzC;AAEA,SAASO,qBAAqBzgE,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EACnD,IAAMpvD,MAAA,GAAS5N,KAAA,CAAM4N,MAAM;EAC3B,IAAM8yD,SAAA,GAAY9yD,MAAA,IAAU+yD,6DAAe,CAAA/yD,MAAA;EAC3C,IAAI,CAAC8yD,SAAW;IACd;;EAEF,IAAML,MAAS,GAAAO,6DAAA,CAAU,UAACr6D,KAAA,EAAOC,MAAW;IAC1C,IAAMo8B,CAAA,GAAI89B,SAAA,CAAUG,WAAW;IAC/B7D,QAAA,CAASz2D,KAAO,EAAAC,MAAA;IAChB,IAAIo8B,CAAA,GAAI89B,SAAU,CAAAG,WAAW,EAAE;MAQ7B7D,QAAA;;GAED,EAAAnvD,MAAA;EAGH,IAAMqxD,QAAW,OAAI4B,cAAe,WAAA1B,OAAW;IAC7C,IAAMviC,KAAA,GAAQuiC,OAAO,CAAC,CAAE;IACxB,IAAM74D,KAAQ,GAAAs2B,KAAA,CAAMkkC,WAAW,CAACx6D,KAAK;IACrC,IAAMC,MAAS,GAAAq2B,KAAA,CAAMkkC,WAAW,CAACv6D,MAAM;IAIvC,IAAID,KAAA,KAAU,CAAK,IAAAC,MAAA,KAAW,CAAG;MAC/B;;IAEF65D,MAAA,CAAO95D,KAAO,EAAAC,MAAA;EAChB;EACA04D,QAAA,CAASQ,OAAO,CAACgB,SAAA;EACjBH,6BAAA,CAA8BvgE,KAAO,EAAAqgE,MAAA;EAErC,OAAOnB,QAAA;AACT;AAEA,SAAS8B,gBAAgBhhE,KAAK,EAAEkJ,IAAI,EAAEg2D,QAAQ,EAAE;EAC9C,IAAIA,QAAU;IACZA,QAAA,CAAS+B,UAAU;;EAErB,IAAI/3D,IAAA,KAAS,QAAU;IACrBs3D,+BAAgC,CAAAxgE,KAAA;;AAEpC;AAEA,SAASkhE,qBAAqBlhE,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;EACnD,IAAMpvD,MAAA,GAAS5N,KAAA,CAAM4N,MAAM;EAC3B,IAAMuzD,KAAA,GAAQP,6DAAU,WAACjhE,KAAU;IAIjC,IAAIK,KAAM,CAAAkT,GAAG,KAAK,IAAI,EAAE;MACtB8pD,QAAA,CAAS0B,eAAA,CAAgB/+D,KAAO,EAAAK,KAAA;;GAEjC,EAAAA,KAAA;EAEHw+D,WAAA,CAAY5wD,MAAA,EAAQ1E,IAAM,EAAAi4D,KAAA;EAE1B,OAAOA,KAAA;AACT;AAAA,IAMqBC,WAAoB,0BAAAC,cAAA;EAAA5Z,SAAA,CAAA2Z,WAAA,EAAAC,cAAA;EAAA,IAAAC,QAAA,GAAA5Z,YAAA,CAAA0Z,WAAA;EAAA,SAAAA,YAAA;IAAAvxB,eAAA,OAAAuxB,WAAA;IAAA,OAAAE,QAAA,CAAA1oD,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAAoxB,WAAA;IAAA1hE,GAAA;IAAAmoB,KAAA,EAOvC,SAAAi1C,eAAelvD,MAAM,EAAE+hD,WAAW,EAAE;MAIlC,IAAM/3C,OAAA,GAAUhK,MAAU,IAAAA,MAAA,CAAOgxC,UAAU,IAAIhxC,MAAA,CAAOgxC,UAAU,CAAC;MASjE,IAAIhnC,OAAW,IAAAA,OAAA,CAAQhK,MAAM,KAAKA,MAAQ;QAGxCiwD,UAAA,CAAWjwD,MAAQ,EAAA+hD,WAAA;QACnB,OAAO/3C,OAAA;;MAGT,OAAO,IAAI;IACb;EAAA;IAAAlY,GAAA;IAAAmoB,KAAA,EAKA,SAAAk1C,eAAenlD,OAAO,EAAE;MACtB,IAAMhK,MAAA,GAASgK,OAAA,CAAQhK,MAAM;MAC7B,IAAI,CAACA,MAAM,CAAC4vD,WAAA,CAAY,EAAE;QACxB,OAAO,KAAK;;MAGd,IAAM3rB,OAAU,GAAAjkC,MAAM,CAAC4vD,WAAA,CAAY,CAAC3rB,OAAO;MAC3C,CAAC,UAAU,QAAQ,CAACz5B,OAAO,CAAC,UAAClU,IAAS;QACpC,IAAM2jB,KAAA,GAAQgqB,OAAO,CAAC3tC,IAAK;QAC3B,IAAIohD,6DAAA,CAAcz9B,KAAQ;UACxBja,MAAA,CAAO2zD,eAAe,CAACr9D,IAAA;SAClB;UACL0J,MAAO,CAAA4zD,YAAY,CAACt9D,IAAM,EAAA2jB,KAAA;;MAE9B;MAEA,IAAMX,KAAQ,GAAA2qB,OAAA,CAAQ3qB,KAAK,IAAI,EAAC;MAChClmB,MAAA,CAAOC,IAAI,CAACimB,KAAA,EAAO9O,OAAO,CAAC,UAAC1Y,GAAQ;QAClCkO,MAAA,CAAOsZ,KAAK,CAACxnB,GAAA,CAAI,GAAGwnB,KAAK,CAACxnB,GAAI;MAChC;MAOAkO,MAAO,CAAArH,KAAK,GAAGqH,MAAA,CAAOrH,KAAK;MAE3B,OAAOqH,MAAM,CAAC4vD,WAAY;MAC1B,OAAO,IAAI;IACb;EAAA;IAAA99D,GAAA;IAAAmoB,KAAA,EAQA,SAAA/a,iBAAiB9M,KAAK,EAAEkJ,IAAI,EAAE8zD,QAAQ,EAAE;MAEtC,IAAI,CAACtwD,mBAAmB,CAAC1M,KAAO,EAAAkJ,IAAA;MAEhC,IAAMu4D,OAAA,GAAUzhE,KAAA,CAAM0hE,QAAQ,KAAK1hE,KAAM,CAAA0hE,QAAQ,GAAG,EAAC;MACrD,IAAM3+D,QAAW;QACf4+D,MAAQ,EAAA1C,oBAAA;QACR2C,MAAQ,EAAA/B,oBAAA;QACRQ,MAAQ,EAAAI;MACV;MACA,IAAMj0D,OAAU,GAAAzJ,QAAQ,CAACmG,IAAA,CAAK,IAAIg4D,oBAAA;MAClCO,OAAO,CAACv4D,IAAA,CAAK,GAAGsD,OAAA,CAAQxM,KAAA,EAAOkJ,IAAM,EAAA8zD,QAAA;IACvC;EAAA;IAAAt9D,GAAA;IAAAmoB,KAAA,EAOA,SAAAnb,oBAAoB1M,KAAK,EAAEkJ,IAAI,EAAE;MAC/B,IAAMu4D,OAAA,GAAUzhE,KAAA,CAAM0hE,QAAQ,KAAK1hE,KAAM,CAAA0hE,QAAQ,GAAG,EAAC;MACrD,IAAMP,KAAA,GAAQM,OAAO,CAACv4D,IAAK;MAE3B,IAAI,CAACi4D,KAAO;QACV;;MAGF,IAAMp+D,QAAW;QACf4+D,MAAQ,EAAAX,eAAA;QACRY,MAAQ,EAAAZ,eAAA;QACRX,MAAQ,EAAAW;MACV;MACA,IAAMx0D,OAAU,GAAAzJ,QAAQ,CAACmG,IAAA,CAAK,IAAIu1D,cAAA;MAClCjyD,OAAA,CAAQxM,KAAA,EAAOkJ,IAAM,EAAAi4D,KAAA;MACrBM,OAAO,CAACv4D,IAAA,CAAK,GAAGjJ,SAAA;IAClB;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAEA,SAAAo1C,oBAAA,EAAsB;MACpB,OAAOpvD,MAAA,CAAOuyD,gBAAgB;IAChC;EAAA;IAAA1gE,GAAA;IAAAmoB,KAAA,EAQA,SAAAq1C,eAAetvD,MAAM,EAAErH,KAAK,EAAEC,MAAM,EAAEmpD,WAAW,EAAE;MACjD,OAAOuN,6DAAA,CAAetvD,MAAQ,EAAArH,KAAA,EAAOC,MAAQ,EAAAmpD,WAAA;IAC/C;EAAA;IAAAjwD,GAAA;IAAAmoB,KAAA,EAKA,SAAAs1C,WAAWvvD,MAAM,EAAE;MACjB,IAAM8yD,SAAA,GAAYC,6DAAe,CAAA/yD,MAAA;MACjC,OAAO,CAAC,EAAE8yD,SAAa,IAAAA,SAAA,CAAUmB,WAAW,CAAD;IAC7C;EAAA;EAAA,OAAAT,WAAA;AAAA,EAhIuCvE,YAAA;AC1PlC,SAASiF,eAAgBA,CAAAl0D,MAAM,EAAE;EACtC,IAAI,CAACm0D,6DAAsB,aAAOC,eAAoB,oBAAep0D,MAAA,YAAkBo0D,eAAkB;IACvG,OAAO3E,aAAA;;EAET,OAAO+D,WAAA;AACT;AAAA,ICLqBa,OAAA;EAAA,SAAAA,QAAA;IAAApyB,eAAA,OAAAoyB,OAAA;IAAA3iB,eAAA;IAAAA,eAAA;IAAAA,eAAA,iBAOV,KAAK;IAAAA,eAAA;IAAAA,eAAA;EAAA;EAAAtP,YAAA,CAAAiyB,OAAA;IAAAviE,GAAA;IAAAmoB,KAAA,EAId,SAAAq6C,gBAAgBvL,gBAAyB,EAAS;MAChD,IAAAwL,cAAA,GAAe,IAAI,CAAChL,QAAQ,CAAC,CAAC,KAAK,IAAI,EAAER,gBAAA;QAAlCv2D,CAAA,GAAA+hE,cAAA,CAAA/hE,CAAA;QAAGC,CAAA,GAAA8hE,cAAA,CAAA9hE,CAAA;MACV,OAAO;QAACD,CAAA,EAAAA,CAAA;QAAGC,CAAA,EAAAA;MAAC;IACd;EAAA;IAAAX,GAAA;IAAAmoB,KAAA,EAEA,SAAAu6C,SAAA,EAAW;MACT,OAAO7Q,6DAAA,CAAS,IAAI,CAACnxD,CAAC,KAAKmxD,6DAAS,KAAI,CAAClxD,CAAC;IAC5C;EAAA;IAAAX,GAAA;IAAAmoB,KAAA,EASA,SAAAsvC,SAASn1C,KAAe,EAAEqgD,MAAe,EAAoC;MAAA,IAAAC,MAAA;MAC3E,IAAM9wB,KAAA,GAAQ,IAAI,CAAC8E,WAAW;MAC9B,IAAI,CAAC+rB,MAAS,KAAC7wB,KAAO;;QAEpB,OAAO,IAAI;;MAEb,IAAMrP,GAAA,GAA+B,EAAC;MACtCngB,KAAM,CAAA5J,OAAO,CAAC,UAAClU,IAAS;QACtBi+B,GAAG,CAACj+B,IAAA,CAAK,GAAGstC,KAAK,CAACttC,IAAK,KAAIstC,KAAK,CAACttC,IAAA,CAAK,CAAC0wC,MAAM,KAAKpD,KAAK,CAACttC,IAAA,CAAK,CAACwwC,GAAG,GAAG4tB,MAAI,CAACp+D,IAAe;MAC1F;MACA,OAAOi+B,GAAA;IACT;EAAA;EAAA,OAAA8/B,OAAA;AAAA;AAAA3iB,eAAA,CAtCmB2iB,OAAA,cAED,EAAG;AAAA3iB,eAAA,CAFF2iB,OAAA,mBAGIhiE,SAAU;ACQ5B,SAASsiE,SAASnhE,KAAK,EAAEquB,KAAK,EAAE;EACrC,IAAM+yC,QAAW,GAAAphE,KAAA,CAAMM,OAAO,CAAC+tB,KAAK;EACpC,IAAMgzC,kBAAA,GAAqBC,iBAAkB,CAAAthE,KAAA;EAC7C,IAAMuhE,UAAA,GAAa9+D,IAAK,CAAAL,GAAG,CAACg/D,QAAS,CAAAI,aAAa,IAAIH,kBAAoB,EAAAA,kBAAA;EAC1E,IAAMI,YAAA,GAAeL,QAAA,CAASM,KAAK,CAACvjE,OAAO,GAAGwjE,eAAA,CAAgBtzC,KAAA,IAAS,EAAE;EACzE,IAAMuzC,eAAA,GAAkBH,YAAA,CAAa1hE,MAAM;EAC3C,IAAM8hE,KAAA,GAAQJ,YAAY,CAAC,CAAE;EAC7B,IAAMphD,IAAO,GAAAohD,YAAY,CAACG,eAAA,GAAkB,CAAE;EAC9C,IAAME,QAAA,GAAW,EAAE;EAGnB,IAAIF,eAAA,GAAkBL,UAAY;IAChCQ,UAAW,CAAA1zC,KAAA,EAAOyzC,QAAU,EAAAL,YAAA,EAAcG,eAAkB,GAAAL,UAAA;IAC5D,OAAOO,QAAA;;EAGT,IAAM5V,OAAA,GAAU8V,gBAAiB,CAAAP,YAAA,EAAcpzC,KAAO,EAAAkzC,UAAA;EAEtD,IAAIK,eAAA,GAAkB,CAAG;IACvB,IAAI9hE,CAAG,EAAAi2C,IAAA;IACP,IAAMksB,eAAkB,GAAAL,eAAA,GAAkB,CAAI,GAAAn/D,IAAA,CAAKmC,KAAK,CAAE,CAAAyb,IAAA,GAAOwhD,KAAI,KAAMD,eAAkB,SAAM,IAAI;IACvGhY,IAAK,CAAAv7B,KAAA,EAAOyzC,QAAA,EAAU5V,OAAS,EAAAhI,6DAAA,CAAc+d,eAAA,IAAmB,CAAI,GAAAJ,KAAA,GAAQI,eAAe,EAAEJ,KAAA;IAC7F,KAAK/hE,CAAA,GAAI,GAAGi2C,IAAO,GAAA6rB,eAAA,GAAkB,CAAC,EAAE9hE,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;MACrD8pD,IAAK,CAAAv7B,KAAA,EAAOyzC,QAAU,EAAA5V,OAAA,EAASuV,YAAY,CAAC3hE,CAAA,CAAE,EAAE2hE,YAAY,CAAC3hE,CAAA,GAAI,CAAE;IACrE;IACA8pD,IAAK,CAAAv7B,KAAA,EAAOyzC,QAAU,EAAA5V,OAAA,EAAS7rC,IAAM,EAAA6jC,6DAAA,CAAc+d,eAAA,IAAmB5zC,KAAM,CAAAtuB,MAAM,GAAGsgB,IAAA,GAAO4hD,eAAe;IAC3G,OAAOH,QAAA;;EAETlY,IAAA,CAAKv7B,KAAA,EAAOyzC,QAAU,EAAA5V,OAAA;EACtB,OAAO4V,QAAA;AACT;AAEA,SAASR,kBAAkBthE,KAAK,EAAE;EAChC,IAAMkE,MAAS,GAAAlE,KAAA,CAAMM,OAAO,CAAC4D,MAAM;EACnC,IAAMg+D,UAAA,GAAaliE,KAAA,CAAMmiE,SAAS;EAClC,IAAMC,QAAA,GAAWpiE,KAAA,CAAMyjD,OAAO,GAAGye,UAAA,IAAch+D,MAAA,GAAS,CAAI,IAAC,CAAD;EAC5D,IAAMm+D,QAAA,GAAWriE,KAAM,CAAAsiE,UAAU,GAAGJ,UAAA;EACpC,OAAOz/D,IAAA,CAAKotB,KAAK,CAACptB,IAAK,CAAAL,GAAG,CAACggE,QAAU,EAAAC,QAAA;AACvC;AAOA,SAASL,gBAAiBA,CAAAP,YAAY,EAAEpzC,KAAK,EAAEkzC,UAAU,EAAE;EACzD,IAAMgB,gBAAA,GAAmBC,cAAe,CAAAf,YAAA;EACxC,IAAMvV,OAAA,GAAU79B,KAAM,CAAAtuB,MAAM,GAAGwhE,UAAA;EAI/B,IAAI,CAACgB,gBAAkB;IACrB,OAAO9/D,IAAA,CAAKN,GAAG,CAAC+pD,OAAS;;EAG3B,IAAMuW,OAAA,GAAUC,6DAAW,CAAAH,gBAAA;EAC3B,KAAK,IAAIziE,CAAI,MAAGi2C,IAAO,GAAA0sB,OAAA,CAAQ1iE,MAAM,GAAG,GAAGD,CAAI,GAAAi2C,IAAA,EAAMj2C,CAAK;IACxD,IAAMuyC,MAAA,GAASowB,OAAO,CAAC3iE,CAAE;IACzB,IAAIuyC,MAAA,GAAS6Z,OAAS;MACpB,OAAO7Z,MAAA;;EAEX;EACA,OAAO5vC,IAAA,CAAKN,GAAG,CAAC+pD,OAAS;AAC3B;AAKA,SAASyV,eAAgBA,CAAAtzC,KAAK,EAAE;EAC9B,IAAM8L,MAAA,GAAS,EAAE;EACjB,IAAIr6B,CAAG,EAAAi2C,IAAA;EACP,KAAKj2C,CAAA,GAAI,GAAGi2C,IAAO,GAAA1nB,KAAA,CAAMtuB,MAAM,EAAED,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;IAC9C,IAAIuuB,KAAK,CAACvuB,CAAE,EAAC4hE,KAAK,EAAE;MAClBvnC,MAAA,CAAOh5B,IAAI,CAACrB,CAAA;;EAEhB;EACA,OAAOq6B,MAAA;AACT;AAQA,SAAS4nC,WAAW1zC,KAAK,EAAEyzC,QAAQ,EAAEL,YAAY,EAAEvV,OAAO,EAAE;EAC1D,IAAIrhC,KAAQ;EACZ,IAAIwQ,IAAA,GAAOomC,YAAY,CAAC,CAAE;EAC1B,IAAI3hE,CAAA;EAEJosD,OAAU,GAAAzpD,IAAA,CAAKkgE,IAAI,CAACzW,OAAA;EACpB,KAAKpsD,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAIuuB,KAAM,CAAAtuB,MAAM,EAAED,CAAK;IACjC,IAAIA,CAAA,KAAMu7B,IAAM;MACdymC,QAAA,CAAS3gE,IAAI,CAACktB,KAAK,CAACvuB,CAAE;MACtB+qB,KAAA;MACAwQ,IAAO,GAAAomC,YAAY,CAAC52C,KAAA,GAAQqhC,OAAQ;;EAExC;AACF;AASA,SAAStC,IAAKA,CAAAv7B,KAAK,EAAEyzC,QAAQ,EAAE5V,OAAO,EAAE0W,UAAU,EAAEC,QAAQ,EAAE;EAC5D,IAAMjwD,KAAA,GAAQ/U,6DAAA,CAAe+kE,UAAY;EACzC,IAAM7hD,GAAA,GAAMte,IAAK,CAAAL,GAAG,CAACvE,6DAAA,CAAeglE,QAAA,EAAUx0C,KAAM,CAAAtuB,MAAM,CAAG,EAAAsuB,KAAA,CAAMtuB,MAAM;EACzE,IAAI8qB,KAAQ;EACZ,IAAI9qB,MAAA,EAAQD,CAAG,EAAAu7B,IAAA;EAEf6wB,OAAU,GAAAzpD,IAAA,CAAKkgE,IAAI,CAACzW,OAAA;EACpB,IAAI2W,QAAU;IACZ9iE,MAAA,GAAS8iE,QAAW,GAAAD,UAAA;IACpB1W,OAAA,GAAUnsD,MAAS,GAAA0C,IAAA,CAAKotB,KAAK,CAAC9vB,MAAS,GAAAmsD,OAAA;;EAGzC7wB,IAAO,GAAAzoB,KAAA;EAEP,OAAOyoB,IAAA,GAAO,CAAG;IACfxQ,KAAA;IACAwQ,IAAA,GAAO54B,IAAK,CAAAmC,KAAK,CAACgO,KAAA,GAAQiY,KAAQ,GAAAqhC,OAAA;EACpC;EAEA,KAAKpsD,CAAA,GAAI2C,IAAA,CAAKN,GAAG,CAACyQ,KAAA,EAAO,CAAI,GAAA9S,CAAA,GAAIihB,GAAA,EAAKjhB,CAAK;IACzC,IAAIA,CAAA,KAAMu7B,IAAM;MACdymC,QAAA,CAAS3gE,IAAI,CAACktB,KAAK,CAACvuB,CAAE;MACtB+qB,KAAA;MACAwQ,IAAA,GAAO54B,IAAK,CAAAmC,KAAK,CAACgO,KAAA,GAAQiY,KAAQ,GAAAqhC,OAAA;;EAEtC;AACF;AAMA,SAASsW,cAAeA,CAAAjgB,GAAG,EAAE;EAC3B,IAAMzhB,GAAA,GAAMyhB,GAAA,CAAIxiD,MAAM;EACtB,IAAID,CAAG,EAAA6zD,IAAA;EAEP,IAAI7yB,GAAA,GAAM,CAAG;IACX,OAAO,KAAK;;EAGd,KAAK6yB,IAAA,GAAOpR,GAAG,CAAC,CAAE,GAAEziD,CAAI,IAAC,EAAEA,CAAA,GAAIghC,GAAK,IAAEhhC,CAAG;IACvC,IAAIyiD,GAAG,CAACziD,CAAE,IAAGyiD,GAAG,CAACziD,CAAA,GAAI,CAAE,MAAK6zD,IAAM;MAChC,OAAO,KAAK;;EAEhB;EACA,OAAOA,IAAA;AACT;ACjKA,IAAMmP,YAAA,GAAe,SAAfA,aAAgBC,KAAU;EAAA,OAAAA,KAAA,KAAU,SAAS,OAAU,GAAAA,KAAA,KAAU,OAAU,YAASA,KAAK;AAAA;AAC/F,IAAMC,cAAA,GAAiB,SAAjBA,eAAkBhjE,KAAA,EAAOwlD,IAAA,EAAMthD,MAAW;EAAA,OAAAshD,IAAA,KAAS,SAASA,IAAS,cAASxlD,KAAK,CAACwlD,IAAA,CAAK,GAAGthD,MAAA,GAASlE,KAAK,CAACwlD,IAAA,CAAK,GAAGthD,MAAM;AAAA;AAC/H,IAAM++D,aAAA,GAAgB,SAAhBA,cAAiBC,WAAa,EAAA1B,aAAA;EAAA,OAAkB/+D,IAAA,CAAKL,GAAG,CAACo/D,aAAA,IAAiB0B,WAAa,EAAAA,WAAA;AAAA;AAY7F,SAASC,OAAO5gB,GAAG,EAAE6gB,QAAQ,EAAE;EAC7B,IAAMjpC,MAAA,GAAS,EAAE;EACjB,IAAMkpC,SAAA,GAAY9gB,GAAI,CAAAxiD,MAAM,GAAGqjE,QAAA;EAC/B,IAAMtiC,GAAA,GAAMyhB,GAAA,CAAIxiD,MAAM;EACtB,IAAID,CAAI;EAER,OAAOA,CAAA,GAAIghC,GAAK,EAAAhhC,CAAA,IAAKujE,SAAW;IAC9BlpC,MAAA,CAAOh5B,IAAI,CAACohD,GAAG,CAAC9/C,IAAK,CAAAotB,KAAK,CAAC/vB,CAAG;EAChC;EACA,OAAOq6B,MAAA;AACT;AAOA,SAASmpC,mBAAoBA,CAAAtjE,KAAK,EAAE4X,KAAK,EAAE2rD,eAAe,EAAE;EAC1D,IAAMxjE,MAAS,GAAAC,KAAA,CAAMquB,KAAK,CAACtuB,MAAM;EACjC,IAAMyjE,UAAa,GAAA/gE,IAAA,CAAKL,GAAG,CAACwV,KAAA,EAAO7X,MAAS;EAC5C,IAAM6S,KAAA,GAAQ5S,KAAA,CAAM8nD,WAAW;EAC/B,IAAM/mC,GAAA,GAAM/gB,KAAA,CAAM+nD,SAAS;EAC3B,IAAM0b,OAAA,GAAU;EAChB,IAAIC,SAAA,GAAY1jE,KAAM,CAAA4jD,eAAe,CAAC4f,UAAA;EACtC,IAAIt/D,MAAA;EAEJ,IAAIq/D,eAAiB;IACnB,IAAIxjE,MAAA,KAAW,CAAG;MAChBmE,MAAA,GAASzB,IAAK,CAAAN,GAAG,CAACuhE,SAAA,GAAY9wD,KAAA,EAAOmO,GAAM,GAAA2iD,SAAA;KACtC,UAAI9rD,KAAA,KAAU,CAAG;MACtB1T,MAAA,GAAS,CAAClE,KAAA,CAAM4jD,eAAe,CAAC,KAAK8f,SAAQ,IAAK;KAC7C;MACLx/D,MAAS,GAAC,CAAAw/D,SAAY,GAAA1jE,KAAA,CAAM4jD,eAAe,CAAC4f,UAAA,GAAa,EAAC,IAAK;;IAEjEE,SAAA,IAAaF,UAAa,GAAA5rD,KAAA,GAAQ1T,MAAS,IAACA,MAAM;IAGlD,IAAIw/D,SAAY,GAAA9wD,KAAA,GAAQ6wD,OAAW,IAAAC,SAAA,GAAY3iD,GAAA,GAAM0iD,OAAS;MAC5D;;;EAGJ,OAAOC,SAAA;AACT;AAMA,SAASC,eAAeC,MAAM,EAAE7jE,MAAM,EAAE;EACtCnC,6DAAK,CAAAgmE,MAAA,EAAQ,UAACzjB,KAAU;IACtB,IAAM0jB,EAAA,GAAK1jB,KAAA,CAAM0jB,EAAE;IACnB,IAAMC,KAAA,GAAQD,EAAG,CAAA9jE,MAAM,GAAG;IAC1B,IAAID,CAAA;IACJ,IAAIgkE,KAAA,GAAQ/jE,MAAQ;MAClB,KAAKD,CAAI,MAAGA,CAAI,GAAAgkE,KAAA,EAAO,EAAEhkE,CAAG;QAC1B,OAAOqgD,KAAA,CAAMrqC,IAAI,CAAC+tD,EAAE,CAAC/jE,CAAA,CAAE,CAAC;MAC1B;MACA+jE,EAAG,CAAAhhD,MAAM,CAAC,CAAG,EAAAihD,KAAA;;EAEjB;AACF;AAKA,SAASC,iBAAkBA,CAAAzjE,OAAO,EAAE;EAClC,OAAOA,OAAA,CAAQ0jE,SAAS,GAAG1jE,OAAQ,CAAA4hE,UAAU,GAAG,CAAC;AACnD;AAKA,SAAS+B,eAAe3jE,OAAO,EAAEyC,QAAQ,EAAE;EACzC,IAAI,CAACzC,OAAQ,CAAAovB,OAAO,EAAE;IACpB,OAAO;;EAGT,IAAMpB,IAAO,GAAA41C,8DAAA,CAAO5jE,OAAQ,CAAAguB,IAAI,EAAEvrB,QAAA;EAClC,IAAM0rB,OAAA,GAAU2sC,6DAAU,CAAA96D,OAAA,CAAQmuB,OAAO;EACzC,IAAM01C,KAAA,GAAQttD,6DAAQ,CAAAvW,OAAA,CAAQoxB,IAAI,IAAIpxB,OAAA,CAAQoxB,IAAI,CAAC3xB,MAAM,GAAG,CAAC;EAE7D,OAAOokE,KAAS,GAAA71C,IAAA,CAAK81C,UAAU,GAAI31C,OAAA,CAAQrpB,MAAM;AACnD;AAEA,SAASi/D,kBAAmBA,CAAA5qD,MAAM,EAAEzZ,KAAK,EAAE;EACzC,OAAOi5C,6DAAA,CAAcx/B,MAAQ;IAC3BzZ,KAAA,EAAAA,KAAA;IACA8H,IAAM;EACR;AACF;AAEA,SAASw8D,kBAAkB7qD,MAAM,EAAE7B,KAAK,EAAEy5B,IAAI,EAAE;EAC9C,OAAO4H,6DAAA,CAAcx/B,MAAQ;IAC3B43B,IAAA,EAAAA,IAAA;IACAz5B,KAAA,EAAAA,KAAA;IACA9P,IAAM;EACR;AACF;AAEA,SAASy8D,WAAWxB,KAAK,EAAElO,QAAQ,EAAE93B,OAAO,EAAE;EAE5C,IAAIgE,GAAA,GAAMyjC,8DAAmB,CAAAzB,KAAA;EAC7B,IAAIhmC,OAAY,IAAA83B,QAAA,KAAa,WAAa,CAAC93B,OAAA,IAAW83B,QAAA,KAAa,OAAU;IAC3E9zB,GAAA,GAAM+hC,YAAa,CAAA/hC,GAAA;;EAErB,OAAOA,GAAA;AACT;AAEA,SAAS0jC,UAAUzkE,KAAK,EAAEkE,MAAM,EAAE2wD,QAAQ,EAAEkO,KAAK,EAAE;EACjD,IAAO9iE,GAAG,GAAgCD,KAAA,CAAnCC,GAAG;IAAEE,IAAI,GAA0BH,KAAA,CAA9BG,IAAI;IAAED,MAAM,GAAkBF,KAAA,CAAxBE,MAAM;IAAEE,KAAK,GAAWJ,KAAA,CAAhBI,KAAK;IAAExB,KAAK,GAAIoB,KAAA,CAATpB,KAAK;EACtC,IAAOsJ,SAAA,GAAqBtJ,KAAA,CAArBsJ,SAAA;IAAWxI,MAAA,GAAUd,KAAA,CAAVc,MAAA;EAClB,IAAIqgB,QAAW;EACf,IAAI4sC,QAAA,EAAU+X,MAAQ,EAAAC,MAAA;EACtB,IAAMv/D,MAAA,GAASlF,MAAS,GAAAD,GAAA;EACxB,IAAMkF,KAAA,GAAQ/E,KAAQ,GAAAD,IAAA;EAEtB,IAAIH,KAAA,CAAMuC,YAAY,EAAI;IACxBmiE,MAAS,GAAAE,8DAAA,CAAe7B,KAAA,EAAO5iE,IAAM,EAAAC,KAAA;IAErC,IAAIg0C,6DAAA,CAASygB,QAAW;MACtB,IAAMgQ,cAAA,GAAiBjlE,MAAO,CAAAC,IAAI,CAACg1D,QAAA,CAAS,CAAC,CAAE;MAC/C,IAAMpuC,KAAA,GAAQouC,QAAQ,CAACgQ,cAAe;MACtCF,MAAA,GAASjlE,MAAM,CAACmlE,cAAA,CAAe,CAACn+D,gBAAgB,CAAC+f,KAAA,IAASrhB,MAAS,GAAAlB,MAAA;KAC9D,UAAI2wD,QAAA,KAAa,QAAU;MAChC8P,MAAS,GAAC,CAAAz8D,SAAA,CAAUhI,MAAM,GAAGgI,SAAA,CAAUjI,GAAE,IAAK,IAAImF,MAAS,GAAAlB,MAAA;KACtD;MACLygE,MAAS,GAAA3B,cAAA,CAAehjE,KAAA,EAAO60D,QAAU,EAAA3wD,MAAA;;IAE3CyoD,QAAA,GAAWvsD,KAAQ,GAAAD,IAAA;GACd;IACL,IAAIi0C,6DAAA,CAASygB,QAAW;MACtB,IAAMgQ,eAAA,GAAiBjlE,MAAO,CAAAC,IAAI,CAACg1D,QAAA,CAAS,CAAC,CAAE;MAC/C,IAAMpuC,MAAA,GAAQouC,QAAQ,CAACgQ,eAAe;MACtCH,MAAA,GAAShlE,MAAM,CAACmlE,eAAA,CAAe,CAACn+D,gBAAgB,CAAC+f,MAAA,IAASthB,KAAQ,GAAAjB,MAAA;KAC7D,UAAI2wD,QAAA,KAAa,QAAU;MAChC6P,MAAS,GAAC,CAAAx8D,SAAA,CAAU/H,IAAI,GAAG+H,SAAA,CAAU9H,KAAI,IAAK,IAAI+E,KAAQ,GAAAjB,MAAA;KACrD;MACLwgE,MAAS,GAAA1B,cAAA,CAAehjE,KAAA,EAAO60D,QAAU,EAAA3wD,MAAA;;IAE3CygE,MAAS,GAAAC,8DAAA,CAAe7B,KAAA,EAAO7iE,MAAQ,EAAAD,GAAA;IACvC8f,QAAA,GAAW80C,QAAa,cAAS,CAAC5J,yDAAA,GAAUA,yDAAO;;EAErD,OAAO;IAACyZ,MAAA,EAAAA,MAAA;IAAQC,MAAA,EAAAA,MAAA;IAAQhY,QAAA,EAAAA,QAAA;IAAU5sC,QAAA,EAAAA;EAAQ;AAC5C;AAAA,IAEqB+kD,KAAc,0BAAAC,QAAA;EAAA1e,SAAA,CAAAye,KAAA,EAAAC,QAAA;EAAA,IAAAC,QAAA,GAAA1e,YAAA,CAAAwe,KAAA;EAGjC,SAAAA,MAAYryB,GAAG,EAAE;IAAA,IAAAwyB,MAAA;IAAAx2B,eAAA,OAAAq2B,KAAA;IACfG,MAAA,GAAAD,QAAA,CAAAhyD,IAAA;IAGAiyD,MAAA,CAAK/hE,EAAE,GAAGuvC,GAAA,CAAIvvC,EAAE;IAEhB+hE,MAAA,CAAKn9D,IAAI,GAAG2qC,GAAA,CAAI3qC,IAAI;IAEpBm9D,MAAA,CAAK3kE,OAAO,GAAGzB,SAAA;IAEfomE,MAAA,CAAKnzD,GAAG,GAAG2gC,GAAA,CAAI3gC,GAAG;IAElBmzD,MAAA,CAAKrmE,KAAK,GAAG6zC,GAAA,CAAI7zC,KAAK;IAItBqmE,MAAA,CAAKhlE,GAAG,GAAGpB,SAAA;IAEXomE,MAAA,CAAK/kE,MAAM,GAAGrB,SAAA;IAEdomE,MAAA,CAAK9kE,IAAI,GAAGtB,SAAA;IAEZomE,MAAA,CAAK7kE,KAAK,GAAGvB,SAAA;IAEbomE,MAAA,CAAK9/D,KAAK,GAAGtG,SAAA;IAEbomE,MAAA,CAAK7/D,MAAM,GAAGvG,SAAA;IACdomE,MAAA,CAAKC,QAAQ,GAAG;MACd/kE,IAAM;MACNC,KAAO;MACPH,GAAK;MACLC,MAAQ;IACV;IAEA+kE,MAAA,CAAKtY,QAAQ,GAAG9tD,SAAA;IAEhBomE,MAAA,CAAKrY,SAAS,GAAG/tD,SAAA;IAEjBomE,MAAA,CAAKE,UAAU,GAAGtmE,SAAA;IAElBomE,MAAA,CAAKG,aAAa,GAAGvmE,SAAA;IAErBomE,MAAA,CAAKI,WAAW,GAAGxmE,SAAA;IAEnBomE,MAAA,CAAKK,YAAY,GAAGzmE,SAAA;IAIpBomE,MAAA,CAAKjkE,IAAI,GAAGnC,SAAA;IAEZomE,MAAA,CAAKM,aAAa,GAAG1mE,SAAA;IACrBomE,MAAA,CAAK7iE,GAAG,GAAGvD,SAAA;IACXomE,MAAA,CAAK9iE,GAAG,GAAGtD,SAAA;IACXomE,MAAA,CAAKO,MAAM,GAAG3mE,SAAA;IAEdomE,MAAA,CAAK52C,KAAK,GAAG,EAAE;IAEf42C,MAAA,CAAKQ,cAAc,GAAG,IAAI;IAE1BR,MAAA,CAAKS,WAAW,GAAG,IAAI;IAEvBT,MAAA,CAAKU,WAAW,GAAG,IAAI;IACvBV,MAAA,CAAKxhB,OAAO,GAAG;IACfwhB,MAAA,CAAK3C,UAAU,GAAG;IAClB2C,MAAA,CAAKW,iBAAiB,GAAG,EAAC;IAE1BX,MAAA,CAAKnd,WAAW,GAAGjpD,SAAA;IAEnBomE,MAAA,CAAKld,SAAS,GAAGlpD,SAAA;IACjBomE,MAAA,CAAK3Q,cAAc,GAAG,KAAK;IAC3B2Q,MAAA,CAAKY,QAAQ,GAAGhnE,SAAA;IAChBomE,MAAA,CAAKa,QAAQ,GAAGjnE,SAAA;IAChBomE,MAAA,CAAKc,aAAa,GAAGlnE,SAAA;IACrBomE,MAAA,CAAKe,aAAa,GAAGnnE,SAAA;IACrBomE,MAAA,CAAKgB,YAAY,GAAG;IACpBhB,MAAA,CAAKiB,YAAY,GAAG;IACpBjB,MAAA,CAAK7hB,MAAM,GAAG,EAAC;IACf6hB,MAAA,CAAKkB,iBAAiB,GAAG,KAAK;IAC9BlB,MAAA,CAAKpqB,QAAQ,GAAGh8C,SAAA;IAAA,OAAAomE,MAAA;EAClB;EAAAr2B,YAAA,CAAAk2B,KAAA;IAAAxmE,GAAA;IAAAmoB,KAAA,EAMA,SAAApJ,KAAK/c,OAAO,EAAE;MACZ,IAAI,CAACA,OAAO,GAAGA,OAAA,CAAQ8lE,UAAU,CAAC,IAAI,CAAC5oB,UAAU;MAEjD,IAAI,CAACx8C,IAAI,GAAGV,OAAA,CAAQU,IAAI;MAGxB,IAAI,CAAC8kE,QAAQ,GAAG,IAAI,CAAC3hE,KAAK,CAAC7D,OAAA,CAAQ8B,GAAG;MACtC,IAAI,CAACyjE,QAAQ,GAAG,IAAI,CAAC1hE,KAAK,CAAC7D,OAAA,CAAQ6B,GAAG;MACtC,IAAI,CAAC6jE,aAAa,GAAG,IAAI,CAAC7hE,KAAK,CAAC7D,OAAA,CAAQ+lE,YAAY;MACpD,IAAI,CAACN,aAAa,GAAG,IAAI,CAAC5hE,KAAK,CAAC7D,OAAA,CAAQgmE,YAAY;IACtD;EAAA;IAAAhoE,GAAA;IAAAmoB,KAAA,EAQA,SAAAtiB,MAAMg1C,GAAG,EAAEvhC,KAAK,EAAE;MAChB,OAAOuhC,GAAA;IACT;EAAA;IAAA76C,GAAA;IAAAmoB,KAAA,EAOA,SAAAqwB,cAAA,EAAgB;MACd,IAAKgvB,QAAQ,GAA4C,IAAI,CAAxDA,QAAQ;QAAED,QAAQ,GAAkC,IAAI,CAA9CA,QAAQ;QAAEG,aAAA,GAAgC,IAAI,CAApCA,aAAA;QAAeD,aAAA,GAAiB,IAAI,CAArBA,aAAA;MACxCD,QAAW,GAAAS,6DAAA,CAAgBT,QAAU,EAAA5uB,MAAA,CAAOE,iBAAiB;MAC7DyuB,QAAW,GAAAU,6DAAA,CAAgBV,QAAU,EAAA3uB,MAAA,CAAOC,iBAAiB;MAC7D6uB,aAAgB,GAAAO,6DAAA,CAAgBP,aAAe,EAAA9uB,MAAA,CAAOE,iBAAiB;MACvE2uB,aAAgB,GAAAQ,6DAAA,CAAgBR,aAAe,EAAA7uB,MAAA,CAAOC,iBAAiB;MACvE,OAAO;QACL/0C,GAAA,EAAKmkE,6DAAA,CAAgBT,QAAU,EAAAE,aAAA;QAC/B7jE,GAAA,EAAKokE,6DAAA,CAAgBV,QAAU,EAAAE,aAAA;QAC/B/uB,UAAA,EAAYX,6DAAS,CAAAyvB,QAAA;QACrB7uB,UAAA,EAAYZ,6DAAS,CAAAwvB,QAAA;MACvB;IACF;EAAA;IAAAvnE,GAAA;IAAAmoB,KAAA,EAQA,SAAAq4B,UAAUjF,QAAQ,EAAE;MAElB,IAAA2sB,mBAAA,GAAyC,IAAI,CAAC1vB,aAAa;QAAtD10C,GAAA,GAAAokE,mBAAA,CAAApkE,GAAA;QAAKD,GAAA,GAAAqkE,mBAAA,CAAArkE,GAAA;QAAK60C,UAAA,GAAAwvB,mBAAA,CAAAxvB,UAAA;QAAYC,UAAA,GAAAuvB,mBAAA,CAAAvvB,UAAA;MAC3B,IAAI/0C,KAAA;MAEJ,IAAI80C,UAAA,IAAcC,UAAY;QAC5B,OAAO;UAAC70C,GAAA,EAAAA,GAAA;UAAKD,GAAA,EAAAA;QAAG;;MAGlB,IAAMskE,KAAA,GAAQ,IAAI,CAAC1uB,uBAAuB;MAC1C,KAAK,IAAIj4C,CAAI,MAAGi2C,IAAO,GAAA0wB,KAAA,CAAM1mE,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAClDoC,KAAQ,GAAAukE,KAAK,CAAC3mE,CAAE,EAACo4C,UAAU,CAAC4G,SAAS,CAAC,IAAI,EAAEjF,QAAA;QAC5C,IAAI,CAAC7C,UAAY;UACf50C,GAAA,GAAMK,IAAK,CAAAL,GAAG,CAACA,GAAA,EAAKF,KAAA,CAAME,GAAG;;QAE/B,IAAI,CAAC60C,UAAY;UACf90C,GAAA,GAAMM,IAAK,CAAAN,GAAG,CAACA,GAAA,EAAKD,KAAA,CAAMC,GAAG;;MAEjC;MAGAC,GAAA,GAAM60C,UAAc,IAAA70C,GAAA,GAAMD,GAAM,GAAAA,GAAA,GAAMC,GAAG;MACzCD,GAAA,GAAM60C,UAAc,IAAA50C,GAAA,GAAMD,GAAM,GAAAC,GAAA,GAAMD,GAAG;MAEzC,OAAO;QACLC,GAAK,EAAAmkE,6DAAA,CAAgBnkE,GAAK,EAAAmkE,6DAAA,CAAgBpkE,GAAK,EAAAC,GAAA;QAC/CD,GAAK,EAAAokE,6DAAA,CAAgBpkE,GAAK,EAAAokE,6DAAA,CAAgBnkE,GAAK,EAAAD,GAAA;MACjD;IACF;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAOA,SAAA4yC,WAAA,EAAa;MACX,OAAO;QACLl5D,IAAM,MAAI,CAACklE,WAAW,IAAI;QAC1BplE,GAAK,MAAI,CAACklE,UAAU,IAAI;QACxB/kE,KAAO,MAAI,CAACklE,YAAY,IAAI;QAC5BplE,MAAQ,MAAI,CAACklE,aAAa,IAAI;MAChC;IACF;EAAA;IAAA9mE,GAAA;IAAAmoB,KAAA,EAOA,SAAAigD,SAAA,EAAW;MACT,OAAO,IAAI,CAACr4C,KAAK;IACnB;EAAA;IAAA/vB,GAAA;IAAAmoB,KAAA,EAKA,SAAA1hB,UAAA,EAAY;MACV,IAAM+Q,IAAO,OAAI,CAAClX,KAAK,CAACkX,IAAI;MAC5B,OAAO,IAAI,CAACxV,OAAO,CAACwE,MAAM,KAAK,IAAI,CAACvC,YAAY,KAAKuT,IAAK,CAAA6wD,OAAO,GAAG7wD,IAAK,CAAA8wD,OAAO,CAAK,IAAA9wD,IAAA,CAAKhR,MAAM,IAAI,EAAE;IACxG;EAAA;IAAAxG,GAAA;IAAAmoB,KAAA,EAKA,SAAAogD,cAAA,EAAgD;MAAA,IAAlC3+D,SAAY,GAAAvE,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,UAAI,CAAC/E,KAAK,CAACsJ,SAAS;MAC5C,IAAMgpC,KAAQ,OAAI,CAACw0B,WAAW,KAAK,IAAI,CAACA,WAAW,GAAG,IAAI,CAACoB,kBAAkB,CAAC5+D,SAAS;MACvF,OAAOgpC,KAAA;IACT;EAAA;IAAA5yC,GAAA;IAAAmoB,KAAA,EAGA,SAAA80C,aAAA,EAAe;MACb,IAAI,CAACnY,MAAM,GAAG,EAAC;MACf,IAAI,CAAC+iB,iBAAiB,GAAG,KAAK;IAChC;EAAA;IAAA7nE,GAAA;IAAAmoB,KAAA,EAMA,SAAApT,aAAA,EAAe;MACbvV,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAAC+S,YAAY,EAAE,CAAC,IAAI,CAAC;IACxC;EAAA;IAAA/U,GAAA;IAAAmoB,KAAA,EAUA,SAAA5d,OAAO8jD,QAAQ,EAAEC,SAAS,EAAEma,OAAO,EAAE;MACnC,IAAAC,cAAA,GAA8C,IAAI,CAAC1mE,OAAO;QAAnD4oD,WAAW,GAAA8d,cAAA,CAAX9d,WAAW;QAAE+d,KAAK,GAAAD,cAAA,CAALC,KAAK;QAAS7F,QAAA,GAAA4F,cAAA,CAAP34C,KAAO;MAClC,IAAM64C,UAAA,GAAa9F,QAAA,CAAS8F,UAAU;MAGtC,IAAI,CAAC7zD,YAAY;MAGjB,IAAI,CAACs5C,QAAQ,GAAGA,QAAA;MAChB,IAAI,CAACC,SAAS,GAAGA,SAAA;MACjB,IAAI,CAACsY,QAAQ,GAAG6B,OAAU,GAAAnnE,MAAA,CAAO6X,MAAM,CAAC;QACtCtX,IAAM;QACNC,KAAO;QACPH,GAAK;QACLC,MAAQ;OACP,EAAA6mE,OAAA;MAEH,IAAI,CAAC14C,KAAK,GAAG,IAAI;MACjB,IAAI,CAACs3C,WAAW,GAAG,IAAI;MACvB,IAAI,CAACF,cAAc,GAAG,IAAI;MAC1B,IAAI,CAACC,WAAW,GAAG,IAAI;MAGvB,IAAI,CAACyB,mBAAmB;MACxB,IAAI,CAACC,aAAa;MAClB,IAAI,CAACC,kBAAkB;MAEvB,IAAI,CAAC/E,UAAU,GAAG,IAAI,CAAC//D,YAAY,EAC/B,OAAI,CAAC4C,KAAK,GAAG4hE,OAAA,CAAQ5mE,IAAI,GAAG4mE,OAAA,CAAQ3mE,KAAK,GACzC,IAAI,CAACgF,MAAM,GAAG2hE,OAAQ,CAAA9mE,GAAG,GAAG8mE,OAAA,CAAQ7mE,MAAM;MAG9C,IAAI,CAAC,IAAI,CAACimE,iBAAiB,EAAE;QAC3B,IAAI,CAACmB,gBAAgB;QACrB,IAAI,CAACC,mBAAmB;QACxB,IAAI,CAACC,eAAe;QACpB,IAAI,CAAChC,MAAM,GAAGiC,6DAAU,KAAI,EAAER,KAAO,EAAA/d,WAAA;QACrC,IAAI,CAACid,iBAAiB,GAAG,IAAI;;MAG/B,IAAI,CAACuB,gBAAgB;MAErB,IAAI,CAACr5C,KAAK,GAAG,IAAI,CAACs5C,UAAU,MAAM,EAAE;MAGpC,IAAI,CAACC,eAAe;MAIpB,IAAMC,eAAA,GAAkBX,UAAa,OAAI,CAAC74C,KAAK,CAACtuB,MAAM;MACtD,IAAI,CAAC+nE,qBAAqB,CAACD,eAAA,GAAkB1E,MAAO,KAAI,CAAC90C,KAAK,EAAE64C,UAAA,IAAc,IAAI,CAAC74C,KAAK;MAMxF,IAAI,CAAC8lB,SAAS;MAGd,IAAI,CAAC4zB,4BAA4B;MACjC,IAAI,CAACC,sBAAsB;MAC3B,IAAI,CAACC,2BAA2B;MAGhC,IAAI7G,QAAA,CAAS1xC,OAAO,KAAK0xC,QAAA,CAASD,QAAQ,IAAIC,QAAS,CAAAvpD,MAAM,KAAK,MAAK,CAAI;QACzE,IAAI,CAACwW,KAAK,GAAG8yC,QAAA,CAAS,IAAI,EAAE,IAAI,CAAC9yC,KAAK;QACtC,IAAI,CAACs3C,WAAW,GAAG,IAAI;QACvB,IAAI,CAACuC,aAAa;;MAGpB,IAAIL,eAAiB;QAEnB,IAAI,CAACC,qBAAqB,CAAC,IAAI,CAACz5C,KAAK;;MAGvC,IAAI,CAAC85C,SAAS;MACd,IAAI,CAACC,GAAG;MACR,IAAI,CAACC,QAAQ;MAIb,IAAI,CAACC,WAAW;IAClB;EAAA;IAAAhqE,GAAA;IAAAmoB,KAAA,EAKA,SAAA0tB,UAAA,EAAY;MACV,IAAIo0B,aAAgB,OAAI,CAACjoE,OAAO,CAACy8B,OAAO;MACxC,IAAIurB,UAAY,EAAAE,QAAA;MAEhB,IAAI,IAAI,CAACjmD,YAAY,EAAI;QACvB+lD,UAAa,OAAI,CAACnoD,IAAI;QACtBqoD,QAAW,OAAI,CAACpoD,KAAK;OAChB;QACLkoD,UAAa,OAAI,CAACroD,GAAG;QACrBuoD,QAAW,OAAI,CAACtoD,MAAM;QAEtBqoE,aAAA,GAAgB,CAACA,aAAA;;MAEnB,IAAI,CAACzgB,WAAW,GAAGQ,UAAA;MACnB,IAAI,CAACP,SAAS,GAAGS,QAAA;MACjB,IAAI,CAAC8L,cAAc,GAAGiU,aAAA;MACtB,IAAI,CAAC9kB,OAAO,GAAG+E,QAAW,GAAAF,UAAA;MAC1B,IAAI,CAACkgB,cAAc,GAAG,IAAI,CAACloE,OAAO,CAACmoE,aAAa;IAClD;EAAA;IAAAnqE,GAAA;IAAAmoB,KAAA,EAEA,SAAA6hD,YAAA,EAAc;MACZxqE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAACgoE,WAAW,EAAE,CAAC,IAAI,CAAC;IACvC;EAAA;IAAAhqE,GAAA;IAAAmoB,KAAA,EAIA,SAAA0gD,oBAAA,EAAsB;MACpBrpE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAAC6mE,mBAAmB,EAAE,CAAC,IAAI,CAAC;IAC/C;EAAA;IAAA7oE,GAAA;IAAAmoB,KAAA,EACA,SAAA2gD,cAAA,EAAgB;MAEd,IAAI,IAAI,CAAC7kE,YAAY,EAAI;QAEvB,IAAI,CAAC4C,KAAK,GAAG,IAAI,CAACwnD,QAAQ;QAC1B,IAAI,CAACxsD,IAAI,GAAG;QACZ,IAAI,CAACC,KAAK,GAAG,IAAI,CAAC+E,KAAK;OAClB;QACL,IAAI,CAACC,MAAM,GAAG,IAAI,CAACwnD,SAAS;QAG5B,IAAI,CAAC3sD,GAAG,GAAG;QACX,IAAI,CAACC,MAAM,GAAG,IAAI,CAACkF,MAAM;;MAI3B,IAAI,CAACigE,WAAW,GAAG;MACnB,IAAI,CAACF,UAAU,GAAG;MAClB,IAAI,CAACG,YAAY,GAAG;MACpB,IAAI,CAACF,aAAa,GAAG;IACvB;EAAA;IAAA9mE,GAAA;IAAAmoB,KAAA,EACA,SAAA4gD,mBAAA,EAAqB;MACnBvpE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAAC+mE,kBAAkB,EAAE,CAAC,IAAI,CAAC;IAC9C;EAAA;IAAA/oE,GAAA;IAAAmoB,KAAA,EAEA,SAAAiiD,WAAWj6D,IAAI,EAAE;MACf,IAAI,CAAC7P,KAAK,CAAC+pE,aAAa,CAACl6D,IAAM,MAAI,CAAC+uC,UAAU;MAC9C1/C,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAACmO,IAAA,CAAK,EAAE,CAAC,IAAI,CAAC;IACjC;EAAA;IAAAnQ,GAAA;IAAAmoB,KAAA,EAGA,SAAA6gD,iBAAA,EAAmB;MACjB,IAAI,CAACoB,UAAU,CAAC;IAClB;EAAA;IAAApqE,GAAA;IAAAmoB,KAAA,EACA,SAAA8gD,oBAAA,EAAsB;EAAC;IAAAjpE,GAAA;IAAAmoB,KAAA,EACvB,SAAA+gD,gBAAA,EAAkB;MAChB,IAAI,CAACkB,UAAU,CAAC;IAClB;EAAA;IAAApqE,GAAA;IAAAmoB,KAAA,EAGA,SAAAihD,iBAAA,EAAmB;MACjB,IAAI,CAACgB,UAAU,CAAC;IAClB;EAAA;IAAApqE,GAAA;IAAAmoB,KAAA,EAIA,SAAAkhD,WAAA,EAAa;MACX,OAAO,EAAE;IACX;EAAA;IAAArpE,GAAA;IAAAmoB,KAAA,EACA,SAAAmhD,gBAAA,EAAkB;MAChB,IAAI,CAACc,UAAU,CAAC;IAClB;EAAA;IAAApqE,GAAA;IAAAmoB,KAAA,EAEA,SAAAmiD,4BAAA,EAA8B;MAC5B9qE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAACsoE,2BAA2B,EAAE,CAAC,IAAI,CAAC;IACvD;EAAA;IAAAtqE,GAAA;IAAAmoB,KAAA,EAKA,SAAAoiD,mBAAmBx6C,KAAK,EAAE;MACxB,IAAM+yC,QAAW,OAAI,CAAC9gE,OAAO,CAAC+tB,KAAK;MACnC,IAAIvuB,CAAA,EAAGi2C,IAAM,EAAA1E,IAAA;MACb,KAAKvxC,CAAA,GAAI,GAAGi2C,IAAO,GAAA1nB,KAAA,CAAMtuB,MAAM,EAAED,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;QAC9CuxC,IAAO,GAAAhjB,KAAK,CAACvuB,CAAE;QACfuxC,IAAA,CAAKtjB,KAAK,GAAGjwB,6DAAK,CAAAsjE,QAAA,CAAStjE,QAAQ,EAAE,CAACuzC,IAAA,CAAK5qB,KAAK,EAAE3mB,CAAA,EAAGuuB,KAAA,CAAM,EAAE,IAAI;MACnE;IACF;EAAA;IAAA/vB,GAAA;IAAAmoB,KAAA,EACA,SAAAqiD,2BAAA,EAA6B;MAC3BhrE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAACwoE,0BAA0B,EAAE,CAAC,IAAI,CAAC;IACtD;EAAA;IAAAxqE,GAAA;IAAAmoB,KAAA,EAIA,SAAAshD,6BAAA,EAA+B;MAC7BjqE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAACynE,4BAA4B,EAAE,CAAC,IAAI,CAAC;IACxD;EAAA;IAAAzpE,GAAA;IAAAmoB,KAAA,EACA,SAAAuhD,uBAAA,EAAyB;MACvB,IAAM1nE,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAM8gE,QAAA,GAAW9gE,OAAA,CAAQ+tB,KAAK;MAC9B,IAAM06C,QAAA,GAAW9F,aAAc,KAAI,CAAC50C,KAAK,CAACtuB,MAAM,EAAEO,OAAA,CAAQ+tB,KAAK,CAACmzC,aAAa;MAC7E,IAAMwH,WAAA,GAAc5H,QAAS,CAAA4H,WAAW,IAAI;MAC5C,IAAMC,WAAA,GAAc7H,QAAA,CAAS6H,WAAW;MACxC,IAAI1D,aAAgB,GAAAyD,WAAA;MACpB,IAAIE,SAAA,EAAWtc,SAAW,EAAAuc,gBAAA;MAE1B,IAAI,CAAC,IAAI,CAACC,UAAU,MAAM,CAAChI,QAAS,CAAA1xC,OAAO,IAAIs5C,WAAA,IAAeC,WAAA,IAAeF,QAAY,SAAK,CAAC,IAAI,CAACxmE,YAAY,EAAI;QAClH,IAAI,CAACgjE,aAAa,GAAGyD,WAAA;QACrB;;MAGF,IAAMK,UAAA,GAAa,IAAI,CAACC,cAAc;MACtC,IAAMC,aAAgB,GAAAF,UAAA,CAAWG,MAAM,CAACrkE,KAAK;MAC7C,IAAMskE,cAAiB,GAAAJ,UAAA,CAAWK,OAAO,CAACtkE,MAAM;MAIhD,IAAMunD,QAAW,GAAAgd,6DAAA,CAAY,IAAI,CAAC/qE,KAAK,CAACuG,KAAK,GAAGokE,aAAe,KAAG,IAAI,CAAC5c,QAAQ;MAC/Euc,SAAA,GAAY5oE,OAAQ,CAAA4D,MAAM,GAAG,IAAI,CAACyoD,QAAQ,GAAGoc,QAAA,GAAWpc,QAAY,IAAAoc,QAAW,KAAE;MAGjF,IAAIQ,aAAA,GAAgB,IAAIL,SAAW;QACjCA,SAAY,GAAAvc,QAAA,IAAYoc,QAAA,IAAYzoE,OAAA,CAAQ4D,MAAM,GAAG,MAAM,EAAC;QAC5D0oD,SAAY,OAAI,CAACA,SAAS,GAAGmX,iBAAA,CAAkBzjE,OAAQ,CAAA0oD,IAAI,IAC3DoY,QAAS,CAAA3yC,OAAO,GAAGw1C,cAAe,CAAA3jE,OAAA,CAAQspE,KAAK,EAAE,IAAI,CAAChrE,KAAK,CAAC0B,OAAO,CAACguB,IAAI;QACxE66C,gBAAA,GAAmB1mE,IAAK,CAAAoL,IAAI,CAAC07D,aAAA,GAAgBA,aAAA,GAAgBE,cAAiB,GAAAA,cAAA;QAC9ElE,aAAA,GAAgBsE,6DAAA,CAAUpnE,IAAK,CAAAL,GAAG,CAChCK,IAAA,CAAKqnE,IAAI,CAACH,6DAAA,CAAY,CAACN,UAAA,CAAWK,OAAO,CAACtkE,MAAM,GAAG,KAAK8jE,SAAA,EAAW,CAAC,GAAG,KACvEzmE,IAAK,CAAAqnE,IAAI,CAACH,6DAAA,CAAY/c,SAAA,GAAYuc,gBAAkB,GAAC,CAAG,QAAM1mE,IAAA,CAAKqnE,IAAI,CAACH,6DAAA,CAAYF,cAAiB,GAAAN,gBAAA,EAAkB,CAAC,CAAG;QAE7H5D,aAAA,GAAgB9iE,IAAA,CAAKN,GAAG,CAAC6mE,WAAA,EAAavmE,IAAK,CAAAL,GAAG,CAAC6mE,WAAa,EAAA1D,aAAA;;MAG9D,IAAI,CAACA,aAAa,GAAGA,aAAA;IACvB;EAAA;IAAAjnE,GAAA;IAAAmoB,KAAA,EACA,SAAAwhD,4BAAA,EAA8B;MAC5BnqE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAAC2nE,2BAA2B,EAAE,CAAC,IAAI,CAAC;IACvD;EAAA;IAAA3pE,GAAA;IAAAmoB,KAAA,EACA,SAAAyhD,cAAA,EAAgB;EAAC;IAAA5pE,GAAA;IAAAmoB,KAAA,EAIjB,SAAA0hD,UAAA,EAAY;MACVrqE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAAC6nE,SAAS,EAAE,CAAC,IAAI,CAAC;IACrC;EAAA;IAAA7pE,GAAA;IAAAmoB,KAAA,EACA,SAAA2hD,IAAA,EAAM;MAEJ,IAAMhX,OAAU;QACdjsD,KAAO;QACPC,MAAQ;MACV;MAEA,IAAOxG,KAAK,GAAkE,IAAI,CAA3EA,KAAK;QAAAmrE,cAAA,GAAkE,IAAI,CAApEzpE,OAAS;QAAQ8gE,QAAQ,GAAA2I,cAAA,CAAf17C,KAAA;QAAwB27C,SAAA,GAAAD,cAAA,CAAPH,KAAO;QAAiBK,QAAA,GAAAF,cAAA,CAAN/gB,IAAM;MACjE,IAAMt5B,OAAA,GAAU,IAAI,CAAC05C,UAAU;MAC/B,IAAM7mE,YAAA,GAAe,IAAI,CAACA,YAAY;MAEtC,IAAImtB,OAAS;QACX,IAAMw6C,WAAA,GAAcjG,cAAe,CAAA+F,SAAA,EAAWprE,KAAM,CAAA0B,OAAO,CAACguB,IAAI;QAChE,IAAI/rB,YAAc;UAChB6uD,OAAA,CAAQjsD,KAAK,GAAG,IAAI,CAACwnD,QAAQ;UAC7ByE,OAAQ,CAAAhsD,MAAM,GAAG2+D,iBAAA,CAAkBkG,QAAY,IAAAC,WAAA;SAC1C;UACL9Y,OAAA,CAAQhsD,MAAM,GAAG,IAAI,CAACwnD,SAAS;UAC/BwE,OAAQ,CAAAjsD,KAAK,GAAG4+D,iBAAA,CAAkBkG,QAAY,IAAAC,WAAA;;QAIhD,IAAI9I,QAAA,CAAS1xC,OAAO,IAAI,IAAI,CAACrB,KAAK,CAACtuB,MAAM,EAAE;UACzC,IAAAoqE,oBAAA,GAAuC,IAAI,CAACb,cAAc;YAAnDzH,KAAA,GAAAsI,oBAAA,CAAAtI,KAAA;YAAOxhD,IAAA,GAAA8pD,oBAAA,CAAA9pD,IAAA;YAAMmpD,MAAA,GAAAW,oBAAA,CAAAX,MAAA;YAAQE,OAAA,GAAAS,oBAAA,CAAAT,OAAA;UAC5B,IAAMU,WAAA,GAAchJ,QAAS,CAAA3yC,OAAO,GAAG;UACvC,IAAM47C,YAAe,GAAAxe,6DAAA,CAAU,IAAI,CAAC0Z,aAAa;UACjD,IAAM/a,GAAA,GAAM/nD,IAAK,CAAA+nD,GAAG,CAAC6f,YAAA;UACrB,IAAMv1C,GAAA,GAAMryB,IAAK,CAAAqyB,GAAG,CAACu1C,YAAA;UAErB,IAAI9nE,YAAc;YAEhB,IAAM+nE,WAAA,GAAclJ,QAAS,CAAAmJ,MAAM,GAAG,IAAIz1C,GAAM,GAAA00C,MAAA,CAAOrkE,KAAK,GAAGqlD,GAAM,GAAAkf,OAAA,CAAQtkE,MAAM;YACnFgsD,OAAA,CAAQhsD,MAAM,GAAG3C,IAAK,CAAAL,GAAG,CAAC,IAAI,CAACwqD,SAAS,EAAEwE,OAAA,CAAQhsD,MAAM,GAAGklE,WAAc,GAAAF,WAAA;WACpE;YAGL,IAAMI,UAAA,GAAapJ,QAAS,CAAAmJ,MAAM,GAAG,IAAI/f,GAAM,GAAAgf,MAAA,CAAOrkE,KAAK,GAAG2vB,GAAM,GAAA40C,OAAA,CAAQtkE,MAAM;YAElFgsD,OAAA,CAAQjsD,KAAK,GAAG1C,IAAK,CAAAL,GAAG,CAAC,IAAI,CAACuqD,QAAQ,EAAEyE,OAAA,CAAQjsD,KAAK,GAAGqlE,UAAa,GAAAJ,WAAA;;UAEvE,IAAI,CAACK,iBAAiB,CAAC5I,KAAA,EAAOxhD,IAAA,EAAMyU,GAAK,EAAA01B,GAAA;;;MAI7C,IAAI,CAACkgB,cAAc;MAEnB,IAAInoE,YAAc;QAChB,IAAI,CAAC4C,KAAK,GAAG,IAAI,CAACs+C,OAAO,GAAG7kD,KAAA,CAAMuG,KAAK,GAAG,IAAI,CAAC+/D,QAAQ,CAAC/kE,IAAI,GAAG,IAAI,CAAC+kE,QAAQ,CAAC9kE,KAAK;QAClF,IAAI,CAACgF,MAAM,GAAGgsD,OAAA,CAAQhsD,MAAM;OACvB;QACL,IAAI,CAACD,KAAK,GAAGisD,OAAA,CAAQjsD,KAAK;QAC1B,IAAI,CAACC,MAAM,GAAG,IAAI,CAACq+C,OAAO,GAAG7kD,KAAA,CAAMwG,MAAM,GAAG,IAAI,CAAC8/D,QAAQ,CAACjlE,GAAG,GAAG,IAAI,CAACilE,QAAQ,CAAChlE,MAAM;;IAExF;EAAA;IAAA5B,GAAA;IAAAmoB,KAAA,EAEA,SAAAgkD,kBAAkB5I,KAAK,EAAExhD,IAAI,EAAEyU,GAAG,EAAE01B,GAAG,EAAE;MACvC,IAAAmgB,cAAA,GAA4C,IAAI,CAACrqE,OAAO;QAAAsqE,oBAAA,GAAAD,cAAA,CAAjDt8C,KAAA;QAAQ00C,KAAA,GAAA6H,oBAAA,CAAA7H,KAAA;QAAOt0C,OAAO,GAAAm8C,oBAAA,CAAPn8C,OAAO;QAAGomC,QAAQ,GAAA8V,cAAA,CAAR9V,QAAQ;MACxC,IAAMgW,SAAY,OAAI,CAACtF,aAAa,KAAK;MACzC,IAAMuF,gBAAA,GAAmBjW,QAAa,cAAS,IAAI,CAAC7zD,IAAI,KAAK;MAE7D,IAAI,IAAI,CAACuB,YAAY,EAAI;QACvB,IAAMwoE,UAAA,GAAa,IAAI,CAACnnB,eAAe,CAAC,CAAK,QAAI,CAACzjD,IAAI;QACtD,IAAM6qE,WAAc,OAAI,CAAC5qE,KAAK,GAAG,IAAI,CAACwjD,eAAe,CAAC,IAAI,CAACv1B,KAAK,CAACtuB,MAAM,GAAG;QAC1E,IAAIslE,WAAc;QAClB,IAAIC,YAAe;QAInB,IAAIuF,SAAW;UACb,IAAIC,gBAAkB;YACpBzF,WAAc,GAAA7a,GAAA,GAAMqX,KAAA,CAAM18D,KAAK;YAC/BmgE,YAAe,GAAAxwC,GAAA,GAAMzU,IAAA,CAAKjb,MAAM;WAC3B;YACLigE,WAAc,GAAAvwC,GAAA,GAAM+sC,KAAA,CAAMz8D,MAAM;YAChCkgE,YAAe,GAAA9a,GAAA,GAAMnqC,IAAA,CAAKlb,KAAK;;SAE5B,UAAI49D,KAAA,KAAU,OAAS;UAC5BuC,YAAA,GAAejlD,IAAA,CAAKlb,KAAK;SACpB,UAAI49D,KAAA,KAAU,KAAO;UAC1BsC,WAAA,GAAcxD,KAAA,CAAM18D,KAAK;SACpB,UAAI49D,KAAA,KAAU,OAAS;UAC5BsC,WAAc,GAAAxD,KAAA,CAAM18D,KAAK,GAAG;UAC5BmgE,YAAe,GAAAjlD,IAAA,CAAKlb,KAAK,GAAG;;QAI9B,IAAI,CAACkgE,WAAW,GAAG5iE,IAAA,CAAKN,GAAG,CAAE,CAAAkjE,WAAA,GAAc0F,UAAa,GAAAt8C,OAAM,IAAK,IAAI,CAACtpB,KAAK,IAAI,IAAI,CAACA,KAAK,GAAG4lE,UAAS,CAAI;QAC3G,IAAI,CAACzF,YAAY,GAAG7iE,IAAA,CAAKN,GAAG,CAAE,CAAAmjE,YAAA,GAAe0F,WAAc,GAAAv8C,OAAM,IAAK,IAAI,CAACtpB,KAAK,IAAI,IAAI,CAACA,KAAK,GAAG6lE,WAAU,CAAI;OAC1G;QACL,IAAI7F,UAAA,GAAa9kD,IAAK,CAAAjb,MAAM,GAAG;QAC/B,IAAIggE,aAAA,GAAgBvD,KAAM,CAAAz8D,MAAM,GAAG;QAEnC,IAAI29D,KAAA,KAAU,OAAS;UACrBoC,UAAa;UACbC,aAAA,GAAgBvD,KAAA,CAAMz8D,MAAM;SACvB,UAAI29D,KAAA,KAAU,KAAO;UAC1BoC,UAAA,GAAa9kD,IAAA,CAAKjb,MAAM;UACxBggE,aAAgB;;QAGlB,IAAI,CAACD,UAAU,GAAGA,UAAa,GAAA12C,OAAA;QAC/B,IAAI,CAAC22C,aAAa,GAAGA,aAAgB,GAAA32C,OAAA;;IAEzC;EAAA;IAAAnwB,GAAA;IAAAmoB,KAAA,EAMA,SAAAikD,eAAA,EAAiB;MACf,IAAI,IAAI,CAACxF,QAAQ,EAAE;QACjB,IAAI,CAACA,QAAQ,CAAC/kE,IAAI,GAAGsC,IAAA,CAAKN,GAAG,CAAC,IAAI,CAACkjE,WAAW,EAAE,IAAI,CAACH,QAAQ,CAAC/kE,IAAI;QAClE,IAAI,CAAC+kE,QAAQ,CAACjlE,GAAG,GAAGwC,IAAA,CAAKN,GAAG,CAAC,IAAI,CAACgjE,UAAU,EAAE,IAAI,CAACD,QAAQ,CAACjlE,GAAG;QAC/D,IAAI,CAACilE,QAAQ,CAAC9kE,KAAK,GAAGqC,IAAA,CAAKN,GAAG,CAAC,IAAI,CAACmjE,YAAY,EAAE,IAAI,CAACJ,QAAQ,CAAC9kE,KAAK;QACrE,IAAI,CAAC8kE,QAAQ,CAAChlE,MAAM,GAAGuC,IAAA,CAAKN,GAAG,CAAC,IAAI,CAACijE,aAAa,EAAE,IAAI,CAACF,QAAQ,CAAChlE,MAAM;;IAE5E;EAAA;IAAA5B,GAAA;IAAAmoB,KAAA,EAEA,SAAA4hD,SAAA,EAAW;MACTvqE,6DAAA,CAAK,IAAI,CAACwC,OAAO,CAAC+nE,QAAQ,EAAE,CAAC,IAAI,CAAC;IACpC;EAAA;IAAA/pE,GAAA;IAAAmoB,KAAA,EAMA,SAAAlkB,aAAA,EAAe;MACb,IAAA0oE,cAAA,GAAyB,IAAI,CAAC3qE,OAAO;QAA9BU,IAAA,GAAAiqE,cAAA,CAAAjqE,IAAA;QAAM6zD,QAAA,GAAAoW,cAAA,CAAApW,QAAA;MACb,OAAOA,QAAa,cAASA,QAAa,iBAAY7zD,IAAS;IACjE;EAAA;IAAA1C,GAAA;IAAAmoB,KAAA,EAIA,SAAAykD,WAAA,EAAa;MACX,OAAO,IAAI,CAAC5qE,OAAO,CAACi4D,QAAQ;IAC9B;EAAA;IAAAj6D,GAAA;IAAAmoB,KAAA,EAMA,SAAAqhD,sBAAsBz5C,KAAK,EAAE;MAC3B,IAAI,CAACu6C,2BAA2B;MAEhC,IAAI,CAACC,kBAAkB,CAACx6C,KAAA;MAGxB,IAAIvuB,CAAG,EAAAi2C,IAAA;MACP,KAAKj2C,CAAA,GAAI,GAAGi2C,IAAO,GAAA1nB,KAAA,CAAMtuB,MAAM,EAAED,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;QAC9C,IAAIokD,6DAAA,CAAc71B,KAAK,CAACvuB,CAAE,EAACiuB,KAAK,CAAG;UACjCM,KAAM,CAAAxL,MAAM,CAAC/iB,CAAG;UAChBi2C,IAAA;UACAj2C,CAAA;;MAEJ;MAEA,IAAI,CAACgpE,0BAA0B;IACjC;EAAA;IAAAxqE,GAAA;IAAAmoB,KAAA,EAMA,SAAA6iD,eAAA,EAAiB;MACf,IAAID,UAAA,GAAa,IAAI,CAAC1D,WAAW;MAEjC,IAAI,CAAC0D,UAAY;QACf,IAAMnC,UAAA,GAAa,IAAI,CAAC5mE,OAAO,CAAC+tB,KAAK,CAAC64C,UAAU;QAChD,IAAI74C,KAAA,GAAQ,IAAI,CAACA,KAAK;QACtB,IAAI64C,UAAA,GAAa74C,KAAM,CAAAtuB,MAAM,EAAE;UAC7BsuB,KAAA,GAAQ80C,MAAA,CAAO90C,KAAO,EAAA64C,UAAA;;QAGxB,IAAI,CAACvB,WAAW,GAAG0D,UAAA,GAAa,IAAI,CAAC8B,kBAAkB,CAAC98C,KAAA,EAAOA,KAAM,CAAAtuB,MAAM,EAAE,IAAI,CAACO,OAAO,CAAC+tB,KAAK,CAACmzC,aAAa;;MAG/G,OAAO6H,UAAA;IACT;EAAA;IAAA/qE,GAAA;IAAAmoB,KAAA,EAQA,SAAA0kD,mBAAmB98C,KAAK,EAAEtuB,MAAM,EAAEyhE,aAAa,EAAE;MAC/C,IAAO1vD,GAAG,GAA+B,IAAI,CAAtCA,GAAG;QAAqB8xD,MAAM,GAAI,IAAI,CAAjCgC,iBAAA;MACZ,IAAMwF,MAAA,GAAS,EAAE;MACjB,IAAMC,OAAA,GAAU,EAAE;MAClB,IAAMhI,SAAA,GAAY5gE,IAAK,CAAAotB,KAAK,CAAC9vB,MAAA,GAASkjE,aAAA,CAAcljE,MAAQ,EAAAyhE,aAAA;MAC5D,IAAI8J,eAAkB;MACtB,IAAIC,gBAAmB;MACvB,IAAIzrE,CAAA,EAAGqtC,CAAA,EAAGq+B,IAAM,EAAAz9C,KAAA,EAAO09C,QAAA,EAAUC,UAAY,EAAAvrB,KAAA,EAAOikB,UAAY,EAAAj/D,KAAA,EAAOC,MAAQ,EAAAumE,WAAA;MAE/E,KAAK7rE,CAAI,MAAGA,CAAI,GAAAC,MAAA,EAAQD,CAAA,IAAKujE,SAAW;QACtCt1C,KAAA,GAAQM,KAAK,CAACvuB,CAAE,EAACiuB,KAAK;QACtB09C,QAAW,OAAI,CAACG,uBAAuB,CAAC9rE,CAAA;QACxCgS,GAAA,CAAIwc,IAAI,GAAGo9C,UAAa,GAAAD,QAAA,CAASI,MAAM;QACvC1rB,KAAA,GAAQyjB,MAAM,CAAC8H,UAAA,CAAW,GAAG9H,MAAM,CAAC8H,UAAA,CAAW,IAAI;UAAC51D,IAAA,EAAM,EAAC;UAAG+tD,EAAA,EAAI;QAAE;QACpEO,UAAA,GAAaqH,QAAA,CAASrH,UAAU;QAChCj/D,KAAA,GAAQC,MAAS;QAEjB,IAAI,CAAC8+C,6DAAA,CAAcn2B,KAAU,MAAClX,6DAAA,CAAQkX,KAAQ;UAC5C5oB,KAAQ,GAAA2mE,6DAAA,CAAah6D,GAAA,EAAKquC,KAAM,CAAArqC,IAAI,EAAEqqC,KAAM,CAAA0jB,EAAE,EAAE1+D,KAAO,EAAA4oB,KAAA;UACvD3oB,MAAS,GAAAg/D,UAAA;SACJ,UAAIvtD,6DAAA,CAAQkX,KAAQ;UAEzB,KAAKof,CAAA,GAAI,GAAGq+B,IAAO,GAAAz9C,KAAA,CAAMhuB,MAAM,EAAEotC,CAAA,GAAIq+B,IAAM,IAAEr+B,CAAG;YAC9Cw+B,WAAA,GAAqC59C,KAAK,CAACof,CAAE;YAE7C,IAAI,CAAC+W,6DAAA,CAAcynB,WAAgB,MAAC90D,6DAAA,CAAQ80D,WAAc;cACxDxmE,KAAQ,GAAA2mE,6DAAA,CAAah6D,GAAA,EAAKquC,KAAM,CAAArqC,IAAI,EAAEqqC,KAAM,CAAA0jB,EAAE,EAAE1+D,KAAO,EAAAwmE,WAAA;cACvDvmE,MAAU,IAAAg/D,UAAA;;UAEd;;QAEFgH,MAAA,CAAOjqE,IAAI,CAACgE,KAAA;QACZkmE,OAAA,CAAQlqE,IAAI,CAACiE,MAAA;QACbkmE,eAAkB,GAAA7oE,IAAA,CAAKN,GAAG,CAACgD,KAAO,EAAAmmE,eAAA;QAClCC,gBAAmB,GAAA9oE,IAAA,CAAKN,GAAG,CAACiD,MAAQ,EAAAmmE,gBAAA;MACtC;MACA5H,cAAA,CAAeC,MAAQ,EAAA7jE,MAAA;MAEvB,IAAMypE,MAAA,GAAS4B,MAAO,CAAAtsE,OAAO,CAACwsE,eAAA;MAC9B,IAAM5B,OAAA,GAAU2B,OAAQ,CAAAvsE,OAAO,CAACysE,gBAAA;MAEhC,IAAMQ,OAAA,GAAU,SAAVA,QAAWC,GAAA;QAAA,OAAS;UAAC7mE,KAAO,EAAAimE,MAAM,CAACY,GAAA,CAAI,IAAI;UAAG5mE,MAAQ,EAAAimE,OAAO,CAACW,GAAA,CAAI,IAAI;SAAC;MAAA;MAE7E,OAAO;QACLnK,KAAA,EAAOkK,OAAQ;QACf1rD,IAAA,EAAM0rD,OAAA,CAAQhsE,MAAS;QACvBypE,MAAA,EAAQuC,OAAQ,CAAAvC,MAAA;QAChBE,OAAA,EAASqC,OAAQ,CAAArC,OAAA;QACjB0B,MAAA,EAAAA,MAAA;QACAC,OAAA,EAAAA;MACF;IACF;EAAA;IAAA/sE,GAAA;IAAAmoB,KAAA,EAOA,SAAA84B,iBAAiB94B,KAAK,EAAE;MACtB,OAAOA,KAAA;IACT;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EASA,SAAA/f,iBAAiB+f,KAAK,EAAE7O,KAAK,EAAE;MAC7B,OAAOinC,GAAA;IACT;EAAA;IAAAvgD,GAAA;IAAAmoB,KAAA,EAQA,SAAA/jB,iBAAiBupE,KAAK,EAAE;EAAC;IAAA3tE,GAAA;IAAAmoB,KAAA,EAQzB,SAAAm9B,gBAAgBhsC,KAAK,EAAE;MACrB,IAAMyW,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAIzW,KAAA,GAAQ,CAAK,IAAAA,KAAA,GAAQyW,KAAM,CAAAtuB,MAAM,GAAG,CAAG;QACzC,OAAO,IAAI;;MAEb,OAAO,IAAI,CAAC2G,gBAAgB,CAAC2nB,KAAK,CAACzW,KAAA,CAAM,CAAC6O,KAAK;IACjD;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAQA,SAAA8hC,mBAAmB2jB,OAAO,EAAE;MAC1B,IAAI,IAAI,CAAC5X,cAAc,EAAE;QACvB4X,OAAA,GAAU,CAAI,GAAAA,OAAA;;MAGhB,IAAMD,KAAA,GAAQ,IAAI,CAACnkB,WAAW,GAAGokB,OAAU,OAAI,CAACzoB,OAAO;MACvD,OAAO0oB,6DAAY,KAAI,CAAC3D,cAAc,GAAG4D,6DAAA,CAAY,IAAI,CAACxtE,KAAK,EAAEqtE,KAAO,OAAKA,KAAK;IACpF;EAAA;IAAA3tE,GAAA;IAAAmoB,KAAA,EAMA,SAAA4lD,mBAAmBJ,KAAK,EAAE;MACxB,IAAMC,OAAA,GAAU,CAACD,KAAQ,OAAI,CAACnkB,WAAW,IAAI,IAAI,CAACrE,OAAO;MACzD,OAAO,IAAI,CAAC6Q,cAAc,GAAG,IAAI4X,OAAA,GAAUA,OAAO;IACpD;EAAA;IAAA5tE,GAAA;IAAAmoB,KAAA,EAOA,SAAAsgC,aAAA,EAAe;MACb,OAAO,IAAI,CAACrgD,gBAAgB,CAAC,IAAI,CAAC4lE,YAAY;IAChD;EAAA;IAAAhuE,GAAA;IAAAmoB,KAAA,EAKA,SAAA6lD,aAAA,EAAe;MACb,IAAOlqE,GAAG,GAAS,IAAI,CAAhBA,GAAG;QAAED,GAAG,GAAI,IAAI,CAAXA,GAAG;MAEf,OAAOC,GAAA,GAAM,CAAK,IAAAD,GAAA,GAAM,CAAI,GAAAA,GAAA,GAC1BC,GAAA,GAAM,CAAK,IAAAD,GAAA,GAAM,CAAI,GAAAC,GAAA,GACrB,CAAC;IACL;EAAA;IAAA9D,GAAA;IAAAmoB,KAAA,EAKA,SAAA+2B,WAAW5lC,KAAK,EAAE;MAChB,IAAMyW,KAAQ,OAAI,CAACA,KAAK,IAAI,EAAE;MAE9B,IAAIzW,KAAS,SAAKA,KAAQ,GAAAyW,KAAA,CAAMtuB,MAAM,EAAE;QACtC,IAAMsxC,IAAA,GAAOhjB,KAAK,CAACzW,KAAM;QACzB,OAAOy5B,IAAK,CAAAwJ,QAAQ,KACrBxJ,IAAK,CAAAwJ,QAAQ,GAAGypB,iBAAA,CAAkB,IAAI,CAAC9mB,UAAU,IAAI5lC,KAAA,EAAOy5B,IAAI;;MAEjE,OAAO,IAAI,CAACwJ,QAAQ,KACpB,IAAI,CAACA,QAAQ,GAAGwpB,kBAAA,CAAmB,IAAI,CAACzlE,KAAK,CAAC4+C,UAAU,IAAI,IAAI;IAClE;EAAA;IAAAl/C,GAAA;IAAAmoB,KAAA,EAMA,SAAA07C,UAAA,EAAY;MACV,IAAMoK,WAAc,OAAI,CAACjsE,OAAO,CAAC+tB,KAAK;MAGtC,IAAMm+C,GAAM,GAAA3gB,6DAAA,CAAU,IAAI,CAAC0Z,aAAa;MACxC,IAAM/a,GAAA,GAAM/nD,IAAK,CAAAgD,GAAG,CAAChD,IAAA,CAAK+nD,GAAG,CAACgiB,GAAA;MAC9B,IAAM13C,GAAA,GAAMryB,IAAK,CAAAgD,GAAG,CAAChD,IAAA,CAAKqyB,GAAG,CAAC03C,GAAA;MAE9B,IAAMnD,UAAA,GAAa,IAAI,CAACC,cAAc;MACtC,IAAM76C,OAAA,GAAU89C,WAAY,CAAAE,eAAe,IAAI;MAC/C,IAAMjrC,CAAA,GAAI6nC,UAAA,GAAaA,UAAW,CAAAG,MAAM,CAACrkE,KAAK,GAAGspB,OAAA,GAAU,CAAC;MAC5D,IAAM4Q,CAAA,GAAIgqC,UAAA,GAAaA,UAAW,CAAAK,OAAO,CAACtkE,MAAM,GAAGqpB,OAAA,GAAU,CAAC;MAG9D,OAAO,IAAI,CAAClsB,YAAY,KACpB88B,CAAA,GAAImrB,GAAM,GAAAhpB,CAAA,GAAI1M,GAAA,GAAM0M,CAAI,GAAAgpB,GAAA,GAAMnrB,CAAA,GAAIvK,GAAG,GACrCuK,CAAA,GAAIvK,GAAM,GAAA0M,CAAA,GAAIgpB,GAAA,GAAMnrB,CAAI,GAAAmrB,GAAA,GAAMhpB,CAAA,GAAI1M,GAAG;IAC3C;EAAA;IAAAx2B,GAAA;IAAAmoB,KAAA,EAMA,SAAA2iD,WAAA,EAAa;MACX,IAAM15C,OAAU,OAAI,CAACpvB,OAAO,CAACovB,OAAO;MAEpC,IAAIA,OAAA,KAAY,MAAQ;QACtB,OAAO,CAAC,CAACA,OAAA;;MAGX,OAAO,IAAI,CAACqoB,uBAAuB,GAAGh4C,MAAM,GAAG;IACjD;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAKA,SAAAimD,sBAAsBxkE,SAAS,EAAE;MAC/B,IAAMlH,IAAA,GAAO,IAAI,CAACA,IAAI;MACtB,IAAMpC,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM0B,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAO0oD,IAAI,GAAsB1oD,OAAA,CAA1B0oD,IAAI;QAAE6L,QAAA,GAAoBv0D,OAAA,CAApBu0D,QAAA;QAAUrE,MAAA,GAAUlwD,OAAA,CAAVkwD,MAAA;MACvB,IAAMtsD,MAAA,GAAS8kD,IAAA,CAAK9kD,MAAM;MAC1B,IAAM3B,YAAA,GAAe,IAAI,CAACA,YAAY;MACtC,IAAM8rB,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM60C,WAAA,GAAc70C,KAAA,CAAMtuB,MAAM,IAAImE,MAAS,OAAI,CAAC,CAAD;MACjD,IAAMyoE,EAAA,GAAK5I,iBAAkB,CAAA/a,IAAA;MAC7B,IAAM9X,KAAA,GAAQ,EAAE;MAEhB,IAAM07B,UAAA,GAAapc,MAAO,CAAA4V,UAAU,CAAC,IAAI,CAAC5oB,UAAU;MACpD,IAAMqvB,SAAA,GAAYD,UAAW,CAAAl9C,OAAO,GAAGk9C,UAAW,CAAAznE,KAAK,GAAG,CAAC;MAC3D,IAAM2nE,aAAA,GAAgBD,SAAY;MAClC,IAAME,gBAAA,GAAmB,SAAnBA,iBAA4Bd,KAAK,EAAE;QACvC,OAAOG,6DAAA,CAAYxtE,KAAA,EAAOqtE,KAAO,EAAAY,SAAA;MACnC;MACA,IAAIG,WAAA,EAAaltE,CAAA,EAAG4jE,SAAW,EAAAuJ,gBAAA;MAC/B,IAAIC,GAAA,EAAKC,GAAK,EAAAC,GAAA,EAAKC,GAAK,EAAAC,EAAA,EAAIC,EAAA,EAAIC,EAAI,EAAAC,EAAA;MAEpC,IAAI5Y,QAAA,KAAa,KAAO;QACtBmY,WAAc,GAAAD,gBAAA,CAAiB,IAAI,CAAC7sE,MAAM;QAC1CitE,GAAM,OAAI,CAACjtE,MAAM,GAAGysE,EAAA;QACpBU,GAAA,GAAML,WAAc,GAAAF,aAAA;QACpBS,EAAK,GAAAR,gBAAA,CAAiB7kE,SAAU,CAAAjI,GAAG,CAAI,GAAA6sE,aAAA;QACvCW,EAAA,GAAKvlE,SAAA,CAAUhI,MAAM;OAChB,UAAI20D,QAAA,KAAa,QAAU;QAChCmY,WAAc,GAAAD,gBAAA,CAAiB,IAAI,CAAC9sE,GAAG;QACvCstE,EAAA,GAAKrlE,SAAA,CAAUjI,GAAG;QAClBwtE,EAAK,GAAAV,gBAAA,CAAiB7kE,SAAU,CAAAhI,MAAM,CAAI,GAAA4sE,aAAA;QAC1CK,GAAA,GAAMH,WAAc,GAAAF,aAAA;QACpBO,GAAM,OAAI,CAACptE,GAAG,GAAG0sE,EAAA;OACZ,UAAI9X,QAAA,KAAa,MAAQ;QAC9BmY,WAAc,GAAAD,gBAAA,CAAiB,IAAI,CAAC3sE,KAAK;QACzC8sE,GAAM,OAAI,CAAC9sE,KAAK,GAAGusE,EAAA;QACnBS,GAAA,GAAMJ,WAAc,GAAAF,aAAA;QACpBQ,EAAK,GAAAP,gBAAA,CAAiB7kE,SAAU,CAAA/H,IAAI,CAAI,GAAA2sE,aAAA;QACxCU,EAAA,GAAKtlE,SAAA,CAAU9H,KAAK;OACf,UAAIy0D,QAAA,KAAa,OAAS;QAC/BmY,WAAc,GAAAD,gBAAA,CAAiB,IAAI,CAAC5sE,IAAI;QACxCmtE,EAAA,GAAKplE,SAAA,CAAU/H,IAAI;QACnBqtE,EAAK,GAAAT,gBAAA,CAAiB7kE,SAAU,CAAA9H,KAAK,CAAI,GAAA0sE,aAAA;QACzCI,GAAA,GAAMF,WAAc,GAAAF,aAAA;QACpBM,GAAM,OAAI,CAACjtE,IAAI,GAAGwsE,EAAA;OACb,UAAI3rE,IAAA,KAAS,GAAK;QACvB,IAAI6zD,QAAA,KAAa,QAAU;UACzBmY,WAAc,GAAAD,gBAAA,CAAiB,CAAC7kE,SAAU,CAAAjI,GAAG,GAAGiI,SAAU,CAAAhI,MAAM,IAAI,CAAI;SACnE,UAAIk0C,6DAAA,CAASygB,QAAW;UAC7B,IAAMgQ,cAAA,GAAiBjlE,MAAO,CAAAC,IAAI,CAACg1D,QAAA,CAAS,CAAC,CAAE;UAC/C,IAAMpuC,KAAA,GAAQouC,QAAQ,CAACgQ,cAAe;UACtCmI,WAAc,GAAAD,gBAAA,CAAiB,IAAI,CAACnuE,KAAK,CAACc,MAAM,CAACmlE,cAAA,CAAe,CAACn+D,gBAAgB,CAAC+f,KAAA;;QAGpF8mD,EAAA,GAAKrlE,SAAA,CAAUjI,GAAG;QAClBwtE,EAAA,GAAKvlE,SAAA,CAAUhI,MAAM;QACrBitE,GAAA,GAAMH,WAAc,GAAAF,aAAA;QACpBO,GAAA,GAAMF,GAAM,GAAAR,EAAA;OACP,UAAI3rE,IAAA,KAAS,GAAK;QACvB,IAAI6zD,QAAA,KAAa,QAAU;UACzBmY,WAAc,GAAAD,gBAAA,CAAiB,CAAC7kE,SAAA,CAAU/H,IAAI,GAAG+H,SAAA,CAAU9H,KAAI,IAAK;SAC/D,UAAIg0C,6DAAA,CAASygB,QAAW;UAC7B,IAAMgQ,gBAAA,GAAiBjlE,MAAO,CAAAC,IAAI,CAACg1D,QAAA,CAAS,CAAC,CAAE;UAC/C,IAAMpuC,OAAA,GAAQouC,QAAQ,CAACgQ,gBAAe;UACtCmI,WAAc,GAAAD,gBAAA,CAAiB,IAAI,CAACnuE,KAAK,CAACc,MAAM,CAACmlE,gBAAA,CAAe,CAACn+D,gBAAgB,CAAC+f,OAAA;;QAGpFymD,GAAA,GAAMF,WAAc,GAAAF,aAAA;QACpBM,GAAA,GAAMF,GAAM,GAAAP,EAAA;QACZW,EAAA,GAAKplE,SAAA,CAAU/H,IAAI;QACnBqtE,EAAA,GAAKtlE,SAAA,CAAU9H,KAAK;;MAGtB,IAAM4C,KAAA,GAAQnF,6DAAe,CAAAyC,OAAA,CAAQ+tB,KAAK,CAACmzC,aAAa,EAAE0B,WAAA;MAC1D,IAAMwK,IAAA,GAAOjrE,IAAA,CAAKN,GAAG,CAAC,GAAGM,IAAK,CAAAkgE,IAAI,CAACO,WAAc,GAAAlgE,KAAA;MACjD,KAAKlD,CAAI,MAAGA,CAAI,GAAAojE,WAAA,EAAapjE,CAAA,IAAK4tE,IAAM;QACtC,IAAMl3D,OAAU,OAAI,CAACgnC,UAAU,CAAC19C,CAAA;QAChC,IAAM6tE,WAAA,GAAc3kB,IAAK,CAAAod,UAAU,CAAC5vD,OAAA;QACpC,IAAMo3D,iBAAA,GAAoBpd,MAAO,CAAA4V,UAAU,CAAC5vD,OAAA;QAE5C,IAAMnE,SAAA,GAAYs7D,WAAA,CAAYt7D,SAAS;QACvC,IAAMw7D,SAAA,GAAYF,WAAA,CAAY7+B,KAAK;QACnC,IAAMg/B,UAAa,GAAAF,iBAAA,CAAkBG,IAAI,IAAI,EAAE;QAC/C,IAAMC,gBAAA,GAAmBJ,iBAAA,CAAkBK,UAAU;QAErD,IAAM/E,SAAA,GAAYyE,WAAA,CAAYzE,SAAS;QACvC,IAAMgF,SAAA,GAAYP,WAAA,CAAYO,SAAS;QACvC,IAAMC,cAAiB,GAAAR,WAAA,CAAYQ,cAAc,IAAI,EAAE;QACvD,IAAMC,oBAAA,GAAuBT,WAAA,CAAYS,oBAAoB;QAE7D1K,SAAY,GAAAJ,mBAAA,CAAoB,IAAI,EAAExjE,CAAG,EAAAoE,MAAA;QAGzC,IAAIw/D,SAAA,KAAc7kE,SAAW;UAC3B;;QAGFouE,gBAAmB,GAAAb,6DAAA,CAAYxtE,KAAA,EAAO8kE,SAAW,EAAArxD,SAAA;QAEjD,IAAI9P,YAAc;UAChB2qE,GAAM,GAAAE,GAAA,GAAME,EAAA,GAAKE,EAAK,GAAAP,gBAAA;SACjB;UACLE,GAAM,GAAAE,GAAA,GAAME,EAAA,GAAKE,EAAK,GAAAR,gBAAA;;QAGxB/7B,KAAA,CAAM/vC,IAAI,CAAC;UACT+rE,GAAA,EAAAA,GAAA;UACAC,GAAA,EAAAA,GAAA;UACAC,GAAA,EAAAA,GAAA;UACAC,GAAA,EAAAA,GAAA;UACAC,EAAA,EAAAA,EAAA;UACAC,EAAA,EAAAA,EAAA;UACAC,EAAA,EAAAA,EAAA;UACAC,EAAA,EAAAA,EAAA;UACAtoE,KAAO,EAAAkN,SAAA;UACPy8B,KAAO,EAAA++B,SAAA;UACPC,UAAA,EAAAA,UAAA;UACAE,gBAAA,EAAAA,gBAAA;UACA9E,SAAA,EAAAA,SAAA;UACAgF,SAAA,EAAAA,SAAA;UACAC,cAAA,EAAAA,cAAA;UACAC,oBAAA,EAAAA;QACF;MACF;MAEA,IAAI,CAACnI,YAAY,GAAG/C,WAAA;MACpB,IAAI,CAACgD,YAAY,GAAG8G,WAAA;MAEpB,OAAO97B,KAAA;IACT;EAAA;IAAA5yC,GAAA;IAAAmoB,KAAA,EAKA,SAAAqgD,mBAAmB5+D,SAAS,EAAE;MAC5B,IAAMlH,IAAA,GAAO,IAAI,CAACA,IAAI;MACtB,IAAMV,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAOu0D,QAAQ,GAAwBv0D,OAAA,CAAhCu0D,QAAQ;QAAS0X,WAAA,GAAejsE,OAAA,CAAtB+tB,KAAO;MACxB,IAAM9rB,YAAA,GAAe,IAAI,CAACA,YAAY;MACtC,IAAM8rB,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAO00C,KAAA,GAAsCwJ,WAAA,CAAtCxJ,KAAA;QAAOsL,UAAA,GAA+B9B,WAAA,CAA/B8B,UAAA;QAAY5/C,OAAO,GAAY89C,WAAA,CAAnB99C,OAAO;QAAE87C,MAAM,GAAIgC,WAAA,CAAVhC,MAAM;MACzC,IAAMoC,EAAA,GAAK5I,iBAAkB,CAAAzjE,OAAA,CAAQ0oD,IAAI;MACzC,IAAMslB,cAAA,GAAiB3B,EAAK,GAAAl+C,OAAA;MAC5B,IAAM8/C,eAAkB,GAAAhE,MAAA,GAAS,CAAC97C,OAAA,GAAU6/C,cAAc;MAC1D,IAAMvuD,QAAW,IAAC8rC,6DAAU,KAAI,CAAC0Z,aAAa;MAC9C,IAAMr0B,KAAA,GAAQ,EAAE;MAChB,IAAIpxC,CAAA,EAAGi2C,IAAM,EAAA1E,IAAA,EAAMtjB,KAAO,EAAA/uB,CAAA,EAAGC,CAAA,EAAGuvE,SAAW,EAAAvC,KAAA,EAAO39C,IAAM,EAAA81C,UAAA,EAAYqK,SAAW,EAAAC,UAAA;MAC/E,IAAIC,YAAe;MAEnB,IAAI9Z,QAAA,KAAa,KAAO;QACtB51D,CAAI,OAAI,CAACiB,MAAM,GAAGquE,eAAA;QAClBC,SAAY,OAAI,CAACI,uBAAuB;OACnC,UAAI/Z,QAAA,KAAa,QAAU;QAChC51D,CAAI,OAAI,CAACgB,GAAG,GAAGsuE,eAAA;QACfC,SAAY,OAAI,CAACI,uBAAuB;OACnC,UAAI/Z,QAAA,KAAa,MAAQ;QAC9B,IAAM9zB,GAAM,OAAI,CAAC8tC,uBAAuB,CAAClC,EAAA;QACzC6B,SAAA,GAAYztC,GAAA,CAAIytC,SAAS;QACzBxvE,CAAA,GAAI+hC,GAAA,CAAI/hC,CAAC;OACJ,UAAI61D,QAAA,KAAa,OAAS;QAC/B,IAAM9zB,IAAM,OAAI,CAAC8tC,uBAAuB,CAAClC,EAAA;QACzC6B,SAAA,GAAYztC,IAAA,CAAIytC,SAAS;QACzBxvE,CAAA,GAAI+hC,IAAA,CAAI/hC,CAAC;OACJ,UAAIgC,IAAA,KAAS,GAAK;QACvB,IAAI6zD,QAAA,KAAa,QAAU;UACzB51D,CAAI,GAAE,CAAAiJ,SAAU,CAAAjI,GAAG,GAAGiI,SAAU,CAAAhI,MAAM,IAAI,CAAK,GAAAouE,cAAA;SAC1C,UAAIl6B,6DAAA,CAASygB,QAAW;UAC7B,IAAMgQ,cAAA,GAAiBjlE,MAAO,CAAAC,IAAI,CAACg1D,QAAA,CAAS,CAAC,CAAE;UAC/C,IAAMpuC,KAAA,GAAQouC,QAAQ,CAACgQ,cAAe;UACtC5lE,CAAI,OAAI,CAACL,KAAK,CAACc,MAAM,CAACmlE,cAAe,EAACn+D,gBAAgB,CAAC+f,KAAS,IAAA6nD,cAAA;;QAElEE,SAAY,OAAI,CAACI,uBAAuB;OACnC,UAAI5tE,IAAA,KAAS,GAAK;QACvB,IAAI6zD,QAAA,KAAa,QAAU;UACzB71D,CAAI,GAAE,CAAAkJ,SAAU,CAAA/H,IAAI,GAAG+H,SAAU,CAAA9H,KAAK,IAAI,CAAK,GAAAkuE,cAAA;SAC1C,UAAIl6B,6DAAA,CAASygB,QAAW;UAC7B,IAAMgQ,gBAAA,GAAiBjlE,MAAO,CAAAC,IAAI,CAACg1D,QAAA,CAAS,CAAC,CAAE;UAC/C,IAAMpuC,OAAA,GAAQouC,QAAQ,CAACgQ,gBAAe;UACtC7lE,CAAI,OAAI,CAACJ,KAAK,CAACc,MAAM,CAACmlE,gBAAA,CAAe,CAACn+D,gBAAgB,CAAC+f,OAAA;;QAEzD+nD,SAAA,GAAY,IAAI,CAACK,uBAAuB,CAAClC,EAAA,EAAI6B,SAAS;;MAGxD,IAAIxtE,IAAA,KAAS,GAAK;QAChB,IAAI+hE,KAAA,KAAU,OAAS;UACrB4L,YAAe;SACV,UAAI5L,KAAA,KAAU,KAAO;UAC1B4L,YAAe;;;MAInB,IAAMtF,UAAA,GAAa,IAAI,CAACC,cAAc;MACtC,KAAKxpE,CAAA,GAAI,GAAGi2C,IAAO,GAAA1nB,KAAA,CAAMtuB,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC9CuxC,IAAO,GAAAhjB,KAAK,CAACvuB,CAAE;QACfiuB,KAAA,GAAQsjB,IAAA,CAAKtjB,KAAK;QAElB,IAAM4/C,WAAA,GAAcpB,WAAY,CAAAnG,UAAU,CAAC,IAAI,CAAC5oB,UAAU,CAAC19C,CAAA;QAC3DmsE,KAAA,GAAQ,IAAI,CAACroB,eAAe,CAAC9jD,CAAA,IAAKysE,WAAA,CAAYuC,WAAW;QACzDxgD,IAAO,OAAI,CAACs9C,uBAAuB,CAAC9rE,CAAA;QACpCskE,UAAA,GAAa91C,IAAA,CAAK81C,UAAU;QAC5BqK,SAAA,GAAY53D,6DAAQ,CAAAkX,KAAA,IAASA,KAAM,CAAAhuB,MAAM,GAAG,CAAC;QAC7C,IAAMgvE,SAAA,GAAYN,SAAY;QAC9B,IAAM3/B,KAAA,GAAQ6+B,WAAA,CAAY7+B,KAAK;QAC/B,IAAMkgC,WAAA,GAAcrB,WAAA,CAAYsB,eAAe;QAC/C,IAAMC,WAAA,GAAcvB,WAAA,CAAYwB,eAAe;QAC/C,IAAIC,aAAgB,GAAAZ,SAAA;QAEpB,IAAIjsE,YAAc;UAChBvD,CAAI,GAAAitE,KAAA;UAEJ,IAAIuC,SAAA,KAAc,OAAS;YACzB,IAAI1uE,CAAA,KAAMi2C,IAAA,GAAO,CAAG;cAClBq5B,aAAgB,IAAC,IAAI,CAAC9uE,OAAO,CAACy8B,OAAO,GAAG,UAAU,MAAM;aACnD,UAAIj9B,CAAA,KAAM,CAAG;cAClBsvE,aAAgB,IAAC,IAAI,CAAC9uE,OAAO,CAACy8B,OAAO,GAAG,SAAS,OAAO;aACnD;cACLqyC,aAAgB;;;UAIpB,IAAIva,QAAA,KAAa,KAAO;YACtB,IAAIwZ,UAAA,KAAe,MAAU,IAAAtuD,QAAA,KAAa,CAAG;cAC3C2uD,UAAa,IAACD,SAAY,GAAArK,UAAA,GAAaA,UAAa;aAC/C,UAAIiK,UAAA,KAAe,QAAU;cAClCK,UAAa,IAACrF,UAAA,CAAWK,OAAO,CAACtkE,MAAM,GAAG,IAAI2pE,SAAA,GAAY3K,UAAa,GAAAA,UAAA;aAClE;cACLsK,UAAA,GAAa,CAACrF,UAAW,CAAAK,OAAO,CAACtkE,MAAM,GAAGg/D,UAAa;;WAEpD;YAEL,IAAIiK,UAAA,KAAe,MAAU,IAAAtuD,QAAA,KAAa,CAAG;cAC3C2uD,UAAA,GAAatK,UAAa;aACrB,UAAIiK,UAAA,KAAe,QAAU;cAClCK,UAAA,GAAarF,UAAA,CAAWK,OAAO,CAACtkE,MAAM,GAAG,IAAI2pE,SAAY,GAAA3K,UAAA;aACpD;cACLsK,UAAA,GAAarF,UAAW,CAAAK,OAAO,CAACtkE,MAAM,GAAGqpE,SAAY,GAAArK,UAAA;;;UAGzD,IAAImG,MAAQ;YACVmE,UAAA,IAAc,CAAC;;UAEjB,IAAI3uD,QAAa,UAAK,CAAC4tD,WAAA,CAAY0B,iBAAiB,EAAE;YACpDrwE,CAAA,IAAKolE,UAAC,GAAa,CAAK,GAAA3hE,IAAA,CAAKqyB,GAAG,CAAC/U,QAAA;;SAE9B;UACL9gB,CAAI,GAAAgtE,KAAA;UACJyC,UAAA,GAAa,CAAC,CAAI,GAAAD,SAAQ,IAAKrK,UAAa;;QAG9C,IAAIkL,QAAA;QAEJ,IAAI3B,WAAA,CAAY0B,iBAAiB,EAAE;UACjC,IAAME,YAAA,GAAenU,6DAAU,CAAAuS,WAAA,CAAY6B,eAAe;UAC1D,IAAMpqE,MAAS,GAAAikE,UAAA,CAAWgC,OAAO,CAACvrE,CAAE;UACpC,IAAMqF,KAAQ,GAAAkkE,UAAA,CAAW+B,MAAM,CAACtrE,CAAE;UAElC,IAAIG,GAAA,GAAMyuE,UAAa,GAAAa,YAAA,CAAatvE,GAAG;UACvC,IAAIE,IAAA,GAAO,CAAI,GAAAovE,YAAA,CAAapvE,IAAI;UAEhC,QAAQwuE,YAAA;YACR,KAAK;cACH1uE,GAAA,IAAOmF,MAAS;cAChB;YACF,KAAK;cACHnF,GAAO,IAAAmF,MAAA;cACP;UAGF;UAEA,QAAQopE,SAAA;YACR,KAAK;cACHruE,IAAA,IAAQgF,KAAQ;cAChB;YACF,KAAK;cACHhF,IAAQ,IAAAgF,KAAA;cACR;UAGF;UAEAmqE,QAAW;YACTnvE,IAAA,EAAAA,IAAA;YACAF,GAAA,EAAAA,GAAA;YACAkF,KAAO,EAAAA,KAAA,GAAQoqE,YAAA,CAAapqE,KAAK;YACjCC,MAAQ,EAAAA,MAAA,GAASmqE,YAAA,CAAanqE,MAAM;YAEpC0pC,KAAA,EAAO6+B,WAAA,CAAY8B;UACrB;;QAGFv+B,KAAA,CAAM/vC,IAAI,CAAC;UACT4sB,KAAA,EAAAA,KAAA;UACAO,IAAA,EAAAA,IAAA;UACAogD,UAAA,EAAAA,UAAA;UACApuE,OAAS;YACPyf,QAAA,EAAAA,QAAA;YACA+uB,KAAA,EAAAA,KAAA;YACAkgC,WAAA,EAAAA,WAAA;YACAE,WAAA,EAAAA,WAAA;YACAV,SAAW,EAAAY,aAAA;YACXT,YAAA,EAAAA,YAAA;YACAe,WAAa,GAAC1wE,CAAA,EAAGC,CAAA,CAAE;YACnBqwE,QAAA,EAAAA;UACF;QACF;MACF;MAEA,OAAOp+B,KAAA;IACT;EAAA;IAAA5yC,GAAA;IAAAmoB,KAAA,EAEA,SAAAmoD,wBAAA,EAA0B;MACxB,IAAAe,cAAA,GAA0B,IAAI,CAACrvE,OAAO;QAA/Bu0D,QAAA,GAAA8a,cAAA,CAAA9a,QAAA;QAAUxmC,KAAA,GAAAshD,cAAA,CAAAthD,KAAA;MACjB,IAAMtO,QAAW,IAAC8rC,6DAAU,KAAI,CAAC0Z,aAAa;MAE9C,IAAIxlD,QAAU;QACZ,OAAO80C,QAAA,KAAa,KAAQ,YAAS,OAAO;;MAG9C,IAAIkO,KAAQ;MAEZ,IAAI10C,KAAA,CAAM00C,KAAK,KAAK,OAAS;QAC3BA,KAAQ;MACV,OAAO,IAAI10C,KAAA,CAAM00C,KAAK,KAAK,KAAO;QAChCA,KAAQ;MACV,OAAO,IAAI10C,KAAA,CAAM00C,KAAK,KAAK,OAAS;QAClCA,KAAQ;;MAGV,OAAOA,KAAA;IACT;EAAA;IAAAzkE,GAAA;IAAAmoB,KAAA,EAEA,SAAAooD,wBAAwBlC,EAAE,EAAE;MAC1B,IAAAiD,cAAA,GAAyD,IAAI,CAACtvE,OAAO;QAA9Du0D,QAAQ,GAAA+a,cAAA,CAAR/a,QAAQ;QAAAgb,oBAAA,GAAAD,cAAA,CAAEvhD,KAAO;QAACggD,UAAA,GAAAwB,oBAAA,CAAAxB,UAAA;QAAY9D,MAAA,GAAAsF,oBAAA,CAAAtF,MAAA;QAAQ97C,OAAA,GAAAohD,oBAAA,CAAAphD,OAAA;MAC7C,IAAM46C,UAAA,GAAa,IAAI,CAACC,cAAc;MACtC,IAAMgF,cAAA,GAAiB3B,EAAK,GAAAl+C,OAAA;MAC5B,IAAM+6C,MAAS,GAAAH,UAAA,CAAWG,MAAM,CAACrkE,KAAK;MAEtC,IAAIqpE,SAAA;MACJ,IAAIxvE,CAAA;MAEJ,IAAI61D,QAAA,KAAa,MAAQ;QACvB,IAAI0V,MAAQ;UACVvrE,CAAI,OAAI,CAACoB,KAAK,GAAGquB,OAAA;UAEjB,IAAI4/C,UAAA,KAAe,MAAQ;YACzBG,SAAY;WACP,UAAIH,UAAA,KAAe,QAAU;YAClCG,SAAY;YACZxvE,CAAA,IAAMwqE,MAAS;WACV;YACLgF,SAAY;YACZxvE,CAAK,IAAAwqE,MAAA;;SAEF;UACLxqE,CAAI,OAAI,CAACoB,KAAK,GAAGkuE,cAAA;UAEjB,IAAID,UAAA,KAAe,MAAQ;YACzBG,SAAY;WACP,UAAIH,UAAA,KAAe,QAAU;YAClCG,SAAY;YACZxvE,CAAA,IAAMwqE,MAAS;WACV;YACLgF,SAAY;YACZxvE,CAAI,OAAI,CAACmB,IAAI;;;OAGZ,UAAI00D,QAAA,KAAa,OAAS;QAC/B,IAAI0V,MAAQ;UACVvrE,CAAI,OAAI,CAACmB,IAAI,GAAGsuB,OAAA;UAEhB,IAAI4/C,UAAA,KAAe,MAAQ;YACzBG,SAAY;WACP,UAAIH,UAAA,KAAe,QAAU;YAClCG,SAAY;YACZxvE,CAAA,IAAMwqE,MAAS;WACV;YACLgF,SAAY;YACZxvE,CAAK,IAAAwqE,MAAA;;SAEF;UACLxqE,CAAI,OAAI,CAACmB,IAAI,GAAGmuE,cAAA;UAEhB,IAAID,UAAA,KAAe,MAAQ;YACzBG,SAAY;WACP,UAAIH,UAAA,KAAe,QAAU;YAClCG,SAAY;YACZxvE,CAAA,IAAKwqE,MAAS;WACT;YACLgF,SAAY;YACZxvE,CAAI,OAAI,CAACoB,KAAK;;;OAGb;QACLouE,SAAY;;MAGd,OAAO;QAACA,SAAA,EAAAA,SAAA;QAAWxvE,CAAA,EAAAA;MAAC;IACtB;EAAA;IAAAV,GAAA;IAAAmoB,KAAA,EAKA,SAAAqpD,kBAAA,EAAoB;MAClB,IAAI,IAAI,CAACxvE,OAAO,CAAC+tB,KAAK,CAACk8C,MAAM,EAAE;QAC7B;;MAGF,IAAM3rE,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMi2D,QAAW,OAAI,CAACv0D,OAAO,CAACu0D,QAAQ;MAEtC,IAAIA,QAAA,KAAa,MAAU,IAAAA,QAAA,KAAa,OAAS;QAC/C,OAAO;UAAC50D,GAAK;UAAGE,IAAM,MAAI,CAACA,IAAI;UAAED,MAAA,EAAQtB,KAAA,CAAMwG,MAAM;UAAEhF,KAAO,MAAI,CAACA;QAAK;;MACxE,IAAIy0D,QAAA,KAAa,KAAS,IAAAA,QAAA,KAAa,QAAU;QACjD,OAAO;UAAC50D,GAAK,MAAI,CAACA,GAAG;UAAEE,IAAM;UAAGD,MAAQ,MAAI,CAACA,MAAM;UAAEE,KAAA,EAAOxB,KAAA,CAAMuG;QAAK;;IAE3E;EAAA;IAAA7G,GAAA;IAAAmoB,KAAA,EAKA,SAAAspD,eAAA,EAAiB;MACf,IAAOj+D,GAAG,GAA0D,IAAI,CAAjEA,GAAG;QAAYI,eAAA,GAA8C,IAAI,CAA5D5R,OAAA,CAAU4R,eAAA;QAAkB/R,IAAI,GAAwB,IAAI,CAAhCA,IAAI;QAAEF,GAAA,GAAsB,IAAI,CAA1BA,GAAA;QAAKkF,KAAA,GAAiB,IAAI,CAArBA,KAAA;QAAOC,MAAM,GAAI,IAAI,CAAdA,MAAM;MAChE,IAAI8M,eAAiB;QACnBJ,GAAA,CAAIC,IAAI;QACRD,GAAA,CAAIG,SAAS,GAAGC,eAAA;QAChBJ,GAAA,CAAIK,QAAQ,CAAChS,IAAM,EAAAF,GAAA,EAAKkF,KAAO,EAAAC,MAAA;QAC/B0M,GAAA,CAAIW,OAAO;;IAEf;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAEA,SAAAiiC,qBAAqBjiC,KAAK,EAAE;MAC1B,IAAMuiC,IAAO,OAAI,CAAC1oD,OAAO,CAAC0oD,IAAI;MAC9B,IAAI,CAAC,IAAI,CAACogB,UAAU,MAAM,CAACpgB,IAAA,CAAKt5B,OAAO,EAAE;QACvC,OAAO;;MAET,IAAMrB,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMzW,KAAA,GAAQyW,KAAA,CAAM2hD,SAAS,CAAC,UAAAtqD,CAAK;QAAA,OAAAA,CAAA,CAAEe,KAAK,KAAKA,KAAA;MAAA;MAC/C,IAAI7O,KAAA,IAAS,CAAG;QACd,IAAM1Z,IAAA,GAAO8qD,IAAK,CAAAod,UAAU,CAAC,IAAI,CAAC5oB,UAAU,CAAC5lC,KAAA;QAC7C,OAAO1Z,IAAA,CAAKmU,SAAS;;MAEvB,OAAO;IACT;EAAA;IAAA/T,GAAA;IAAAmoB,KAAA,EAKA,SAAAwpD,SAAS/nE,SAAS,EAAE;MAClB,IAAM8gD,IAAO,OAAI,CAAC1oD,OAAO,CAAC0oD,IAAI;MAC9B,IAAMl3C,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAMo/B,KAAQ,OAAI,CAACu0B,cAAc,KAAK,IAAI,CAACA,cAAc,GAAG,IAAI,CAACiH,qBAAqB,CAACxkE,SAAS;MAChG,IAAIpI,CAAG,EAAAi2C,IAAA;MAEP,IAAMm6B,QAAW,YAAXA,QAAWA,CAACjnE,EAAI,EAAA0X,EAAA,EAAImF,KAAU;QAClC,IAAI,CAACA,KAAM,CAAA3gB,KAAK,IAAI,CAAC2gB,KAAA,CAAMgpB,KAAK,EAAE;UAChC;;QAEFh9B,GAAA,CAAIC,IAAI;QACRD,GAAI,CAAAO,SAAS,GAAGyT,KAAA,CAAM3gB,KAAK;QAC3B2M,GAAI,CAAAQ,WAAW,GAAGwT,KAAA,CAAMgpB,KAAK;QAC7Bh9B,GAAA,CAAIq+D,WAAW,CAACrqD,KAAM,CAAAgoD,UAAU,IAAI,EAAE;QACtCh8D,GAAI,CAAAs+D,cAAc,GAAGtqD,KAAA,CAAMkoD,gBAAgB;QAE3Cl8D,GAAA,CAAIE,SAAS;QACbF,GAAA,CAAIu+D,MAAM,CAACpnE,EAAA,CAAGjK,CAAC,EAAEiK,EAAA,CAAGhK,CAAC;QACrB6S,GAAA,CAAIw+D,MAAM,CAAC3vD,EAAA,CAAG3hB,CAAC,EAAE2hB,EAAA,CAAG1hB,CAAC;QACrB6S,GAAA,CAAIy+D,MAAM;QACVz+D,GAAA,CAAIW,OAAO;MACb;MAEA,IAAIu2C,IAAA,CAAKt5B,OAAO,EAAE;QAChB,KAAK5vB,CAAA,GAAI,GAAGi2C,IAAO,GAAA7E,KAAA,CAAMnxC,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;UAC9C,IAAMoU,IAAA,GAAOg9B,KAAK,CAACpxC,CAAE;UAErB,IAAIkpD,IAAA,CAAKwnB,eAAe,EAAE;YACxBN,QACE;cAAClxE,CAAA,EAAGkV,IAAA,CAAKo5D,EAAE;cAAEruE,CAAA,EAAGiV,IAAA,CAAKq5D;aACrB;cAACvuE,CAAA,EAAGkV,IAAA,CAAKs5D,EAAE;cAAEvuE,CAAA,EAAGiV,IAAA,CAAKu5D;aACrB,EAAAv5D,IAAA;;UAIJ,IAAI80C,IAAA,CAAKgb,SAAS,EAAE;YAClBkM,QACE;cAAClxE,CAAA,EAAGkV,IAAA,CAAKg5D,GAAG;cAAEjuE,CAAA,EAAGiV,IAAA,CAAKi5D;aACtB;cAACnuE,CAAA,EAAGkV,IAAA,CAAKk5D,GAAG;cAAEnuE,CAAA,EAAGiV,IAAA,CAAKm5D;aACtB;cACEv+B,KAAA,EAAO56B,IAAA,CAAKg6D,SAAS;cACrB/oE,KAAA,EAAO+O,IAAA,CAAKg1D,SAAS;cACrB4E,UAAA,EAAY55D,IAAA,CAAKi6D,cAAc;cAC/BH,gBAAA,EAAkB95D,IAAA,CAAKk6D;YACzB;;QAGN;;IAEJ;EAAA;IAAA9vE,GAAA;IAAAmoB,KAAA,EAKA,SAAAgqD,WAAA,EAAa;MACX,IAAO7xE,KAAA,GAAuC,IAAI,CAA3CA,KAAA;QAAOkT,GAAA,GAAgC,IAAI,CAApCA,GAAA;QAAA4+D,eAAA,GAAgC,IAAI,CAA/BpwE,OAAS;QAACkwD,MAAM,GAAAkgB,eAAA,CAANlgB,MAAM;QAAExH,IAAI,GAAA0nB,eAAA,CAAJ1nB,IAAI;MACzC,IAAM4jB,UAAA,GAAapc,MAAO,CAAA4V,UAAU,CAAC,IAAI,CAAC5oB,UAAU;MACpD,IAAMqvB,SAAA,GAAYrc,MAAO,CAAA9gC,OAAO,GAAGk9C,UAAW,CAAAznE,KAAK,GAAG,CAAC;MACvD,IAAI,CAAC0nE,SAAW;QACd;;MAEF,IAAM8D,aAAA,GAAgB3nB,IAAA,CAAKod,UAAU,CAAC,IAAI,CAAC5oB,UAAU,CAAC,IAAInrC,SAAS;MACnE,IAAM26D,WAAA,GAAc,IAAI,CAAC9G,YAAY;MACrC,IAAIoH,EAAA,EAAIE,EAAA,EAAID,EAAI,EAAAE,EAAA;MAEhB,IAAI,IAAI,CAAClrE,YAAY,EAAI;QACvB+qE,EAAA,GAAKlB,6DAAA,CAAYxtE,KAAO,MAAI,CAACuB,IAAI,EAAE0sE,SAAA,IAAaA,SAAY;QAC5DW,EAAA,GAAKpB,6DAAA,CAAYxtE,KAAO,MAAI,CAACwB,KAAK,EAAEuwE,aAAA,IAAiBA,aAAgB;QACrEpD,EAAA,GAAKE,EAAK,GAAAT,WAAA;OACL;QACLO,EAAA,GAAKnB,6DAAA,CAAYxtE,KAAO,MAAI,CAACqB,GAAG,EAAE4sE,SAAA,IAAaA,SAAY;QAC3DY,EAAA,GAAKrB,6DAAA,CAAYxtE,KAAO,MAAI,CAACsB,MAAM,EAAEywE,aAAA,IAAiBA,aAAgB;QACtErD,EAAA,GAAKE,EAAK,GAAAR,WAAA;;MAEZl7D,GAAA,CAAIC,IAAI;MACRD,GAAI,CAAAO,SAAS,GAAGu6D,UAAA,CAAWznE,KAAK;MAChC2M,GAAI,CAAAQ,WAAW,GAAGs6D,UAAA,CAAW99B,KAAK;MAElCh9B,GAAA,CAAIE,SAAS;MACbF,GAAI,CAAAu+D,MAAM,CAAC/C,EAAI,EAAAC,EAAA;MACfz7D,GAAI,CAAAw+D,MAAM,CAAC9C,EAAI,EAAAC,EAAA;MACf37D,GAAA,CAAIy+D,MAAM;MAEVz+D,GAAA,CAAIW,OAAO;IACb;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAKA,SAAAmqD,WAAW1oE,SAAS,EAAE;MACpB,IAAMqkE,WAAc,OAAI,CAACjsE,OAAO,CAAC+tB,KAAK;MAEtC,IAAI,CAACk+C,WAAY,CAAA78C,OAAO,EAAE;QACxB;;MAGF,IAAM5d,GAAA,GAAM,IAAI,CAACA,GAAG;MAEpB,IAAM6tC,IAAA,GAAO,IAAI,CAACmwB,iBAAiB;MACnC,IAAInwB,IAAM;QACRkxB,6DAAA,CAAS/+D,GAAK,EAAA6tC,IAAA;;MAGhB,IAAMzO,KAAQ,OAAI,CAAC21B,aAAa,CAAC3+D,SAAA;MAAA,IAAA4oE,WAAA,GAAAh5B,0BAAA,CACd5G,KAAO;QAAA6/B,OAAA;MAAA;QAA1B,KAAAD,WAAA,CAAA1vC,CAAA,MAAA2vC,OAAA,GAAAD,WAAA,CAAAzvC,CAAA,IAAApG,IAAA,GAA0B;UAAA,IAAf/mB,IAAA,GAAA68D,OAAA,CAAAtqD,KAAA;UACT,IAAMuqD,iBAAA,GAAoB98D,IAAA,CAAK5T,OAAO;UACtC,IAAMmrE,QAAA,GAAWv3D,IAAA,CAAKoa,IAAI;UAC1B,IAAMP,KAAA,GAAQ7Z,IAAA,CAAK6Z,KAAK;UACxB,IAAM9uB,CAAA,GAAIiV,IAAA,CAAKw6D,UAAU;UACzBuC,6DAAA,CAAWn/D,GAAK,EAAAic,KAAA,EAAO,CAAG,EAAA9uB,CAAA,EAAGwsE,QAAU,EAAAuF,iBAAA;QACzC;MAAA,SAAAx4C,GAAA;QAAAs4C,WAAA,CAAAjhE,CAAA,CAAA2oB,GAAA;MAAA;QAAAs4C,WAAA,CAAA1wC,CAAA;MAAA;MAEA,IAAIuf,IAAM;QACRuxB,6DAAW,CAAAp/D,GAAA;;IAEf;EAAA;IAAAxT,GAAA;IAAAmoB,KAAA,EAKA,SAAA0qD,UAAA,EAAY;MACV,IAAOr/D,GAAA,GAA4C,IAAI,CAAhDA,GAAA;QAAAs/D,eAAA,GAA4C,IAAI,CAA3C9wE,OAAA;QAAUu0D,QAAQ,GAAAuc,eAAA,CAARvc,QAAQ;QAAE+U,KAAK,GAAAwH,eAAA,CAALxH,KAAK;QAAE7sC,OAAO,GAAAq0C,eAAA,CAAPr0C,OAAO;MAE9C,IAAI,CAAC6sC,KAAM,CAAAl6C,OAAO,EAAE;QAClB;;MAGF,IAAMpB,IAAA,GAAO41C,8DAAO,CAAA0F,KAAA,CAAMt7C,IAAI;MAC9B,IAAMG,OAAA,GAAU2sC,6DAAU,CAAAwO,KAAA,CAAMn7C,OAAO;MACvC,IAAMs0C,KAAA,GAAQ6G,KAAA,CAAM7G,KAAK;MACzB,IAAI7+D,MAAA,GAASoqB,IAAK,CAAA81C,UAAU,GAAG;MAE/B,IAAIvP,QAAa,iBAAYA,QAAa,iBAAYzgB,6DAAA,CAASygB,QAAW;QACxE3wD,MAAA,IAAUuqB,OAAA,CAAQvuB,MAAM;QACxB,IAAI2W,6DAAA,CAAQ+yD,KAAM,CAAAl4C,IAAI,CAAG;UACvBxtB,MAAU,IAAAoqB,IAAA,CAAK81C,UAAU,IAAIwF,KAAA,CAAMl4C,IAAI,CAAC3xB,MAAM,GAAG;;OAE9C;QACLmE,MAAA,IAAUuqB,OAAA,CAAQxuB,GAAG;;MAGvB,IAAAoxE,UAAA,GAA6C5M,SAAA,CAAU,IAAI,EAAEvgE,MAAA,EAAQ2wD,QAAU,EAAAkO,KAAA;QAAxE2B,MAAA,GAAA2M,UAAA,CAAA3M,MAAA;QAAQC,MAAA,GAAA0M,UAAA,CAAA1M,MAAA;QAAQhY,QAAQ,GAAA0kB,UAAA,CAAR1kB,QAAQ;QAAE5sC,QAAQ,GAAAsxD,UAAA,CAARtxD,QAAQ;MAEzCkxD,6DAAA,CAAWn/D,GAAA,EAAK83D,KAAM,CAAAl4C,IAAI,EAAE,GAAG,GAAGpD,IAAM;QACtCwgB,KAAA,EAAO86B,KAAA,CAAM96B,KAAK;QAClB6d,QAAA,EAAAA,QAAA;QACA5sC,QAAA,EAAAA,QAAA;QACAyuD,SAAW,EAAAjK,UAAA,CAAWxB,KAAA,EAAOlO,QAAU,EAAA93B,OAAA;QACvC4xC,YAAc;QACde,WAAa,GAAChL,MAAA,EAAQC,MAAA;MACxB;IACF;EAAA;IAAArmE,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAKvJ,SAAS,EAAE;MACd,IAAI,CAAC,IAAI,CAACkhE,UAAU,EAAI;QACtB;;MAGF,IAAI,CAAC2G,cAAc;MACnB,IAAI,CAACE,QAAQ,CAAC/nE,SAAA;MACd,IAAI,CAACuoE,UAAU;MACf,IAAI,CAACU,SAAS;MACd,IAAI,CAACP,UAAU,CAAC1oE,SAAA;IAClB;EAAA;IAAA5J,GAAA;IAAAmoB,KAAA,EAMA,SAAAs0C,QAAA,EAAU;MAAA,IAAAuW,OAAA;MACR,IAAMpzE,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAMixE,EAAA,GAAKrzE,IAAA,CAAKmwB,KAAK,IAAInwB,IAAA,CAAKmwB,KAAK,CAAC2sC,CAAC,IAAI;MACzC,IAAMwW,EAAA,GAAK3zE,6DAAe,CAAAK,IAAA,CAAK8qD,IAAI,IAAI9qD,IAAA,CAAK8qD,IAAI,CAACgS,CAAC,EAAE,CAAC;MACrD,IAAMyW,EAAA,GAAK5zE,6DAAA,CAAeK,IAAK,CAAAsyD,MAAM,IAAItyD,IAAK,CAAAsyD,MAAM,CAACwK,CAAC,EAAE;MAExD,IAAI,CAAC,IAAI,CAACoO,UAAU,EAAM,QAAI,CAAC33D,IAAI,KAAKqzD,KAAA,CAAMhyD,SAAS,CAACrB,IAAI,EAAE;QAE5D,OAAO,CAAC;UACNupD,CAAG,EAAAuW,EAAA;UACH9/D,IAAA,EAAM,SAAAA,KAACvJ,SAAc;YACnBopE,OAAI,CAAC7/D,IAAI,CAACvJ,SAAA;UACZ;QACF,EAAE;;MAGJ,OAAO,CAAC;QACN8yD,CAAG,EAAAwW,EAAA;QACH//D,IAAA,EAAM,SAAAA,KAACvJ,SAAc;UACnBopE,OAAI,CAACvB,cAAc;UACnBuB,OAAI,CAACrB,QAAQ,CAAC/nE,SAAA;UACdopE,OAAI,CAACH,SAAS;QAChB;MACF,GAAG;QACDnW,CAAG,EAAAyW,EAAA;QACHhgE,IAAA,EAAM,SAAAA,KAAA,EAAM;UACV6/D,OAAI,CAACb,UAAU;QACjB;MACF,GAAG;QACDzV,CAAG,EAAAuW,EAAA;QACH9/D,IAAA,EAAM,SAAAA,KAACvJ,SAAc;UACnBopE,OAAI,CAACV,UAAU,CAAC1oE,SAAA;QAClB;MACF,EAAE;IACJ;EAAA;IAAA5J,GAAA;IAAAmoB,KAAA,EAOA,SAAAsxB,wBAAwBjwC,IAAI,EAAE;MAC5B,IAAM2+D,KAAQ,OAAI,CAAC7nE,KAAK,CAACk2D,4BAA4B;MACrD,IAAM4c,MAAS,OAAI,CAAC1wE,IAAI,GAAG;MAC3B,IAAMm5B,MAAA,GAAS,EAAE;MACjB,IAAIr6B,CAAG,EAAAi2C,IAAA;MAEP,KAAKj2C,CAAA,GAAI,GAAGi2C,IAAO,GAAA0wB,KAAA,CAAM1mE,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC9C,IAAM22C,IAAA,GAAOgwB,KAAK,CAAC3mE,CAAE;QACrB,IAAI22C,IAAI,CAACi7B,MAAO,MAAK,IAAI,CAACxuE,EAAE,KAAK,CAAC4E,IAAQ,IAAA2uC,IAAA,CAAK3uC,IAAI,KAAKA,IAAG,CAAI;UAC7DqyB,MAAA,CAAOh5B,IAAI,CAACs1C,IAAA;;MAEhB;MACA,OAAOtc,MAAA;IACT;EAAA;IAAA77B,GAAA;IAAAmoB,KAAA,EAOA,SAAAmlD,wBAAwBh0D,KAAK,EAAE;MAC7B,IAAM1Z,IAAO,OAAI,CAACoC,OAAO,CAAC+tB,KAAK,CAAC+3C,UAAU,CAAC,IAAI,CAAC5oB,UAAU,CAAC5lC,KAAA;MAC3D,OAAOssD,8DAAA,CAAOhmE,IAAA,CAAKowB,IAAI;IACzB;EAAA;IAAAhwB,GAAA;IAAAmoB,KAAA,EAKA,SAAAkrD,WAAA,EAAa;MACX,IAAMC,QAAA,GAAW,IAAI,CAAChG,uBAAuB,CAAC,GAAGxH,UAAU;MAC3D,OAAO,CAAC,IAAI,CAAC7hE,YAAY,EAAK,OAAI,CAAC4C,KAAK,GAAG,IAAI,CAACC,MAAM,IAAIwsE,QAAA;IAC5D;EAAA;EAAA,OAAA9M,KAAA;AAAA,EA//CiCjE,OAAA;AAAA,IChKdgR,aAAA;EACnB,SAAAA,cAAY/pE,IAAI,EAAEgqE,KAAK,EAAEhe,QAAQ,EAAE;IAAArlB,eAAA,OAAAojC,aAAA;IACjC,IAAI,CAAC/pE,IAAI,GAAGA,IAAA;IACZ,IAAI,CAACgqE,KAAK,GAAGA,KAAA;IACb,IAAI,CAAChe,QAAQ,GAAGA,QAAA;IAChB,IAAI,CAAC5iB,KAAK,GAAGtxC,MAAO,CAAA6Y,MAAM,CAAC,IAAI;EACjC;EAAAm2B,YAAA,CAAAijC,aAAA;IAAAvzE,GAAA;IAAAmoB,KAAA,EAEA,SAAAsrD,UAAUjqE,IAAI,EAAE;MACd,OAAOlI,MAAO,CAAAkT,SAAS,CAACk/D,aAAa,CAACh/D,IAAI,CAAC,IAAI,CAAClL,IAAI,CAACgL,SAAS,EAAEhL,IAAA,CAAKgL,SAAS;IAChF;EAAA;IAAAxU,GAAA;IAAAmoB,KAAA,EAMA,SAAAgJ,SAASvb,IAAI,EAAE;MACb,IAAMm6B,KAAA,GAAQzuC,MAAO,CAAA45B,cAAc,CAACtlB,IAAA;MACpC,IAAI+9D,WAAA;MAEJ,IAAIC,iBAAA,CAAkB7jC,KAAQ;QAE5B4jC,WAAc,OAAI,CAACxiD,QAAQ,CAAC4e,KAAA;;MAG9B,IAAM6C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMhuC,EAAA,GAAKgR,IAAA,CAAKhR,EAAE;MAClB,IAAM4uE,KAAQ,OAAI,CAACA,KAAK,GAAG,GAAM,GAAA5uE,EAAA;MAEjC,IAAI,CAACA,EAAI;QACP,MAAM,IAAImU,KAAM,8BAA6BnD,IAAM;;MAGrD,IAAIhR,EAAA,IAAMguC,KAAO;QAEf,OAAO4gC,KAAA;;MAGT5gC,KAAK,CAAChuC,EAAA,CAAG,GAAGgR,IAAA;MACZi+D,gBAAA,CAAiBj+D,IAAA,EAAM49D,KAAO,EAAAG,WAAA;MAC9B,IAAI,IAAI,CAACne,QAAQ,EAAE;QACjBnhD,kEAAiB,CAACuB,IAAA,CAAKhR,EAAE,EAAEgR,IAAA,CAAKk+D,SAAS;;MAG3C,OAAON,KAAA;IACT;EAAA;IAAAxzE,GAAA;IAAAmoB,KAAA,EAMA,SAAAjlB,IAAI0B,EAAE,EAAE;MACN,OAAO,IAAI,CAACguC,KAAK,CAAChuC,EAAG;IACvB;EAAA;IAAA5E,GAAA;IAAAmoB,KAAA,EAKA,SAAA4rD,WAAWn+D,IAAI,EAAE;MACf,IAAMg9B,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMhuC,EAAA,GAAKgR,IAAA,CAAKhR,EAAE;MAClB,IAAM4uE,KAAA,GAAQ,IAAI,CAACA,KAAK;MAExB,IAAI5uE,EAAA,IAAMguC,KAAO;QACf,OAAOA,KAAK,CAAChuC,EAAG;;MAGlB,IAAI4uE,KAAS,IAAA5uE,EAAA,IAAMyP,yDAAQ,CAACm/D,KAAA,CAAM,EAAE;QAClC,OAAOn/D,yDAAQ,CAACm/D,KAAM,EAAC5uE,EAAG;QAC1B,IAAI,IAAI,CAAC4wD,QAAQ,EAAE;UACjB,OAAOse,0DAAS,CAAClvE,EAAG;;;IAG1B;EAAA;EAAA,OAAA2uE,aAAA;AAAA;AAGF,SAASM,iBAAiBj+D,IAAI,EAAE49D,KAAK,EAAEG,WAAW,EAAE;EAElD,IAAMK,YAAA,GAAep6D,8DAAM,CAAAtY,MAAA,CAAO6Y,MAAM,CAAC,IAAI,CAAG,GAC9Cw5D,WAAA,GAAct/D,6DAAY,CAACs/D,WAAA,IAAe,EAAE,EAC5Ct/D,6DAAY,CAACm/D,KAAA,GACb59D,IAAA,CAAKvB,QAAQ,CACd;EAEDA,6DAAY,CAACm/D,KAAO,EAAAQ,YAAA;EAEpB,IAAIp+D,IAAA,CAAKq+D,aAAa,EAAE;IACtBC,aAAc,CAAAV,KAAA,EAAO59D,IAAA,CAAKq+D,aAAa;;EAGzC,IAAIr+D,IAAA,CAAKu+D,WAAW,EAAE;IACpB9/D,kEAAiB,CAACm/D,KAAO,EAAA59D,IAAA,CAAKu+D,WAAW;;AAE7C;AAEA,SAASD,aAAcA,CAAAV,KAAK,EAAEa,MAAM,EAAE;EACpC/yE,MAAA,CAAOC,IAAI,CAAC8yE,MAAA,EAAQ37D,OAAO,CAAC,UAAA2D,QAAY;IACtC,IAAMi4D,aAAA,GAAgBj4D,QAAS,CAAAZ,KAAK,CAAC;IACrC,IAAM84D,UAAA,GAAaD,aAAA,CAAc51C,GAAG;IACpC,IAAM81C,WAAc,IAAChB,KAAA,CAAM,CAACz9D,MAAM,CAACu+D,aAAe,EAAAt+D,IAAI,CAAC;IACvD,IAAMy+D,KAAA,GAAQJ,MAAM,CAACh4D,QAAS,EAACZ,KAAK,CAAC;IACrC,IAAMi5D,UAAA,GAAaD,KAAA,CAAM/1C,GAAG;IAC5B,IAAMi2C,WAAA,GAAcF,KAAM,CAAAz+D,IAAI,CAAC;IAC/B3B,+DAAc,CAACmgE,WAAa,EAAAD,UAAA,EAAYI,WAAa,EAAAD,UAAA;EACvD;AACF;AAEA,SAASd,kBAAkB7jC,KAAK,EAAE;EAChC,OAAO,QAAQA,KAAA,IAAS,UAAc,IAAAA,KAAA;AACxC;AAAA,IC1Ga8kC,QAAA;EACX,SAAAA,SAAA,EAAc;IAAA1kC,eAAA,OAAA0kC,QAAA;IACZ,IAAI,CAACC,WAAW,GAAG,IAAIvB,aAAc,CAAA73B,iBAAA,EAAmB,YAAY,IAAI;IACxE,IAAI,CAAC0F,QAAQ,GAAG,IAAImyB,aAAA,CAAchR,OAAS;IAC3C,IAAI,CAACnyC,OAAO,GAAG,IAAImjD,aAAA,CAAcjyE,MAAQ;IACzC,IAAI,CAACF,MAAM,GAAG,IAAImyE,aAAA,CAAc/M,KAAO;IAGvC,IAAI,CAACuO,gBAAgB,GAAG,CAAC,IAAI,CAACD,WAAW,EAAE,IAAI,CAAC1zE,MAAM,EAAE,IAAI,CAACggD,QAAQ,CAAC;EACxE;EAAA9Q,YAAA,CAAAukC,QAAA;IAAA70E,GAAA;IAAAmoB,KAAA,EAKA,SAAAzV,IAAA,EAAa;MAAA,SAAAsiE,IAAA,GAAA3vE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAA08D,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;QAAJpgE,IAAI,CAAAogE,IAAA,IAAA5vE,SAAA,CAAA4vE,IAAA;MAAA;MACT,IAAI,CAACC,KAAK,CAAC,UAAY,EAAArgE,IAAA;IACzB;EAAA;IAAA7U,GAAA;IAAAmoB,KAAA,EAEA,SAAAnV,OAAA,EAAgB;MAAA,SAAAmiE,KAAA,GAAA9vE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAA68D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJvgE,IAAI,CAAAugE,KAAA,IAAA/vE,SAAA,CAAA+vE,KAAA;MAAA;MACZ,IAAI,CAACF,KAAK,CAAC,YAAc,EAAArgE,IAAA;IAC3B;EAAA;IAAA7U,GAAA;IAAAmoB,KAAA,EAKA,SAAAktD,eAAA,EAAwB;MAAA,SAAAC,KAAA,GAAAjwE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAg9D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJ1gE,IAAI,CAAA0gE,KAAA,IAAAlwE,SAAA,CAAAkwE,KAAA;MAAA;MACpB,IAAI,CAACL,KAAK,CAAC,YAAYrgE,IAAM,MAAI,CAACigE,WAAW;IAC/C;EAAA;IAAA90E,GAAA;IAAAmoB,KAAA,EAKA,SAAA00B,YAAA,EAAqB;MAAA,SAAA24B,KAAA,GAAAnwE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAk9D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJ5gE,IAAI,CAAA4gE,KAAA,IAAApwE,SAAA,CAAAowE,KAAA;MAAA;MACjB,IAAI,CAACP,KAAK,CAAC,YAAYrgE,IAAM,MAAI,CAACusC,QAAQ;IAC5C;EAAA;IAAAphD,GAAA;IAAAmoB,KAAA,EAKA,SAAAutD,WAAA,EAAoB;MAAA,SAAAC,KAAA,GAAAtwE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAq9D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJ/gE,IAAI,CAAA+gE,KAAA,IAAAvwE,SAAA,CAAAuwE,KAAA;MAAA;MAChB,IAAI,CAACV,KAAK,CAAC,YAAYrgE,IAAM,MAAI,CAACub,OAAO;IAC3C;EAAA;IAAApwB,GAAA;IAAAmoB,KAAA,EAKA,SAAA0tD,UAAA,EAAmB;MAAA,SAAAC,KAAA,GAAAzwE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAw9D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJlhE,IAAI,CAAAkhE,KAAA,IAAA1wE,SAAA,CAAA0wE,KAAA;MAAA;MACf,IAAI,CAACb,KAAK,CAAC,YAAYrgE,IAAM,MAAI,CAACzT,MAAM;IAC1C;EAAA;IAAApB,GAAA;IAAAmoB,KAAA,EAMA,SAAA6tD,cAAcpxE,EAAE,EAAE;MAChB,OAAO,IAAI,CAAC0jD,IAAI,CAAC1jD,EAAA,EAAI,IAAI,CAACkwE,WAAW,EAAE;IACzC;EAAA;IAAA90E,GAAA;IAAAmoB,KAAA,EAMA,SAAA0sC,WAAWjwD,EAAE,EAAE;MACb,OAAO,IAAI,CAAC0jD,IAAI,CAAC1jD,EAAA,EAAI,IAAI,CAACw8C,QAAQ,EAAE;IACtC;EAAA;IAAAphD,GAAA;IAAAmoB,KAAA,EAMA,SAAA8tD,UAAUrxE,EAAE,EAAE;MACZ,OAAO,IAAI,CAAC0jD,IAAI,CAAC1jD,EAAA,EAAI,IAAI,CAACwrB,OAAO,EAAE;IACrC;EAAA;IAAApwB,GAAA;IAAAmoB,KAAA,EAMA,SAAA3G,SAAS5c,EAAE,EAAE;MACX,OAAO,IAAI,CAAC0jD,IAAI,CAAC1jD,EAAA,EAAI,IAAI,CAACxD,MAAM,EAAE;IACpC;EAAA;IAAApB,GAAA;IAAAmoB,KAAA,EAKA,SAAA+tD,kBAAA,EAA2B;MAAA,SAAAC,KAAA,GAAA9wE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAA69D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJvhE,IAAI,CAAAuhE,KAAA,IAAA/wE,SAAA,CAAA+wE,KAAA;MAAA;MACvB,IAAI,CAAClB,KAAK,CAAC,cAAcrgE,IAAM,MAAI,CAACigE,WAAW;IACjD;EAAA;IAAA90E,GAAA;IAAAmoB,KAAA,EAKA,SAAAkuD,eAAA,EAAwB;MAAA,SAAAC,KAAA,GAAAjxE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAg+D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJ1hE,IAAI,CAAA0hE,KAAA,IAAAlxE,SAAA,CAAAkxE,KAAA;MAAA;MACpB,IAAI,CAACrB,KAAK,CAAC,cAAcrgE,IAAM,MAAI,CAACusC,QAAQ;IAC9C;EAAA;IAAAphD,GAAA;IAAAmoB,KAAA,EAKA,SAAAquD,cAAA,EAAuB;MAAA,SAAAC,KAAA,GAAApxE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAm+D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;QAAJ7hE,IAAI,CAAA6hE,KAAA,IAAArxE,SAAA,CAAAqxE,KAAA;MAAA;MACnB,IAAI,CAACxB,KAAK,CAAC,cAAcrgE,IAAM,MAAI,CAACub,OAAO;IAC7C;EAAA;IAAApwB,GAAA;IAAAmoB,KAAA,EAKA,SAAAwuD,aAAA,EAAsB;MAAA,SAAAC,MAAA,GAAAvxE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAAs+D,MAAA,GAAAC,MAAA,MAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA;QAAJhiE,IAAI,CAAAgiE,MAAA,IAAAxxE,SAAA,CAAAwxE,MAAA;MAAA;MAClB,IAAI,CAAC3B,KAAK,CAAC,cAAcrgE,IAAM,MAAI,CAACzT,MAAM;IAC5C;EAAA;IAAApB,GAAA;IAAAmoB,KAAA,EAKA,SAAA+sD,MAAMt8D,MAAM,EAAE/D,IAAI,EAAEiiE,aAAa,EAAE;MAAA,IAAAC,OAAA;MACjC/0C,kBAAA,CAAIntB,IAAA,EAAM6D,OAAO,CAAC,UAAAL,GAAO;QACvB,IAAM2+D,GAAM,GAAAF,aAAA,IAAiBC,OAAI,CAACE,mBAAmB,CAAC5+D,GAAA;QACtD,IAAIy+D,aAAiB,IAAAE,GAAA,CAAIvD,SAAS,CAACp7D,GAAS,KAAA2+D,GAAA,KAAQD,OAAI,CAAC3mD,OAAO,IAAI/X,GAAI,CAAAzT,EAAE,EAAG;UAC3EmyE,OAAI,CAACG,KAAK,CAACt+D,MAAA,EAAQo+D,GAAK,EAAA3+D,GAAA;SACnB;UAKL/Y,6DAAK,CAAA+Y,GAAA,EAAK,UAAAzC,IAAQ;YAOhB,IAAMuhE,OAAU,GAAAL,aAAA,IAAiBC,OAAI,CAACE,mBAAmB,CAACrhE,IAAA;YAC1DmhE,OAAI,CAACG,KAAK,CAACt+D,MAAA,EAAQu+D,OAAS,EAAAvhE,IAAA;UAC9B;;MAEJ;IACF;EAAA;IAAA5V,GAAA;IAAAmoB,KAAA,EAKA,SAAA+uD,MAAMt+D,MAAM,EAAEg8C,QAAQ,EAAEwiB,SAAS,EAAE;MACjC,IAAMC,WAAA,GAAcC,8DAAY,CAAA1+D,MAAA;MAChCpZ,6DAAK,CAAA43E,SAAS,CAAC,QAAW,GAAAC,WAAA,CAAY,EAAE,EAAE,EAAED,SAAA;MAC5CxiB,QAAQ,CAACh8C,MAAA,CAAO,CAACw+D,SAAA;MACjB53E,6DAAK,CAAA43E,SAAS,CAAC,OAAU,GAAAC,WAAA,CAAY,EAAE,EAAE,EAAED,SAAA;IAC7C;EAAA;IAAAp3E,GAAA;IAAAmoB,KAAA,EAKA,SAAA8uD,oBAAoBztE,IAAI,EAAE;MACxB,KAAK,IAAIhI,CAAI,MAAGA,CAAI,OAAI,CAACuzE,gBAAgB,CAACtzE,MAAM,EAAED,CAAK;QACrD,IAAMw1E,GAAM,OAAI,CAACjC,gBAAgB,CAACvzE,CAAE;QACpC,IAAIw1E,GAAA,CAAIvD,SAAS,CAACjqE,IAAO;UACvB,OAAOwtE,GAAA;;MAEX;MAEA,OAAO,IAAI,CAAC5mD,OAAO;IACrB;EAAA;IAAApwB,GAAA;IAAAmoB,KAAA,EAKA,SAAAmgC,KAAK1jD,EAAE,EAAEkyE,aAAa,EAAEttE,IAAI,EAAE;MAC5B,IAAMoM,IAAA,GAAOkhE,aAAc,CAAA5zE,GAAG,CAAC0B,EAAA;MAC/B,IAAIgR,IAAA,KAASrV,SAAW;QACtB,MAAM,IAAIwY,KAAM,OAAMnU,EAAK,8BAA2B4E,IAAA,GAAO,GAAK;;MAEpE,OAAOoM,IAAA;IACT;EAAA;EAAA,OAAAi/D,QAAA;AAAA;AAKF,IAAAjgB,QAAA,GAAe,eAAgB,IAAIigB,QAAW;AAAA,ICtKzB0C,aAAA;EACnB,SAAAA,cAAA,EAAc;IAAApnC,eAAA,OAAAonC,aAAA;IACZ,IAAI,CAACC,KAAK,GAAG,EAAE;EACjB;EAAAlnC,YAAA,CAAAinC,aAAA;IAAAv3E,GAAA;IAAAmoB,KAAA,EAYA,SAAAsvD,OAAOn3E,KAAK,EAAEo3E,IAAI,EAAE7iE,IAAI,EAAEmR,MAAM,EAAE;MAChC,IAAI0xD,IAAA,KAAS,YAAc;QACzB,IAAI,CAACF,KAAK,GAAG,IAAI,CAACG,kBAAkB,CAACr3E,KAAA,EAAO,IAAI;QAChD,IAAI,CAACuxC,OAAO,CAAC,IAAI,CAAC2lC,KAAK,EAAEl3E,KAAO;;MAGlC,IAAM6zE,WAAc,GAAAnuD,MAAA,GAAS,IAAI,CAAC4xD,YAAY,CAACt3E,KAAA,EAAO0lB,MAAM,CAACA,MAAU,QAAI,CAAC4xD,YAAY,CAACt3E,KAAM;MAC/F,IAAMu7B,MAAA,GAAS,IAAI,CAACgW,OAAO,CAACsiC,WAAA,EAAa7zE,KAAA,EAAOo3E,IAAM,EAAA7iE,IAAA;MAEtD,IAAI6iE,IAAA,KAAS,cAAgB;QAC3B,IAAI,CAAC7lC,OAAO,CAACsiC,WAAA,EAAa7zE,KAAO;QACjC,IAAI,CAACuxC,OAAO,CAAC,IAAI,CAAC2lC,KAAK,EAAEl3E,KAAO;;MAElC,OAAOu7B,MAAA;IACT;EAAA;IAAA77B,GAAA;IAAAmoB,KAAA,EAKA,SAAA0pB,QAAQsiC,WAAW,EAAE7zE,KAAK,EAAEo3E,IAAI,EAAE7iE,IAAI,EAAE;MACtCA,IAAA,GAAOA,IAAA,IAAQ,EAAC;MAAA,IAAAgjE,WAAA,GAAAr+B,0BAAA,CACS26B,WAAa;QAAA2D,OAAA;MAAA;QAAtC,KAAAD,WAAA,CAAA/0C,CAAA,MAAAg1C,OAAA,GAAAD,WAAA,CAAA90C,CAAA,IAAApG,IAAA,GAAsC;UAAA,IAA3Bo7C,UAAA,GAAAD,OAAA,CAAA3vD,KAAA;UACT,IAAM/T,MAAA,GAAS2jE,UAAA,CAAW3jE,MAAM;UAChC,IAAMwE,MAAA,GAASxE,MAAM,CAACsjE,IAAK;UAC3B,IAAM5d,MAAS,IAACx5D,KAAA,EAAOuU,IAAA,EAAMkjE,UAAA,CAAW/1E,OAAO,CAAC;UAChD,IAAIxC,6DAAA,CAAaoZ,MAAA,EAAQkhD,MAAQ,EAAA1lD,MAAA,MAAY,KAAK,IAAIS,IAAA,CAAKnF,UAAU,EAAE;YACrE,OAAO,KAAK;;QAEhB;MAAA,SAAAwqB,GAAA;QAAA29C,WAAA,CAAAtmE,CAAA,CAAA2oB,GAAA;MAAA;QAAA29C,WAAA,CAAA/1C,CAAA;MAAA;MAEA,OAAO,IAAI;IACb;EAAA;IAAA9hC,GAAA;IAAAmoB,KAAA,EAEA,SAAA6vD,WAAA,EAAa;MAMX,IAAI,CAACpyB,6DAAA,CAAc,IAAI,CAACd,MAAM,CAAG;QAC/B,IAAI,CAACmzB,SAAS,GAAG,IAAI,CAACnzB,MAAM;QAC5B,IAAI,CAACA,MAAM,GAAGvkD,SAAA;;IAElB;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAMA,SAAAyvD,aAAat3E,KAAK,EAAE;MAClB,IAAI,IAAI,CAACwkD,MAAM,EAAE;QACf,OAAO,IAAI,CAACA,MAAM;;MAGpB,IAAMqvB,WAAA,GAAc,IAAI,CAACrvB,MAAM,GAAG,IAAI,CAAC6yB,kBAAkB,CAACr3E,KAAA;MAE1D,IAAI,CAAC43E,mBAAmB,CAAC53E,KAAA;MAEzB,OAAO6zE,WAAA;IACT;EAAA;IAAAn0E,GAAA;IAAAmoB,KAAA,EAEA,SAAAwvD,mBAAmBr3E,KAAK,EAAE8kB,GAAG,EAAE;MAC7B,IAAMyM,MAAA,GAASvxB,KAAS,IAAAA,KAAA,CAAMuxB,MAAM;MACpC,IAAM7vB,OAAA,GAAUzC,6DAAe,CAAAsyB,MAAA,CAAO7vB,OAAO,IAAI6vB,MAAA,CAAO7vB,OAAO,CAACouB,OAAO,EAAE,EAAC;MAC1E,IAAMA,OAAA,GAAU+nD,UAAW,CAAAtmD,MAAA;MAE3B,OAAO7vB,OAAA,KAAY,KAAK,IAAI,CAACojB,GAAA,GAAM,EAAE,GAAGgzD,iBAAkB,CAAA93E,KAAA,EAAO8vB,OAAS,EAAApuB,OAAA,EAASojB,GAAI;IACzF;EAAA;IAAAplB,GAAA;IAAAmoB,KAAA,EAMA,SAAA+vD,oBAAoB53E,KAAK,EAAE;MACzB,IAAM+3E,mBAAsB,OAAI,CAACJ,SAAS,IAAI,EAAE;MAChD,IAAM9D,WAAA,GAAc,IAAI,CAACrvB,MAAM;MAC/B,IAAMuQ,IAAA,GAAO,SAAPA,KAAQn5C,CAAG,EAAAC,CAAA;QAAA,OAAMD,CAAA,CAAE8J,MAAM,CAAC,UAAAtlB,CAAA;UAAA,OAAK,CAACyb,CAAA,CAAEm8D,IAAI,CAAC,UAAA33E,CAAK;YAAA,OAAAD,CAAA,CAAE0T,MAAM,CAACxP,EAAE,KAAKjE,CAAA,CAAEyT,MAAM,CAACxP,EAAE;UAAA;QAAA;MAAA;MAC7E,IAAI,CAACitC,OAAO,CAACwjB,IAAK,CAAAgjB,mBAAA,EAAqBlE,WAAA,GAAc7zE,KAAO;MAC5D,IAAI,CAACuxC,OAAO,CAACwjB,IAAK,CAAA8e,WAAA,EAAakE,mBAAA,GAAsB/3E,KAAO;IAC9D;EAAA;EAAA,OAAAi3E,aAAA;AAAA;AAMF,SAASY,UAAWA,CAAAtmD,MAAM,EAAE;EAC1B,IAAM0mD,QAAA,GAAW,EAAC;EAClB,IAAMnoD,OAAA,GAAU,EAAE;EAClB,IAAM7uB,IAAA,GAAOD,MAAO,CAAAC,IAAI,CAACqzD,QAAS,CAAAxkC,OAAO,CAACwiB,KAAK;EAC/C,KAAK,IAAIpxC,CAAI,MAAGA,CAAA,GAAID,IAAK,CAAAE,MAAM,EAAED,CAAK;IACpC4uB,OAAA,CAAQvtB,IAAI,CAAC+xD,QAAA,CAASqhB,SAAS,CAAC10E,IAAI,CAACC,CAAE;EACzC;EAEA,IAAMg3E,KAAQ,GAAA3mD,MAAA,CAAOzB,OAAO,IAAI,EAAE;EAClC,KAAK,IAAI5uB,GAAI,MAAGA,GAAA,GAAIg3E,KAAM,CAAA/2E,MAAM,EAAED,GAAK;IACrC,IAAM4S,MAAA,GAASokE,KAAK,CAACh3E,GAAE;IAEvB,IAAI4uB,OAAQ,CAAA5vB,OAAO,CAAC4T,MAAA,MAAY,CAAC,CAAG;MAClCgc,OAAA,CAAQvtB,IAAI,CAACuR,MAAA;MACbmkE,QAAQ,CAACnkE,MAAA,CAAOxP,EAAE,CAAC,GAAG,IAAI;;EAE9B;EAEA,OAAO;IAACwrB,OAAA,EAAAA,OAAA;IAASmoD,QAAA,EAAAA;EAAQ;AAC3B;AAEA,SAASE,OAAQA,CAAAz2E,OAAO,EAAEojB,GAAG,EAAE;EAC7B,IAAI,CAACA,GAAA,IAAOpjB,OAAY,UAAK,EAAE;IAC7B,OAAO,IAAI;;EAEb,IAAIA,OAAA,KAAY,IAAI,EAAE;IACpB,OAAO,EAAC;;EAEV,OAAOA,OAAA;AACT;AAEA,SAASo2E,iBAAkBA,CAAA93E,KAAK,EAAA4B,KAAA,EAAuBF,OAAO,EAAEojB,GAAG,EAAE;EAAA,IAAlCgL,OAAO,GAAAluB,KAAA,CAAPkuB,OAAO;IAAEmoD,QAAQ,GAAAr2E,KAAA,CAARq2E,QAAQ;EAClD,IAAM18C,MAAA,GAAS,EAAE;EACjB,IAAM3jB,OAAA,GAAU5X,KAAA,CAAM4+C,UAAU;EAAA,IAAAw5B,WAAA,GAAAl/B,0BAAA,CAEXppB,OAAS;IAAAuoD,OAAA;EAAA;IAA9B,KAAAD,WAAA,CAAA51C,CAAA,MAAA61C,OAAA,GAAAD,WAAA,CAAA31C,CAAA,IAAApG,IAAA,GAA8B;MAAA,IAAnBvoB,MAAA,GAAAukE,OAAA,CAAAxwD,KAAA;MACT,IAAMvjB,EAAA,GAAKwP,MAAA,CAAOxP,EAAE;MACpB,IAAMhF,IAAO,GAAA64E,OAAA,CAAQz2E,OAAO,CAAC4C,EAAA,CAAG,EAAEwgB,GAAA;MAClC,IAAIxlB,IAAA,KAAS,IAAI,EAAE;QACjB;;MAEFi8B,MAAA,CAAOh5B,IAAI,CAAC;QACVuR,MAAA,EAAAA,MAAA;QACApS,OAAS,EAAA42E,UAAA,CAAWt4E,KAAM,CAAAuxB,MAAM,EAAE;UAACzd,MAAA,EAAAA,MAAA;UAAQokE,KAAO,EAAAD,QAAQ,CAAC3zE,EAAG;QAAA,GAAGhF,IAAM,EAAAsY,OAAA;MACzE;IACF;EAAA,SAAAgiB,GAAA;IAAAw+C,WAAA,CAAAnnE,CAAA,CAAA2oB,GAAA;EAAA;IAAAw+C,WAAA,CAAA52C,CAAA;EAAA;EAEA,OAAOjG,MAAA;AACT;AAEA,SAAS+8C,UAAWA,CAAA/mD,MAAM,EAAA1sB,KAAA,EAAmBvF,IAAI,EAAEsY,OAAO,EAAE;EAAA,IAA/B9D,MAAM,GAAAjP,KAAA,CAANiP,MAAM;IAAEokE,KAAK,GAAArzE,KAAA,CAALqzE,KAAK;EACxC,IAAMj3E,IAAA,GAAOswB,MAAO,CAAAgnD,eAAe,CAACzkE,MAAA;EACpC,IAAM2qC,MAAS,GAAAltB,MAAA,CAAOmtB,eAAe,CAACp/C,IAAM,EAAA2B,IAAA;EAC5C,IAAIi3E,KAAA,IAASpkE,MAAO,CAAAC,QAAQ,EAAE;IAE5B0qC,MAAO,CAAAl8C,IAAI,CAACuR,MAAA,CAAOC,QAAQ;;EAE7B,OAAOwd,MAAO,CAAAotB,cAAc,CAACF,MAAA,EAAQ7mC,OAAS,GAAC,GAAG,EAAE;IAElD4gE,UAAA,EAAY,KAAK;IACjBC,SAAA,EAAW,KAAK;IAChBC,OAAA,EAAS;EACX;AACF;AClLO,SAASC,aAAazvE,IAAI,EAAExH,OAAO,EAAE;EAC1C,IAAMk3E,eAAA,GAAkB7kE,kEAAiB,CAAC7K,IAAA,CAAK,IAAI,EAAC;EACpD,IAAM2vE,cAAiB,GAAC,CAAAn3E,OAAA,CAAQwtB,QAAQ,IAAI,EAAC,EAAGhmB,IAAK,KAAI,EAAC;EAC1D,OAAO2vE,cAAA,CAAe17B,SAAS,IAAIz7C,OAAA,CAAQy7C,SAAS,IAAIy7B,eAAA,CAAgBz7B,SAAS,IAAI;AACvF;AAEA,SAAS27B,yBAA0BA,CAAAx0E,EAAE,EAAE64C,SAAS,EAAE;EAChD,IAAI/6C,IAAO,GAAAkC,EAAA;EACX,IAAIA,EAAA,KAAO,SAAW;IACpBlC,IAAO,GAAA+6C,SAAA;GACF,UAAI74C,EAAA,KAAO,SAAW;IAC3BlC,IAAO,GAAA+6C,SAAA,KAAc,GAAM,SAAM,GAAG;;EAEtC,OAAO/6C,IAAA;AACT;AAEA,SAAS22E,yBAA0BA,CAAA32E,IAAI,EAAE+6C,SAAS,EAAE;EAClD,OAAO/6C,IAAA,KAAS+6C,SAAY,eAAY,SAAS;AACnD;AAEA,SAAS67B,cAAc10E,EAAE,EAAE;EACzB,IAAIA,EAAO,YAAOA,EAAO,YAAOA,EAAA,KAAO,GAAK;IAC1C,OAAOA,EAAA;;AAEX;AAEA,SAAS20E,iBAAiBhjB,QAAQ,EAAE;EAClC,IAAIA,QAAA,KAAa,KAAS,IAAAA,QAAA,KAAa,QAAU;IAC/C,OAAO;;EAET,IAAIA,QAAA,KAAa,MAAU,IAAAA,QAAA,KAAa,OAAS;IAC/C,OAAO;;AAEX;AAEO,SAASijB,aAAcA,CAAA50E,EAAE,EAAmB;EACjD,IAAI00E,aAAA,CAAc10E,EAAK;IACrB,OAAOA,EAAA;;EACR,SAAA60E,MAAA,GAAAp0E,SAAA,CAAA5D,MAAA,EAHkCwJ,YAAY,OAAAqN,KAAA,CAAAmhE,MAAA,OAAAA,MAAA,WAAAC,MAAA,MAAAA,MAAA,GAAAD,MAAA,EAAAC,MAAA;IAAZzuE,YAAY,CAAAyuE,MAAA,QAAAr0E,SAAA,CAAAq0E,MAAA;EAAA;EAI/C,SAAAntE,GAAA,MAAAotE,aAAA,GAAmB1uE,YAAc,EAAAsB,GAAA,GAAAotE,aAAA,CAAAl4E,MAAA,EAAA8K,GAAA;IAA5B,IAAM3M,IAAA,GAAA+5E,aAAA,CAAAptE,GAAA;IACT,IAAM7J,IAAA,GAAO9C,IAAK,CAAA8C,IAAI,IACjB62E,gBAAA,CAAiB35E,IAAA,CAAK22D,QAAQ,KAC9B3xD,EAAG,CAAAnD,MAAM,GAAG,CAAK,IAAA63E,aAAA,CAAc10E,EAAE,CAAC,EAAE,CAACuf,WAAW;IACrD,IAAIzhB,IAAM;MACR,OAAOA,IAAA;;EAEX;EACA,MAAM,IAAIqW,KAAA,8BAAAhD,MAAA,CAAmCnR,EAAG,wDAAoD,CAAE;AACxG;AAEA,SAASg1E,mBAAmBh1E,EAAE,EAAElC,IAAI,EAAEkuB,OAAO,EAAE;EAC7C,IAAIA,OAAO,CAACluB,IAAO,YAAS,KAAKkC,EAAI;IACnC,OAAO;MAAClC,IAAA,EAAAA;IAAI;;AAEhB;AAEA,SAASm3E,wBAAyBA,CAAAj1E,EAAE,EAAEitB,MAAM,EAAE;EAC5C,IAAIA,MAAA,CAAOra,IAAI,IAAIqa,MAAA,CAAOra,IAAI,CAACgY,QAAQ,EAAE;IACvC,IAAMsqD,OAAA,GAAUjoD,MAAO,CAAAra,IAAI,CAACgY,QAAQ,CAACxJ,MAAM,CAAC,UAAC6b,CAAA;MAAA,OAAMA,CAAA,CAAEub,OAAO,KAAKx4C,EAAM,IAAAi9B,CAAA,CAAEyb,OAAO,KAAK14C,EAAA;IAAA;IACrF,IAAIk1E,OAAA,CAAQr4E,MAAM,EAAE;MAClB,OAAOm4E,kBAAmB,CAAAh1E,EAAA,EAAI,GAAK,EAAAk1E,OAAO,CAAC,EAAE,CAAK,IAAAF,kBAAA,CAAmBh1E,EAAI,OAAKk1E,OAAO,CAAC,CAAE;;;EAG5F,OAAO,EAAC;AACV;AAEA,SAASC,gBAAiBA,CAAAloD,MAAM,EAAE7vB,OAAO,EAAE;EACzC,IAAMg4E,aAAA,GAAgBlG,0DAAS,CAACjiD,MAAO,CAAAroB,IAAI,CAAC,IAAI;IAACpI,MAAA,EAAQ;EAAE;EAC3D,IAAM64E,YAAe,GAAAj4E,OAAA,CAAQZ,MAAM,IAAI,EAAC;EACxC,IAAM84E,cAAiB,GAAAjB,YAAA,CAAapnD,MAAO,CAAAroB,IAAI,EAAExH,OAAA;EACjD,IAAMZ,MAAS,GAAAE,MAAA,CAAO6Y,MAAM,CAAC,IAAI;EAGjC7Y,MAAA,CAAOC,IAAI,CAAC04E,YAAA,EAAcvhE,OAAO,CAAC,UAAA9T,EAAM;IACtC,IAAMu1E,SAAA,GAAYF,YAAY,CAACr1E,EAAG;IAClC,IAAI,CAACkxC,6DAAA,CAASqkC,SAAY;MACxB,OAAOxlE,OAAA,CAAQyjB,KAAK,2CAAAriB,MAAA,CAA2CnR,EAAA,CAAI;;IAErE,IAAIu1E,SAAA,CAAUC,MAAM,EAAE;MACpB,OAAOzlE,OAAA,CAAQC,IAAI,mDAAAmB,MAAA,CAAmDnR,EAAA,CAAI;;IAE5E,IAAMlC,IAAO,GAAA82E,aAAA,CAAc50E,EAAI,EAAAu1E,SAAA,EAAWN,wBAAyB,CAAAj1E,EAAA,EAAIitB,MAAS,GAAAxd,gEAAe,CAAC8lE,SAAU,CAAA3wE,IAAI,CAAC;IAC/G,IAAM6wE,SAAA,GAAYhB,yBAAA,CAA0B32E,IAAM,EAAAw3E,cAAA;IAClD,IAAMI,mBAAsB,GAAAN,aAAA,CAAc54E,MAAM,IAAI,EAAC;IACrDA,MAAM,CAACwD,EAAA,CAAG,GAAG21E,8DAAA,CAAQj5E,MAAA,CAAO6Y,MAAM,CAAC,IAAI,CAAG,GAAC;MAACzX,IAAA,EAAAA;IAAI,GAAGy3E,SAAA,EAAWG,mBAAmB,CAAC53E,IAAK,GAAE43E,mBAAmB,CAACD,SAAU,EAAC;EAC1H;EAGAxoD,MAAA,CAAOra,IAAI,CAACgY,QAAQ,CAAC9W,OAAO,CAAC,UAAAkY,OAAW;IACtC,IAAMpnB,IAAO,GAAAonB,OAAA,CAAQpnB,IAAI,IAAIqoB,MAAA,CAAOroB,IAAI;IACxC,IAAMi0C,SAAY,GAAA7sB,OAAA,CAAQ6sB,SAAS,IAAIw7B,YAAA,CAAazvE,IAAM,EAAAxH,OAAA;IAC1D,IAAMk3E,eAAkB,GAAApF,0DAAS,CAACtqE,IAAA,CAAK,IAAI,EAAC;IAC5C,IAAM8wE,mBAAsB,GAAApB,eAAA,CAAgB93E,MAAM,IAAI,EAAC;IACvDE,MAAA,CAAOC,IAAI,CAAC+4E,mBAAA,EAAqB5hE,OAAO,CAAC,UAAA8hE,SAAa;MACpD,IAAM93E,IAAA,GAAO02E,yBAAA,CAA0BoB,SAAW,EAAA/8B,SAAA;MAClD,IAAM74C,EAAK,GAAAgsB,OAAO,CAACluB,IAAA,GAAO,SAAS,IAAIA,IAAA;MACvCtB,MAAM,CAACwD,EAAG,IAAGxD,MAAM,CAACwD,EAAA,CAAG,IAAItD,MAAA,CAAO6Y,MAAM,CAAC,IAAI;MAC7CogE,8DAAQ,CAAAn5E,MAAM,CAACwD,EAAA,CAAG,EAAE,CAAC;QAAClC,IAAA,EAAAA;MAAI,GAAGu3E,YAAY,CAACr1E,EAAG,GAAE01E,mBAAmB,CAACE,SAAU,EAAC;IAChF;EACF;EAGAl5E,MAAA,CAAOC,IAAI,CAACH,MAAA,EAAQsX,OAAO,CAAC,UAAA1Y,GAAO;IACjC,IAAM0B,KAAA,GAAQN,MAAM,CAACpB,GAAI;IACzBu6E,8DAAA,CAAQ74E,KAAO,GAAC2S,gEAAe,CAAC3S,KAAM,CAAA8H,IAAI,CAAC,EAAE6K,+DAAc,CAAC;EAC9D;EAEA,OAAOjT,MAAA;AACT;AAEA,SAASq5E,YAAY5oD,MAAM,EAAE;EAC3B,IAAM7vB,OAAA,GAAU6vB,MAAA,CAAO7vB,OAAO,KAAK6vB,MAAO,CAAA7vB,OAAO,GAAG,EAAC;EAErDA,OAAA,CAAQouB,OAAO,GAAG7wB,6DAAA,CAAeyC,OAAQ,CAAAouB,OAAO,EAAE,EAAC;EACnDpuB,OAAQ,CAAAZ,MAAM,GAAG24E,gBAAA,CAAiBloD,MAAQ,EAAA7vB,OAAA;AAC5C;AAEA,SAAS04E,SAASljE,IAAI,EAAE;EACtBA,IAAA,GAAOA,IAAA,IAAQ,EAAC;EAChBA,IAAA,CAAKgY,QAAQ,GAAGhY,IAAK,CAAAgY,QAAQ,IAAI,EAAE;EACnChY,IAAA,CAAKhR,MAAM,GAAGgR,IAAK,CAAAhR,MAAM,IAAI,EAAE;EAC/B,OAAOgR,IAAA;AACT;AAEA,SAASmjE,WAAW9oD,MAAM,EAAE;EAC1BA,MAAA,GAASA,MAAA,IAAU,EAAC;EACpBA,MAAA,CAAOra,IAAI,GAAGkjE,QAAS,CAAA7oD,MAAA,CAAOra,IAAI;EAElCijE,WAAY,CAAA5oD,MAAA;EAEZ,OAAOA,MAAA;AACT;AAEA,IAAM+oD,QAAA,GAAW,IAAIlpC,GAAA;AACrB,IAAMmpC,UAAA,GAAa,IAAIC,GAAA;AAEvB,SAASC,UAAWA,CAAAj5B,QAAQ,EAAEk5B,QAAQ,EAAE;EACtC,IAAIz5E,IAAA,GAAOq5E,QAAS,CAAA13E,GAAG,CAAC4+C,QAAA;EACxB,IAAI,CAACvgD,IAAM;IACTA,IAAO,GAAAy5E,QAAA;IACPJ,QAAS,CAAAr3E,GAAG,CAACu+C,QAAU,EAAAvgD,IAAA;IACvBs5E,UAAA,CAAWnoE,GAAG,CAACnR,IAAA;;EAEjB,OAAOA,IAAA;AACT;AAEA,IAAM05E,UAAa,YAAbA,UAAaA,CAAC13E,GAAK,EAAAiV,GAAA,EAAKxY,GAAQ;EACpC,IAAMJ,IAAA,GAAOsgD,6DAAA,CAAiB1nC,GAAK,EAAAxY,GAAA;EACnC,IAAIJ,IAAA,KAASW,SAAW;IACtBgD,GAAA,CAAImP,GAAG,CAAC9S,IAAA;;AAEZ;AAAA,IAEqBs7E,MAAA;EACnB,SAAAA,OAAYrpD,MAAM,EAAE;IAAAse,eAAA,OAAA+qC,MAAA;IAClB,IAAI,CAACppD,OAAO,GAAG6oD,UAAW,CAAA9oD,MAAA;IAC1B,IAAI,CAACspD,WAAW,GAAG,IAAIzpC,GAAA;IACvB,IAAI,CAAC0pC,cAAc,GAAG,IAAI1pC,GAAA;EAC5B;EAAApB,YAAA,CAAA4qC,MAAA;IAAAl7E,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAe;MACb,OAAO,IAAI,CAAC4uB,OAAO,CAACupD,QAAQ;IAC9B;EAAA;IAAAr7E,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAW;MACT,OAAO,IAAI,CAAC4uB,OAAO,CAACtoB,IAAI;IAC1B;IAAAjG,GAAA,EAEA,SAAAA,IAASiG,IAAI,EAAE;MACb,IAAI,CAACsoB,OAAO,CAACtoB,IAAI,GAAGA,IAAA;IACtB;EAAA;IAAAxJ,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAW;MACT,OAAO,IAAI,CAAC4uB,OAAO,CAACta,IAAI;IAC1B;IAAAjU,GAAA,EAEA,SAAAA,IAASiU,IAAI,EAAE;MACb,IAAI,CAACsa,OAAO,CAACta,IAAI,GAAGkjE,QAAS,CAAAljE,IAAA;IAC/B;EAAA;IAAAxX,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAc;MACZ,OAAO,IAAI,CAAC4uB,OAAO,CAAC9vB,OAAO;IAC7B;IAAAuB,GAAA,EAEA,SAAAA,IAAYvB,OAAO,EAAE;MACnB,IAAI,CAAC8vB,OAAO,CAAC9vB,OAAO,GAAGA,OAAA;IACzB;EAAA;IAAAhC,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAc;MACZ,OAAO,IAAI,CAAC4uB,OAAO,CAAC1B,OAAO;IAC7B;EAAA;IAAApwB,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAA,EAAS;MACP,IAAMsnB,MAAA,GAAS,IAAI,CAACC,OAAO;MAC3B,IAAI,CAACwpD,UAAU;MACfb,WAAY,CAAA5oD,MAAA;IACd;EAAA;IAAA7xB,GAAA;IAAAmoB,KAAA,EAEA,SAAAmzD,WAAA,EAAa;MACX,IAAI,CAACH,WAAW,CAACI,KAAK;MACtB,IAAI,CAACH,cAAc,CAACG,KAAK;IAC3B;EAAA;IAAAv7E,GAAA;IAAAmoB,KAAA,EAQA,SAAA22B,iBAAiB08B,WAAW,EAAE;MAC5B,OAAOT,UAAA,CAAWS,WAAA,EAChB;QAAA,OAAM,CAAC,aAAAzlE,MAAA,CACOylE,WAAA,GACZ,GACD,CAAC;MAAA;IACN;EAAA;IAAAx7E,GAAA;IAAAmoB,KAAA,EASA,SAAAm6B,0BAA0Bk5B,WAAW,EAAE3xE,UAAU,EAAE;MACjD,OAAOkxE,UAAA,IAAAhlE,MAAA,CAAcylE,WAAA,kBAAAzlE,MAAA,CAA0BlM,UAAA,GAC7C;QAAA,OAAM,CACJ,aAAAkM,MAAA,CACcylE,WAAA,mBAAAzlE,MAAA,CAA2BlM,UAAA,kBAAAkM,MAAA,CACxBlM,UAAA,EAChB,EAED,aAAAkM,MAAA,CACcylE,WAAA,GACZ,GACD,CACF;MAAA;IACL;EAAA;IAAAx7E,GAAA;IAAAmoB,KAAA,EAUA,SAAA85B,wBAAwBu5B,WAAW,EAAE75B,WAAW,EAAE;MAChD,OAAOo5B,UAAA,IAAAhlE,MAAA,CAAcylE,WAAA,OAAAzlE,MAAA,CAAe4rC,WAAA,GAClC;QAAA,OAAM,CAAC,aAAA5rC,MAAA,CACOylE,WAAA,gBAAAzlE,MAAA,CAAwB4rC,WAAA,eAAA5rC,MAAA,CACxBylE,WAAA,eAAAzlE,MAAA,CACA4rC,WAAA,GACZ,GACD,CAAC;MAAA;IACN;EAAA;IAAA3hD,GAAA;IAAAmoB,KAAA,EAOA,SAAA0wD,gBAAgBzkE,MAAM,EAAE;MACtB,IAAMxP,EAAA,GAAKwP,MAAA,CAAOxP,EAAE;MACpB,IAAM4E,IAAA,GAAO,IAAI,CAACA,IAAI;MACtB,OAAOuxE,UAAA,IAAAhlE,MAAA,CAAcvM,IAAA,cAAAuM,MAAA,CAAenR,EAAA,GAClC;QAAA,OAAM,aAAAmR,MAAA,CACOnR,EAAA,GAAAmR,MAAA,CAAAisB,kBAAA,CACR5tB,MAAO,CAAAqnE,sBAAsB,IAAI,EAAE,GACtC;MAAA;IACN;EAAA;IAAAz7E,GAAA;IAAAmoB,KAAA,EAKA,SAAAuzD,cAAcC,SAAS,EAAEC,UAAU,EAAE;MACnC,IAAMT,WAAA,GAAc,IAAI,CAACA,WAAW;MACpC,IAAIt5B,KAAA,GAAQs5B,WAAY,CAAAj4E,GAAG,CAACy4E,SAAA;MAC5B,IAAI,CAAC95B,KAAA,IAAS+5B,UAAY;QACxB/5B,KAAA,GAAQ,IAAInQ,GAAA;QACZypC,WAAY,CAAA53E,GAAG,CAACo4E,SAAW,EAAA95B,KAAA;;MAE7B,OAAOA,KAAA;IACT;EAAA;IAAA7hD,GAAA;IAAAmoB,KAAA,EAQA,SAAA62B,gBAAgB28B,SAAS,EAAEE,QAAQ,EAAED,UAAU,EAAE;MAC/C,IAAO55E,OAAO,GAAU,IAAI,CAArBA,OAAO;QAAEwH,IAAI,GAAI,IAAI,CAAZA,IAAI;MACpB,IAAMq4C,KAAQ,OAAI,CAAC65B,aAAa,CAACC,SAAW,EAAAC,UAAA;MAC5C,IAAMxgC,MAAA,GAASyG,KAAM,CAAA3+C,GAAG,CAAC24E,QAAA;MACzB,IAAIzgC,MAAQ;QACV,OAAOA,MAAA;;MAGT,IAAM2D,MAAA,GAAS,IAAI+7B,GAAA;MAEnBe,QAAS,CAAAnjE,OAAO,CAAC,UAAAnX,IAAQ;QACvB,IAAIo6E,SAAW;UACb58B,MAAA,CAAOrsC,GAAG,CAACipE,SAAA;UACXp6E,IAAA,CAAKmX,OAAO,CAAC,UAAA1Y,GAAO;YAAA,OAAAi7E,UAAA,CAAWl8B,MAAA,EAAQ48B,SAAW,EAAA37E,GAAA;UAAA;;QAEpDuB,IAAA,CAAKmX,OAAO,CAAC,UAAA1Y,GAAO;UAAA,OAAAi7E,UAAA,CAAWl8B,MAAA,EAAQ/8C,OAAS,EAAAhC,GAAA;QAAA;QAChDuB,IAAK,CAAAmX,OAAO,CAAC,UAAA1Y,GAAO;UAAA,OAAAi7E,UAAA,CAAWl8B,MAAQ,EAAA+0B,0DAAS,CAACtqE,IAAA,CAAK,IAAI,EAAI,EAAAxJ,GAAA;QAAA;QAC9DuB,IAAA,CAAKmX,OAAO,CAAC,UAAA1Y,GAAO;UAAA,OAAAi7E,UAAA,CAAWl8B,MAAA,EAAQ1qC,yDAAU,EAAArU,GAAA;QAAA;QACjDuB,IAAA,CAAKmX,OAAO,CAAC,UAAA1Y,GAAO;UAAA,OAAAi7E,UAAA,CAAWl8B,MAAA,EAAQo1B,0DAAa,EAAAn0E,GAAA;QAAA;MACtD;MAEA,IAAM04D,KAAA,GAAQpgD,KAAM,CAAArS,IAAI,CAAC84C,MAAA;MACzB,IAAI2Z,KAAA,CAAMj3D,MAAM,KAAK,CAAG;QACtBi3D,KAAA,CAAM71D,IAAI,CAACvB,MAAO,CAAA6Y,MAAM,CAAC,IAAI;;MAE/B,IAAI0gE,UAAA,CAAWvnC,GAAG,CAACuoC,QAAW;QAC5Bh6B,KAAM,CAAAt+C,GAAG,CAACs4E,QAAU,EAAAnjB,KAAA;;MAEtB,OAAOA,KAAA;IACT;EAAA;IAAA14D,GAAA;IAAAmoB,KAAA,EAMA,SAAA2zD,kBAAA,EAAoB;MAClB,IAAO95E,OAAO,GAAU,IAAI,CAArBA,OAAO;QAAEwH,IAAI,GAAI,IAAI,CAAZA,IAAI;MAEpB,OAAO,CACLxH,OAAA,EACA8xE,0DAAS,CAACtqE,IAAK,KAAI,EAAC,EACpB6K,kEAAiB,CAAC7K,IAAK,KAAI,EAAC,EAC5B;QAACA,IAAA,EAAAA;MAAI,GACL6K,yDAAA,EACA8/D,0DAAA,CACD;IACH;EAAA;IAAAn0E,GAAA;IAAAmoB,KAAA,EASA,SAAAg6B,oBAAoBpD,MAAM,EAAE9P,KAAK,EAAE/2B,OAAO,EAAmB;MAAA,IAAjBgqC,QAAW,GAAA78C,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,OAAC,GAAG;MACzD,IAAMw2B,MAAS;QAAC6a,OAAA,EAAS;MAAI;MAC7B,IAAAqlC,YAAA,GAAgCC,WAAA,CAAY,IAAI,CAACZ,cAAc,EAAEr8B,MAAQ,EAAAmD,QAAA;QAAlE+5B,QAAQ,GAAAF,YAAA,CAARE,QAAQ;QAAEC,WAAW,GAAAH,YAAA,CAAXG,WAAW;MAC5B,IAAIl6E,OAAU,GAAAi6E,QAAA;MACd,IAAIE,WAAA,CAAYF,QAAA,EAAUhtC,KAAQ;QAChCpT,MAAO,CAAA6a,OAAO,GAAG,KAAK;QACtBx+B,OAAU,GAAAkkE,8DAAA,CAAWlkE,OAAW,IAAAA,OAAA,KAAYA,OAAO;QAEnD,IAAMmkE,WAAA,GAAc,IAAI,CAACp9B,cAAc,CAACF,MAAA,EAAQ7mC,OAAS,EAAAgkE,WAAA;QACzDl6E,OAAU,GAAAs6E,8DAAA,CAAeL,QAAA,EAAU/jE,OAAS,EAAAmkE,WAAA;;MAC7C,IAAAE,WAAA,GAAA/iC,0BAAA,CAEkBvK,KAAO;QAAAutC,OAAA;MAAA;QAA1B,KAAAD,WAAA,CAAAz5C,CAAA,MAAA05C,OAAA,GAAAD,WAAA,CAAAx5C,CAAA,IAAApG,IAAA,GAA0B;UAAA,IAAfn4B,IAAA,GAAAg4E,OAAA,CAAAr0D,KAAA;UACT0T,MAAM,CAACr3B,IAAA,CAAK,GAAGxC,OAAO,CAACwC,IAAK;QAC9B;MAAA,SAAA01B,GAAA;QAAAqiD,WAAA,CAAAhrE,CAAA,CAAA2oB,GAAA;MAAA;QAAAqiD,WAAA,CAAAz6C,CAAA;MAAA;MACA,OAAOjG,MAAA;IACT;EAAA;IAAA77B,GAAA;IAAAmoB,KAAA,EAQA,SAAA82B,eAAeF,MAAM,EAAE7mC,OAAO,EAAuC;MAAA,IAArCgqC,QAAW,GAAA78C,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,OAAC,GAAG;MAAA,IAAEo3E,kBAAkB,GAAAp3E,SAAA,CAAA5D,MAAA,OAAA4D,SAAA,MAAA9E,SAAA;MACjE,IAAAm8E,aAAA,GAAmBV,WAAA,CAAY,IAAI,CAACZ,cAAc,EAAEr8B,MAAQ,EAAAmD,QAAA;QAArD+5B,QAAA,GAAAS,aAAA,CAAAT,QAAA;MACP,OAAOnmC,6DAAA,CAAS59B,OACZ,IAAAokE,8DAAA,CAAeL,QAAA,EAAU/jE,OAAS,EAAA3X,SAAA,EAAWk8E,kBAAA,IAC7CR,QAAQ;IACd;EAAA;EAAA,OAAAf,MAAA;AAAA;AAGF,SAASc,YAAYW,aAAa,EAAE59B,MAAM,EAAEmD,QAAQ,EAAE;EACpD,IAAIL,KAAA,GAAQ86B,aAAc,CAAAz5E,GAAG,CAAC67C,MAAA;EAC9B,IAAI,CAAC8C,KAAO;IACVA,KAAA,GAAQ,IAAInQ,GAAA;IACZirC,aAAc,CAAAp5E,GAAG,CAACw7C,MAAQ,EAAA8C,KAAA;;EAE5B,IAAMC,QAAA,GAAWI,QAAA,CAASlsC,IAAI;EAC9B,IAAIolC,MAAA,GAASyG,KAAM,CAAA3+C,GAAG,CAAC4+C,QAAA;EACvB,IAAI,CAAC1G,MAAQ;IACX,IAAM6gC,QAAA,GAAWW,8DAAA,CAAgB79B,MAAQ,EAAAmD,QAAA;IACzC9G,MAAS;MACP6gC,QAAA,EAAAA,QAAA;MACAC,WAAa,EAAAh6B,QAAA,CAASl8B,MAAM,CAAC,UAAA3U,CAAA;QAAA,OAAK,CAACA,CAAE,CAAA8S,WAAW,EAAG,CAAAu1C,QAAQ,CAAC;MAAA;IAC9D;IACA7X,KAAM,CAAAt+C,GAAG,CAACu+C,QAAU,EAAA1G,MAAA;;EAEtB,OAAOA,MAAA;AACT;AAEA,IAAMyhC,WAAA,GAAc,SAAdA,YAAc10D,KAAS;EAAA,OAAA2tB,6DAAA,CAAS3tB,KAAA,KACjC7mB,MAAO,CAAA40C,mBAAmB,CAAC/tB,KAAO,EAAAorB,MAAM,CAAC,UAACC,GAAA,EAAKxzC,GAAA;IAAA,OAAQwzC,GAAO,IAAA4oC,8DAAA,CAAWj0D,KAAK,CAACnoB,GAAA,CAAI;EAAA,GAAG,KAAK;AAAA;AAEhG,SAASm8E,WAAYA,CAAA1a,KAAK,EAAExyB,KAAK,EAAE;EACjC,IAAA6tC,aAAA,GAAoClF,8DAAa,CAAAnW,KAAA;IAA1Csb,YAAY,GAAAD,aAAA,CAAZC,YAAY;IAAEC,WAAW,GAAAF,aAAA,CAAXE,WAAW;EAAiB,IAAAC,WAAA,GAAAzjC,0BAAA,CAE9BvK,KAAO;IAAAiuC,OAAA;EAAA;IAA1B,KAAAD,WAAA,CAAAn6C,CAAA,MAAAo6C,OAAA,GAAAD,WAAA,CAAAl6C,CAAA,IAAApG,IAAA,GAA0B;MAAA,IAAfn4B,IAAA,GAAA04E,OAAA,CAAA/0D,KAAA;MACT,IAAM2wD,UAAA,GAAaiE,YAAa,CAAAv4E,IAAA;MAChC,IAAMu0E,SAAA,GAAYiE,WAAY,CAAAx4E,IAAA;MAC9B,IAAM2jB,KAAA,GAAQ,CAAC4wD,SAAA,IAAaD,UAAS,KAAMrX,KAAK,CAACj9D,IAAK;MACtD,IAAKs0E,UAAe,KAAAsD,8DAAW,CAAAj0D,KAAA,KAAU00D,WAAA,CAAY10D,KAAK,MACpD4wD,SAAa,IAAAxgE,6DAAA,CAAQ4P,KAAS;QAClC,OAAO,IAAI;;IAEf;EAAA,SAAA+R,GAAA;IAAA+iD,WAAA,CAAA1rE,CAAA,CAAA2oB,GAAA;EAAA;IAAA+iD,WAAA,CAAAn7C,CAAA;EAAA;EACA,OAAO,KAAK;AACd;;AC7YA,IAAMq7C,eAAkB,IAAC,OAAO,UAAU,QAAQ,SAAS,YAAY;AACvE,SAASC,oBAAqBA,CAAA7mB,QAAQ,EAAE7zD,IAAI,EAAE;EAC5C,OAAO6zD,QAAA,KAAa,KAAS,IAAAA,QAAA,KAAa,QAAa,IAAA4mB,eAAA,CAAgB38E,OAAO,CAAC+1D,QAAA,MAAc,CAAC,KAAK7zD,IAAS;AAC9G;AAEA,SAAS26E,aAAcA,CAAAC,EAAE,EAAEC,EAAE,EAAE;EAC7B,OAAO,UAASrhE,CAAC,EAAEC,CAAC,EAAE;IACpB,OAAOD,CAAC,CAACohE,EAAG,MAAKnhE,CAAC,CAACmhE,EAAA,CAAG,GAClBphE,CAAC,CAACqhE,EAAA,CAAG,GAAGphE,CAAC,CAACohE,EAAA,CAAG,GACbrhE,CAAC,CAACohE,EAAG,IAAGnhE,CAAC,CAACmhE,EAAG;EACnB;AACF;AAEA,SAASE,qBAAqBtlE,OAAO,EAAE;EACrC,IAAM5X,KAAA,GAAQ4X,OAAA,CAAQ5X,KAAK;EAC3B,IAAMy1C,gBAAmB,GAAAz1C,KAAA,CAAM0B,OAAO,CAACg0C,SAAS;EAEhD11C,KAAA,CAAM+pE,aAAa,CAAC;EACpB7qE,6DAAa,CAAAu2C,gBAAA,IAAoBA,gBAAiB,CAAA0nC,UAAU,EAAE,CAACvlE,OAAA,CAAQ,EAAE5X,KAAA;AAC3E;AAEA,SAASo9E,oBAAoBxlE,OAAO,EAAE;EACpC,IAAM5X,KAAA,GAAQ4X,OAAA,CAAQ5X,KAAK;EAC3B,IAAMy1C,gBAAmB,GAAAz1C,KAAA,CAAM0B,OAAO,CAACg0C,SAAS;EAChDx2C,6DAAa,CAAAu2C,gBAAA,IAAoBA,gBAAiB,CAAA4nC,UAAU,EAAE,CAACzlE,OAAA,CAAQ,EAAE5X,KAAA;AAC3E;AAMA,SAASs9E,SAAUA,CAAAhoE,IAAI,EAAE;EACvB,IAAIysD,6DAAA,MAAqB,OAAOzsD,IAAA,KAAS,QAAU;IACjDA,IAAO,GAAAxH,QAAA,CAASyvE,cAAc,CAACjoE,IAAA;EACjC,OAAO,IAAIA,IAAA,IAAQA,IAAK,CAAAnU,MAAM,EAAE;IAE9BmU,IAAO,GAAAA,IAAI,CAAC,CAAE;;EAGhB,IAAIA,IAAA,IAAQA,IAAK,CAAA1H,MAAM,EAAE;IAEvB0H,IAAA,GAAOA,IAAA,CAAK1H,MAAM;;EAEpB,OAAO0H,IAAA;AACT;AAEA,IAAMkoE,SAAA,GAAY,EAAC;AACnB,IAAMC,QAAA,GAAW,SAAXA,SAAY/9E,GAAQ;EACxB,IAAMkO,MAAA,GAAS0vE,SAAU,CAAA59E,GAAA;EACzB,OAAOsB,MAAO,CAAA0a,MAAM,CAAC8hE,SAAA,EAAW93D,MAAM,CAAC,UAAC4b,CAAA;IAAA,OAAMA,CAAE,CAAA1zB,MAAM,KAAKA,MAAA;EAAA,GAAQwwB,GAAG;AACxE;AAEA,SAASs/C,gBAAgBxlE,GAAG,EAAElE,KAAK,EAAE0vC,IAAI,EAAE;EACzC,IAAMziD,IAAA,GAAOD,MAAO,CAAAC,IAAI,CAACiX,GAAA;EACzB,SAAAylE,GAAA,MAAAC,KAAA,GAAkB38E,IAAM,EAAA08E,GAAA,GAAAC,KAAA,CAAAz8E,MAAA,EAAAw8E,GAAA;IAAnB,IAAMj+E,GAAA,GAAAk+E,KAAA,CAAAD,GAAA;IACT,IAAME,MAAA,GAAS,CAACn+E,GAAA;IAChB,IAAIm+E,MAAA,IAAU7pE,KAAO;MACnB,IAAM6T,KAAA,GAAQ3P,GAAG,CAACxY,GAAI;MACtB,OAAOwY,GAAG,CAACxY,GAAI;MACf,IAAIgkD,IAAA,GAAO,CAAK,IAAAm6B,MAAA,GAAS7pE,KAAO;QAC9BkE,GAAG,CAAC2lE,MAAS,GAAAn6B,IAAA,CAAK,GAAG77B,KAAA;;;EAG3B;AACF;AASA,SAASi2D,mBAAmB7sE,CAAC,EAAE8sE,SAAS,EAAEC,WAAW,EAAEC,OAAO,EAAE;EAC9D,IAAI,CAACD,WAAA,IAAe/sE,CAAE,CAAA/H,IAAI,KAAK,UAAY;IACzC,OAAO,IAAI;;EAEb,IAAI+0E,OAAS;IACX,OAAOF,SAAA;;EAET,OAAO9sE,CAAA;AACT;AAEA,SAASitE,eAAe98E,KAAK,EAAEkI,SAAS,EAAE60E,KAAK,EAAE;EAC/C,OAAO/8E,KAAA,CAAMM,OAAO,CAACm/C,IAAI,GAAGz/C,KAAK,CAAC+8E,KAAM,IAAG70E,SAAS,CAAC60E,KAAM;AAC7D;AAEA,SAASC,cAAeA,CAAAvmC,IAAI,EAAEvuC,SAAS,EAAE;EACvC,IAAOqtC,MAAA,GAAkBkB,IAAA,CAAlBlB,MAAA;IAAQC,MAAA,GAAUiB,IAAA,CAAVjB,MAAA;EACf,IAAID,MAAA,IAAUC,MAAQ;IACpB,OAAO;MACLr1C,IAAM,EAAA28E,cAAA,CAAevnC,MAAA,EAAQrtC,SAAW;MACxC9H,KAAO,EAAA08E,cAAA,CAAevnC,MAAA,EAAQrtC,SAAW;MACzCjI,GAAK,EAAA68E,cAAA,CAAetnC,MAAA,EAAQttC,SAAW;MACvChI,MAAQ,EAAA48E,cAAA,CAAetnC,MAAA,EAAQttC,SAAW;IAC5C;;EAEF,OAAOA,SAAA;AACT;AAAA,IAEMqlB,KAAA;EAoBJ,SAAAA,MAAYrZ,IAAI,EAAE+oE,UAAU,EAAE;IAAA,IAAAC,OAAA;IAAAzuC,eAAA,OAAAlhB,KAAA;IAC5B,IAAM4C,MAAA,GAAS,IAAI,CAACA,MAAM,GAAG,IAAIqpD,MAAO,CAAAyD,UAAA;IACxC,IAAME,aAAA,GAAgBjB,SAAU,CAAAhoE,IAAA;IAChC,IAAMkpE,aAAA,GAAgBf,QAAS,CAAAc,aAAA;IAC/B,IAAIC,aAAe;MACjB,MAAM,IAAI/lE,KAAA,CACR,4CAA+C,GAAA+lE,aAAA,CAAcl6E,EAAE,GAAG,IACtE,uDAAoDk6E,aAAc,CAAA5wE,MAAM,CAACtJ,EAAE,GAAG,mBAC1E;;IAGJ,IAAM5C,OAAA,GAAU6vB,MAAA,CAAOotB,cAAc,CAACptB,MAAA,CAAOiqD,iBAAiB,IAAI,IAAI,CAAC58B,UAAU;IAEjF,IAAI,CAACm8B,QAAQ,GAAG,KAAKxpD,MAAO,CAAAwpD,QAAQ,IAAIjZ,eAAA,CAAgByc,aAAa;IACrE,IAAI,CAACxD,QAAQ,CAAC3d,YAAY,CAAC7rC,MAAA;IAE3B,IAAM3Z,OAAA,GAAU,IAAI,CAACmjE,QAAQ,CAACje,cAAc,CAACyhB,aAAe,EAAA78E,OAAA,CAAQiuD,WAAW;IAC/E,IAAM/hD,MAAA,GAASgK,OAAW,IAAAA,OAAA,CAAQhK,MAAM;IACxC,IAAMpH,MAAA,GAASoH,MAAU,IAAAA,MAAA,CAAOpH,MAAM;IACtC,IAAMD,KAAA,GAAQqH,MAAU,IAAAA,MAAA,CAAOrH,KAAK;IAEpC,IAAI,CAACjC,EAAE,GAAGm6E,8DAAA;IACV,IAAI,CAACvrE,GAAG,GAAG0E,OAAA;IACX,IAAI,CAAChK,MAAM,GAAGA,MAAA;IACd,IAAI,CAACrH,KAAK,GAAGA,KAAA;IACb,IAAI,CAACC,MAAM,GAAGA,MAAA;IACd,IAAI,CAACk4E,QAAQ,GAAGh9E,OAAA;IAIhB,IAAI,CAACi9E,YAAY,GAAG,IAAI,CAAChvB,WAAW;IACpC,IAAI,CAACwM,OAAO,GAAG,EAAE;IACjB,IAAI,CAACyiB,SAAS,GAAG,EAAE;IACnB,IAAI,CAACnlC,OAAO,GAAGx5C,SAAA;IACf,IAAI,CAACy4D,KAAK,GAAG,EAAE;IACf,IAAI,CAAC4H,uBAAuB,GAAGrgE,SAAA;IAC/B,IAAI,CAACqJ,SAAS,GAAGrJ,SAAA;IACjB,IAAI,CAACsyC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACssC,UAAU,GAAG5+E,SAAA;IAClB,IAAI,CAAC6+E,UAAU,GAAG,EAAC;IAEnB,IAAI,CAACC,oBAAoB,GAAG9+E,SAAA;IAC5B,IAAI,CAAC++E,eAAe,GAAG,EAAE;IACzB,IAAI,CAACl+E,MAAM,GAAG,EAAC;IACf,IAAI,CAACm+E,QAAQ,GAAG,IAAIhI,aAAA;IACpB,IAAI,CAACvV,QAAQ,GAAG,EAAC;IACjB,IAAI,CAACwd,cAAc,GAAG,EAAC;IACvB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAAC98B,mBAAmB,GAAGpiD,SAAA;IAC3B,IAAI,CAACg8C,QAAQ,GAAGh8C,SAAA;IAChB,IAAI,CAACm/E,SAAS,GAAG9+E,8DAAA,CAAS,UAAAR,IAAA;MAAA,OAAQw+E,OAAI,CAACr0E,MAAM,CAACnK,IAAO;IAAA,GAAA4B,OAAA,CAAQ29E,WAAW,IAAI;IAC5E,IAAI,CAACr7B,YAAY,GAAG,EAAE;IAGtBw5B,SAAS,CAAC,IAAI,CAACl5E,EAAE,CAAC,GAAG,IAAI;IAEzB,IAAI,CAACsT,OAAW,KAAChK,MAAQ;MAKvByG,OAAA,CAAQyjB,KAAK,CAAC;MACd;;IAGFwb,QAAA,CAAST,MAAM,CAAC,IAAI,EAAE,UAAY,EAAAqqC,oBAAA;IAClC5pC,QAAA,CAAST,MAAM,CAAC,IAAI,EAAE,UAAY,EAAAuqC,mBAAA;IAElC,IAAI,CAACkC,WAAW;IAChB,IAAI,IAAI,CAACH,QAAQ,EAAE;MACjB,IAAI,CAACl1E,MAAM;;EAEf;EAAA+lC,YAAA,CAAArhB,KAAA;IAAAjvB,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAkB;MAChB,IAAA28E,eAAA,GAAmF,IAAI,CAAhF79E,OAAS;QAACiuD,WAAW,GAAA4vB,eAAA,CAAX5vB,WAAW;QAAE6vB,mBAAA,GAAAD,eAAA,CAAAC,mBAAA;QAAsBj5E,KAAA,GAA+B,IAAI,CAAnCA,KAAA;QAAOC,MAAM,GAAkB,IAAI,CAA5BA,MAAM;QAAEm4E,YAAY,GAAI,IAAI,CAApBA,YAAY;MAC/E,IAAI,CAACr5B,6DAAA,CAAcqK,WAAc;QAE/B,OAAOA,WAAA;;MAGT,IAAI6vB,mBAAA,IAAuBb,YAAc;QAEvC,OAAOA,YAAA;;MAIT,OAAOn4E,MAAA,GAASD,KAAQ,GAAAC,MAAA,GAAS,IAAI;IACvC;EAAA;IAAA9G,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAW;MACT,OAAO,IAAI,CAAC2uB,MAAM,CAACra,IAAI;IACzB;IAAAjU,GAAA,EAEA,SAAAA,IAASiU,IAAI,EAAE;MACb,IAAI,CAACqa,MAAM,CAACra,IAAI,GAAGA,IAAA;IACrB;EAAA;IAAAxX,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAc;MACZ,OAAO,IAAI,CAAC87E,QAAQ;IACtB;IAAAz7E,GAAA,EAEA,SAAAA,IAAYvB,OAAO,EAAE;MACnB,IAAI,CAAC6vB,MAAM,CAAC7vB,OAAO,GAAGA,OAAA;IACxB;EAAA;IAAAhC,GAAA;IAAAkD,GAAA,EAEA,SAAAA,IAAA,EAAe;MACb,OAAO0xD,QAAA;IACT;EAAA;IAAA50D,GAAA;IAAAmoB,KAAA,EAKA,SAAAy3D,YAAA,EAAc;MAEZ,IAAI,CAACvV,aAAa,CAAC;MAEnB,IAAI,IAAI,CAACroE,OAAO,CAACgvB,UAAU,EAAE;QAC3B,IAAI,CAAC2vC,MAAM;OACN;QACLof,8DAAA,CAAY,IAAI,EAAE,IAAI,CAAC/9E,OAAO,CAAC0+D,gBAAgB;;MAGjD,IAAI,CAACsf,UAAU;MAGf,IAAI,CAAC3V,aAAa,CAAC;MAEnB,OAAO,IAAI;IACb;EAAA;IAAArqE,GAAA;IAAAmoB,KAAA,EAEA,SAAAozD,MAAA,EAAQ;MACN0E,8DAAA,CAAY,IAAI,CAAC/xE,MAAM,EAAE,IAAI,CAACsF,GAAG;MACjC,OAAO,IAAI;IACb;EAAA;IAAAxT,GAAA;IAAAmoB,KAAA,EAEA,SAAA/S,KAAA,EAAO;MACLw+B,QAAS,CAAAx+B,IAAI,CAAC,IAAI;MAClB,OAAO,IAAI;IACb;EAAA;IAAApV,GAAA;IAAAmoB,KAAA,EAOA,SAAAw4C,OAAO95D,KAAK,EAAEC,MAAM,EAAE;MACpB,IAAI,CAAC8sC,QAAA,CAASjB,OAAO,CAAC,IAAI,CAAG;QAC3B,IAAI,CAACutC,OAAO,CAACr5E,KAAO,EAAAC,MAAA;OACf;QACL,IAAI,CAACq5E,iBAAiB,GAAG;UAACt5E,KAAA,EAAAA,KAAA;UAAOC,MAAA,EAAAA;QAAM;;IAE3C;EAAA;IAAA9G,GAAA;IAAAmoB,KAAA,EAEA,SAAA+3D,QAAQr5E,KAAK,EAAEC,MAAM,EAAE;MACrB,IAAM9E,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMkM,MAAA,GAAS,IAAI,CAACA,MAAM;MAC1B,IAAM+hD,WAAA,GAAcjuD,OAAQ,CAAA89E,mBAAmB,IAAI,IAAI,CAAC7vB,WAAW;MACnE,IAAMmwB,OAAA,GAAU,IAAI,CAAC/E,QAAQ,CAAC7d,cAAc,CAACtvD,MAAQ,EAAArH,KAAA,EAAOC,MAAQ,EAAAmpD,WAAA;MACpE,IAAMowB,QAAA,GAAWr+E,OAAA,CAAQ0+D,gBAAgB,IAAI,IAAI,CAAC2a,QAAQ,CAAC9d,mBAAmB;MAC9E,IAAMn9D,IAAA,GAAO,IAAI,CAACyG,KAAK,GAAG,WAAW,QAAQ;MAE7C,IAAI,CAACA,KAAK,GAAGu5E,OAAA,CAAQv5E,KAAK;MAC1B,IAAI,CAACC,MAAM,GAAGs5E,OAAA,CAAQt5E,MAAM;MAC5B,IAAI,CAACm4E,YAAY,GAAG,IAAI,CAAChvB,WAAW;MACpC,IAAI,CAAC8vB,8DAAY,KAAI,EAAEM,QAAA,EAAU,IAAI,CAAG;QACtC;;MAGF,IAAI,CAAChW,aAAa,CAAC,QAAU;QAAC95C,IAAM,EAAA6vD;MAAO;MAE3C5gF,6DAAa,CAAAwC,OAAA,CAAQs+E,QAAQ,EAAE,CAAC,IAAI,EAAEF,OAAA,CAAQ,EAAE,IAAI;MAEpD,IAAI,IAAI,CAACX,QAAQ,EAAE;QACjB,IAAI,IAAI,CAACC,SAAS,CAACt/E,IAAO;UAExB,IAAI,CAACmgF,MAAM;;;IAGjB;EAAA;IAAAvgF,GAAA;IAAAmoB,KAAA,EAEA,SAAAq4D,oBAAA,EAAsB;MACpB,IAAMx+E,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMy+E,aAAgB,GAAAz+E,OAAA,CAAQZ,MAAM,IAAI,EAAC;MAEzC9B,6DAAK,CAAAmhF,aAAA,EAAe,UAACC,WAAA,EAAatN,MAAW;QAC3CsN,WAAA,CAAY97E,EAAE,GAAGwuE,MAAA;MACnB;IACF;EAAA;IAAApzE,GAAA;IAAAmoB,KAAA,EAKA,SAAAw4D,oBAAA,EAAsB;MAAA,IAAAC,OAAA;MACpB,IAAM5+E,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMsD,SAAA,GAAYtD,OAAA,CAAQZ,MAAM;MAChC,IAAMA,MAAA,GAAS,IAAI,CAACA,MAAM;MAC1B,IAAMy/E,OAAA,GAAUv/E,MAAA,CAAOC,IAAI,CAACH,MAAA,EAAQmyC,MAAM,CAAC,UAAC/6B,GAAA,EAAK5T,EAAO;QACtD4T,GAAG,CAAC5T,EAAG,IAAG,KAAK;QACf,OAAO4T,GAAA;MACT,GAAG,EAAC;MACJ,IAAIo6B,KAAA,GAAQ,EAAE;MAEd,IAAIttC,SAAW;QACbstC,KAAQ,GAAAA,KAAA,CAAM78B,MAAM,CAClBzU,MAAO,CAAAC,IAAI,CAAC+D,SAAW,EAAAqQ,GAAG,CAAC,UAAC/Q,EAAO;UACjC,IAAMqG,YAAA,GAAe3F,SAAS,CAACV,EAAG;UAClC,IAAMlC,IAAA,GAAO82E,aAAA,CAAc50E,EAAI,EAAAqG,YAAA;UAC/B,IAAM61E,QAAA,GAAWp+E,IAAS;UAC1B,IAAMuB,YAAA,GAAevB,IAAS;UAC9B,OAAO;YACLV,OAAS,EAAAiJ,YAAA;YACT81E,SAAA,EAAWD,QAAW,iBAAc78E,YAAe,cAAW,MAAM;YACpE+8E,KAAA,EAAOF,QAAW,oBAAiB78E,YAAe,gBAAa;UACjE;QACF;;MAIJ3E,6DAAK,CAAAszC,KAAA,EAAO,UAACh9B,IAAS;QACpB,IAAM3K,YAAA,GAAe2K,IAAA,CAAK5T,OAAO;QACjC,IAAM4C,EAAA,GAAKqG,YAAA,CAAarG,EAAE;QAC1B,IAAMlC,IAAA,GAAO82E,aAAA,CAAc50E,EAAI,EAAAqG,YAAA;QAC/B,IAAMg2E,SAAA,GAAY1hF,6DAAe,CAAA0L,YAAA,CAAazB,IAAI,EAAEoM,IAAA,CAAKorE,KAAK;QAE9D,IAAI/1E,YAAa,CAAAsrD,QAAQ,KAAKh2D,SAAA,IAAa68E,oBAAqB,CAAAnyE,YAAA,CAAasrD,QAAQ,EAAE7zD,IAAU,MAAA06E,oBAAA,CAAqBxnE,IAAK,CAAAmrE,SAAS,CAAG;UACrI91E,YAAa,CAAAsrD,QAAQ,GAAG3gD,IAAA,CAAKmrE,SAAS;;QAGxCF,OAAO,CAACj8E,EAAG,IAAG,IAAI;QAClB,IAAIlD,KAAA,GAAQ,IAAI;QAChB,IAAIkD,EAAA,IAAMxD,MAAA,IAAUA,MAAM,CAACwD,EAAA,CAAG,CAAC4E,IAAI,KAAKy3E,SAAW;UACjDv/E,KAAQ,GAAAN,MAAM,CAACwD,EAAG;SACb;UACL,IAAMs8E,UAAA,GAAatsB,QAAS,CAAApzC,QAAQ,CAACy/D,SAAA;UACrCv/E,KAAA,GAAQ,IAAIw/E,UAAW;YACrBt8E,EAAA,EAAAA,EAAA;YACA4E,IAAM,EAAAy3E,SAAA;YACNztE,GAAK,EAAAotE,OAAI,CAACptE,GAAG;YACblT,KAAA,EAAOsgF;UACT;UACAx/E,MAAM,CAACM,KAAA,CAAMkD,EAAE,CAAC,GAAGlD,KAAA;;QAGrBA,KAAM,CAAAqd,IAAI,CAAC9T,YAAc,EAAAjJ,OAAA;MAC3B;MAEA1C,6DAAK,CAAAuhF,OAAA,EAAS,UAACM,UAAA,EAAYv8E,EAAO;QAChC,IAAI,CAACu8E,UAAY;UACf,OAAO//E,MAAM,CAACwD,EAAG;;MAErB;MAEAtF,6DAAK,CAAA8B,MAAA,EAAQ,UAACM,KAAU;QACtB63D,OAAA,CAAQ1jB,SAAS,CAAC+qC,OAAI,EAAEl/E,KAAA,EAAOA,KAAA,CAAMM,OAAO;QAC5Cu3D,OAAQ,CAAAiD,MAAM,CAACokB,OAAI,EAAEl/E,KAAA;MACvB;IACF;EAAA;IAAA1B,GAAA;IAAAmoB,KAAA,EAKA,SAAAi5D,gBAAA,EAAkB;MAChB,IAAM7pC,QAAA,GAAW,IAAI,CAAC2nC,SAAS;MAC/B,IAAMr7B,OAAA,GAAU,IAAI,CAACrsC,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM;MACzC,IAAMmiD,OAAA,GAAUrM,QAAA,CAAS91C,MAAM;MAE/B81C,QAAS,CAAAz7B,IAAI,CAAC,UAACI,CAAA,EAAGC,CAAA;QAAA,OAAMD,CAAE,CAAA5C,KAAK,GAAG6C,CAAA,CAAE7C,KAAK;MAAA;MACzC,IAAIsqC,OAAA,GAAUC,OAAS;QACrB,KAAK,IAAIriD,CAAI,GAAAqiD,OAAA,EAASriD,CAAI,GAAAoiD,OAAA,EAAS,EAAEpiD,CAAG;UACtC,IAAI,CAAC6/E,mBAAmB,CAAC7/E,CAAA;QAC3B;QACA+1C,QAAS,CAAAhzB,MAAM,CAACs/B,OAAA,EAASD,OAAU,GAAAC,OAAA;;MAErC,IAAI,CAACy7B,eAAe,GAAG/nC,QAAS,CAAA1gC,KAAK,CAAC,CAAG,EAAAiF,IAAI,CAACuhE,aAAA,CAAc,OAAS;IACvE;EAAA;IAAAr9E,GAAA;IAAAmoB,KAAA,EAKA,SAAAm5D,4BAAA,EAA8B;MAAA,IAAAC,OAAA;MAC5B,IAAkBhqC,QAAA,GAA8B,IAAI,CAA7C2nC,SAAW;QAAiB1vD,QAAA,GAAa,IAAI,CAAxBhY,IAAA,CAAOgY,QAAA;MACnC,IAAI+nB,QAAS,CAAA91C,MAAM,GAAG+tB,QAAA,CAAS/tB,MAAM,EAAE;QACrC,OAAO,IAAI,CAACs4C,OAAO;;MAErBxC,QAAA,CAAS7+B,OAAO,CAAC,UAACy/B,IAAA,EAAM7+B,KAAU;QAChC,IAAIkW,QAAA,CAASxJ,MAAM,CAAC,UAAAtlB,CAAA;UAAA,OAAKA,CAAM,KAAAy3C,IAAA,CAAK2Y,QAAQ;QAAA,GAAErvD,MAAM,KAAK,CAAG;UAC1D8/E,OAAI,CAACF,mBAAmB,CAAC/nE,KAAA;;MAE7B;IACF;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAEA,SAAAq5D,yBAAA,EAA2B;MACzB,IAAMC,cAAA,GAAiB,EAAE;MACzB,IAAMjyD,QAAW,OAAI,CAAChY,IAAI,CAACgY,QAAQ;MACnC,IAAIhuB,CAAG,EAAAi2C,IAAA;MAEP,IAAI,CAAC6pC,2BAA2B;MAEhC,KAAK9/E,CAAA,GAAI,GAAGi2C,IAAO,GAAAjoB,QAAA,CAAS/tB,MAAM,EAAED,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;QACjD,IAAMovB,OAAA,GAAUpB,QAAQ,CAAChuB,CAAE;QAC3B,IAAI22C,IAAO,OAAI,CAAC6F,cAAc,CAACx8C,CAAA;QAC/B,IAAMgI,IAAA,GAAOonB,OAAA,CAAQpnB,IAAI,IAAI,IAAI,CAACqoB,MAAM,CAACroB,IAAI;QAE7C,IAAI2uC,IAAA,CAAK3uC,IAAI,IAAI2uC,IAAK,CAAA3uC,IAAI,KAAKA,IAAM;UACnC,IAAI,CAAC63E,mBAAmB,CAAC7/E,CAAA;UACzB22C,IAAO,OAAI,CAAC6F,cAAc,CAACx8C,CAAA;;QAE7B22C,IAAA,CAAK3uC,IAAI,GAAGA,IAAA;QACZ2uC,IAAK,CAAAsF,SAAS,GAAG7sB,OAAQ,CAAA6sB,SAAS,IAAIw7B,YAAa,CAAAzvE,IAAA,EAAM,IAAI,CAACxH,OAAO;QACrEm2C,IAAA,CAAKupC,KAAK,GAAG9wD,OAAQ,CAAA8wD,KAAK,IAAI;QAC9BvpC,IAAA,CAAK7+B,KAAK,GAAG9X,CAAA;QACb22C,IAAA,CAAK1oB,KAAK,GAAG,EAAK,GAAAmB,OAAA,CAAQnB,KAAK;QAC/B0oB,IAAA,CAAKwpC,OAAO,GAAG,IAAI,CAACj0B,gBAAgB,CAAClsD,CAAA;QAErC,IAAI22C,IAAA,CAAKyB,UAAU,EAAE;UACnBzB,IAAK,CAAAyB,UAAU,CAACoD,WAAW,CAACx7C,CAAA;UAC5B22C,IAAK,CAAAyB,UAAU,CAACgD,UAAU;SACrB;UACL,IAAMglC,eAAA,GAAkBhtB,QAAS,CAAAohB,aAAa,CAACxsE,IAAA;UAC/C,IAAAq4E,qBAAA,GAA8CxtE,kEAAiB,CAAC7K,IAAK;YAA9DizC,kBAAA,GAAAolC,qBAAA,CAAAplC,kBAAA;YAAoBC,eAAA,GAAAmlC,qBAAA,CAAAnlC,eAAA;UAC3Bp7C,MAAO,CAAA6X,MAAM,CAACyoE,eAAiB;YAC7BllC,eAAiB,EAAAkY,QAAA,CAASC,UAAU,CAACnY,eAAA;YACrCD,kBAAoB,EAAAA,kBAAA,IAAsBmY,QAAS,CAAAC,UAAU,CAACpY,kBAAA;UAChE;UACAtE,IAAA,CAAKyB,UAAU,GAAG,IAAIgoC,eAAA,CAAgB,IAAI,EAAEpgF,CAAA;UAC5CigF,cAAe,CAAA5+E,IAAI,CAACs1C,IAAA,CAAKyB,UAAU;;MAEvC;MAEA,IAAI,CAACwnC,eAAe;MACpB,OAAOK,cAAA;IACT;EAAA;IAAAzhF,GAAA;IAAAmoB,KAAA,EAMA,SAAA25D,eAAA,EAAiB;MAAA,IAAAC,OAAA;MACfziF,6DAAK,KAAI,CAACkY,IAAI,CAACgY,QAAQ,EAAE,UAACoB,OAAA,EAASinB,YAAiB;QAClDkqC,OAAI,CAAC/jC,cAAc,CAACnG,YAAc,EAAA+B,UAAU,CAAC/uB,KAAK;MACpD,GAAG,IAAI;IACT;EAAA;IAAA7qB,GAAA;IAAAmoB,KAAA,EAKA,SAAA0C,MAAA,EAAQ;MACN,IAAI,CAACi3D,cAAc;MACnB,IAAI,CAACzX,aAAa,CAAC;IACrB;EAAA;IAAArqE,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAOnK,IAAI,EAAE;MACX,IAAMyxB,MAAA,GAAS,IAAI,CAACA,MAAM;MAE1BA,MAAA,CAAOtnB,MAAM;MACb,IAAMvI,OAAU,OAAI,CAACg9E,QAAQ,GAAGntD,MAAA,CAAOotB,cAAc,CAACptB,MAAO,CAAAiqD,iBAAiB,EAAI,MAAI,CAAC58B,UAAU;MACjG,IAAM8iC,aAAA,GAAgB,IAAI,CAACr/B,mBAAmB,GAAG,CAAC3gD,OAAA,CAAQg0C,SAAS;MAEnE,IAAI,CAACisC,aAAa;MAClB,IAAI,CAACC,mBAAmB;MACxB,IAAI,CAACC,oBAAoB;MAIzB,IAAI,CAAC5C,QAAQ,CAACvH,UAAU;MAExB,IAAI,IAAI,CAAC3N,aAAa,CAAC,cAAgB;QAACjqE,IAAA,EAAAA,IAAA;QAAMsP,UAAA,EAAY;MAAI,OAAO,KAAK,EAAE;QAC1E;;MAIF,IAAM+xE,cAAA,GAAiB,IAAI,CAACD,wBAAwB;MAEpD,IAAI,CAACnX,aAAa,CAAC;MAGnB,IAAIxN,UAAa;MACjB,KAAK,IAAIr7D,CAAA,GAAI,CAAG,EAAAi2C,IAAA,GAAO,IAAI,CAACjgC,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,EAAED,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;QAC/D,IAAA4gF,oBAAA,GAAqB,IAAI,CAACpkC,cAAc,CAACx8C,CAAA;UAAlCo4C,UAAU,GAAAwoC,oBAAA,CAAVxoC,UAAU;QACjB,IAAM/uB,KAAA,GAAQ,CAACm3D,aAAA,IAAiBP,cAAA,CAAejhF,OAAO,CAACo5C,UAAA,MAAgB,CAAC;QAGxEA,UAAA,CAAW4E,qBAAqB,CAAC3zB,KAAA;QACjCgyC,UAAA,GAAa14D,IAAA,CAAKN,GAAG,CAAC,CAAC+1C,UAAA,CAAWmH,cAAc,EAAI,EAAA8b,UAAA;MACtD;MACAA,UAAa,OAAI,CAACwlB,WAAW,GAAGrgF,OAAA,CAAQkuB,MAAM,CAACoyD,WAAW,GAAGzlB,UAAA,GAAa,CAAC;MAC3E,IAAI,CAAC0lB,aAAa,CAAC1lB,UAAA;MAGnB,IAAI,CAACmlB,aAAe;QAGlB1iF,6DAAK,CAAAmiF,cAAA,EAAgB,UAAC7nC,UAAe;UACnCA,UAAA,CAAW/uB,KAAK;QAClB;;MAGF,IAAI,CAAC23D,eAAe,CAACpiF,IAAA;MAGrB,IAAI,CAACiqE,aAAa,CAAC,aAAe;QAACjqE,IAAA,EAAAA;MAAI;MAEvC,IAAI,CAACq8D,OAAO,CAAC3gD,IAAI,CAACuhE,aAAA,CAAc,GAAK;MAGrC,IAAOxqC,OAAO,GAAgB,IAAI,CAA3BA,OAAO;QAAEssC,UAAU,GAAI,IAAI,CAAlBA,UAAU;MAC1B,IAAIA,UAAY;QACd,IAAI,CAACsD,aAAa,CAACtD,UAAA,EAAY,IAAI;OAC9B,UAAItsC,OAAQ,CAAApxC,MAAM,EAAE;QACzB,IAAI,CAACihF,kBAAkB,CAAC7vC,OAAA,EAASA,OAAA,EAAS,IAAI;;MAGhD,IAAI,CAAC0tC,MAAM;IACb;EAAA;IAAAvgF,GAAA;IAAAmoB,KAAA,EAKA,SAAA85D,cAAA,EAAgB;MAAA,IAAAU,OAAA;MACdrjF,6DAAA,CAAK,IAAI,CAAC8B,MAAM,EAAE,UAACM,KAAU;QAC3B63D,OAAQ,CAAAoD,SAAS,CAACgmB,OAAI,EAAEjhF,KAAA;MAC1B;MAEA,IAAI,CAAC8+E,mBAAmB;MACxB,IAAI,CAACG,mBAAmB;IAC1B;EAAA;IAAA3gF,GAAA;IAAAmoB,KAAA,EAKA,SAAA+5D,oBAAA,EAAsB;MACpB,IAAMlgF,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAM4gF,cAAA,GAAiB,IAAI9H,GAAI,CAAAx5E,MAAA,CAAOC,IAAI,CAAC,IAAI,CAAC69E,UAAU;MAC1D,IAAMyD,SAAY,OAAI/H,GAAI,CAAA94E,OAAA,CAAQksB,MAAM;MAExC,IAAI,CAAC40D,8DAAA,CAAUF,cAAgB,EAAAC,SAAA,KAAc,CAAC,CAAC,IAAI,CAACxD,oBAAoB,KAAKr9E,OAAQ,CAAAgvB,UAAU,EAAE;QAE/F,IAAI,CAAC+xD,YAAY;QACjB,IAAI,CAAC/C,UAAU;;IAEnB;EAAA;IAAAhgF,GAAA;IAAAmoB,KAAA,EAKA,SAAAg6D,qBAAA,EAAuB;MACrB,IAAO3C,cAAA,GAAkB,IAAI,CAAtBA,cAAA;MACP,IAAMwD,OAAU,OAAI,CAACC,sBAAsB,MAAM,EAAE;MAAA,IAAAC,WAAA,GAAA1pC,0BAAA,CACdwpC,OAAS;QAAAG,OAAA;MAAA;QAA9C,KAAAD,WAAA,CAAApgD,CAAA,MAAAqgD,OAAA,GAAAD,WAAA,CAAAngD,CAAA,IAAApG,IAAA,GAA8C;UAAA,IAAAymD,aAAA,GAAAD,OAAA,CAAAh7D,KAAA;YAAlCvP,MAAM,GAAAwqE,aAAA,CAANxqE,MAAM;YAAEtE,KAAA,GAAA8uE,aAAA,CAAA9uE,KAAA;YAAOiY,KAAA,GAAA62D,aAAA,CAAA72D,KAAA;UACzB,IAAMy3B,IAAO,GAAAprC,MAAA,KAAW,iBAAoB,IAAC2T,KAAA,GAAQA,KAAK;UAC1DyxD,eAAA,CAAgBwB,cAAA,EAAgBlrE,KAAO,EAAA0vC,IAAA;QACzC;MAAA,SAAA9pB,GAAA;QAAAgpD,WAAA,CAAA3xE,CAAA,CAAA2oB,GAAA;MAAA;QAAAgpD,WAAA,CAAAphD,CAAA;MAAA;IACF;EAAA;IAAA9hC,GAAA;IAAAmoB,KAAA,EAKA,SAAA86D,uBAAA,EAAyB;MACvB,IAAM3+B,YAAA,GAAe,IAAI,CAACA,YAAY;MACtC,IAAI,CAACA,YAAA,IAAgB,CAACA,YAAA,CAAa7iD,MAAM,EAAE;QACzC;;MAGF,IAAI,CAAC6iD,YAAY,GAAG,EAAE;MACtB,IAAM++B,YAAA,GAAe,IAAI,CAAC7rE,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM;MAC9C,IAAM6hF,OAAA,GAAU,SAAVA,QAAW5V,GAAA;QAAA,OAAQ,IAAIoN,GAAA,CAC3Bx2B,YACG,CAAAt+B,MAAM,CAAC,UAAA4b,CAAK;UAAA,OAAAA,CAAC,CAAC,EAAE,KAAK8rC,GAAA;QAAA,GACrB/3D,GAAG,CAAC,UAACisB,CAAA,EAAGpgC,CAAM;UAAA,OAAAA,CAAA,GAAI,GAAM,GAAAogC,CAAA,CAAErd,MAAM,CAAC,CAAG,EAAAvO,IAAI,CAAC;QAAA;MAAA;MAG9C,IAAMutE,SAAA,GAAYD,OAAQ;MAC1B,KAAK,IAAI9hF,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI6hF,YAAA,EAAc7hF,CAAK;QACrC,IAAI,CAACshF,8DAAA,CAAUS,SAAW,EAAAD,OAAA,CAAQ9hF,CAAK;UACrC;;MAEJ;MACA,OAAO8W,KAAA,CAAMrS,IAAI,CAACs9E,SACf,EAAA5tE,GAAG,CAAC,UAAAisB,CAAA;QAAA,OAAKA,CAAE,CAAAnmB,KAAK,CAAC,GACjB;MAAA,GAAA9F,GAAG,CAAC,UAAAuG,CAAA;QAAA,OAAM;UAACtD,MAAQ,EAAAsD,CAAC,CAAC,CAAE;UAAE5H,KAAO,GAAC4H,CAAC,CAAC,CAAE;UAAEqQ,KAAO,GAACrQ,CAAC,CAAC,CAAE;SAAA;MAAA;IACxD;EAAA;IAAAlc,GAAA;IAAAmoB,KAAA,EAOA,SAAAo6D,cAAc1lB,UAAU,EAAE;MAAA,IAAA2mB,OAAA;MACxB,IAAI,IAAI,CAACnZ,aAAa,CAAC,cAAgB;QAAC36D,UAAA,EAAY;MAAI,OAAO,KAAK,EAAE;QACpE;;MAGF6pD,OAAQ,CAAAhvD,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC1D,KAAK,EAAE,IAAI,CAACC,MAAM,EAAE+1D,UAAA;MAE9C,IAAMxb,IAAA,GAAO,IAAI,CAACz3C,SAAS;MAC3B,IAAM65E,MAAA,GAASpiC,IAAK,CAAAx6C,KAAK,IAAI,CAAK,IAAAw6C,IAAA,CAAKv6C,MAAM,IAAI;MAEjD,IAAI,CAAC21D,OAAO,GAAG,EAAE;MACjBn9D,6DAAA,CAAK,IAAI,CAAC05D,KAAK,EAAE,UAACH,GAAQ;QAAA,IAAA6qB,eAAA;QACxB,IAAID,MAAU,IAAA5qB,GAAA,CAAItC,QAAQ,KAAK,WAAa;UAE1C;;QAKF,IAAIsC,GAAA,CAAIhjB,SAAS,EAAE;UACjBgjB,GAAA,CAAIhjB,SAAS;;QAEf,CAAA6tC,eAAA,GAAAF,OAAI,CAAC/mB,OAAO,EAAC55D,IAAI,CAAAqW,KAAA,CAAAwqE,eAAA,EAAA1hD,kBAAA,CAAI62B,GAAA,CAAI4D,OAAO;MAClC,GAAG,IAAI;MAEP,IAAI,CAACA,OAAO,CAAC/jD,OAAO,CAAC,UAAC9C,IAAA,EAAM0D,KAAU;QACpC1D,IAAA,CAAK+tE,IAAI,GAAGrqE,KAAA;MACd;MAEA,IAAI,CAAC+wD,aAAa,CAAC;IACrB;EAAA;IAAArqE,GAAA;IAAAmoB,KAAA,EAOA,SAAAq6D,gBAAgBpiF,IAAI,EAAE;MACpB,IAAI,IAAI,CAACiqE,aAAa,CAAC,sBAAwB;QAACjqE,IAAA,EAAAA,IAAA;QAAMsP,UAAA,EAAY;MAAI,OAAO,KAAK,EAAE;QAClF;;MAGF,KAAK,IAAIlO,CAAA,GAAI,CAAG,EAAAi2C,IAAA,GAAO,IAAI,CAACjgC,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,EAAED,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;QAC/D,IAAI,CAACw8C,cAAc,CAACx8C,CAAG,EAAAo4C,UAAU,CAAC/D,SAAS;MAC7C;MAEA,KAAK,IAAIr0C,GAAA,GAAI,CAAG,EAAAi2C,KAAA,GAAO,IAAI,CAACjgC,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,EAAED,GAAI,GAAAi2C,KAAA,EAAM,EAAEj2C,GAAG;QAC/D,IAAI,CAACoiF,cAAc,CAACpiF,GAAG,EAAA46E,8DAAA,CAAWh8E,IAAA,IAAQA,IAAK;UAACy3C,YAAc,EAAAr2C;QAAC,KAAKpB,IAAI;MAC1E;MAEA,IAAI,CAACiqE,aAAa,CAAC,qBAAuB;QAACjqE,IAAA,EAAAA;MAAI;IACjD;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAOA,SAAAy7D,eAAetqE,KAAK,EAAElZ,IAAI,EAAE;MAC1B,IAAM+3C,IAAO,OAAI,CAAC6F,cAAc,CAAC1kC,KAAA;MACjC,IAAMzE,IAAO;QAACsjC,IAAA,EAAAA,IAAA;QAAM7+B,KAAA,EAAAA,KAAA;QAAOlZ,IAAA,EAAAA,IAAA;QAAMsP,UAAA,EAAY;MAAI;MAEjD,IAAI,IAAI,CAAC26D,aAAa,CAAC,qBAAuB,EAAAx1D,IAAA,MAAU,KAAK,EAAE;QAC7D;;MAGFsjC,IAAK,CAAAyB,UAAU,CAACpH,OAAO,CAACpyC,IAAA;MAExByU,IAAK,CAAAnF,UAAU,GAAG,KAAK;MACvB,IAAI,CAAC26D,aAAa,CAAC,oBAAsB,EAAAx1D,IAAA;IAC3C;EAAA;IAAA7U,GAAA;IAAAmoB,KAAA,EAEA,SAAAo4D,OAAA,EAAS;MACP,IAAI,IAAI,CAAClW,aAAa,CAAC,cAAgB;QAAC36D,UAAA,EAAY;MAAI,OAAO,KAAK,EAAE;QACpE;;MAGF,IAAIkkC,QAAS,CAAAN,GAAG,CAAC,IAAI,CAAG;QACtB,IAAI,IAAI,CAACmsC,QAAQ,IAAI,CAAC7rC,QAAS,CAAAjB,OAAO,CAAC,IAAI,CAAG;UAC5CiB,QAAS,CAAAt/B,KAAK,CAAC,IAAI;;OAEhB;QACL,IAAI,CAACnB,IAAI;QACTqqE,oBAAqB;UAACl9E,KAAA,EAAO;QAAI;;IAErC;EAAA;IAAAN,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAA,EAAO;MACL,IAAI3R,CAAA;MACJ,IAAI,IAAI,CAAC2+E,iBAAiB,EAAE;QAC1B,IAAA0D,qBAAA,GAAwB,IAAI,CAAC1D,iBAAiB;UAAvCt5E,KAAA,GAAAg9E,qBAAA,CAAAh9E,KAAA;UAAOC,MAAA,GAAA+8E,qBAAA,CAAA/8E,MAAA;QACd,IAAI,CAACo5E,OAAO,CAACr5E,KAAO,EAAAC,MAAA;QACpB,IAAI,CAACq5E,iBAAiB,GAAG,IAAI;;MAE/B,IAAI,CAAC5E,KAAK;MAEV,IAAI,IAAI,CAAC10E,KAAK,IAAI,KAAK,IAAI,CAACC,MAAM,IAAI,CAAG;QACvC;;MAGF,IAAI,IAAI,CAACujE,aAAa,CAAC,YAAc;QAAC36D,UAAA,EAAY;MAAI,OAAO,KAAK,EAAE;QAClE;;MAMF,IAAMo0E,MAAA,GAAS,IAAI,CAACrnB,OAAO;MAC3B,KAAKj7D,CAAI,MAAGA,CAAI,GAAAsiF,MAAA,CAAOriF,MAAM,IAAIqiF,MAAM,CAACtiF,CAAA,CAAE,CAACk7D,CAAC,IAAI,GAAG,EAAEl7D,CAAG;QACtDsiF,MAAM,CAACtiF,CAAE,EAAC2R,IAAI,CAAC,IAAI,CAACvJ,SAAS;MAC/B;MAEA,IAAI,CAACm6E,aAAa;MAGlB,OAAOviF,CAAI,GAAAsiF,MAAA,CAAOriF,MAAM,EAAE,EAAED,CAAG;QAC7BsiF,MAAM,CAACtiF,CAAE,EAAC2R,IAAI,CAAC,IAAI,CAACvJ,SAAS;MAC/B;MAEA,IAAI,CAACygE,aAAa,CAAC;IACrB;EAAA;IAAArqE,GAAA;IAAAmoB,KAAA,EAKA,SAAAqvB,uBAAuBF,aAAa,EAAE;MACpC,IAAMC,QAAA,GAAW,IAAI,CAAC+nC,eAAe;MACrC,IAAMzjD,MAAA,GAAS,EAAE;MACjB,IAAIr6B,CAAG,EAAAi2C,IAAA;MAEP,KAAKj2C,CAAA,GAAI,GAAGi2C,IAAO,GAAAF,QAAA,CAAS91C,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QACjD,IAAM22C,IAAA,GAAOZ,QAAQ,CAAC/1C,CAAE;QACxB,IAAI,CAAC81C,aAAA,IAAiBa,IAAK,CAAAwpC,OAAO,EAAE;UAClC9lD,MAAA,CAAOh5B,IAAI,CAACs1C,IAAA;;MAEhB;MAEA,OAAOtc,MAAA;IACT;EAAA;IAAA77B,GAAA;IAAAmoB,KAAA,EAMA,SAAAquC,6BAAA,EAA+B;MAC7B,OAAO,IAAI,CAAChf,sBAAsB,CAAC,IAAI;IACzC;EAAA;IAAAx3C,GAAA;IAAAmoB,KAAA,EAOA,SAAA47D,cAAA,EAAgB;MACd,IAAI,IAAI,CAAC1Z,aAAa,CAAC,oBAAsB;QAAC36D,UAAA,EAAY;MAAI,OAAO,KAAK,EAAE;QAC1E;;MAGF,IAAM6nC,QAAA,GAAW,IAAI,CAACif,4BAA4B;MAClD,KAAK,IAAIh1D,CAAA,GAAI+1C,QAAS,CAAA91C,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAK,CAAG,IAAEA,CAAG;QAC7C,IAAI,CAACwiF,YAAY,CAACzsC,QAAQ,CAAC/1C,CAAE;MAC/B;MAEA,IAAI,CAAC6oE,aAAa,CAAC;IACrB;EAAA;IAAArqE,GAAA;IAAAmoB,KAAA,EAOA,SAAA67D,aAAa7rC,IAAI,EAAE;MACjB,IAAM3kC,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM2tC,IAAA,GAAOhJ,IAAA,CAAK+I,KAAK;MACvB,IAAM+iC,OAAA,GAAU,CAAC9iC,IAAA,CAAK/J,QAAQ;MAC9B,IAAMiK,IAAO,GAAAq9B,cAAA,CAAevmC,IAAM,MAAI,CAACvuC,SAAS;MAChD,IAAMiL,IAAO;QACXsjC,IAAA,EAAAA,IAAA;QACA7+B,KAAA,EAAO6+B,IAAA,CAAK7+B,KAAK;QACjB5J,UAAA,EAAY;MACd;MAEA,IAAI,IAAI,CAAC26D,aAAa,CAAC,mBAAqB,EAAAx1D,IAAA,MAAU,KAAK,EAAE;QAC3D;;MAGF,IAAIovE,OAAS;QACX1R,6DAAA,CAAS/+D,GAAK;UACZ3R,IAAM,EAAAs/C,IAAA,CAAKt/C,IAAI,KAAK,KAAK,GAAG,IAAIw/C,IAAK,CAAAx/C,IAAI,GAAGs/C,IAAA,CAAKt/C,IAAI;UACrDC,KAAA,EAAOq/C,IAAK,CAAAr/C,KAAK,KAAK,KAAK,GAAG,IAAI,CAAC+E,KAAK,GAAGw6C,IAAA,CAAKv/C,KAAK,GAAGq/C,IAAA,CAAKr/C,KAAK;UAClEH,GAAK,EAAAw/C,IAAA,CAAKx/C,GAAG,KAAK,KAAK,GAAG,IAAI0/C,IAAK,CAAA1/C,GAAG,GAAGw/C,IAAA,CAAKx/C,GAAG;UACjDC,MAAA,EAAQu/C,IAAK,CAAAv/C,MAAM,KAAK,KAAK,GAAG,IAAI,CAACkF,MAAM,GAAGu6C,IAAA,CAAKz/C,MAAM,GAAGu/C,IAAA,CAAKv/C;QACnE;;MAGFu2C,IAAK,CAAAyB,UAAU,CAACzmC,IAAI;MAEpB,IAAI8wE,OAAS;QACXrR,6DAAW,CAAAp/D,GAAA;;MAGbqB,IAAK,CAAAnF,UAAU,GAAG,KAAK;MACvB,IAAI,CAAC26D,aAAa,CAAC,kBAAoB,EAAAx1D,IAAA;IACzC;EAAA;IAAA7U,GAAA;IAAAmoB,KAAA,EAOA,SAAAgvC,cAAcl1D,KAAK,EAAE;MACnB,OAAOo1D,6DAAA,CAAep1D,KAAA,EAAO,IAAI,CAAC2H,SAAS,EAAE,IAAI,CAACy4E,WAAW;IAC/D;EAAA;IAAAriF,GAAA;IAAAmoB,KAAA,EAEA,SAAA+7D,0BAA0B3yE,CAAC,EAAEnR,IAAI,EAAE4B,OAAO,EAAEi1D,gBAAgB,EAAE;MAC5D,IAAMr+C,MAAS,GAAAy/C,WAAA,CAAYC,KAAK,CAACl4D,IAAK;MACtC,IAAI,OAAOwY,MAAA,KAAW,UAAY;QAChC,OAAOA,MAAO,KAAI,EAAErH,CAAA,EAAGvP,OAAS,EAAAi1D,gBAAA;;MAGlC,OAAO,EAAE;IACX;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAA61B,eAAenG,YAAY,EAAE;MAC3B,IAAMjnB,OAAA,GAAU,IAAI,CAACpZ,IAAI,CAACgY,QAAQ,CAACqoB,YAAa;MAChD,IAAMN,QAAA,GAAW,IAAI,CAAC2nC,SAAS;MAC/B,IAAI/mC,IAAA,GAAOZ,QAAS,CAAAvxB,MAAM,CAAC,UAAAtlB,CAAK;QAAA,OAAAA,CAAA,IAAKA,CAAE,CAAAowD,QAAQ,KAAKlgC,OAAA;MAAA,GAAS8N,GAAG;MAEhE,IAAI,CAACyZ,IAAM;QACTA,IAAO;UACL3uC,IAAA,EAAM,IAAI;UACVgO,IAAA,EAAM,EAAE;UACRoZ,OAAA,EAAS,IAAI;UACbgpB,UAAA,EAAY,IAAI;UAChB4B,MAAA,EAAQ,IAAI;UACZ4B,OAAA,EAAS,IAAI;UACbE,OAAA,EAAS,IAAI;UACbokC,KAAO,EAAA9wD,OAAA,IAAWA,OAAQ,CAAA8wD,KAAK,IAAI;UACnCpoE,KAAO,EAAAu+B,YAAA;UACPiZ,QAAU,EAAAlgC,OAAA;UACVmqB,OAAA,EAAS,EAAE;UACXsE,OAAA,EAAS;QACX;QACA9H,QAAA,CAAS10C,IAAI,CAACs1C,IAAA;;MAGhB,OAAOA,IAAA;IACT;EAAA;IAAAn4C,GAAA;IAAAmoB,KAAA,EAEA,SAAA+2B,WAAA,EAAa;MACX,OAAO,IAAI,CAAC3C,QAAQ,KAAK,IAAI,CAACA,QAAQ,GAAG5B,6DAAc,KAAI,EAAE;QAACr6C,KAAA,EAAO,IAAI;QAAEkJ,IAAM;OAAQ;IAC3F;EAAA;IAAAxJ,GAAA;IAAAmoB,KAAA,EAEA,SAAA6qC,uBAAA,EAAyB;MACvB,OAAO,IAAI,CAACwD,4BAA4B,GAAG/0D,MAAM;IACnD;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAEA,SAAAulC,iBAAiB7V,YAAY,EAAE;MAC7B,IAAMjnB,OAAA,GAAU,IAAI,CAACpZ,IAAI,CAACgY,QAAQ,CAACqoB,YAAa;MAChD,IAAI,CAACjnB,OAAS;QACZ,OAAO,KAAK;;MAGd,IAAMunB,IAAO,OAAI,CAAC6F,cAAc,CAACnG,YAAA;MAIjC,OAAO,OAAOM,IAAK,CAAAqD,MAAM,KAAK,YAAY,CAACrD,IAAA,CAAKqD,MAAM,GAAG,CAAC5qB,OAAA,CAAQ4qB,MAAM;IAC1E;EAAA;IAAAx7C,GAAA;IAAAmoB,KAAA,EAEA,SAAAg8D,qBAAqBtsC,YAAY,EAAE8pC,OAAO,EAAE;MAC1C,IAAMxpC,IAAO,OAAI,CAAC6F,cAAc,CAACnG,YAAA;MACjCM,IAAK,CAAAqD,MAAM,GAAG,CAACmmC,OAAA;IACjB;EAAA;IAAA3hF,GAAA;IAAAmoB,KAAA,EAEA,SAAAqoC,qBAAqBl3C,KAAK,EAAE;MAC1B,IAAI,CAACkmE,cAAc,CAAClmE,KAAM,IAAG,CAAC,IAAI,CAACkmE,cAAc,CAAClmE,KAAM;IAC1D;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAEA,SAAA4hC,kBAAkBzwC,KAAK,EAAE;MACvB,OAAO,CAAC,IAAI,CAACkmE,cAAc,CAAClmE,KAAM;IACpC;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAKA,SAAAi8D,kBAAkBvsC,YAAY,EAAEhnB,SAAS,EAAE8wD,OAAO,EAAE;MAClD,IAAMvhF,IAAA,GAAOuhF,OAAU,YAAS,MAAM;MACtC,IAAMxpC,IAAO,OAAI,CAAC6F,cAAc,CAACnG,YAAA;MACjC,IAAM/F,KAAA,GAAQqG,IAAK,CAAAyB,UAAU,CAACyI,kBAAkB,CAAC9hD,SAAW,EAAAH,IAAA;MAE5D,IAAI4hD,6DAAA,CAAQnxB,SAAY;QACtBsnB,IAAA,CAAK3gC,IAAI,CAACqZ,SAAA,CAAU,CAAC2qB,MAAM,GAAG,CAACmmC,OAAA;QAC/B,IAAI,CAACp3E,MAAM;OACN;QACL,IAAI,CAAC45E,oBAAoB,CAACtsC,YAAc,EAAA8pC,OAAA;QAExC7vC,KAAM,CAAAvnC,MAAM,CAAC4tC,IAAM;UAACwpC,OAAA,EAAAA;QAAO;QAC3B,IAAI,CAACp3E,MAAM,CAAC,UAACiJ,GAAA;UAAA,OAAQA,GAAA,CAAIqkC,YAAY,KAAKA,YAAe,GAAAz3C,IAAA,GAAOG,SAAS;QAAA;;IAE7E;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAEA,SAAAk8D,KAAKxsC,YAAY,EAAEhnB,SAAS,EAAE;MAC5B,IAAI,CAACuzD,iBAAiB,CAACvsC,YAAA,EAAchnB,SAAA,EAAW,KAAK;IACvD;EAAA;IAAA7wB,GAAA;IAAAmoB,KAAA,EAEA,SAAAm8D,KAAKzsC,YAAY,EAAEhnB,SAAS,EAAE;MAC5B,IAAI,CAACuzD,iBAAiB,CAACvsC,YAAA,EAAchnB,SAAA,EAAW,IAAI;IACtD;EAAA;IAAA7wB,GAAA;IAAAmoB,KAAA,EAKA,SAAAk5D,oBAAoBxpC,YAAY,EAAE;MAChC,IAAMM,IAAO,OAAI,CAAC+mC,SAAS,CAACrnC,YAAa;MACzC,IAAIM,IAAA,IAAQA,IAAK,CAAAyB,UAAU,EAAE;QAC3BzB,IAAK,CAAAyB,UAAU,CAACuE,QAAQ;;MAE1B,OAAO,IAAI,CAAC+gC,SAAS,CAACrnC,YAAa;IACrC;EAAA;IAAA73C,GAAA;IAAAmoB,KAAA,EAEA,SAAAo8D,MAAA,EAAQ;MACN,IAAI/iF,CAAG,EAAAi2C,IAAA;MACP,IAAI,CAACriC,IAAI;MACTw+B,QAAS,CAAA5gC,MAAM,CAAC,IAAI;MAEpB,KAAKxR,CAAI,MAAGi2C,IAAO,OAAI,CAACjgC,IAAI,CAACgY,QAAQ,CAAC/tB,MAAM,EAAED,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;QAC3D,IAAI,CAAC6/E,mBAAmB,CAAC7/E,CAAA;MAC3B;IACF;EAAA;IAAAxB,GAAA;IAAAmoB,KAAA,EAEA,SAAAlV,QAAA,EAAU;MACR,IAAI,CAACo3D,aAAa,CAAC;MACnB,IAAOn8D,MAAM,GAAS,IAAI,CAAnBA,MAAM;QAAEsF,GAAG,GAAI,IAAI,CAAXA,GAAG;MAElB,IAAI,CAAC+wE,KAAK;MACV,IAAI,CAAC1yD,MAAM,CAACypD,UAAU;MAEtB,IAAIptE,MAAQ;QACV,IAAI,CAAC60E,YAAY;QACjB9C,8DAAA,CAAY/xE,MAAQ,EAAAsF,GAAA;QACpB,IAAI,CAAC6nE,QAAQ,CAAChe,cAAc,CAAC7pD,GAAA;QAC7B,IAAI,CAACtF,MAAM,GAAG,IAAI;QAClB,IAAI,CAACsF,GAAG,GAAG,IAAI;;MAGjB,OAAOsqE,SAAS,CAAC,IAAI,CAACl5E,EAAE,CAAC;MAEzB,IAAI,CAACylE,aAAa,CAAC;IACrB;EAAA;IAAArqE,GAAA;IAAAmoB,KAAA,EAEA,SAAAq8D,cAAA,EAAuB;MAAA,IAAAC,YAAA;MACrB,OAAO,CAAAA,YAAA,OAAI,CAACv2E,MAAM,EAACw2E,SAAS,CAAAxrE,KAAA,CAAAurE,YAAA,EAAAp/E,SAAI;IAClC;EAAA;IAAArF,GAAA;IAAAmoB,KAAA,EAKA,SAAA63D,WAAA,EAAa;MACX,IAAI,CAAC2E,cAAc;MACnB,IAAI,IAAI,CAAC3iF,OAAO,CAACgvB,UAAU,EAAE;QAC3B,IAAI,CAAC4zD,oBAAoB;OACpB;QACL,IAAI,CAACnF,QAAQ,GAAG,IAAI;;IAExB;EAAA;IAAAz/E,GAAA;IAAAmoB,KAAA,EAKA,SAAAw8D,eAAA,EAAiB;MAAA,IAAAE,OAAA;MACf,IAAM7yC,SAAA,GAAY,IAAI,CAACotC,UAAU;MACjC,IAAM/D,QAAA,GAAW,IAAI,CAACA,QAAQ;MAE9B,IAAMyJ,IAAA,GAAO,SAAPA,KAAQt7E,IAAA,EAAM8zD,QAAa;QAC/B+d,QAAA,CAASjuE,gBAAgB,CAACy3E,OAAI,EAAEr7E,IAAM,EAAA8zD,QAAA;QACtCtrB,SAAS,CAACxoC,IAAA,CAAK,GAAG8zD,QAAA;MACpB;MAEA,IAAMA,QAAW,YAAXA,QAAWA,CAAC/rD,CAAG,EAAA7Q,CAAA,EAAGC,CAAM;QAC5B4Q,CAAA,CAAEq6C,OAAO,GAAGlrD,CAAA;QACZ6Q,CAAA,CAAEs6C,OAAO,GAAGlrD,CAAA;QACZkkF,OAAI,CAACpC,aAAa,CAAClxE,CAAA;MACrB;MAEAjS,6DAAK,KAAI,CAAC0C,OAAO,CAACksB,MAAM,EAAE,UAAC1kB,IAAS;QAAA,OAAAs7E,IAAA,CAAKt7E,IAAM,EAAA8zD,QAAA;MAAA;IACjD;EAAA;IAAAt9D,GAAA;IAAAmoB,KAAA,EAKA,SAAAy8D,qBAAA,EAAuB;MAAA,IAAAG,OAAA;MACrB,IAAI,CAAC,IAAI,CAAC1F,oBAAoB,EAAE;QAC9B,IAAI,CAACA,oBAAoB,GAAG,EAAC;;MAE/B,IAAMrtC,SAAA,GAAY,IAAI,CAACqtC,oBAAoB;MAC3C,IAAMhE,QAAA,GAAW,IAAI,CAACA,QAAQ;MAE9B,IAAMyJ,IAAA,GAAO,SAAPA,KAAQt7E,IAAA,EAAM8zD,QAAa;QAC/B+d,QAAA,CAASjuE,gBAAgB,CAAC23E,OAAI,EAAEv7E,IAAM,EAAA8zD,QAAA;QACtCtrB,SAAS,CAACxoC,IAAA,CAAK,GAAG8zD,QAAA;MACpB;MACA,IAAM0nB,OAAA,GAAU,SAAVA,QAAWx7E,IAAA,EAAM8zD,QAAa;QAClC,IAAItrB,SAAS,CAACxoC,IAAA,CAAK,EAAE;UACnB6xE,QAAA,CAASruE,mBAAmB,CAAC+3E,OAAI,EAAEv7E,IAAM,EAAA8zD,QAAA;UACzC,OAAOtrB,SAAS,CAACxoC,IAAK;;MAE1B;MAEA,IAAM8zD,QAAA,GAAW,SAAXA,SAAYz2D,KAAA,EAAOC,MAAW;QAClC,IAAIi+E,OAAI,CAAC72E,MAAM,EAAE;UACf62E,OAAI,CAACpkB,MAAM,CAAC95D,KAAO,EAAAC,MAAA;;MAEvB;MAEA,IAAIm+E,QAAA;MACJ,IAAMxF,QAAA,GAAW,SAAXA,SAAA,EAAiB;QACrBuF,OAAA,CAAQ,QAAU,EAAAvF,QAAA;QAElBsF,OAAI,CAACtF,QAAQ,GAAG,IAAI;QACpBsF,OAAI,CAACpkB,MAAM;QAEXmkB,IAAA,CAAK,QAAU,EAAAxnB,QAAA;QACfwnB,IAAA,CAAK,QAAU,EAAAG,QAAA;MACjB;MAEAA,QAAA,GAAW,SAAAA,SAAA,EAAM;QACfF,OAAI,CAACtF,QAAQ,GAAG,KAAK;QAErBuF,OAAA,CAAQ,QAAU,EAAA1nB,QAAA;QAGlBynB,OAAI,CAACR,KAAK;QACVQ,OAAI,CAAC7E,OAAO,CAAC,CAAG;QAEhB4E,IAAA,CAAK,QAAU,EAAArF,QAAA;MACjB;MAEA,IAAIpE,QAAA,CAAS5d,UAAU,CAAC,IAAI,CAACvvD,MAAM,CAAG;QACpCuxE,QAAA;OACK;QACLwF,QAAA;;IAEJ;EAAA;IAAAjlF,GAAA;IAAAmoB,KAAA,EAKA,SAAA46D,aAAA,EAAe;MAAA,IAAAmC,OAAA;MACb5lF,6DAAA,CAAK,IAAI,CAAC8/E,UAAU,EAAE,UAAC9hB,QAAA,EAAU9zD,IAAS;QACxC07E,OAAI,CAAC7J,QAAQ,CAACruE,mBAAmB,CAACk4E,OAAI,EAAE17E,IAAM,EAAA8zD,QAAA;MAChD;MACA,IAAI,CAAC8hB,UAAU,GAAG,EAAC;MAEnB9/E,6DAAA,CAAK,IAAI,CAAC+/E,oBAAoB,EAAE,UAAC/hB,QAAA,EAAU9zD,IAAS;QAClD07E,OAAI,CAAC7J,QAAQ,CAACruE,mBAAmB,CAACk4E,OAAI,EAAE17E,IAAM,EAAA8zD,QAAA;MAChD;MACA,IAAI,CAAC+hB,oBAAoB,GAAG9+E,SAAA;IAC9B;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAEA,SAAAg9D,iBAAiBvyC,KAAK,EAAExyC,IAAI,EAAEP,OAAO,EAAE;MACrC,IAAMyc,MAAA,GAASzc,OAAU,WAAQ,QAAQ;MACzC,IAAIs4C,IAAA,EAAMviC,IAAA,EAAMpU,CAAG,EAAAi2C,IAAA;MAEnB,IAAIr3C,IAAA,KAAS,SAAW;QACtB+3C,IAAO,OAAI,CAAC6F,cAAc,CAACpL,KAAK,CAAC,EAAE,CAACiF,YAAY;QAChDM,IAAA,CAAKyB,UAAU,CAAC,GAAM,GAAAt9B,MAAA,GAAS,mBAAoB;;MAGrD,KAAK9a,CAAA,GAAI,GAAGi2C,IAAO,GAAA7E,KAAA,CAAMnxC,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC9CoU,IAAO,GAAAg9B,KAAK,CAACpxC,CAAE;QACf,IAAMo4C,UAAA,GAAahkC,IAAA,IAAQ,IAAI,CAACooC,cAAc,CAACpoC,IAAA,CAAKiiC,YAAY,EAAE+B,UAAU;QAC5E,IAAIA,UAAY;UACdA,UAAU,CAACt9B,MAAS,gBAAa,CAAC1G,IAAA,CAAKgH,OAAO,EAAEhH,IAAK,CAAAiiC,YAAY,EAAEjiC,IAAA,CAAK0D,KAAK;;MAEjF;IACF;EAAA;IAAAtZ,GAAA;IAAAmoB,KAAA,EAMA,SAAAi9D,kBAAA,EAAoB;MAClB,OAAO,IAAI,CAACvyC,OAAO,IAAI,EAAE;IAC3B;EAAA;IAAA7yC,GAAA;IAAAmoB,KAAA,EAMA,SAAAk9D,kBAAkBC,cAAc,EAAE;MAAA,IAAAC,OAAA;MAChC,IAAMC,UAAa,OAAI,CAAC3yC,OAAO,IAAI,EAAE;MACrC,IAAMqC,MAAA,GAASowC,cAAe,CAAA3vE,GAAG,CAAC,UAAArN,KAAA,EAA2B;QAAA,IAAzBuvC,YAAY,GAAAvvC,KAAA,CAAZuvC,YAAY;UAAEv+B,KAAK,GAAAhR,KAAA,CAALgR,KAAK;QACrD,IAAM6+B,IAAO,GAAAotC,OAAI,CAACvnC,cAAc,CAACnG,YAAA;QACjC,IAAI,CAACM,IAAM;UACT,MAAM,IAAIp/B,KAAM,gCAA+B8+B,YAAc;;QAG/D,OAAO;UACLA,YAAA,EAAAA,YAAA;UACAj7B,OAAS,EAAAu7B,IAAA,CAAK3gC,IAAI,CAAC8B,KAAM;UACzBA,KAAA,EAAAA;QACF;MACF;MACA,IAAM+L,OAAA,GAAU,CAACogE,8DAAA,CAAevwC,MAAQ,EAAAswC,UAAA;MAExC,IAAIngE,OAAS;QACX,IAAI,CAACwtB,OAAO,GAAGqC,MAAA;QAEf,IAAI,CAACiqC,UAAU,GAAG,IAAI;QACtB,IAAI,CAACuD,kBAAkB,CAACxtC,MAAQ,EAAAswC,UAAA;;IAEpC;EAAA;IAAAxlF,GAAA;IAAAmoB,KAAA,EAWA,SAAAkiD,cAAcqN,IAAI,EAAE7iE,IAAI,EAAEmR,MAAM,EAAE;MAChC,OAAO,IAAI,CAACu5D,QAAQ,CAAC9H,MAAM,CAAC,IAAI,EAAEC,IAAA,EAAM7iE,IAAM,EAAAmR,MAAA;IAChD;EAAA;IAAAhmB,GAAA;IAAAmoB,KAAA,EAOA,SAAA40B,gBAAgB2oC,QAAQ,EAAE;MACxB,OAAO,IAAI,CAACnG,QAAQ,CAACz6B,MAAM,CAAC9+B,MAAM,CAAC,UAAA3U,CAAA;QAAA,OAAKA,CAAA,CAAE+C,MAAM,CAACxP,EAAE,KAAK8gF,QAAA;MAAA,GAAUjkF,MAAM,KAAK;IAC/E;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAKA,SAAAu6D,mBAAmBxtC,MAAM,EAAEswC,UAAU,EAAEG,MAAM,EAAE;MAC7C,IAAMC,YAAe,OAAI,CAAC5jF,OAAO,CAAC6jF,KAAK;MACvC,IAAMxwB,IAAA,GAAO,SAAPA,KAAQn5C,CAAA,EAAGC,CAAM;QAAA,OAAAD,CAAA,CAAE8J,MAAM,CAAC,UAAAtlB,CAAK;UAAA,QAACyb,CAAE,CAAAm8D,IAAI,CAAC,UAAA33E,CAAA;YAAA,OAAKD,CAAE,CAAAm3C,YAAY,KAAKl3C,CAAA,CAAEk3C,YAAY,IAAIn3C,CAAE,CAAA4Y,KAAK,KAAK3Y,CAAA,CAAE2Y,KAAK;UAAA;QAAA;MAAA;MAC1G,IAAMwsE,WAAA,GAAczwB,IAAA,CAAKmwB,UAAY,EAAAtwC,MAAA;MACrC,IAAM6wC,SAAY,GAAAJ,MAAA,GAASzwC,MAAS,GAAAmgB,IAAA,CAAKngB,MAAA,EAAQswC,UAAW;MAE5D,IAAIM,WAAA,CAAYrkF,MAAM,EAAE;QACtB,IAAI,CAAC0jF,gBAAgB,CAACW,WAAA,EAAaF,YAAa,CAAAxlF,IAAI,EAAE,KAAK;;MAG7D,IAAI2lF,SAAU,CAAAtkF,MAAM,IAAImkF,YAAA,CAAaxlF,IAAI,EAAE;QACzC,IAAI,CAAC+kF,gBAAgB,CAACY,SAAA,EAAWH,YAAa,CAAAxlF,IAAI,EAAE,IAAI;;IAE5D;EAAA;IAAAJ,GAAA;IAAAmoB,KAAA,EAKA,SAAAs6D,cAAclxE,CAAC,EAAEo0E,MAAM,EAAE;MAAA,IAAAK,OAAA;MACvB,IAAMnxE,IAAO;QACX5U,KAAO,EAAAsR,CAAA;QACPo0E,MAAA,EAAAA,MAAA;QACAj2E,UAAA,EAAY,IAAI;QAChB4uE,WAAa,MAAI,CAACnnB,aAAa,CAAC5lD,CAAA;MAClC;MACA,IAAM00E,WAAA,GAAc,SAAdA,YAAe7xE,MAAW;QAAA,OAAC,CAAAA,MAAO,CAAApS,OAAO,CAACksB,MAAM,IAAI83D,OAAI,CAAChkF,OAAO,CAACksB,MAAM,EAAEwrC,QAAQ,CAACnoD,CAAA,UAAQ,CAAC/H,IAAI;MAAA;MAErG,IAAI,IAAI,CAAC6gE,aAAa,CAAC,eAAex1D,IAAM,EAAAoxE,WAAA,MAAiB,KAAK,EAAE;QAClE;;MAGF,IAAM5gE,OAAA,GAAU,IAAI,CAAC6gE,YAAY,CAAC30E,CAAG,EAAAo0E,MAAA,EAAQ9wE,IAAA,CAAKypE,WAAW;MAE7DzpE,IAAK,CAAAnF,UAAU,GAAG,KAAK;MACvB,IAAI,CAAC26D,aAAa,CAAC,cAAcx1D,IAAM,EAAAoxE,WAAA;MAEvC,IAAI5gE,OAAA,IAAWxQ,IAAK,CAAAwQ,OAAO,EAAE;QAC3B,IAAI,CAACk7D,MAAM;;MAGb,OAAO,IAAI;IACb;EAAA;IAAAvgF,GAAA;IAAAmoB,KAAA,EAUA,SAAA+9D,aAAa30E,CAAC,EAAEo0E,MAAM,EAAErH,WAAW,EAAE;MACnC,IAAA6H,aAAA,GAA4C,IAAI,CAAzCtzC,OAAA;QAAS2yC,UAAa,GAAAW,aAAA,gBAAE,GAAAA,aAAA;QAAEnkF,OAAA,GAAW,IAAI,CAAfA,OAAA;MAejC,IAAMi1D,gBAAmB,GAAA0uB,MAAA;MACzB,IAAMzwC,MAAA,GAAS,IAAI,CAACkxC,kBAAkB,CAAC70E,CAAA,EAAGi0E,UAAA,EAAYlH,WAAa,EAAArnB,gBAAA;MACnE,IAAMsnB,OAAA,GAAU8H,8DAAc,CAAA90E,CAAA;MAC9B,IAAM8sE,SAAA,GAAYD,kBAAmB,CAAA7sE,CAAA,EAAG,IAAI,CAAC4tE,UAAU,EAAEb,WAAa,EAAAC,OAAA;MAEtE,IAAID,WAAa;QAGf,IAAI,CAACa,UAAU,GAAG,IAAI;QAGtB3/E,6DAAa,CAAAwC,OAAA,CAAQskF,OAAO,EAAE,CAAC/0E,CAAA,EAAG2jC,MAAA,EAAQ,IAAI,CAAC,EAAE,IAAI;QAErD,IAAIqpC,OAAS;UACX/+E,6DAAa,CAAAwC,OAAA,CAAQsuD,OAAO,EAAE,CAAC/+C,CAAA,EAAG2jC,MAAA,EAAQ,IAAI,CAAC,EAAE,IAAI;;;MAIzD,IAAM7vB,OAAA,GAAU,CAACogE,8DAAA,CAAevwC,MAAQ,EAAAswC,UAAA;MACxC,IAAIngE,OAAA,IAAWsgE,MAAQ;QACrB,IAAI,CAAC9yC,OAAO,GAAGqC,MAAA;QACf,IAAI,CAACwtC,kBAAkB,CAACxtC,MAAA,EAAQswC,UAAY,EAAAG,MAAA;;MAG9C,IAAI,CAACxG,UAAU,GAAGd,SAAA;MAElB,OAAOh5D,OAAA;IACT;EAAA;IAAArlB,GAAA;IAAAmoB,KAAA,EAUA,SAAAi+D,mBAAmB70E,CAAC,EAAEi0E,UAAU,EAAElH,WAAW,EAAErnB,gBAAgB,EAAE;MAC/D,IAAI1lD,CAAA,CAAE/H,IAAI,KAAK,UAAY;QACzB,OAAO,EAAE;;MAGX,IAAI,CAAC80E,WAAa;QAEhB,OAAOkH,UAAA;;MAGT,IAAMI,YAAe,OAAI,CAAC5jF,OAAO,CAAC6jF,KAAK;MACvC,OAAO,IAAI,CAAC3B,yBAAyB,CAAC3yE,CAAA,EAAGq0E,YAAa,CAAAxlF,IAAI,EAAEwlF,YAAc,EAAA3uB,gBAAA;IAC5E;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAloCA,SAAAgJ,SAAA,EAA0B;MACxByjC,QAAA,CAASliD,GAAG,CAAAwG,KAAA,CAAZ07C,QAAA,EAAAvvD,SAAgB;MAChBkhF,iBAAA;IACF;EAAA;IAAAvmF,GAAA;IAAAmoB,KAAA,EAEA,SAAA4rD,WAAA,EAA4B;MAC1Bnf,QAAA,CAAS5hD,MAAM,CAAAkG,KAAA,CAAf07C,QAAA,EAAAvvD,SAAmB;MACnBkhF,iBAAA;IACF;EAAA;EAAA,OAAAt3D,KAAA;AAAA;AAAA2wB,eAAA,CAjBI3wB,KAAA,cAEc5a,yDAAS;AAAAurC,eAAA,CAFvB3wB,KAAA,eAGe6uD,SAAU;AAAAl+B,eAAA,CAHzB3wB,KAAA,eAIe6kD,0DAAU;AAAAl0B,eAAA,CAJzB3wB,KAAA,cAKc2lC,QAAS;AAAAhV,eAAA,CALvB3wB,KAAA,aAMa/b,OAAQ;AAAA0sC,eAAA,CANrB3wB,KAAA,cAOc8uD,QAAS;AAwoC7B,SAASwI,iBAAoBA,CAAA;EAC3B,OAAOjnF,6DAAA,CAAK2vB,KAAA,CAAM6uD,SAAS,EAAE,UAACx9E,KAAU;IAAA,OAAAA,KAAA,CAAMi/E,QAAQ,CAACvH,UAAU;EAAA;AACnE;AClwCA,SAASwO,QAAQhzE,GAA6B,EAAEoJ,OAAmB,EAAEovC,QAAgB,EAAE;EACrF,IAAOD,UAAA,GAA2DnvC,OAAA,CAA3DmvC,UAAA;IAAY06B,WAAA,GAA+C7pE,OAAA,CAA/C6pE,WAAA;IAAa/lF,CAAA,GAAkCkc,OAAA,CAAlClc,CAAA;IAAGC,CAAA,GAA+Bic,OAAA,CAA/Bjc,CAAA;IAAGwsD,WAAA,GAA4BvwC,OAAA,CAA5BuwC,WAAA;IAAaD,WAAA,GAAetwC,OAAA,CAAfswC,WAAA;EACnD,IAAIw5B,WAAA,GAAcD,WAAc,GAAAt5B,WAAA;;;EAIhC35C,GAAA,CAAIE,SAAS;EACbF,GAAA,CAAI87C,GAAG,CAAC5uD,CAAA,EAAGC,CAAA,EAAGwsD,WAAa,EAAApB,UAAA,GAAa26B,WAAA,EAAa16B,QAAW,GAAA06B,WAAA;EAChE,IAAIx5B,WAAA,GAAcu5B,WAAa;IAC7BC,WAAA,GAAcD,WAAc,GAAAv5B,WAAA;IAC5B15C,GAAI,CAAA87C,GAAG,CAAC5uD,CAAG,EAAAC,CAAA,EAAGusD,WAAA,EAAalB,QAAW,GAAA06B,WAAA,EAAa36B,UAAa,GAAA26B,WAAA,EAAa,IAAI;GAC5E;IACLlzE,GAAA,CAAI87C,GAAG,CAAC5uD,CAAA,EAAGC,CAAA,EAAG8lF,WAAa,EAAAz6B,QAAA,GAAWW,yDAAA,EAASZ,UAAa,GAAAY,yDAAA;;EAE9Dn5C,GAAA,CAAImzE,SAAS;EACbnzE,GAAA,CAAI2tC,IAAI;AACV;AAEA,SAASylC,gBAAgBz+D,KAAK,EAAE;EAC9B,OAAO0+D,8DAAA,CAAkB1+D,KAAO,GAAC,cAAc,YAAY,cAAc,WAAW;AACtF;AAEA;;;AAGA,SAAS2+D,oBAAkBx3B,GAAe,EAAEpC,WAAmB,EAAEC,WAAmB,EAAE45B,UAAkB,EAAE;EACxG,IAAMC,CAAI,GAAAJ,eAAA,CAAgBt3B,GAAI,CAAAttD,OAAO,CAACilF,YAAY;EAClD,IAAMC,aAAgB,GAAC,CAAA/5B,WAAA,GAAcD,WAAU,IAAK;EACpD,IAAMi6B,UAAA,GAAahjF,IAAK,CAAAL,GAAG,CAACojF,aAAA,EAAeH,UAAA,GAAa75B,WAAc;;;;;;;;EAStE,IAAMk6B,iBAAA,GAAoB,SAApBA,kBAAqB5sE,GAAQ;IACjC,IAAM6sE,aAAA,GAAgB,CAACl6B,WAAc,GAAAhpD,IAAA,CAAKL,GAAG,CAACojF,aAAA,EAAe1sE,GAAG,KAAKusE,UAAa;IAClF,OAAO1b,6DAAA,CAAY7wD,GAAK,KAAGrW,IAAK,CAAAL,GAAG,CAACojF,aAAe,EAAAG,aAAA;EACrD;EAEA,OAAO;IACLC,UAAY,EAAAF,iBAAA,CAAkBJ,CAAA,CAAEM,UAAU;IAC1CC,QAAU,EAAAH,iBAAA,CAAkBJ,CAAA,CAAEO,QAAQ;IACtCC,UAAA,EAAYnc,6DAAY,CAAA2b,CAAA,CAAEQ,UAAU,EAAE,CAAG,EAAAL,UAAA;IACzCM,QAAA,EAAUpc,6DAAY,CAAA2b,CAAA,CAAES,QAAQ,EAAE,CAAG,EAAAN,UAAA;EACvC;AACF;AAEA;;;AAGA,SAASO,WAAWrlD,CAAS,EAAEslD,KAAa,EAAEjnF,CAAS,EAAEC,CAAS,EAAE;EAClE,OAAO;IACLD,CAAA,EAAGA,CAAI,GAAA2hC,CAAA,GAAIl+B,IAAK,CAAA+nD,GAAG,CAACy7B,KAAA;IACpBhnF,CAAA,EAAGA,CAAI,GAAA0hC,CAAA,GAAIl+B,IAAK,CAAAqyB,GAAG,CAACmxD,KAAA;EACtB;AACF;AAGA;;;;;;;;;;;;;AAaC;AACD,SAASC,QACPp0E,GAA6B,EAC7BoJ,OAAmB,EACnBhX,MAAc,EACdgoD,OAAe,EACfnrC,GAAW,EACXmxC,QAAiB,EACjB;EACA,IAAOlzD,CAAA,GAA6Dkc,OAAA,CAA7Dlc,CAAA;IAAGC,CAAA,GAA0Dic,OAAA,CAA1Djc,CAAA;IAAe2T,KAAK,GAAsCsI,OAAA,CAAvDmvC,UAAA;IAAmB06B,WAAW,GAAyB7pE,OAAA,CAApC6pE,WAAW;IAAeoB,MAAA,GAAUjrE,OAAA,CAAvBswC,WAAa;EAE1D,IAAMC,WAAA,GAAchpD,IAAA,CAAKN,GAAG,CAAC+Y,OAAA,CAAQuwC,WAAW,GAAGS,OAAU,GAAAhoD,MAAA,GAAS6gF,WAAa;EACnF,IAAMv5B,WAAA,GAAc26B,MAAS,OAAIA,MAAA,GAASj6B,OAAU,GAAAhoD,MAAA,GAAS6gF,WAAA,GAAc,CAAC;EAE5E,IAAIqB,aAAgB;EACpB,IAAMplD,KAAA,GAAQjgB,GAAM,GAAAnO,KAAA;EAEpB,IAAIs5C,OAAS;;;;IAIX,IAAMm6B,oBAAuB,GAAAF,MAAA,GAAS,CAAI,GAAAA,MAAA,GAASj6B,OAAA,GAAU,CAAC;IAC9D,IAAMo6B,oBAAuB,GAAA76B,WAAA,GAAc,CAAI,GAAAA,WAAA,GAAcS,OAAA,GAAU,CAAC;IACxE,IAAMq6B,kBAAqB,GAAC,CAAAF,oBAAA,GAAuBC,oBAAmB,IAAK;IAC3E,IAAME,aAAA,GAAgBD,kBAAuB,SAAIvlD,KAAC,GAAQulD,kBAAA,IAAuBA,kBAAA,GAAqBr6B,OAAM,IAAKlrB,KAAK;IACtHolD,aAAA,GAAgB,CAACplD,KAAQ,GAAAwlD,aAAY,IAAK;;EAG5C,IAAMC,IAAA,GAAOhkF,IAAA,CAAKN,GAAG,CAAC,OAAO6+B,KAAQ,GAAAyqB,WAAA,GAAcvnD,MAAA,GAAS4c,yDAAM,IAAA2qC,WAAA;EAClE,IAAMi7B,WAAc,GAAC,CAAA1lD,KAAA,GAAQylD,IAAG,IAAK;EACrC,IAAMp8B,UAAA,GAAaz3C,KAAA,GAAQ8zE,WAAc,GAAAN,aAAA;EACzC,IAAM97B,QAAA,GAAWvpC,GAAA,GAAM2lE,WAAc,GAAAN,aAAA;EACrC,IAAAO,mBAAA,GAAqDvB,mBAAA,CAAkBlqE,OAAS,EAAAswC,WAAA,EAAaC,WAAA,EAAanB,QAAW,GAAAD,UAAA;IAA9Gu7B,UAAA,GAAAe,mBAAA,CAAAf,UAAA;IAAYC,QAAA,GAAAc,mBAAA,CAAAd,QAAA;IAAUC,UAAU,GAAAa,mBAAA,CAAVb,UAAU;IAAEC,QAAQ,GAAAY,mBAAA,CAARZ,QAAQ;EAEjD,IAAMa,wBAAA,GAA2Bn7B,WAAc,GAAAm6B,UAAA;EAC/C,IAAMiB,sBAAA,GAAyBp7B,WAAc,GAAAo6B,QAAA;EAC7C,IAAMiB,uBAAA,GAA0Bz8B,UAAA,GAAau7B,UAAa,GAAAgB,wBAAA;EAC1D,IAAMG,qBAAA,GAAwBz8B,QAAA,GAAWu7B,QAAW,GAAAgB,sBAAA;EAEpD,IAAMG,wBAAA,GAA2Bx7B,WAAc,GAAAs6B,UAAA;EAC/C,IAAMmB,sBAAA,GAAyBz7B,WAAc,GAAAu6B,QAAA;EAC7C,IAAMmB,uBAAA,GAA0B78B,UAAA,GAAay7B,UAAa,GAAAkB,wBAAA;EAC1D,IAAMG,qBAAA,GAAwB78B,QAAA,GAAWy7B,QAAW,GAAAkB,sBAAA;EAEpDn1E,GAAA,CAAIE,SAAS;EAEb,IAAIkgD,QAAU;;IAEZ,IAAMk1B,qBAAwB,GAAC,CAAAN,uBAAA,GAA0BC,qBAAoB,IAAK;IAClFj1E,GAAA,CAAI87C,GAAG,CAAC5uD,CAAG,EAAAC,CAAA,EAAGwsD,WAAA,EAAaq7B,uBAAyB,EAAAM,qBAAA;IACpDt1E,GAAA,CAAI87C,GAAG,CAAC5uD,CAAG,EAAAC,CAAA,EAAGwsD,WAAA,EAAa27B,qBAAuB,EAAAL,qBAAA;;IAGlD,IAAIlB,QAAA,GAAW,CAAG;MAChB,IAAMj7D,OAAU,GAAAo7D,UAAA,CAAWa,sBAAwB,EAAAE,qBAAA,EAAuB/nF,CAAG,EAAAC,CAAA;MAC7E6S,GAAI,CAAA87C,GAAG,CAAChjC,OAAA,CAAQ5rB,CAAC,EAAE4rB,OAAA,CAAQ3rB,CAAC,EAAE4mF,QAAU,EAAAkB,qBAAA,EAAuBz8B,QAAW,GAAAW,yDAAA;;;IAI5E,IAAMo8B,EAAK,GAAArB,UAAA,CAAWiB,sBAAwB,EAAA38B,QAAA,EAAUtrD,CAAG,EAAAC,CAAA;IAC3D6S,GAAA,CAAIw+D,MAAM,CAAC+W,EAAA,CAAGroF,CAAC,EAAEqoF,EAAA,CAAGpoF,CAAC;;IAGrB,IAAI8mF,QAAA,GAAW,CAAG;MAChB,IAAMn7D,QAAU,GAAAo7D,UAAA,CAAWiB,sBAAwB,EAAAE,qBAAA,EAAuBnoF,CAAG,EAAAC,CAAA;MAC7E6S,GAAA,CAAI87C,GAAG,CAAChjC,QAAQ,CAAA5rB,CAAC,EAAE4rB,QAAA,CAAQ3rB,CAAC,EAAE8mF,QAAU,EAAAz7B,QAAA,GAAWW,yDAAS,EAAAk8B,qBAAA,GAAwB1kF,IAAA,CAAKqe,EAAE;;;IAI7F,IAAMwmE,qBAAwB,GAAC,CAACh9B,QAAY,GAAAy7B,QAAA,GAAWv6B,WAAiB,IAAAnB,UAAc,GAAAy7B,UAAA,GAAat6B,WAAW,CAAC,IAAK;IACpH15C,GAAI,CAAA87C,GAAG,CAAC5uD,CAAG,EAAAC,CAAA,EAAGusD,WAAA,EAAalB,QAAY,GAAAy7B,QAAA,GAAWv6B,WAAc,EAAA87B,qBAAA,EAAuB,IAAI;IAC3Fx1E,GAAI,CAAA87C,GAAG,CAAC5uD,CAAG,EAAAC,CAAA,EAAGusD,WAAA,EAAa87B,qBAAuB,EAAAj9B,UAAA,GAAcy7B,UAAa,GAAAt6B,WAAA,EAAc,IAAI;;IAG/F,IAAIs6B,UAAA,GAAa,CAAG;MAClB,IAAMl7D,SAAU,GAAAo7D,UAAA,CAAWgB,wBAA0B,EAAAE,uBAAA,EAAyBloF,CAAG,EAAAC,CAAA;MACjF6S,GAAA,CAAI87C,GAAG,CAAChjC,SAAQ,CAAA5rB,CAAC,EAAE4rB,SAAA,CAAQ3rB,CAAC,EAAE6mF,UAAY,EAAAoB,uBAAA,GAA0BzkF,IAAK,CAAAqe,EAAE,EAAEupC,UAAa,GAAAY,yDAAA;;;IAI5F,IAAMs8B,EAAK,GAAAvB,UAAA,CAAWY,wBAA0B,EAAAv8B,UAAA,EAAYrrD,CAAG,EAAAC,CAAA;IAC/D6S,GAAA,CAAIw+D,MAAM,CAACiX,EAAA,CAAGvoF,CAAC,EAAEuoF,EAAA,CAAGtoF,CAAC;;IAGrB,IAAI2mF,UAAA,GAAa,CAAG;MAClB,IAAMh7D,SAAU,GAAAo7D,UAAA,CAAWY,wBAA0B,EAAAE,uBAAA,EAAyB9nF,CAAG,EAAAC,CAAA;MACjF6S,GAAI,CAAA87C,GAAG,CAAChjC,SAAA,CAAQ5rB,CAAC,EAAE4rB,SAAA,CAAQ3rB,CAAC,EAAE2mF,UAAY,EAAAv7B,UAAA,GAAaY,yDAAS,EAAA67B,uBAAA;;GAE7D;IACLh1E,GAAI,CAAAu+D,MAAM,CAACrxE,CAAG,EAAAC,CAAA;IAEd,IAAMuoF,WAAc,GAAA/kF,IAAA,CAAK+nD,GAAG,CAACs8B,uBAAA,IAA2Br7B,WAAc,GAAAzsD,CAAA;IACtE,IAAMyoF,WAAc,GAAAhlF,IAAA,CAAKqyB,GAAG,CAACgyD,uBAAA,IAA2Br7B,WAAc,GAAAxsD,CAAA;IACtE6S,GAAI,CAAAw+D,MAAM,CAACkX,WAAa,EAAAC,WAAA;IAExB,IAAMC,SAAY,GAAAjlF,IAAA,CAAK+nD,GAAG,CAACu8B,qBAAA,IAAyBt7B,WAAc,GAAAzsD,CAAA;IAClE,IAAM2oF,SAAY,GAAAllF,IAAA,CAAKqyB,GAAG,CAACiyD,qBAAA,IAAyBt7B,WAAc,GAAAxsD,CAAA;IAClE6S,GAAI,CAAAw+D,MAAM,CAACoX,SAAW,EAAAC,SAAA;;EAGxB71E,GAAA,CAAImzE,SAAS;AACf;AAEA,SAAS2C,QACP91E,GAA6B,EAC7BoJ,OAAmB,EACnBhX,MAAc,EACdgoD,OAAe,EACfgG,QAAiB,EACjB;EACA,IAAO21B,WAAW,GAA+B3sE,OAAA,CAA1C2sE,WAAW;IAAEx9B,UAAA,GAA6BnvC,OAAA,CAA7BmvC,UAAA;IAAYP,aAAA,GAAiB5uC,OAAA,CAAjB4uC,aAAA;EAChC,IAAIQ,QAAA,GAAWpvC,OAAA,CAAQovC,QAAQ;EAC/B,IAAIu9B,WAAa;IACf3B,OAAA,CAAQp0E,GAAK,EAAAoJ,OAAA,EAAShX,MAAQ,EAAAgoD,OAAA,EAAS5B,QAAU,EAAA4H,QAAA;IACjD,KAAK,IAAIpyD,CAAI,MAAGA,CAAI,GAAA+nF,WAAA,EAAa,EAAE/nF,CAAG;MACpCgS,GAAA,CAAIspC,IAAI;IACV;IACA,IAAI,CAACz2C,KAAA,CAAMmlD,aAAgB;MACzBQ,QAAA,GAAWD,UAAc,IAAAP,aAAgB,GAAAM,yDAAA,IAAOA,yDAAE;;;EAGtD87B,OAAA,CAAQp0E,GAAK,EAAAoJ,OAAA,EAAShX,MAAQ,EAAAgoD,OAAA,EAAS5B,QAAU,EAAA4H,QAAA;EACjDpgD,GAAA,CAAIspC,IAAI;EACR,OAAOkP,QAAA;AACT;AAEA,SAASmmB,WACP3+D,GAA6B,EAC7BoJ,OAAmB,EACnBhX,MAAc,EACdgoD,OAAe,EACfgG,QAAiB,EACjB;EACA,IAAO21B,WAAA,GAAmD3sE,OAAA,CAAnD2sE,WAAA;IAAax9B,UAAA,GAAsCnvC,OAAA,CAAtCmvC,UAAA;IAAYP,aAAa,GAAa5uC,OAAA,CAA1B4uC,aAAa;IAAExpD,OAAO,GAAI4a,OAAA,CAAX5a,OAAO;EACtD,IAAO8R,WAAA,GAA8D9R,OAAA,CAA9D8R,WAAA;IAAa01E,eAAA,GAAiDxnF,OAAA,CAAjDwnF,eAAA;IAAiBha,UAAU,GAAsBxtE,OAAA,CAAhCwtE,UAAU;IAAEE,gBAAgB,GAAI1tE,OAAA,CAApB0tE,gBAAgB;EACjE,IAAM+Z,KAAA,GAAQznF,OAAQ,CAAA0tD,WAAW,KAAK;EAEtC,IAAI,CAAC57C,WAAa;IAChB;;EAGFN,GAAI,CAAAq+D,WAAW,CAACrC,UAAA,IAAc,EAAE;EAChCh8D,GAAA,CAAIs+D,cAAc,GAAGpC,gBAAA;EAErB,IAAI+Z,KAAO;IACTj2E,GAAI,CAAAO,SAAS,GAAGD,WAAc;IAC9BN,GAAI,CAAAk2E,QAAQ,GAAGF,eAAmB;GAC7B;IACLh2E,GAAA,CAAIO,SAAS,GAAGD,WAAA;IAChBN,GAAI,CAAAk2E,QAAQ,GAAGF,eAAmB;;EAGpC,IAAIx9B,QAAA,GAAWpvC,OAAA,CAAQovC,QAAQ;EAC/B,IAAIu9B,WAAa;IACf3B,OAAA,CAAQp0E,GAAK,EAAAoJ,OAAA,EAAShX,MAAQ,EAAAgoD,OAAA,EAAS5B,QAAU,EAAA4H,QAAA;IACjD,KAAK,IAAIpyD,CAAI,MAAGA,CAAI,GAAA+nF,WAAA,EAAa,EAAE/nF,CAAG;MACpCgS,GAAA,CAAIy+D,MAAM;IACZ;IACA,IAAI,CAAC5rE,KAAA,CAAMmlD,aAAgB;MACzBQ,QAAA,GAAWD,UAAc,IAAAP,aAAgB,GAAAM,yDAAA,IAAOA,yDAAE;;;EAItD,IAAI29B,KAAO;IACTjD,OAAA,CAAQhzE,GAAA,EAAKoJ,OAAS,EAAAovC,QAAA;;EAGxB,IAAI,CAACu9B,WAAa;IAChB3B,OAAA,CAAQp0E,GAAK,EAAAoJ,OAAA,EAAShX,MAAQ,EAAAgoD,OAAA,EAAS5B,QAAU,EAAA4H,QAAA;IACjDpgD,GAAA,CAAIy+D,MAAM;;AAEd;AAAA,IAUqB0X,UAAmB,0BAAAC,SAAA;EAAA7hC,SAAA,CAAA4hC,UAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAA7hC,YAAA,CAAA2hC,UAAA;EAmCtC,SAAAA,WAAYx1C,GAAG,EAAE;IAAA,IAAA21C,OAAA;IAAA35C,eAAA,OAAAw5C,UAAA;IACfG,OAAA,GAAAD,QAAA,CAAAn1E,IAAA;IAAKkrC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAAAlqC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAAAlqC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAAAlqC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAAAlqC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAAAlqC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAAAlqC,eAAA,CAAAmqC,sBAAA,CAAAD,OAAA;IAELA,OAAA,CAAK9nF,OAAO,GAAGzB,SAAA;IACfupF,OAAA,CAAKt+B,aAAa,GAAGjrD,SAAA;IACrBupF,OAAA,CAAK/9B,UAAU,GAAGxrD,SAAA;IAClBupF,OAAA,CAAK99B,QAAQ,GAAGzrD,SAAA;IAChBupF,OAAA,CAAK58B,WAAW,GAAG3sD,SAAA;IACnBupF,OAAA,CAAK38B,WAAW,GAAG5sD,SAAA;IACnBupF,OAAA,CAAKrD,WAAW,GAAG;IACnBqD,OAAA,CAAKP,WAAW,GAAG;IAEnB,IAAIp1C,GAAK;MACP7yC,MAAO,CAAA6X,MAAM,CAAA4wE,sBAAA,CAAAD,OAAA,GAAO31C,GAAA;;IACrB,OAAA21C,OAAA;EACH;EAAAx5C,YAAA,CAAAq5C,UAAA;IAAA3pF,GAAA;IAAAmoB,KAAA,EAEA,SAAAmvC,QAAQ0yB,MAAc,EAAEC,MAAc,EAAEhzB,gBAAyB,EAAE;MACjE,IAAMh1D,KAAQ,OAAI,CAACw1D,QAAQ,CAAC,CAAC,KAAK,IAAI,EAAER,gBAAA;MACxC,IAAAizB,mBAAA,GAA0BvyB,6DAAA,CAAkB11D,KAAO;UAACvB,CAAG,EAAAspF,MAAA;UAAQrpF,CAAG,EAAAspF;QAAM;QAAjEnpE,KAAK,GAAAopE,mBAAA,CAALppE,KAAK;QAAExR,QAAA,GAAA46E,mBAAA,CAAA56E,QAAA;MACd,IAAA66E,eAAA,GAAwE,IAAI,CAAC1yB,QAAQ,CAAC,CACpF,cACA,YACA,eACA,eACA,gBACD,EAAER,gBAAA;QANIlL,UAAA,GAAAo+B,eAAA,CAAAp+B,UAAA;QAAYC,QAAA,GAAAm+B,eAAA,CAAAn+B,QAAA;QAAUkB,WAAW,GAAAi9B,eAAA,CAAXj9B,WAAW;QAAEC,WAAW,GAAAg9B,eAAA,CAAXh9B,WAAW;QAAE3B,aAAA,GAAA2+B,eAAA,CAAA3+B,aAAA;MAOvD,IAAM4+B,OAAU,GAAC,KAAI,CAACpoF,OAAO,CAAC4rD,OAAO,GAAG,IAAI,CAAC5rD,OAAO,CAAC8R,WAAW,IAAI;MACpE,IAAMg7C,cAAA,GAAiBvvD,6DAAe,CAAAisD,aAAA,EAAeQ,QAAW,GAAAD,UAAA;MAChE,IAAMs+B,aAAgB,GAAAv7B,cAAA,IAAkBhD,yDAAO,IAAAS,6DAAA,CAAczrC,KAAA,EAAOirC,UAAY,EAAAC,QAAA;MAChF,IAAMs+B,YAAe,GAAAC,8DAAA,CAAWj7E,QAAU,EAAA49C,WAAA,GAAck9B,OAAA,EAASj9B,WAAc,GAAAi9B,OAAA;MAE/E,OAAQC,aAAiB,IAAAC,YAAA;IAC3B;EAAA;IAAAtqF,GAAA;IAAAmoB,KAAA,EAEA,SAAA4vC,eAAed,gBAAyB,EAAE;MACxC,IAAAuzB,eAAA,GAA+D,IAAI,CAAC/yB,QAAQ,CAAC,CAC3E,KACA,KACA,cACA,YACA,eACA,cACD,EAAER,gBAAA;QAPIv2D,CAAC,GAAA8pF,eAAA,CAAD9pF,CAAC;QAAEC,CAAC,GAAA6pF,eAAA,CAAD7pF,CAAC;QAAEorD,UAAA,GAAAy+B,eAAA,CAAAz+B,UAAA;QAAYC,QAAA,GAAAw+B,eAAA,CAAAx+B,QAAA;QAAUkB,WAAA,GAAAs9B,eAAA,CAAAt9B,WAAA;QAAaC,WAAW,GAAAq9B,eAAA,CAAXr9B,WAAW;MAQ3D,IAAAs9B,eAAA,GAA0B,IAAI,CAACzoF,OAAO;QAA/B4D,MAAA,GAAA6kF,eAAA,CAAA7kF,MAAA;QAAQgoD,OAAA,GAAA68B,eAAA,CAAA78B,OAAA;MACf,IAAM88B,SAAY,GAAC,CAAA3+B,UAAA,GAAaC,QAAO,IAAK;MAC5C,IAAM2+B,UAAA,GAAa,CAACz9B,WAAA,GAAcC,WAAc,GAAAS,OAAA,GAAUhoD,MAAK,IAAK;MACpE,OAAO;QACLlF,CAAA,EAAGA,CAAI,GAAAyD,IAAA,CAAK+nD,GAAG,CAACw+B,SAAa,IAAAC,UAAA;QAC7BhqF,CAAA,EAAGA,CAAI,GAAAwD,IAAA,CAAKqyB,GAAG,CAACk0D,SAAa,IAAAC;MAC/B;IACF;EAAA;IAAA3qF,GAAA;IAAAmoB,KAAA,EAEA,SAAAq6C,gBAAgBvL,gBAAyB,EAAE;MACzC,OAAO,IAAI,CAACc,cAAc,CAACd,gBAAA;IAC7B;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAKK,GAA6B,EAAE;MAClC,IAAOxR,OAAO,GAAmB,IAAI,CAA9BA,OAAO;QAAEwpD,aAAa,GAAI,IAAI,CAArBA,aAAa;MAC7B,IAAM5lD,MAAA,GAAS,CAAC5D,OAAA,CAAQ4D,MAAM,IAAI,KAAK;MACvC,IAAMgoD,OAAA,GAAU,CAAC5rD,OAAA,CAAQ4rD,OAAO,IAAI,KAAK;MACzC,IAAMgG,QAAA,GAAW5xD,OAAA,CAAQ4xD,QAAQ;MACjC,IAAI,CAAC6yB,WAAW,GAAIzkF,OAAA,CAAQ0tD,WAAW,KAAK,OAAW,UAAO,CAAC;MAC/D,IAAI,CAAC65B,WAAW,GAAG/9B,aAAgB,GAAAM,yDAAA,GAAM3nD,IAAA,CAAKotB,KAAK,CAACi6B,aAAgB,GAAAM,yDAAA,IAAO,CAAC;MAE5E,IAAIN,aAAA,KAAkB,CAAK,QAAI,CAAC0B,WAAW,GAAG,KAAK,IAAI,CAACC,WAAW,GAAG,CAAG;QACvE;;MAGF35C,GAAA,CAAIC,IAAI;MAER,IAAMi3E,SAAA,GAAY,CAAC,IAAI,CAAC3+B,UAAU,GAAG,IAAI,CAACC,QAAO,IAAK;MACtDx4C,GAAI,CAAAo3E,SAAS,CAACzmF,IAAA,CAAK+nD,GAAG,CAACw+B,SAAA,IAAa9kF,MAAQ,EAAAzB,IAAA,CAAKqyB,GAAG,CAACk0D,SAAa,IAAA9kF,MAAA;MAClE,IAAMilF,GAAA,GAAM,IAAI1mF,IAAK,CAAAqyB,GAAG,CAACryB,IAAK,CAAAL,GAAG,CAAC0e,yDAAA,EAAIgpC,aAAiB;MACvD,IAAMs/B,YAAA,GAAellF,MAAS,GAAAilF,GAAA;MAE9Br3E,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQ4R,eAAe;MACvCJ,GAAI,CAAAQ,WAAW,GAAGhS,OAAA,CAAQiS,WAAW;MAErCq1E,OAAA,CAAQ91E,GAAK,MAAI,EAAEs3E,YAAA,EAAcl9B,OAAS,EAAAgG,QAAA;MAC1Cue,UAAA,CAAW3+D,GAAK,MAAI,EAAEs3E,YAAA,EAAcl9B,OAAS,EAAAgG,QAAA;MAE7CpgD,GAAA,CAAIW,OAAO;IACb;EAAA;EAAA,OAAAw1E,UAAA;AAAA,EAtHsCpnB,OAAA;AAAA3iB,eAAA,CAAnB+pC,UAAmB,QAE1B,KAAM;AAAA/pC,eAAA,CAFC+pC,UAAmB,cAIpB;EAChBj6B,WAAa;EACbz7C,WAAa;EACbu7D,UAAA,EAAY,EAAE;EACdE,gBAAkB;EAClB8Z,eAAiB,EAAAjpF,SAAA;EACjB0mF,YAAc;EACdnzE,WAAa;EACblO,MAAQ;EACRgoD,OAAS;EACT9sC,KAAO,EAAAvgB,SAAA;EACPqzD,QAAA,EAAU;CACV;AAAAhU,eAAA,CAhBiB+pC,UAAmB,mBAkBf;EACrB/1E,eAAiB;CACjB;AAAAgsC,eAAA,CApBiB+pC,UAAmB,iBAsBjB;EACnB75B,WAAA,EAAa,IAAI;EACjBC,UAAY,WAAAA,WAAC5/C,IAAA;IAAA,OAASA,IAAS;EAAA;CAC/B;ACpRJ,SAAS46E,SAASv3E,GAAG,EAAExR,OAAO,EAAmB;EAAA,IAAjBwlB,KAAA,GAAAniB,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAQrD,OAAO;EAC7CwR,GAAA,CAAIw3E,OAAO,GAAGzrF,6DAAA,CAAeioB,KAAA,CAAMyjE,cAAc,EAAEjpF,OAAA,CAAQipF,cAAc;EACzEz3E,GAAA,CAAIq+D,WAAW,CAACtyE,6DAAA,CAAeioB,KAAA,CAAMgoD,UAAU,EAAExtE,OAAA,CAAQwtE,UAAU;EACnEh8D,GAAA,CAAIs+D,cAAc,GAAGvyE,6DAAA,CAAeioB,KAAA,CAAMkoD,gBAAgB,EAAE1tE,OAAA,CAAQ0tE,gBAAgB;EACpFl8D,GAAA,CAAIk2E,QAAQ,GAAGnqF,6DAAA,CAAeioB,KAAA,CAAMgiE,eAAe,EAAExnF,OAAA,CAAQwnF,eAAe;EAC5Eh2E,GAAA,CAAIO,SAAS,GAAGxU,6DAAA,CAAeioB,KAAA,CAAM1T,WAAW,EAAE9R,OAAA,CAAQ8R,WAAW;EACrEN,GAAA,CAAIQ,WAAW,GAAGzU,6DAAA,CAAeioB,KAAA,CAAMvT,WAAW,EAAEjS,OAAA,CAAQiS,WAAW;AACzE;AAEA,SAAS+9D,OAAOx+D,GAAG,EAAEtK,QAAQ,EAAE6D,MAAM,EAAE;EACrCyG,GAAA,CAAIw+D,MAAM,CAACjlE,MAAA,CAAOrM,CAAC,EAAEqM,MAAA,CAAOpM,CAAC;AAC/B;AAKA,SAASuqF,aAAcA,CAAAlpF,OAAO,EAAE;EAC9B,IAAIA,OAAA,CAAQmpF,OAAO,EAAE;IACnB,OAAOC,0DAAA;;EAGT,IAAIppF,OAAA,CAAQqpF,OAAO,IAAIrpF,OAAQ,CAAAspF,sBAAsB,KAAK,UAAY;IACpE,OAAOC,0DAAA;;EAGT,OAAOvZ,MAAA;AACT;AAEA,SAASwZ,SAASvgC,MAAM,EAAEqG,OAAO,EAAe;EAAA,IAAbwI,MAAS,GAAAz0D,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,QAAE;EAC5C,IAAMknB,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;EAC3B,IAAAgqF,aAAA,GAA6D3xB,MAAA,CAAtDxlD,KAAA;IAAOo3E,WAAc,GAAAD,aAAA,eAAC,GAAAA,aAAA;IAAAE,WAAA,GAAgC7xB,MAAA,CAA9Br3C,GAAK;IAAAmpE,SAAA,GAAAD,WAAA,cAAYp/D,KAAQ,IAAC,GAAAo/D,WAAA;EACzD,IAAcE,YAAA,GAAiCv6B,OAAA,CAAxCh9C,KAAO;IAAmBw3E,UAAA,GAAcx6B,OAAA,CAAnB7uC,GAAK;EACjC,IAAMnO,KAAQ,GAAAnQ,IAAA,CAAKN,GAAG,CAAC6nF,WAAa,EAAAG,YAAA;EACpC,IAAMppE,GAAM,GAAAte,IAAA,CAAKL,GAAG,CAAC8nF,SAAW,EAAAE,UAAA;EAChC,IAAMC,OAAA,GAAUL,WAAc,GAAAG,YAAA,IAAgBD,SAAA,GAAYC,YAAgB,IAAAH,WAAA,GAAcI,UAAA,IAAcF,SAAY,GAAAE,UAAA;EAElH,OAAO;IACLv/D,KAAA,EAAAA,KAAA;IACAjY,KAAA,EAAAA,KAAA;IACAsgC,IAAA,EAAM0c,OAAA,CAAQ1c,IAAI;IAClB6C,IAAM,EAAAh1B,GAAA,GAAMnO,KAAA,IAAS,CAACy3E,OAAA,GAAUx/D,KAAA,GAAQ9J,GAAM,GAAAnO,KAAA,GAAQmO,GAAA,GAAMnO;EAC9D;AACF;AAiBA,SAAS03E,YAAYx4E,GAAG,EAAEo9C,IAAI,EAAEU,OAAO,EAAEwI,MAAM,EAAE;EAC/C,IAAO7O,MAAA,GAAmB2F,IAAA,CAAnB3F,MAAA;IAAQjpD,OAAA,GAAW4uD,IAAA,CAAX5uD,OAAA;EACf,IAAAiqF,SAAA,GAAmCT,QAAS,CAAAvgC,MAAA,EAAQqG,OAAS,EAAAwI,MAAA;IAAtDvtC,KAAA,GAAA0/D,SAAA,CAAA1/D,KAAA;IAAOjY,KAAA,GAAA23E,SAAA,CAAA33E,KAAA;IAAOsgC,IAAA,GAAAq3C,SAAA,CAAAr3C,IAAA;IAAM6C,IAAA,GAAAw0C,SAAA,CAAAx0C,IAAA;EAC3B,IAAMy0C,UAAA,GAAahB,aAAc,CAAAlpF,OAAA;EAEjC,IAAA8H,KAAA,GAA6BgwD,MAAA,IAAU,EAAC;IAAAqyB,UAAA,GAAAriF,KAAA,CAAnCk6C,IAAA;IAAAA,IAAA,GAAAmoC,UAAA,cAAO,IAAI,GAAAA,UAAA;IAAE1tD,OAAO,GAAA30B,KAAA,CAAP20B,OAAO;EACzB,IAAIj9B,CAAA,EAAGS,KAAO,EAAA28B,IAAA;EAEd,KAAKp9B,CAAI,MAAGA,CAAK,IAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IAC1BS,KAAA,GAAQgpD,MAAM,CAAC,CAAC32C,KAAS,IAAAmqB,OAAU,GAAAgZ,IAAA,GAAOj2C,CAAI,GAAAA,CAAC,KAAK+qB,KAAM;IAE1D,IAAItqB,KAAA,CAAMqpD,IAAI,EAAE;MAEd;IACF,OAAO,IAAItH,IAAM;MACfxwC,GAAA,CAAIu+D,MAAM,CAAC9vE,KAAA,CAAMvB,CAAC,EAAEuB,KAAA,CAAMtB,CAAC;MAC3BqjD,IAAA,GAAO,KAAK;KACP;MACLkoC,UAAA,CAAW14E,GAAK,EAAAorB,IAAA,EAAM38B,KAAO,EAAAw8B,OAAA,EAASz8B,OAAA,CAAQmpF,OAAO;;IAGvDvsD,IAAO,GAAA38B,KAAA;EACT;EAEA,IAAI2yC,IAAM;IACR3yC,KAAA,GAAQgpD,MAAM,CAAC,CAAC32C,KAAS,IAAAmqB,OAAU,GAAAgZ,IAAA,GAAO,EAAC,IAAKlrB,KAAM;IACtD2/D,UAAA,CAAW14E,GAAK,EAAAorB,IAAA,EAAM38B,KAAO,EAAAw8B,OAAA,EAASz8B,OAAA,CAAQmpF,OAAO;;EAGvD,OAAO,CAAC,CAACv2C,IAAA;AACX;AAiBA,SAASw3C,gBAAgB54E,GAAG,EAAEo9C,IAAI,EAAEU,OAAO,EAAEwI,MAAM,EAAE;EACnD,IAAM7O,MAAA,GAAS2F,IAAA,CAAK3F,MAAM;EAC1B,IAAAohC,UAAA,GAA6Bb,QAAS,CAAAvgC,MAAA,EAAQqG,OAAS,EAAAwI,MAAA;IAAhDvtC,KAAK,GAAA8/D,UAAA,CAAL9/D,KAAK;IAAEjY,KAAK,GAAA+3E,UAAA,CAAL/3E,KAAK;IAAEmjC,IAAA,GAAA40C,UAAA,CAAA50C,IAAA;EACrB,IAAA/rC,KAAA,GAA+BouD,MAAA,IAAU,EAAC;IAAAwyB,UAAA,GAAA5gF,KAAA,CAAnCs4C,IAAA;IAAAA,IAAA,GAAAsoC,UAAA,cAAO,IAAI,GAAAA,UAAA;IAAE7tD,OAAO,GAAA/yB,KAAA,CAAP+yB,OAAO;EAC3B,IAAI8tD,IAAO;EACX,IAAIC,MAAS;EACb,IAAIhrF,CAAG,EAAAS,KAAA,EAAOwqF,KAAO,EAAA5/B,IAAA,EAAMH,IAAM,EAAAggC,KAAA;EAEjC,IAAMC,UAAa,YAAbA,UAAaA,CAACrzE,KAAU;IAAA,OAAC,CAAAhF,KAAA,IAASmqB,OAAA,GAAUgZ,IAAO,GAAAn+B,KAAA,GAAQA,KAAI,CAAC,IAAKiT,KAAA;EAAA;EAC3E,IAAMqgE,KAAA,GAAQ,SAARA,MAAA,EAAc;IAClB,IAAI//B,IAAA,KAASH,IAAM;MAEjBl5C,GAAI,CAAAw+D,MAAM,CAACua,IAAM,EAAA7/B,IAAA;MACjBl5C,GAAI,CAAAw+D,MAAM,CAACua,IAAM,EAAA1/B,IAAA;MAGjBr5C,GAAI,CAAAw+D,MAAM,CAACua,IAAM,EAAAG,KAAA;;EAErB;EAEA,IAAI1oC,IAAM;IACR/hD,KAAQ,GAAAgpD,MAAM,CAAC0hC,UAAA,CAAW,CAAG;IAC7Bn5E,GAAA,CAAIu+D,MAAM,CAAC9vE,KAAA,CAAMvB,CAAC,EAAEuB,KAAA,CAAMtB,CAAC;;EAG7B,KAAKa,CAAI,MAAGA,CAAK,IAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IAC1BS,KAAQ,GAAAgpD,MAAM,CAAC0hC,UAAA,CAAWnrF,CAAG;IAE7B,IAAIS,KAAA,CAAMqpD,IAAI,EAAE;MAEd;;IAGF,IAAM5qD,CAAA,GAAIuB,KAAA,CAAMvB,CAAC;IACjB,IAAMC,CAAA,GAAIsB,KAAA,CAAMtB,CAAC;IACjB,IAAMksF,MAAA,GAASnsF,CAAI;IAEnB,IAAImsF,MAAA,KAAWJ,KAAO;MAEpB,IAAI9rF,CAAA,GAAIksD,IAAM;QACZA,IAAO,GAAAlsD,CAAA;OACF,UAAIA,CAAA,GAAI+rD,IAAM;QACnBA,IAAO,GAAA/rD,CAAA;;MAGT4rF,IAAA,GAAO,CAACC,MAAA,GAASD,IAAO,GAAA7rF,CAAA,IAAK,EAAE8rF,MAAA;KAC1B;MACLI,KAAA;MAGAp5E,GAAI,CAAAw+D,MAAM,CAACtxE,CAAG,EAAAC,CAAA;MAEd8rF,KAAQ,GAAAI,MAAA;MACRL,MAAS;MACT3/B,IAAA,GAAOH,IAAO,GAAA/rD,CAAA;;IAGhB+rF,KAAQ,GAAA/rF,CAAA;EACV;EACAisF,KAAA;AACF;AAOA,SAASE,iBAAkBA,CAAAl8B,IAAI,EAAE;EAC/B,IAAMhxD,IAAA,GAAOgxD,IAAA,CAAK5uD,OAAO;EACzB,IAAMwtE,UAAA,GAAa5vE,IAAK,CAAA4vE,UAAU,IAAI5vE,IAAK,CAAA4vE,UAAU,CAAC/tE,MAAM;EAC5D,IAAMsrF,WAAA,GAAc,CAACn8B,IAAK,CAAAQ,UAAU,IAAI,CAACR,IAAA,CAAKjc,KAAK,IAAI,CAAC/0C,IAAA,CAAKyrF,OAAO,IAAIzrF,IAAA,CAAK0rF,sBAAsB,KAAK,cAAc,CAAC1rF,IAAA,CAAKurF,OAAO,IAAI,CAAC3b,UAAA;EACxI,OAAOud,WAAA,GAAcX,eAAA,GAAkBJ,WAAW;AACpD;AAKA,SAASgB,uBAAwBA,CAAAhrF,OAAO,EAAE;EACxC,IAAIA,OAAA,CAAQmpF,OAAO,EAAE;IACnB,OAAO8B,0DAAA;;EAGT,IAAIjrF,OAAA,CAAQqpF,OAAO,IAAIrpF,OAAQ,CAAAspF,sBAAsB,KAAK,UAAY;IACpE,OAAO4B,0DAAA;;EAGT,OAAOC,0DAAA;AACT;AAEA,SAASC,oBAAoB55E,GAAG,EAAEo9C,IAAI,EAAEt8C,KAAK,EAAEiY,KAAK,EAAE;EACpD,IAAI8gE,IAAA,GAAOz8B,IAAA,CAAK08B,KAAK;EACrB,IAAI,CAACD,IAAM;IACTA,IAAO,GAAAz8B,IAAA,CAAK08B,KAAK,GAAG,IAAIC,MAAA;IACxB,IAAI38B,IAAK,CAAAy8B,IAAI,CAACA,IAAA,EAAM/4E,KAAA,EAAOiY,KAAQ;MACjC8gE,IAAA,CAAK1G,SAAS;;;EAGlBoE,QAAS,CAAAv3E,GAAA,EAAKo9C,IAAA,CAAK5uD,OAAO;EAC1BwR,GAAA,CAAIy+D,MAAM,CAACob,IAAA;AACb;AAEA,SAASG,iBAAiBh6E,GAAG,EAAEo9C,IAAI,EAAEt8C,KAAK,EAAEiY,KAAK,EAAE;EACjD,IAAOkhE,QAAA,GAAqB78B,IAAA,CAArB68B,QAAA;IAAUzrF,OAAA,GAAW4uD,IAAA,CAAX5uD,OAAA;EACjB,IAAM0rF,aAAA,GAAgBZ,iBAAkB,CAAAl8B,IAAA;EAAA,IAAA+8B,WAAA,GAAAn0C,0BAAA,CAElBi0C,QAAU;IAAAG,OAAA;EAAA;IAAhC,KAAAD,WAAA,CAAA7qD,CAAA,MAAA8qD,OAAA,GAAAD,WAAA,CAAA5qD,CAAA,IAAApG,IAAA,GAAgC;MAAA,IAArB20B,OAAA,GAAAs8B,OAAA,CAAAzlE,KAAA;MACT4iE,QAAS,CAAAv3E,GAAA,EAAKxR,OAAS,EAAAsvD,OAAA,CAAQ9pC,KAAK;MACpChU,GAAA,CAAIE,SAAS;MACb,IAAIg6E,aAAA,CAAcl6E,GAAK,EAAAo9C,IAAA,EAAMU,OAAS;QAACh9C,KAAA,EAAAA,KAAA;QAAOmO,GAAA,EAAKnO,KAAA,GAAQiY,KAAQ;OAAK;QACtE/Y,GAAA,CAAImzE,SAAS;;MAEfnzE,GAAA,CAAIy+D,MAAM;IACZ;EAAA,SAAA/3C,GAAA;IAAAyzD,WAAA,CAAAp8E,CAAA,CAAA2oB,GAAA;EAAA;IAAAyzD,WAAA,CAAA7rD,CAAA;EAAA;AACF;AAEA,IAAM+rD,SAAA,GAAY,OAAON,MAAW;AAEpC,SAASp6E,MAAKK,GAAG,EAAEo9C,IAAI,EAAEt8C,KAAK,EAAEiY,KAAK,EAAE;EACrC,IAAIshE,SAAA,IAAa,CAACj9B,IAAA,CAAK5uD,OAAO,CAACsvD,OAAO,EAAE;IACtC87B,mBAAoB,CAAA55E,GAAA,EAAKo9C,IAAA,EAAMt8C,KAAO,EAAAiY,KAAA;GACjC;IACLihE,gBAAiB,CAAAh6E,GAAA,EAAKo9C,IAAA,EAAMt8C,KAAO,EAAAiY,KAAA;;AAEvC;AAAA,IAEqBuhE,WAAoB,0BAAAC,SAAA;EAAAhmC,SAAA,CAAA+lC,WAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAAhmC,YAAA,CAAA8lC,WAAA;EAoCvC,SAAAA,YAAY35C,GAAG,EAAE;IAAA,IAAA85C,OAAA;IAAA99C,eAAA,OAAA29C,WAAA;IACfG,OAAA,GAAAD,QAAA,CAAAt5E,IAAA;IAEAu5E,OAAA,CAAK18B,QAAQ,GAAG,IAAI;IACpB08B,OAAA,CAAKjsF,OAAO,GAAGzB,SAAA;IACf0tF,OAAA,CAAKt4C,MAAM,GAAGp1C,SAAA;IACd0tF,OAAA,CAAKt5C,KAAK,GAAGp0C,SAAA;IACb0tF,OAAA,CAAK75B,SAAS,GAAG7zD,SAAA;IACjB0tF,OAAA,CAAKX,KAAK,GAAG/sF,SAAA;IACb0tF,OAAA,CAAKC,OAAO,GAAG3tF,SAAA;IACf0tF,OAAA,CAAKE,SAAS,GAAG5tF,SAAA;IACjB0tF,OAAA,CAAK78B,UAAU,GAAG,KAAK;IACvB68B,OAAA,CAAKG,cAAc,GAAG,KAAK;IAC3BH,OAAA,CAAK98B,aAAa,GAAG5wD,SAAA;IAErB,IAAI4zC,GAAK;MACP7yC,MAAO,CAAA6X,MAAM,CAAA4wE,sBAAA,CAAAkE,OAAA,GAAO95C,GAAA;;IACrB,OAAA85C,OAAA;EACH;EAAA39C,YAAA,CAAAw9C,WAAA;IAAA9tF,GAAA;IAAAmoB,KAAA,EAEA,SAAAkqC,oBAAoBzoD,SAAS,EAAE6zC,SAAS,EAAE;MACxC,IAAMz7C,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAI,CAACA,OAAA,CAAQqpF,OAAO,IAAIrpF,OAAA,CAAQspF,sBAAsB,KAAK,UAAS,KAAM,CAACtpF,OAAA,CAAQmpF,OAAO,IAAI,CAAC,IAAI,CAACiD,cAAc,EAAE;QAClH,IAAMx5C,IAAA,GAAO5yC,OAAQ,CAAA2vD,QAAQ,GAAG,IAAI,CAAChd,KAAK,GAAG,IAAI,CAACyf,SAAS;QAC3Di6B,8DAAA,CAA2B,IAAI,CAACH,OAAO,EAAElsF,OAAA,EAAS4H,SAAA,EAAWgrC,IAAM,EAAA6I,SAAA;QACnE,IAAI,CAAC2wC,cAAc,GAAG,IAAI;;IAE9B;EAAA;IAAApuF,GAAA;IAAAkD,GAAA,EASA,SAAAA,IAAA,EAAa;MACX,OAAO,IAAI,CAACgrF,OAAO;IACrB;IAAA3qF,GAAA,EATA,SAAAA,IAAW0nD,MAAM,EAAE;MACjB,IAAI,CAACijC,OAAO,GAAGjjC,MAAA;MACf,OAAO,IAAI,CAACkjC,SAAS;MACrB,OAAO,IAAI,CAACb,KAAK;MACjB,IAAI,CAACc,cAAc,GAAG,KAAK;IAC7B;EAAA;IAAApuF,GAAA;IAAAkD,GAAA,EAMA,SAAAA,IAAA,EAAe;MACb,OAAO,IAAI,CAACirF,SAAS,KAAK,IAAI,CAACA,SAAS,GAAGG,8DAAA,CAAiB,IAAI,EAAE,IAAI,CAACtsF,OAAO,CAACsvD,OAAO;IACxF;EAAA;IAAAtxD,GAAA;IAAAmoB,KAAA,EAMA,SAAAo7C,MAAA,EAAQ;MACN,IAAMkqB,QAAA,GAAW,IAAI,CAACA,QAAQ;MAC9B,IAAMxiC,MAAA,GAAS,IAAI,CAACA,MAAM;MAC1B,OAAOwiC,QAAA,CAAShsF,MAAM,IAAIwpD,MAAM,CAACwiC,QAAQ,CAAC,EAAE,CAACn5E,KAAK,CAAC;IACrD;EAAA;IAAAtU,GAAA;IAAAmoB,KAAA,EAMA,SAAApG,KAAA,EAAO;MACL,IAAM0rE,QAAA,GAAW,IAAI,CAACA,QAAQ;MAC9B,IAAMxiC,MAAA,GAAS,IAAI,CAACA,MAAM;MAC1B,IAAM1+B,KAAA,GAAQkhE,QAAA,CAAShsF,MAAM;MAC7B,OAAO8qB,KAAA,IAAS0+B,MAAM,CAACwiC,QAAQ,CAAClhE,KAAQ,KAAE,CAAC9J,GAAG,CAAC;IACjD;EAAA;IAAAziB,GAAA;IAAAmoB,KAAA,EASA,SAAAqnB,YAAYvtC,KAAK,EAAEoa,QAAQ,EAAE;MAC3B,IAAMra,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMmmB,KAAA,GAAQlmB,KAAK,CAACoa,QAAS;MAC7B,IAAM4uC,MAAA,GAAS,IAAI,CAACA,MAAM;MAC1B,IAAMwiC,QAAA,GAAWc,8DAAe,KAAI,EAAE;QAAClyE,QAAA,EAAAA,QAAA;QAAU/H,KAAO,EAAA6T,KAAA;QAAO1F,GAAK,EAAA0F;MAAK;MAEzE,IAAI,CAACslE,QAAS,CAAAhsF,MAAM,EAAE;QACpB;;MAGF,IAAMo6B,MAAA,GAAS,EAAE;MACjB,IAAM2yD,YAAA,GAAexB,uBAAwB,CAAAhrF,OAAA;MAC7C,IAAIR,CAAG,EAAAi2C,IAAA;MACP,KAAKj2C,CAAA,GAAI,GAAGi2C,IAAO,GAAAg2C,QAAA,CAAShsF,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QACjD,IAAAitF,WAAA,GAAqBhB,QAAQ,CAACjsF,CAAE;UAAzB8S,KAAA,GAAAm6E,WAAA,CAAAn6E,KAAA;UAAOmO,GAAA,GAAAgsE,WAAA,CAAAhsE,GAAA;QACd,IAAM9X,EAAA,GAAKsgD,MAAM,CAAC32C,KAAM;QACxB,IAAM+N,EAAA,GAAK4oC,MAAM,CAACxoC,GAAI;QACtB,IAAI9X,EAAA,KAAO0X,EAAI;UACbwZ,MAAA,CAAOh5B,IAAI,CAAC8H,EAAA;UACZ;;QAEF,IAAMyc,CAAA,GAAIjjB,IAAA,CAAKgD,GAAG,CAAC,CAACghB,KAAA,GAAQxd,EAAE,CAAC0R,QAAA,CAAS,KAAKgG,EAAE,CAAChG,QAAA,CAAS,GAAG1R,EAAE,CAAC0R,QAAA,CAAS,CAAD;QACvE,IAAMqyE,YAAA,GAAeF,YAAa,CAAA7jF,EAAA,EAAI0X,EAAI,EAAA+E,CAAA,EAAGplB,OAAA,CAAQmpF,OAAO;QAC5DuD,YAAY,CAACryE,QAAA,CAAS,GAAGpa,KAAK,CAACoa,QAAS;QACxCwf,MAAA,CAAOh5B,IAAI,CAAC6rF,YAAA;MACd;MACA,OAAO7yD,MAAA,CAAOp6B,MAAM,KAAK,IAAIo6B,MAAM,CAAC,EAAE,GAAGA,MAAM;IACjD;EAAA;IAAA77B,GAAA;IAAAmoB,KAAA,EAgBA,SAAA6jE,YAAYx4E,GAAG,EAAE89C,OAAO,EAAEwI,MAAM,EAAE;MAChC,IAAM4zB,aAAA,GAAgBZ,iBAAA,CAAkB,IAAI;MAC5C,OAAOY,aAAc,CAAAl6E,GAAA,EAAK,IAAI,EAAE89C,OAAS,EAAAwI,MAAA;IAC3C;EAAA;IAAA95D,GAAA;IAAAmoB,KAAA,EASA,SAAAklE,KAAK75E,GAAG,EAAEc,KAAK,EAAEiY,KAAK,EAAE;MACtB,IAAMkhE,QAAA,GAAW,IAAI,CAACA,QAAQ;MAC9B,IAAMC,aAAA,GAAgBZ,iBAAA,CAAkB,IAAI;MAC5C,IAAIl4C,IAAA,GAAO,IAAI,CAACD,KAAK;MAErBrgC,KAAA,GAAQA,KAAS;MACjBiY,KAAA,GAAQA,KAAA,IAAU,IAAI,CAAC0+B,MAAM,CAACxpD,MAAM,GAAG6S,KAAA;MAAA,IAAAq6E,WAAA,GAAAn1C,0BAAA,CAEjBi0C,QAAU;QAAAmB,OAAA;MAAA;QAAhC,KAAAD,WAAA,CAAA7rD,CAAA,MAAA8rD,OAAA,GAAAD,WAAA,CAAA5rD,CAAA,IAAApG,IAAA,GAAgC;UAAA,IAArB20B,OAAA,GAAAs9B,OAAA,CAAAzmE,KAAA;UACTysB,IAAA,IAAQ84C,aAAc,CAAAl6E,GAAA,EAAK,IAAI,EAAE89C,OAAS;YAACh9C,KAAA,EAAAA,KAAA;YAAOmO,GAAA,EAAKnO,KAAA,GAAQiY,KAAQ;UAAC;QAC1E;MAAA,SAAA2N,GAAA;QAAAy0D,WAAA,CAAAp9E,CAAA,CAAA2oB,GAAA;MAAA;QAAAy0D,WAAA,CAAA7sD,CAAA;MAAA;MACA,OAAO,CAAC,CAAC8S,IAAA;IACX;EAAA;IAAA50C,GAAA;IAAAmoB,KAAA,EASA,SAAAhV,KAAKK,GAAG,EAAE5J,SAAS,EAAE0K,KAAK,EAAEiY,KAAK,EAAE;MACjC,IAAMvqB,OAAU,OAAI,CAACA,OAAO,IAAI,EAAC;MACjC,IAAMipD,MAAS,OAAI,CAACA,MAAM,IAAI,EAAE;MAEhC,IAAIA,MAAO,CAAAxpD,MAAM,IAAIO,OAAA,CAAQ8R,WAAW,EAAE;QACxCN,GAAA,CAAIC,IAAI;QAERN,KAAK,CAAAK,GAAA,EAAK,IAAI,EAAEc,KAAO,EAAAiY,KAAA;QAEvB/Y,GAAA,CAAIW,OAAO;;MAGb,IAAI,IAAI,CAACo9C,QAAQ,EAAE;QAEjB,IAAI,CAAC68B,cAAc,GAAG,KAAK;QAC3B,IAAI,CAACd,KAAK,GAAG/sF,SAAA;;IAEjB;EAAA;EAAA,OAAAutF,WAAA;AAAA,EAzMuCvrB,OAAA;AAAA3iB,eAAA,CAApBkuC,WAAoB,QAE3B,MAAO;AAAAluC,eAAA,CAFAkuC,WAAoB,cAOrB;EAChB7C,cAAgB;EAChBzb,UAAA,EAAY,EAAE;EACdE,gBAAkB;EAClB8Z,eAAiB;EACjB11E,WAAa;EACb+6E,eAAA,EAAiB,IAAI;EACrBvD,sBAAwB;EACxBxuC,IAAA,EAAM,KAAK;EACX6U,QAAA,EAAU,KAAK;EACfw5B,OAAA,EAAS,KAAK;EACdE,OAAS;CACT;AAAAzrC,eAAA,CAnBiBkuC,WAAoB,mBAwBhB;EACrBl6E,eAAiB;EACjBK,WAAa;CACb;AAAA2rC,eAAA,CA3BiBkuC,WAAoB,iBA8BlB;EACnBh+B,WAAA,EAAa,IAAI;EACjBC,UAAA,EAAY,SAAAA,WAAC5/C,IAAA;IAAA,OAASA,IAAS,qBAAgBA,IAAS;EAAA;CACxD;ACzQJ,SAAS2+E,UAAQ34B,EAAgB,EAAEwC,GAAW,EAAEj2D,IAAe,EAAEu0D,gBAA0B,EAAE;EAC3F,IAAMj1D,OAAA,GAAUm0D,EAAA,CAAGn0D,OAAO;EAC1B,IAAA+sF,YAAA,GAAwB54B,EAAG,CAAAsB,QAAQ,CAAC,CAAC/0D,IAAA,CAAK,EAAEu0D,gBAAA;IAA7B9uC,KAAA,GAAA4mE,YAAA,CAAPrsF,IAAK;EAEb,OAAQyB,IAAA,CAAKgD,GAAG,CAACwxD,GAAA,GAAMxwC,KAAA,IAASnmB,OAAQ,CAAAgpD,MAAM,GAAGhpD,OAAA,CAAQgtF,SAAS;AACpE;AAAA,IAIqBC,YAAqB,0BAAAC,SAAA;EAAAnnC,SAAA,CAAAknC,YAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAAnnC,YAAA,CAAAinC,YAAA;EA6BxC,SAAAA,aAAY96C,GAAG,EAAE;IAAA,IAAAi7C,OAAA;IAAAj/C,eAAA,OAAA8+C,YAAA;IACfG,OAAA,GAAAD,QAAA,CAAAz6E,IAAA;IAAKkrC,eAAA,CAAAmqC,sBAAA,CAAAqF,OAAA;IAAAxvC,eAAA,CAAAmqC,sBAAA,CAAAqF,OAAA;IAAAxvC,eAAA,CAAAmqC,sBAAA,CAAAqF,OAAA;IAELA,OAAA,CAAKptF,OAAO,GAAGzB,SAAA;IACf6uF,OAAA,CAAKv1C,MAAM,GAAGt5C,SAAA;IACd6uF,OAAA,CAAK9jC,IAAI,GAAG/qD,SAAA;IACZ6uF,OAAA,CAAKh6E,IAAI,GAAG7U,SAAA;IAEZ,IAAI4zC,GAAK;MACP7yC,MAAO,CAAA6X,MAAM,CAAA4wE,sBAAA,CAAAqF,OAAA,GAAOj7C,GAAA;;IACrB,OAAAi7C,OAAA;EACH;EAAA9+C,YAAA,CAAA2+C,YAAA;IAAAjvF,GAAA;IAAAmoB,KAAA,EAEA,SAAAmvC,QAAQ+3B,MAAc,EAAEC,MAAc,EAAEr4B,gBAA0B,EAAE;MAClE,IAAMj1D,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAAutF,eAAA,GAAe,IAAI,CAAC93B,QAAQ,CAAC,CAAC,KAAK,IAAI,EAAER,gBAAA;QAAlCv2D,CAAA,GAAA6uF,eAAA,CAAA7uF,CAAA;QAAGC,CAAA,GAAA4uF,eAAA,CAAA5uF,CAAA;MACV,OAASwD,IAAA,CAAKorC,GAAG,CAAC8/C,MAAA,GAAS3uF,CAAG,OAAKyD,IAAA,CAAKorC,GAAG,CAAC+/C,MAAA,GAAS3uF,CAAG,OAAMwD,IAAA,CAAKorC,GAAG,CAACvtC,OAAA,CAAQgtF,SAAS,GAAGhtF,OAAQ,CAAAgpD,MAAM,EAAE;IAC7G;EAAA;IAAAhrD,GAAA;IAAAmoB,KAAA,EAEA,SAAAqnE,SAASH,MAAc,EAAEp4B,gBAA0B,EAAE;MACnD,OAAO63B,SAAQ,KAAI,EAAEO,MAAA,EAAQ,GAAK,EAAAp4B,gBAAA;IACpC;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAAsnE,SAASH,MAAc,EAAEr4B,gBAA0B,EAAE;MACnD,OAAO63B,SAAQ,KAAI,EAAEQ,MAAA,EAAQ,GAAK,EAAAr4B,gBAAA;IACpC;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAA4vC,eAAed,gBAA0B,EAAE;MACzC,IAAAy4B,eAAA,GAAe,IAAI,CAACj4B,QAAQ,CAAC,CAAC,KAAK,IAAI,EAAER,gBAAA;QAAlCv2D,CAAA,GAAAgvF,eAAA,CAAAhvF,CAAA;QAAGC,CAAA,GAAA+uF,eAAA,CAAA/uF,CAAA;MACV,OAAO;QAACD,CAAA,EAAAA,CAAA;QAAGC,CAAA,EAAAA;MAAC;IACd;EAAA;IAAAX,GAAA;IAAAmoB,KAAA,EAEA,SAAAoI,KAAKvuB,OAAmD,EAAE;MACxDA,OAAA,GAAUA,OAAW,QAAI,CAACA,OAAO,IAAI,EAAC;MACtC,IAAIgpD,MAAA,GAAShpD,OAAQ,CAAAgpD,MAAM,IAAI;MAC/BA,MAAA,GAAS7mD,IAAA,CAAKN,GAAG,CAACmnD,MAAA,EAAQA,MAAU,IAAAhpD,OAAA,CAAQ2tF,WAAW,IAAI;MAC3D,IAAM77E,WAAc,GAAAk3C,MAAA,IAAUhpD,OAAQ,CAAA8R,WAAW,IAAI;MACrD,OAAO,CAACk3C,MAAS,GAAAl3C,WAAU,IAAK;IAClC;EAAA;IAAA9T,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAKK,GAA6B,EAAE6tC,IAAe,EAAE;MACnD,IAAMr/C,OAAA,GAAU,IAAI,CAACA,OAAO;MAE5B,IAAI,IAAI,CAACspD,IAAI,IAAItpD,OAAQ,CAAAgpD,MAAM,GAAG,GAAO,KAACqM,6DAAe,KAAI,EAAEhW,IAAM,MAAI,CAAC9wB,IAAI,CAACvuB,OAAA,IAAW,CAAI;QAC5F;;MAGFwR,GAAI,CAAAQ,WAAW,GAAGhS,OAAA,CAAQiS,WAAW;MACrCT,GAAI,CAAAO,SAAS,GAAG/R,OAAA,CAAQ8R,WAAW;MACnCN,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQ4R,eAAe;MACvCg8E,8DAAU,CAAAp8E,GAAA,EAAKxR,OAAA,EAAS,IAAI,CAACtB,CAAC,EAAE,IAAI,CAACC,CAAC;IACxC;EAAA;IAAAX,GAAA;IAAAmoB,KAAA,EAEA,SAAAtjB,SAAA,EAAW;MACT,IAAM7C,OAAU,OAAI,CAACA,OAAO,IAAI,EAAC;;MAEjC,OAAOA,OAAQ,CAAAgpD,MAAM,GAAGhpD,OAAA,CAAQgtF,SAAS;IAC3C;EAAA;EAAA,OAAAC,YAAA;AAAA,EAtFwC1sB,OAAA;AAAA3iB,eAAA,CAArBqvC,YAAqB,QAE5B,OAAQ;AAMpB;;AAEC;AAFDrvC,eAAA,CARmBqvC,YAAqB,cAWtB;EAChBn7E,WAAa;EACbk7E,SAAW;EACXr/B,gBAAkB;EAClBggC,WAAa;EACbv/B,UAAY;EACZpF,MAAQ;EACRvpC,QAAU;CACV;AAEF;;AAEC;AAFDm+B,eAAA,CArBmBqvC,YAAqB,mBAwBjB;EACrBr7E,eAAiB;EACjBK,WAAa;CACb;AChCJ,SAAS47E,aAAaC,GAAG,EAAE74B,gBAAgB,EAAE;EAC3C,IAAA84B,aAAA,GAA6DD,GAAA,CAAIr4B,QAAQ,CAAC,CAAC,KAAK,KAAK,QAAQ,SAAS,SAAS,EAAER,gBAAA;IAA1Gv2D,CAAC,GAAAqvF,aAAA,CAADrvF,CAAC;IAAEC,CAAC,GAAAovF,aAAA,CAADpvF,CAAC;IAAEoZ,IAAA,GAAAg2E,aAAA,CAAAh2E,IAAA;IAAMlT,KAAA,GAAAkpF,aAAA,CAAAlpF,KAAA;IAAOC,MAAA,GAAAipF,aAAA,CAAAjpF,MAAA;EAE1B,IAAIjF,IAAA,EAAMC,KAAO,EAAAH,GAAA,EAAKC,MAAQ,EAAAouF,IAAA;EAE9B,IAAIF,GAAA,CAAI9oC,UAAU,EAAE;IAClBgpC,IAAA,GAAOlpF,MAAS;IAChBjF,IAAO,GAAAsC,IAAA,CAAKL,GAAG,CAACpD,CAAG,EAAAqZ,IAAA;IACnBjY,KAAQ,GAAAqC,IAAA,CAAKN,GAAG,CAACnD,CAAG,EAAAqZ,IAAA;IACpBpY,GAAA,GAAMhB,CAAI,GAAAqvF,IAAA;IACVpuF,MAAA,GAASjB,CAAI,GAAAqvF,IAAA;GACR;IACLA,IAAA,GAAOnpF,KAAQ;IACfhF,IAAA,GAAOnB,CAAI,GAAAsvF,IAAA;IACXluF,KAAA,GAAQpB,CAAI,GAAAsvF,IAAA;IACZruF,GAAM,GAAAwC,IAAA,CAAKL,GAAG,CAACnD,CAAG,EAAAoZ,IAAA;IAClBnY,MAAS,GAAAuC,IAAA,CAAKN,GAAG,CAAClD,CAAG,EAAAoZ,IAAA;;EAGvB,OAAO;IAAClY,IAAA,EAAAA,IAAA;IAAMF,GAAA,EAAAA,GAAA;IAAKG,KAAA,EAAAA,KAAA;IAAOF,MAAA,EAAAA;EAAM;AAClC;AAEA,SAASquF,YAAY3kC,IAAI,EAAEnjC,KAAK,EAAErkB,GAAG,EAAED,GAAG,EAAE;EAC1C,OAAOynD,IAAO,OAAI+f,6DAAY,CAAAljD,KAAA,EAAOrkB,GAAA,EAAKD,GAAI;AAChD;AAEA,SAASqsF,iBAAiBJ,GAAG,EAAEK,IAAI,EAAEC,IAAI,EAAE;EACzC,IAAMjoE,KAAQ,GAAA2nE,GAAA,CAAI9tF,OAAO,CAAC8R,WAAW;EACrC,IAAMw3C,IAAA,GAAOwkC,GAAA,CAAI3oC,aAAa;EAC9B,IAAM6/B,CAAA,GAAIqJ,8DAAO,CAAAloE,KAAA;EAEjB,OAAO;IACLf,CAAA,EAAG6oE,WAAA,CAAY3kC,IAAK,CAAA3pD,GAAG,EAAEqlF,CAAE,CAAArlF,GAAG,EAAE,CAAG,EAAAyuF,IAAA;IACnC/tD,CAAA,EAAG4tD,WAAA,CAAY3kC,IAAK,CAAAxpD,KAAK,EAAEklF,CAAE,CAAAllF,KAAK,EAAE,CAAG,EAAAquF,IAAA;IACvCh0E,CAAA,EAAG8zE,WAAA,CAAY3kC,IAAK,CAAA1pD,MAAM,EAAEolF,CAAE,CAAAplF,MAAM,EAAE,CAAG,EAAAwuF,IAAA;IACzCtvD,CAAA,EAAGmvD,WAAA,CAAY3kC,IAAK,CAAAzpD,IAAI,EAAEmlF,CAAE,CAAAnlF,IAAI,EAAE,CAAG,EAAAsuF,IAAA;EACvC;AACF;AAEA,SAASG,kBAAkBR,GAAG,EAAEK,IAAI,EAAEC,IAAI,EAAE;EAC1C,IAAAG,cAAA,GAA6BT,GAAA,CAAIr4B,QAAQ,CAAC,CAAC,qBAAqB;IAAzDpQ,kBAAkB,GAAAkpC,cAAA,CAAlBlpC,kBAAkB;EACzB,IAAMl/B,KAAQ,GAAA2nE,GAAA,CAAI9tF,OAAO,CAACilF,YAAY;EACtC,IAAMD,CAAA,GAAIwJ,8DAAc,CAAAroE,KAAA;EACxB,IAAMsoE,IAAO,GAAAtsF,IAAA,CAAKL,GAAG,CAACqsF,IAAM,EAAAC,IAAA;EAC5B,IAAM9kC,IAAA,GAAOwkC,GAAA,CAAI3oC,aAAa;EAI9B,IAAMupC,YAAA,GAAerpC,kBAAA,IAAsBvR,6DAAS,CAAA3tB,KAAA;EAEpD,OAAO;IACLwoE,OAAA,EAASV,WAAY,EAACS,YAAgB,IAAAplC,IAAA,CAAK3pD,GAAG,IAAI2pD,IAAK,CAAAzpD,IAAI,EAAEmlF,CAAA,CAAE2J,OAAO,EAAE,CAAG,EAAAF,IAAA;IAC3EG,QAAA,EAAUX,WAAY,EAACS,YAAgB,IAAAplC,IAAA,CAAK3pD,GAAG,IAAI2pD,IAAK,CAAAxpD,KAAK,EAAEklF,CAAA,CAAE4J,QAAQ,EAAE,CAAG,EAAAH,IAAA;IAC9EI,UAAA,EAAYZ,WAAY,EAACS,YAAgB,IAAAplC,IAAA,CAAK1pD,MAAM,IAAI0pD,IAAK,CAAAzpD,IAAI,EAAEmlF,CAAA,CAAE6J,UAAU,EAAE,CAAG,EAAAJ,IAAA;IACpFK,WAAA,EAAab,WAAY,EAACS,YAAgB,IAAAplC,IAAA,CAAK1pD,MAAM,IAAI0pD,IAAK,CAAAxpD,KAAK,EAAEklF,CAAA,CAAE8J,WAAW,EAAE,CAAG,EAAAL,IAAA;EACzF;AACF;AAEA,SAASM,cAAcjB,GAAG,EAAE;EAC1B,IAAMkB,MAAA,GAASnB,YAAa,CAAAC,GAAA;EAC5B,IAAMjpF,KAAQ,GAAAmqF,MAAA,CAAOlvF,KAAK,GAAGkvF,MAAA,CAAOnvF,IAAI;EACxC,IAAMiF,MAAS,GAAAkqF,MAAA,CAAOpvF,MAAM,GAAGovF,MAAA,CAAOrvF,GAAG;EACzC,IAAMuwD,MAAS,GAAAg+B,gBAAA,CAAiBJ,GAAK,EAAAjpF,KAAA,GAAQ,GAAGC,MAAS;EACzD,IAAMkkD,MAAS,GAAAslC,iBAAA,CAAkBR,GAAK,EAAAjpF,KAAA,GAAQ,GAAGC,MAAS;EAE1D,OAAO;IACLmqF,KAAO;MACLvwF,CAAA,EAAGswF,MAAA,CAAOnvF,IAAI;MACdlB,CAAA,EAAGqwF,MAAA,CAAOrvF,GAAG;MACbuhC,CAAG,EAAAr8B,KAAA;MACHk6B,CAAG,EAAAj6B,MAAA;MACHkkD,MAAA,EAAAA;IACF;IACAy+B,KAAO;MACL/oF,CAAA,EAAGswF,MAAO,CAAAnvF,IAAI,GAAGqwD,MAAA,CAAOpxB,CAAC;MACzBngC,CAAA,EAAGqwF,MAAO,CAAArvF,GAAG,GAAGuwD,MAAA,CAAO9qC,CAAC;MACxB8b,CAAA,EAAGr8B,KAAQ,GAAAqrD,MAAA,CAAOpxB,CAAC,GAAGoxB,MAAA,CAAO7vB,CAAC;MAC9BtB,CAAA,EAAGj6B,MAAS,GAAAorD,MAAA,CAAO9qC,CAAC,GAAG8qC,MAAA,CAAO/1C,CAAC;MAC/B6uC,MAAQ;QACN2lC,OAAA,EAASxsF,IAAK,CAAAN,GAAG,CAAC,GAAGmnD,MAAA,CAAO2lC,OAAO,GAAGxsF,IAAK,CAAAN,GAAG,CAACquD,MAAA,CAAO9qC,CAAC,EAAE8qC,MAAA,CAAOpxB,CAAC;QACjE8vD,QAAA,EAAUzsF,IAAK,CAAAN,GAAG,CAAC,GAAGmnD,MAAA,CAAO4lC,QAAQ,GAAGzsF,IAAK,CAAAN,GAAG,CAACquD,MAAA,CAAO9qC,CAAC,EAAE8qC,MAAA,CAAO7vB,CAAC;QACnEwuD,UAAA,EAAY1sF,IAAK,CAAAN,GAAG,CAAC,GAAGmnD,MAAA,CAAO6lC,UAAU,GAAG1sF,IAAK,CAAAN,GAAG,CAACquD,MAAA,CAAO/1C,CAAC,EAAE+1C,MAAA,CAAOpxB,CAAC;QACvEgwD,WAAA,EAAa3sF,IAAK,CAAAN,GAAG,CAAC,GAAGmnD,MAAA,CAAO8lC,WAAW,GAAG3sF,IAAK,CAAAN,GAAG,CAACquD,MAAA,CAAO/1C,CAAC,EAAE+1C,MAAA,CAAO7vB,CAAC;MAC3E;IACF;EACF;AACF;AAEA,SAASi1B,SAAQw4B,GAAG,EAAEpvF,CAAC,EAAEC,CAAC,EAAEs2D,gBAAgB,EAAE;EAC5C,IAAMi6B,KAAA,GAAQxwF,CAAA,KAAM,IAAI;EACxB,IAAMywF,KAAA,GAAQxwF,CAAA,KAAM,IAAI;EACxB,IAAMywF,QAAA,GAAWF,KAAS,IAAAC,KAAA;EAC1B,IAAMH,MAAS,GAAAlB,GAAA,IAAO,CAACsB,QAAA,IAAYvB,YAAA,CAAaC,GAAK,EAAA74B,gBAAA;EAErD,OAAO+5B,MAAA,KACHE,KAAS,IAAA3G,8DAAA,CAAW7pF,CAAA,EAAGswF,MAAO,CAAAnvF,IAAI,EAAEmvF,MAAO,CAAAlvF,KAAK,EAChD,KAAAqvF,KAAA,IAAS5G,8DAAW,CAAA5pF,CAAA,EAAGqwF,MAAA,CAAOrvF,GAAG,EAAEqvF,MAAO,CAAApvF,MAAM;AACtD;AAEA,SAASyvF,UAAUrmC,MAAM,EAAE;EACzB,OAAOA,MAAA,CAAO2lC,OAAO,IAAI3lC,MAAO,CAAA4lC,QAAQ,IAAI5lC,MAAO,CAAA6lC,UAAU,IAAI7lC,MAAA,CAAO8lC,WAAW;AACrF;AAOA,SAASQ,kBAAkB99E,GAAG,EAAErE,IAAI,EAAE;EACpCqE,GAAA,CAAIrE,IAAI,CAACA,IAAK,CAAAzO,CAAC,EAAEyO,IAAA,CAAKxO,CAAC,EAAEwO,IAAK,CAAA+zB,CAAC,EAAE/zB,IAAA,CAAK4xB,CAAC;AACzC;AAEA,SAASwwD,YAAYpiF,IAAI,EAAE5F,MAAM,EAAgB;EAAA,IAAdioF,OAAU,GAAAnsF,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,QAAE;EAC7C,IAAM3E,CAAA,GAAIyO,IAAA,CAAKzO,CAAC,KAAK8wF,OAAA,CAAQ9wF,CAAC,GAAG,CAAC6I,MAAA,GAAS,CAAC;EAC5C,IAAM5I,CAAA,GAAIwO,IAAA,CAAKxO,CAAC,KAAK6wF,OAAA,CAAQ7wF,CAAC,GAAG,CAAC4I,MAAA,GAAS,CAAC;EAC5C,IAAM25B,CAAA,GAAI,CAAC/zB,IAAA,CAAKzO,CAAC,GAAGyO,IAAA,CAAK+zB,CAAC,KAAKsuD,OAAQ,CAAA9wF,CAAC,GAAG8wF,OAAQ,CAAAtuD,CAAC,GAAG35B,MAAS,IAAC,IAAI7I,CAAA;EACrE,IAAMqgC,CAAA,GAAI,CAAC5xB,IAAA,CAAKxO,CAAC,GAAGwO,IAAA,CAAK4xB,CAAC,KAAKywD,OAAQ,CAAA7wF,CAAC,GAAG6wF,OAAQ,CAAAzwD,CAAC,GAAGx3B,MAAS,IAAC,IAAI5I,CAAA;EACrE,OAAO;IACLD,CAAG,EAAAyO,IAAA,CAAKzO,CAAC,GAAGA,CAAA;IACZC,CAAG,EAAAwO,IAAA,CAAKxO,CAAC,GAAGA,CAAA;IACZuiC,CAAG,EAAA/zB,IAAA,CAAK+zB,CAAC,GAAGA,CAAA;IACZnC,CAAG,EAAA5xB,IAAA,CAAK4xB,CAAC,GAAGA,CAAA;IACZiqB,MAAA,EAAQ77C,IAAA,CAAK67C;EACf;AACF;AAAA,IAEqBymC,UAAmB,0BAAAC,SAAA;EAAA3pC,SAAA,CAAA0pC,UAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAA3pC,YAAA,CAAAypC,UAAA;EAuBtC,SAAAA,WAAYt9C,GAAG,EAAE;IAAA,IAAAy9C,OAAA;IAAAzhD,eAAA,OAAAshD,UAAA;IACfG,OAAA,GAAAD,QAAA,CAAAj9E,IAAA;IAEAk9E,OAAA,CAAK5vF,OAAO,GAAGzB,SAAA;IACfqxF,OAAA,CAAK5qC,UAAU,GAAGzmD,SAAA;IAClBqxF,OAAA,CAAK73E,IAAI,GAAGxZ,SAAA;IACZqxF,OAAA,CAAK/qF,KAAK,GAAGtG,SAAA;IACbqxF,OAAA,CAAK9qF,MAAM,GAAGvG,SAAA;IACdqxF,OAAA,CAAKhqC,aAAa,GAAGrnD,SAAA;IAErB,IAAI4zC,GAAK;MACP7yC,MAAO,CAAA6X,MAAM,CAAA4wE,sBAAA,CAAA6H,OAAA,GAAOz9C,GAAA;;IACrB,OAAAy9C,OAAA;EACH;EAAAthD,YAAA,CAAAmhD,UAAA;IAAAzxF,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAKK,GAAG,EAAE;MACR,IAAOo0C,aAAA,GAA0D,IAAI,CAA9DA,aAAA;QAAAiqC,eAAA,GAA0D,IAAI,CAA/C7vF,OAAA;QAAUiS,WAAA,GAAA49E,eAAA,CAAA59E,WAAA;QAAaL,eAAA,GAAAi+E,eAAA,CAAAj+E,eAAA;MAC7C,IAAAk+E,cAAA,GAAuBf,aAAA,CAAc,IAAI;QAAlCtH,KAAK,GAAAqI,cAAA,CAALrI,KAAK;QAAEwH,KAAA,GAAAa,cAAA,CAAAb,KAAA;MACd,IAAMc,WAAA,GAAcV,SAAU,CAAAJ,KAAA,CAAMjmC,MAAM,IAAIgnC,0DAAA,GAAqBV,iBAAiB;MAEpF99E,GAAA,CAAIC,IAAI;MAER,IAAIw9E,KAAA,CAAM/tD,CAAC,KAAKumD,KAAM,CAAAvmD,CAAC,IAAI+tD,KAAA,CAAMlwD,CAAC,KAAK0oD,KAAM,CAAA1oD,CAAC,EAAE;QAC9CvtB,GAAA,CAAIE,SAAS;QACbq+E,WAAY,CAAAv+E,GAAA,EAAK+9E,WAAY,CAAAN,KAAA,EAAOrpC,aAAe,EAAA6hC,KAAA;QACnDj2E,GAAA,CAAI2tC,IAAI;QACR4wC,WAAA,CAAYv+E,GAAK,EAAA+9E,WAAA,CAAY9H,KAAO,GAAC7hC,aAAe,EAAAqpC,KAAA;QACpDz9E,GAAA,CAAIG,SAAS,GAAGM,WAAA;QAChBT,GAAA,CAAIspC,IAAI,CAAC;;MAGXtpC,GAAA,CAAIE,SAAS;MACbq+E,WAAY,CAAAv+E,GAAA,EAAK+9E,WAAA,CAAY9H,KAAO,EAAA7hC,aAAA;MACpCp0C,GAAA,CAAIG,SAAS,GAAGC,eAAA;MAChBJ,GAAA,CAAIspC,IAAI;MAERtpC,GAAA,CAAIW,OAAO;IACb;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAEA,SAAAmvC,QAAQ+3B,MAAM,EAAEC,MAAM,EAAEr4B,gBAAgB,EAAE;MACxC,OAAOK,QAAQ,KAAI,EAAE+3B,MAAA,EAAQC,MAAQ,EAAAr4B,gBAAA;IACvC;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAAqnE,SAASH,MAAM,EAAEp4B,gBAAgB,EAAE;MACjC,OAAOK,QAAQ,KAAI,EAAE+3B,MAAA,EAAQ,IAAI,EAAEp4B,gBAAA;IACrC;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAAsnE,SAASH,MAAM,EAAEr4B,gBAAgB,EAAE;MACjC,OAAOK,QAAQ,KAAI,EAAE,IAAI,EAAEg4B,MAAQ,EAAAr4B,gBAAA;IACrC;EAAA;IAAAj3D,GAAA;IAAAmoB,KAAA,EAEA,SAAA4vC,eAAed,gBAAgB,EAAE;MAC/B,IAAAg7B,eAAA,GAA0D,IAAI,CAACx6B,QAAQ,CAAC,CAAC,KAAK,KAAK,QAAQ,aAAa,EAAER,gBAAA;QAAnGv2D,CAAA,GAAAuxF,eAAA,CAAAvxF,CAAA;QAAGC,CAAA,GAAAsxF,eAAA,CAAAtxF,CAAA;QAAGoZ,IAAI,GAAAk4E,eAAA,CAAJl4E,IAAI;QAAEitC,UAAU,GAAAirC,eAAA,CAAVjrC,UAAU;MAC7B,OAAO;QACLtmD,CAAA,EAAGsmD,UAAA,GAAa,CAACtmD,CAAA,GAAIqZ,IAAG,IAAK,IAAIrZ,CAAC;QAClCC,CAAA,EAAGqmD,UAAA,GAAarmD,CAAI,GAAC,CAAAA,CAAI,GAAAoZ,IAAG,IAAK;MACnC;IACF;EAAA;IAAA/Z,GAAA;IAAAmoB,KAAA,EAEA,SAAAtjB,SAASnC,IAAI,EAAE;MACb,OAAOA,IAAA,KAAS,GAAM,OAAI,CAACmE,KAAK,GAAG,IAAI,IAAI,CAACC,MAAM,GAAG,CAAC;IACxD;EAAA;EAAA,OAAA2qF,UAAA;AAAA,EApFsClvB,OAAA;AAAA3iB,eAAA,CAAnB6xC,UAAmB,QAE1B,KAAM;AAAA7xC,eAAA,CAFC6xC,UAAmB,cAOpB;EAChBtqC,aAAe;EACfrzC,WAAa;EACbmzE,YAAc;EACdr/B,aAAe;EACfwI,UAAY,EAAA7vD;CACZ;AAAAq/C,eAAA,CAbiB6xC,UAAmB,mBAkBf;EACrB79E,eAAiB;EACjBK,WAAa;CACb;;;;;;;;ACpJJ,IAAMi+E,aAAgB,IACpB,qBACA,qBACA,qBACA,qBACA,qBACA,sBACA;AAAA,CACD;AAED;AACA,IAAMC,iBAAoB,kBAAgBD,aAAA,CAAcv8E,GAAG,CAAC,UAAA66B,KAAS;EAAA,OAAAA,KAAA,CAAMx5B,OAAO,CAAC,QAAQ,OAAS,EAAAA,OAAO,CAAC,GAAK;AAAA;AAEjH,SAASo7E,eAAe5wF,CAAS,EAAE;EACjC,OAAO0wF,aAAa,CAAC1wF,CAAI,GAAA0wF,aAAA,CAAczwF,MAAM,CAAC;AAChD;AAEA,SAAS4wF,mBAAmB7wF,CAAS,EAAE;EACrC,OAAO2wF,iBAAiB,CAAC3wF,CAAI,GAAA2wF,iBAAA,CAAkB1wF,MAAM,CAAC;AACxD;AAEA,SAAS6wF,sBAAuBA,CAAA1hE,OAAqB,EAAEpvB,CAAS,EAAE;EAChEovB,OAAQ,CAAA3c,WAAW,GAAGm+E,cAAe,CAAA5wF,CAAA;EACrCovB,OAAQ,CAAAhd,eAAe,GAAGy+E,kBAAmB,CAAA7wF,CAAA;EAE7C,OAAO,EAAEA,CAAA;AACX;AAEA,SAAS+wF,uBAAwBA,CAAA3hE,OAAqB,EAAEpvB,CAAS,EAAE;EACjEovB,OAAQ,CAAAhd,eAAe,GAAGgd,OAAQ,CAAApZ,IAAI,CAAC7B,GAAG,CAAC;IAAA,OAAMy8E,cAAe,CAAA5wF,CAAA;EAAA;EAEhE,OAAOA,CAAA;AACT;AAEA,SAASgxF,wBAAyBA,CAAA5hE,OAAqB,EAAEpvB,CAAS,EAAE;EAClEovB,OAAQ,CAAAhd,eAAe,GAAGgd,OAAQ,CAAApZ,IAAI,CAAC7B,GAAG,CAAC;IAAA,OAAM08E,kBAAmB,CAAA7wF,CAAA;EAAA;EAEpE,OAAOA,CAAA;AACT;AAEA,SAASixF,aAAanyF,KAAY,EAAE;EAClC,IAAIkB,CAAI;EAER,OAAO,UAACovB,OAAA,EAAuBinB,YAAyB;IACtD,IAAM+B,UAAa,GAAAt5C,KAAA,CAAM09C,cAAc,CAACnG,YAAA,EAAc+B,UAAU;IAEhE,IAAIA,UAAA,YAAsBkT,kBAAoB;MAC5CtrD,CAAA,GAAI+wF,uBAAA,CAAwB3hE,OAAS,EAAApvB,CAAA;KAChC,UAAIo4C,UAAA,YAAsB0Y,mBAAqB;MACpD9wD,CAAA,GAAIgxF,wBAAA,CAAyB5hE,OAAS,EAAApvB,CAAA;IACxC,OAAO,IAAIo4C,UAAY;MACrBp4C,CAAA,GAAI8wF,sBAAA,CAAuB1hE,OAAS,EAAApvB,CAAA;;EAExC;AACF;AAEA,SAASkxF,0BACPve,WAAkE,EAClE;EACA,IAAI59D,CAAA;EAEJ,KAAKA,CAAA,IAAK49D,WAAa;IACrB,IAAIA,WAAW,CAAC59D,CAAA,CAAE,CAACtC,WAAW,IAAIkgE,WAAW,CAAC59D,CAAA,CAAE,CAAC3C,eAAe,EAAE;MAChE,OAAO,IAAI;;EAEf;EAEA,OAAO,KAAK;AACd;AAEA,SAAS++E,yBACP5a,UAA4B,EAC5B;EACA,OAAOA,UAAA,KAAeA,UAAA,CAAW9jE,WAAW,IAAI8jE,UAAA,CAAWnkE,eAAe,CAAD;AAC3E;AAEA,IAAAg/E,aAAA,GAAe;EACbhuF,EAAI;EAEJyP,QAAU;IACRxU,OAAA,EAAS,IAAI;IACbgzF,aAAA,EAAe;EACjB;EAEA51B,YAAA,WAAAA,aAAa38D,KAAY,EAAEiU,KAAK,EAAEvS,OAA4B,EAAE;IAC9D,IAAI,CAACA,OAAQ,CAAAnC,OAAO,EAAE;MACpB;;IAGF,IAAAizF,aAAA,GAGIxyF,KAAA,CAAMuxB,MAAM;MAFPrC,QAAA,GAAAsjE,aAAA,CAAPt7E,IAAA,CAAOgY,QAAA;MACEM,YAAY,GAAAgjE,aAAA,CAArB9wF,OAAA;IAEF,IAAOo/C,QAAQ,GAAItxB,YAAA,CAAZsxB,QAAQ;IAEf,IAAI,CAACp/C,OAAA,CAAQ6wF,aAAa,KAAKH,yBAAA,CAA0BljE,QAAa,KAAAmjE,wBAAA,CAAyB7iE,YAAkB,KAAAsxB,QAAA,IAAYsxC,yBAA0B,CAAAtxC,QAAA,CAAS,CAAI;MAClK;;IAGF,IAAM2xC,SAAA,GAAYN,YAAa,CAAAnyF,KAAA;IAE/BkvB,QAAA,CAAS9W,OAAO,CAACq6E,SAAA;EACnB;AACF,CAAE;AClHF,SAASC,eAAex7E,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE2tC,cAAc,EAAEl4D,OAAO,EAAE;EASnE,IAAMixF,OAAA,GAAUjxF,OAAQ,CAAAixF,OAAO,IAAI/4B,cAAA;EAEnC,IAAI+4B,OAAA,IAAW1mE,KAAO;IACpB,OAAO/U,IAAK,CAAAX,KAAK,CAACvC,KAAA,EAAOA,KAAQ,GAAAiY,KAAA;;EAGnC,IAAM2mE,SAAA,GAAY,EAAE;EAEpB,IAAMC,WAAA,GAAc,CAAC5mE,KAAA,GAAQ,MAAM0mE,OAAA,GAAU;EAC7C,IAAIG,YAAe;EACnB,IAAMC,QAAA,GAAW/+E,KAAA,GAAQiY,KAAQ;EAEjC,IAAIrQ,CAAI,GAAA5H,KAAA;EACR,IAAI9S,CAAA,EAAG8xF,YAAc,EAAAC,OAAA,EAASlyC,IAAM,EAAAmyC,KAAA;EAEpCN,SAAS,CAACE,YAAA,GAAe,GAAG57E,IAAI,CAAC0E,CAAE;EAEnC,KAAK1a,CAAI,MAAGA,CAAI,GAAAyxF,OAAA,GAAU,GAAGzxF,CAAK;IAChC,IAAI+qF,IAAO;IACX,IAAIkH,IAAO;IACX,IAAI5kD,CAAA;IAGJ,IAAM6kD,aAAA,GAAgBvvF,IAAK,CAAAotB,KAAK,CAAE,CAAA/vB,CAAI,QAAK2xF,WAAA,IAAe,CAAI,GAAA7+E,KAAA;IAC9D,IAAMq/E,WAAc,GAAAxvF,IAAA,CAAKL,GAAG,CAACK,IAAA,CAAKotB,KAAK,CAAC,CAAC/vB,CAAI,QAAK2xF,WAAA,IAAe,GAAG5mE,KAAS,IAAAjY,KAAA;IAC7E,IAAMs/E,cAAA,GAAiBD,WAAc,GAAAD,aAAA;IAErC,KAAK7kD,CAAI,GAAA6kD,aAAA,EAAe7kD,CAAI,GAAA8kD,WAAA,EAAa9kD,CAAK;MAC5C09C,IAAA,IAAQ/0E,IAAI,CAACq3B,CAAE,EAACnuC,CAAC;MACjB+yF,IAAA,IAAQj8E,IAAI,CAACq3B,CAAE,EAACluC,CAAC;IACnB;IAEA4rF,IAAQ,IAAAqH,cAAA;IACRH,IAAQ,IAAAG,cAAA;IAGR,IAAMC,SAAA,GAAY1vF,IAAK,CAAAotB,KAAK,CAAC/vB,CAAA,GAAI2xF,WAAA,IAAe,CAAI,GAAA7+E,KAAA;IACpD,IAAMw/E,OAAU,GAAA3vF,IAAA,CAAKL,GAAG,CAACK,IAAA,CAAKotB,KAAK,CAAC,CAAC/vB,CAAI,QAAK2xF,WAAA,IAAe,GAAG5mE,KAAS,IAAAjY,KAAA;IACzE,IAAAy/E,OAAA,GAAiCv8E,IAAI,CAAC0E,CAAE;MAA9B83E,OAAA,GAAAD,OAAA,CAAHrzF,CAAG;MAAYuzF,OAAA,GAAAF,OAAA,CAAHpzF,CAAA;IAOnB4yF,OAAA,GAAUlyC,IAAA,GAAO,CAAC;IAElB,KAAKxS,CAAI,GAAAglD,SAAA,EAAWhlD,CAAI,GAAAilD,OAAA,EAASjlD,CAAK;MACpCwS,IAAA,GAAO,GAAM,GAAAl9C,IAAA,CAAKgD,GAAG,CACnB,CAAC6sF,OAAU,GAAAzH,IAAG,KAAM/0E,IAAI,CAACq3B,CAAA,CAAE,CAACluC,CAAC,GAAGszF,OAAM,CACtC,GAAC,CAAAD,OAAA,GAAUx8E,IAAI,CAACq3B,CAAE,EAACnuC,CAAA,KAAM+yF,IAAA,GAAOQ,OAAM;MAGxC,IAAI5yC,IAAA,GAAOkyC,OAAS;QAClBA,OAAU,GAAAlyC,IAAA;QACViyC,YAAe,GAAA97E,IAAI,CAACq3B,CAAE;QACtB2kD,KAAQ,GAAA3kD,CAAA;;IAEZ;IAEAqkD,SAAS,CAACE,YAAA,GAAe,GAAGE,YAAA;IAC5Bp3E,CAAI,GAAAs3E,KAAA;EACN;EAGAN,SAAS,CAACE,YAAA,GAAe,GAAG57E,IAAI,CAAC67E,QAAS;EAE1C,OAAOH,SAAA;AACT;AAEA,SAASgB,iBAAiB18E,IAAI,EAAElD,KAAK,EAAEiY,KAAK,EAAE2tC,cAAc,EAAE;EAC5D,IAAIqyB,IAAO;EACX,IAAIC,MAAS;EACb,IAAIhrF,CAAA,EAAGS,KAAA,EAAOvB,CAAG,EAAAC,CAAA,EAAG8rF,KAAA,EAAO0H,QAAU,EAAAztF,QAAA,EAAU0tF,UAAA,EAAYvnC,IAAM,EAAAH,IAAA;EACjE,IAAMwmC,SAAA,GAAY,EAAE;EACpB,IAAMG,QAAA,GAAW/+E,KAAA,GAAQiY,KAAQ;EAEjC,IAAM8nE,IAAO,GAAA78E,IAAI,CAAClD,KAAA,CAAM,CAAC5T,CAAC;EAC1B,IAAM4zF,IAAO,GAAA98E,IAAI,CAAC67E,QAAA,CAAS,CAAC3yF,CAAC;EAC7B,IAAM2mB,EAAA,GAAKitE,IAAO,GAAAD,IAAA;EAElB,KAAK7yF,CAAA,GAAI8S,KAAO,EAAA9S,CAAA,GAAI8S,KAAQ,GAAAiY,KAAA,EAAO,EAAE/qB,CAAG;IACtCS,KAAQ,GAAAuV,IAAI,CAAChW,CAAE;IACfd,CAAA,GAAI,CAACuB,KAAA,CAAMvB,CAAC,GAAG2zF,IAAG,IAAKhtE,EAAK,GAAA6yC,cAAA;IAC5Bv5D,CAAA,GAAIsB,KAAA,CAAMtB,CAAC;IACX,IAAMksF,MAAA,GAASnsF,CAAI;IAEnB,IAAImsF,MAAA,KAAWJ,KAAO;MAEpB,IAAI9rF,CAAA,GAAIksD,IAAM;QACZA,IAAO,GAAAlsD,CAAA;QACPwzF,QAAW,GAAA3yF,CAAA;OACN,UAAIb,CAAA,GAAI+rD,IAAM;QACnBA,IAAO,GAAA/rD,CAAA;QACP+F,QAAW,GAAAlF,CAAA;;MAIb+qF,IAAO,GAAC,CAAAC,MAAS,GAAAD,IAAA,GAAOtqF,KAAA,CAAMvB,CAAA,IAAK,EAAE8rF,MAAA;KAChC;MAEL,IAAM+H,SAAA,GAAY/yF,CAAI;MAEtB,IAAI,CAACokD,6DAAA,CAAcuuC,QAAa,MAACvuC,6DAAA,CAAcl/C,QAAW;QAKxD,IAAM8tF,kBAAqB,GAAArwF,IAAA,CAAKL,GAAG,CAACqwF,QAAU,EAAAztF,QAAA;QAC9C,IAAM+tF,kBAAqB,GAAAtwF,IAAA,CAAKN,GAAG,CAACswF,QAAU,EAAAztF,QAAA;QAE9C,IAAI8tF,kBAAA,KAAuBJ,UAAc,IAAAI,kBAAA,KAAuBD,SAAW;UACzErB,SAAA,CAAUrwF,IAAI,CAAA6xF,aAAA,CAAAA,aAAA,KACTl9E,IAAI,CAACg9E,kBAAmB;YAC3B9zF,CAAG,EAAA6rF;UAAA,EACL;;QAEF,IAAIkI,kBAAA,KAAuBL,UAAc,IAAAK,kBAAA,KAAuBF,SAAW;UACzErB,SAAA,CAAUrwF,IAAI,CAAA6xF,aAAA,CAAAA,aAAA,KACTl9E,IAAI,CAACi9E,kBAAmB;YAC3B/zF,CAAG,EAAA6rF;UAAA,EACL;;;MAMJ,IAAI/qF,CAAA,GAAI,CAAK,IAAA+yF,SAAA,KAAcH,UAAY;QAErClB,SAAA,CAAUrwF,IAAI,CAAC2U,IAAI,CAAC+8E,SAAU;;MAIhCrB,SAAA,CAAUrwF,IAAI,CAACZ,KAAA;MACfwqF,KAAQ,GAAAI,MAAA;MACRL,MAAS;MACT3/B,IAAA,GAAOH,IAAO,GAAA/rD,CAAA;MACdwzF,QAAA,GAAWztF,QAAA,GAAW0tF,UAAa,GAAA5yF,CAAA;;EAEvC;EAEA,OAAO0xF,SAAA;AACT;AAEA,SAASyB,sBAAsB/jE,OAAO,EAAE;EACtC,IAAIA,OAAA,CAAQwgC,UAAU,EAAE;IACtB,IAAM55C,IAAA,GAAOoZ,OAAA,CAAQorB,KAAK;IAC1B,OAAOprB,OAAA,CAAQwgC,UAAU;IACzB,OAAOxgC,OAAA,CAAQorB,KAAK;IACpB16C,MAAO,CAAAg4B,cAAc,CAAC1I,OAAA,EAAS,MAAQ;MACrCoJ,YAAA,EAAc,IAAI;MAClBD,UAAA,EAAY,IAAI;MAChBE,QAAA,EAAU,IAAI;MACd9R,KAAO,EAAA3Q;IACT;;AAEJ;AAEA,SAASo9E,mBAAmBt0F,KAAK,EAAE;EACjCA,KAAA,CAAMkX,IAAI,CAACgY,QAAQ,CAAC9W,OAAO,CAAC,UAACkY,OAAY;IACvC+jE,qBAAsB,CAAA/jE,OAAA;EACxB;AACF;AAEA,SAASikE,yCAA0CA,CAAA18C,IAAI,EAAE8S,MAAM,EAAE;EAC/D,IAAM6pC,UAAA,GAAa7pC,MAAA,CAAOxpD,MAAM;EAEhC,IAAI6S,KAAQ;EACZ,IAAIiY,KAAA;EAEJ,IAAOytB,MAAM,GAAI7B,IAAA,CAAV6B,MAAM;EACb,IAAA+6C,qBAAA,GAA2C/6C,MAAA,CAAOxB,aAAa;IAAxD10C,GAAG,GAAAixF,qBAAA,CAAHjxF,GAAG;IAAED,GAAG,GAAAkxF,qBAAA,CAAHlxF,GAAG;IAAE60C,UAAU,GAAAq8C,qBAAA,CAAVr8C,UAAU;IAAEC,UAAU,GAAAo8C,qBAAA,CAAVp8C,UAAU;EAEvC,IAAID,UAAY;IACdpkC,KAAQ,GAAA+2D,6DAAA,CAAYnV,6DAAa,CAAAjL,MAAA,EAAQjR,MAAO,CAAAt3C,IAAI,EAAEoB,GAAK,EAAAsyD,EAAE,EAAE,GAAG0+B,UAAa;;EAEjF,IAAIn8C,UAAY;IACdpsB,KAAQ,GAAA8+C,6DAAA,CAAYnV,6DAAa,CAAAjL,MAAA,EAAQjR,MAAO,CAAAt3C,IAAI,EAAEmB,GAAA,EAAKwyD,EAAE,GAAG,CAAG,EAAA/hD,KAAA,EAAOwgF,UAAc,IAAAxgF,KAAA;GACnF;IACLiY,KAAA,GAAQuoE,UAAa,GAAAxgF,KAAA;;EAGvB,OAAO;IAACA,KAAA,EAAAA,KAAA;IAAOiY,KAAA,EAAAA;EAAK;AACtB;AAEA,IAAAyoE,iBAAA,GAAe;EACbpwF,EAAI;EAEJyP,QAAU;IACR4gF,SAAW;IACXp1F,OAAA,EAAS;EACX;EAEAq1F,oBAAsB,WAAAA,qBAAC50F,KAAO,EAAAuU,IAAA,EAAM7S,OAAY;IAC9C,IAAI,CAACA,OAAQ,CAAAnC,OAAO,EAAE;MAEpB+0F,kBAAmB,CAAAt0F,KAAA;MACnB;;IAIF,IAAM45D,cAAA,GAAiB55D,KAAA,CAAMuG,KAAK;IAElCvG,KAAM,CAAAkX,IAAI,CAACgY,QAAQ,CAAC9W,OAAO,CAAC,UAACkY,OAAA,EAASinB,YAAiB;MACrD,IAAOmE,KAAA,GAAoBprB,OAAA,CAApBorB,KAAA;QAAOyB,SAAA,GAAa7sB,OAAA,CAAb6sB,SAAA;MACd,IAAMtF,IAAA,GAAO73C,KAAM,CAAA09C,cAAc,CAACnG,YAAA;MAClC,IAAMrgC,IAAA,GAAOwkC,KAAS,IAAAprB,OAAA,CAAQpZ,IAAI;MAElC,IAAIkkB,6DAAQ,EAAC+hB,SAAA,EAAWn9C,KAAM,CAAA0B,OAAO,CAACy7C,SAAS,CAAC,MAAM,GAAK;QAEzD;;MAGF,IAAI,CAACtF,IAAA,CAAKyB,UAAU,CAAC0C,kBAAkB,EAAE;QAEvC;;MAGF,IAAM64C,KAAA,GAAQ70F,KAAM,CAAAc,MAAM,CAAC+2C,IAAA,CAAKiF,OAAO,CAAC;MACxC,IAAI+3C,KAAA,CAAM3rF,IAAI,KAAK,YAAY2rF,KAAM,CAAA3rF,IAAI,KAAK,MAAQ;QAEpD;;MAGF,IAAIlJ,KAAM,CAAA0B,OAAO,CAACm9C,OAAO,EAAE;QAEzB;;MAGF,IAAAi2C,sBAAA,GAAqBP,yCAAA,CAA0C18C,IAAM,EAAA3gC,IAAA;QAAhElD,KAAK,GAAA8gF,sBAAA,CAAL9gF,KAAK;QAAEiY,KAAA,GAAA6oE,sBAAA,CAAA7oE,KAAA;MACZ,IAAMrd,SAAY,GAAAlN,OAAA,CAAQkN,SAAS,IAAI,CAAI,GAAAgrD,cAAA;MAC3C,IAAI3tC,KAAA,IAASrd,SAAW;QAEtBylF,qBAAsB,CAAA/jE,OAAA;QACtB;;MAGF,IAAIg1B,6DAAA,CAAc5J,KAAQ;QAIxBprB,OAAA,CAAQorB,KAAK,GAAGxkC,IAAA;QAChB,OAAOoZ,OAAA,CAAQpZ,IAAI;QACnBlW,MAAO,CAAAg4B,cAAc,CAAC1I,OAAA,EAAS,MAAQ;UACrCoJ,YAAA,EAAc,IAAI;UAClBD,UAAA,EAAY,IAAI;UAChB72B,GAAA,EAAK,SAAAA,IAAA,EAAW;YACd,OAAO,IAAI,CAACkuD,UAAU;UACxB;UACA7tD,GAAK,WAAAA,IAASs+B,CAAC,EAAE;YACf,IAAI,CAACma,KAAK,GAAGna,CAAA;UACf;QACF;;MAIF,IAAIqxD,SAAA;MACJ,QAAQlxF,OAAA,CAAQizF,SAAS;QACzB,KAAK;UACH/B,SAAA,GAAYF,cAAe,CAAAx7E,IAAA,EAAMlD,KAAO,EAAAiY,KAAA,EAAO2tC,cAAgB,EAAAl4D,OAAA;UAC/D;QACF,KAAK;UACHkxF,SAAY,GAAAgB,gBAAA,CAAiB18E,IAAM,EAAAlD,KAAA,EAAOiY,KAAO,EAAA2tC,cAAA;UACjD;QACF;UACE,MAAM,IAAInhD,KAAM,sCAAAhD,MAAA,CAAqC/T,OAAA,CAAQizF,SAAS,MAAG,CAAE;MAC7E;MAEArkE,OAAA,CAAQwgC,UAAU,GAAG8hC,SAAA;IACvB;EACF;EAEAjgF,OAAA,WAAAA,QAAQ3S,KAAK,EAAE;IACbs0F,kBAAmB,CAAAt0F,KAAA;EACrB;AACF,CAAE;AC5RK,SAAS6tF,SAAUA,CAAAv9B,IAAI,EAAE7jD,MAAM,EAAEsP,QAAQ,EAAE;EAChD,IAAMoxE,QAAA,GAAW78B,IAAA,CAAK68B,QAAQ;EAC9B,IAAMxiC,MAAA,GAAS2F,IAAA,CAAK3F,MAAM;EAC1B,IAAMoqC,OAAA,GAAUtoF,MAAA,CAAOk+C,MAAM;EAC7B,IAAMwpB,KAAA,GAAQ,EAAE;EAAA,IAAA6gB,WAAA,GAAA97C,0BAAA,CAEMi0C,QAAU;IAAA8H,OAAA;EAAA;IAAhC,KAAAD,WAAA,CAAAxyD,CAAA,MAAAyyD,OAAA,GAAAD,WAAA,CAAAvyD,CAAA,IAAApG,IAAA,GAAgC;MAAA,IAArB20B,OAAA,GAAAikC,OAAA,CAAAptE,KAAA;MACT,IAAK7T,KAAA,GAAcg9C,OAAA,CAAdh9C,KAAA;QAAOmO,GAAA,GAAO6uC,OAAA,CAAP7uC,GAAA;MACZA,GAAM,GAAA+yE,eAAA,CAAgBlhF,KAAA,EAAOmO,GAAK,EAAAwoC,MAAA;MAElC,IAAM+lC,MAAS,GAAAyE,UAAA,CAAWp5E,QAAU,EAAA4uC,MAAM,CAAC32C,KAAA,CAAM,EAAE22C,MAAM,CAACxoC,GAAA,CAAI,EAAE6uC,OAAA,CAAQ1c,IAAI;MAE5E,IAAI,CAAC7nC,MAAO,CAAA0gF,QAAQ,EAAE;QAGpBhZ,KAAA,CAAM5xE,IAAI,CAAC;UACT0W,MAAQ,EAAA+3C,OAAA;UACRvkD,MAAQ,EAAAikF,MAAA;UACR18E,KAAO,EAAA22C,MAAM,CAAC32C,KAAM;UACpBmO,GAAK,EAAAwoC,MAAM,CAACxoC,GAAI;QAClB;QACA;;MAIF,IAAMizE,cAAA,GAAiBnH,8DAAA,CAAexhF,MAAQ,EAAAikF,MAAA;MAAA,IAAA2E,WAAA,GAAAn8C,0BAAA,CAE5Bk8C,cAAgB;QAAAE,OAAA;MAAA;QAAlC,KAAAD,WAAA,CAAA7yD,CAAA,MAAA8yD,OAAA,GAAAD,WAAA,CAAA5yD,CAAA,IAAApG,IAAA,GAAkC;UAAA,IAAvBk5D,GAAA,GAAAD,OAAA,CAAAztE,KAAA;UACT,IAAM2tE,SAAA,GAAYL,UAAW,CAAAp5E,QAAA,EAAUg5E,OAAO,CAACQ,GAAA,CAAIvhF,KAAK,CAAC,EAAE+gF,OAAO,CAACQ,GAAI,CAAApzE,GAAG,CAAC,EAAEozE,GAAA,CAAIjhD,IAAI;UACrF,IAAMmhD,WAAA,GAAcC,8DAAc,CAAA1kC,OAAA,EAASrG,MAAQ,EAAA6qC,SAAA;UAAA,IAAAG,WAAA,GAAAz8C,0BAAA,CAE1Bu8C,WAAa;YAAAG,OAAA;UAAA;YAAtC,KAAAD,WAAA,CAAAnzD,CAAA,MAAAozD,OAAA,GAAAD,WAAA,CAAAlzD,CAAA,IAAApG,IAAA,GAAsC;cAAA,IAA3Bw5D,UAAA,GAAAD,OAAA,CAAA/tE,KAAA;cACTssD,KAAA,CAAM5xE,IAAI,CAAC;gBACT0W,MAAQ,EAAA48E,UAAA;gBACRppF,MAAQ,EAAA8oF,GAAA;gBACRvhF,KAAO,EAAAsrC,eAAA,KACJvjC,QAAA,EAAW+5E,QAAA,CAASpF,MAAA,EAAQ8E,SAAW,WAAS3xF,IAAA,CAAKN,GAAG,EAC3D;gBACA4e,GAAK,EAAAm9B,eAAA,KACFvjC,QAAA,EAAW+5E,QAAA,CAASpF,MAAA,EAAQ8E,SAAW,SAAO3xF,IAAA,CAAKL,GAAG;cAE3D;YACF;UAAA,SAAAo2B,GAAA;YAAA+7D,WAAA,CAAA1kF,CAAA,CAAA2oB,GAAA;UAAA;YAAA+7D,WAAA,CAAAn0D,CAAA;UAAA;QACF;MAAA,SAAA5H,GAAA;QAAAy7D,WAAA,CAAApkF,CAAA,CAAA2oB,GAAA;MAAA;QAAAy7D,WAAA,CAAA7zD,CAAA;MAAA;IACF;EAAA,SAAA5H,GAAA;IAAAo7D,WAAA,CAAA/jF,CAAA,CAAA2oB,GAAA;EAAA;IAAAo7D,WAAA,CAAAxzD,CAAA;EAAA;EACA,OAAO2yC,KAAA;AACT;AAEO,SAASghB,WAAWp5E,QAAQ,EAAEknD,KAAK,EAAExhD,IAAI,EAAE6yB,IAAI,EAAE;EACtD,IAAIA,IAAM;IACR;;EAEF,IAAItgC,KAAA,GAAQivD,KAAK,CAAClnD,QAAS;EAC3B,IAAIoG,GAAA,GAAMV,IAAI,CAAC1F,QAAS;EAExB,IAAIA,QAAA,KAAa,OAAS;IACxB/H,KAAA,GAAQ+hF,8DAAgB,CAAA/hF,KAAA;IACxBmO,GAAA,GAAM4zE,8DAAgB,CAAA5zE,GAAA;;EAExB,OAAO;IAACpG,QAAA,EAAAA,QAAA;IAAU/H,KAAA,EAAAA,KAAA;IAAOmO,GAAA,EAAAA;EAAG;AAC9B;AAEO,SAAS6zE,oBAAoBC,QAAQ,EAAE3lC,IAAI,EAAE;EAClD,IAAA7kD,KAAA,GAA6BwqF,QAAA,IAAY,EAAC;IAAAC,OAAA,GAAAzqF,KAAA,CAAnCrL,CAAI;IAAJA,CAAI,GAAA81F,OAAA,kBAAI,GAAAA,OAAA;IAAAC,OAAA,GAAA1qF,KAAA,CAAEpL,CAAI;IAAJA,CAAI,GAAA81F,OAAA,kBAAI,GAAAA,OAAA;EACzB,IAAMC,UAAA,GAAa9lC,IAAA,CAAK3F,MAAM;EAC9B,IAAMA,MAAA,GAAS,EAAE;EACjB2F,IAAK,CAAA68B,QAAQ,CAAC/0E,OAAO,CAAC,UAAArM,KAAA,EAAkB;IAAA,IAAhBiI,KAAK,GAAAjI,KAAA,CAALiI,KAAK;MAAEmO,GAAG,GAAApW,KAAA,CAAHoW,GAAG;IAChCA,GAAM,GAAA+yE,eAAA,CAAgBlhF,KAAA,EAAOmO,GAAK,EAAAi0E,UAAA;IAClC,IAAMnzB,KAAA,GAAQmzB,UAAU,CAACpiF,KAAM;IAC/B,IAAMyN,IAAA,GAAO20E,UAAU,CAACj0E,GAAI;IAC5B,IAAI9hB,CAAA,KAAM,IAAI,EAAE;MACdsqD,MAAA,CAAOpoD,IAAI,CAAC;QAACnC,CAAA,EAAG6iE,KAAA,CAAM7iE,CAAC;QAAEC,CAAA,EAAAA;MAAC;MAC1BsqD,MAAA,CAAOpoD,IAAI,CAAC;QAACnC,CAAA,EAAGqhB,IAAA,CAAKrhB,CAAC;QAAEC,CAAA,EAAAA;MAAC;KACpB,UAAID,CAAM,SAAI,EAAE;MACrBuqD,MAAA,CAAOpoD,IAAI,CAAC;QAACnC,CAAA,EAAAA,CAAA;QAAGC,CAAA,EAAG4iE,KAAA,CAAM5iE;MAAC;MAC1BsqD,MAAA,CAAOpoD,IAAI,CAAC;QAACnC,CAAA,EAAAA,CAAA;QAAGC,CAAA,EAAGohB,IAAA,CAAKphB;MAAC;;EAE7B;EACA,OAAOsqD,MAAA;AACT;AAEO,SAASuqC,eAAgBA,CAAAlhF,KAAK,EAAEmO,GAAG,EAAEwoC,MAAM,EAAE;EAClD,OAAMxoC,GAAA,GAAMnO,KAAA,EAAOmO,GAAO;IACxB,IAAMxgB,KAAA,GAAQgpD,MAAM,CAACxoC,GAAI;IACzB,IAAI,CAACpc,KAAA,CAAMpE,KAAM,CAAAvB,CAAC,KAAK,CAAC2F,KAAA,CAAMpE,KAAM,CAAAtB,CAAC,CAAG;MACtC;;EAEJ;EACA,OAAO8hB,GAAA;AACT;AAEA,SAAS2zE,SAASl6E,CAAC,EAAEC,CAAC,EAAE3X,IAAI,EAAE3D,EAAE,EAAE;EAChC,IAAIqb,CAAA,IAAKC,CAAG;IACV,OAAOtb,EAAA,CAAGqb,CAAC,CAAC1X,IAAA,CAAK,EAAE2X,CAAC,CAAC3X,IAAK;;EAE5B,OAAO0X,CAAA,GAAIA,CAAC,CAAC1X,IAAK,IAAG2X,CAAA,GAAIA,CAAC,CAAC3X,IAAK,IAAG,CAAC;AACtC;ACnFO,SAASmyF,oBAAoBJ,QAAQ,EAAE3lC,IAAI,EAAE;EAClD,IAAI3F,MAAA,GAAS,EAAE;EACf,IAAItW,KAAA,GAAQ,KAAK;EAEjB,IAAIp8B,6DAAA,CAAQg+E,QAAW;IACrB5hD,KAAA,GAAQ,IAAI;IAEZsW,MAAS,GAAAsrC,QAAA;GACJ;IACLtrC,MAAA,GAASqrC,mBAAA,CAAoBC,QAAU,EAAA3lC,IAAA;;EAGzC,OAAO3F,MAAO,CAAAxpD,MAAM,GAAG,IAAIqsF,WAAY;IACrC7iC,MAAA,EAAAA,MAAA;IACAjpD,OAAS;MAACqpF,OAAS;IAAC;IACpB12C,KAAA,EAAAA,KAAA;IACAyf,SAAW,EAAAzf;EACb,KAAK,IAAI;AACX;AAEO,SAASiiD,gBAAiBA,CAAAr9E,MAAM,EAAE;EACvC,OAAOA,MAAU,IAAAA,MAAA,CAAOujC,IAAI,KAAK,KAAK;AACxC;AC5BO,SAAS+5C,cAAeA,CAAAC,OAAO,EAAEx9E,KAAK,EAAEy9E,SAAS,EAAE;EACxD,IAAMx9E,MAAA,GAASu9E,OAAO,CAACx9E,KAAM;EAC7B,IAAIwjC,IAAA,GAAOvjC,MAAA,CAAOujC,IAAI;EACtB,IAAMk6C,OAAU,IAAC19E,KAAA,CAAM;EACvB,IAAIvM,MAAA;EAEJ,IAAI,CAACgqF,SAAW;IACd,OAAOj6C,IAAA;;EAGT,OAAOA,IAAA,KAAS,KAAK,IAAIk6C,OAAA,CAAQx2F,OAAO,CAACs8C,IAAA,MAAU,CAAC,CAAG;IACrD,IAAI,CAAC/E,6DAAA,CAAS+E,IAAO;MACnB,OAAOA,IAAA;;IAGT/vC,MAAS,GAAA+pF,OAAO,CAACh6C,IAAK;IACtB,IAAI,CAAC/vC,MAAQ;MACX,OAAO,KAAK;;IAGd,IAAIA,MAAA,CAAO40E,OAAO,EAAE;MAClB,OAAO7kC,IAAA;;IAGTk6C,OAAA,CAAQn0F,IAAI,CAACi6C,IAAA;IACbA,IAAA,GAAO/vC,MAAA,CAAO+vC,IAAI;EACpB;EAEA,OAAO,KAAK;AACd;AAOO,SAASm6C,WAAYA,CAAArmC,IAAI,EAAEt3C,KAAK,EAAEiT,KAAK,EAAE;EAE9C,IAAMuwB,IAAA,GAAOo6C,eAAgB,CAAAtmC,IAAA;EAE7B,IAAI9a,6DAAA,CAASgH,IAAO;IAClB,OAAOz2C,KAAA,CAAMy2C,IAAK,CAAA30B,KAAK,CAAI,QAAK,GAAG20B,IAAI;;EAGzC,IAAI/vC,MAAA,GAASoqF,UAAW,CAAAr6C,IAAA;EAExB,IAAI/E,6DAAA,CAAShrC,MAAW,KAAA5I,IAAA,CAAKotB,KAAK,CAACxkB,MAAA,MAAYA,MAAQ;IACrD,OAAOqqF,iBAAA,CAAkBt6C,IAAI,CAAC,CAAE,GAAExjC,KAAA,EAAOvM,MAAQ,EAAAwf,KAAA;;EAGnD,OAAO,CAAC,UAAU,SAAS,OAAO,SAAS,QAAQ,CAAC/rB,OAAO,CAACs8C,IAAA,KAAS,CAAK,IAAAA,IAAA;AAC5E;AAEA,SAASs6C,kBAAkBC,OAAO,EAAE/9E,KAAK,EAAEvM,MAAM,EAAEwf,KAAK,EAAE;EACxD,IAAI8qE,OAAA,KAAY,GAAO,IAAAA,OAAA,KAAY,GAAK;IACtCtqF,MAAA,GAASuM,KAAQ,GAAAvM,MAAA;;EAGnB,IAAIA,MAAW,KAAAuM,KAAA,IAASvM,MAAS,QAAKA,MAAA,IAAUwf,KAAO;IACrD,OAAO,KAAK;;EAGd,OAAOxf,MAAA;AACT;AAOO,SAASuqF,gBAAgBx6C,IAAI,EAAEp7C,KAAK,EAAE;EAC3C,IAAIisE,KAAA,GAAQ,IAAI;EAChB,IAAI7wB,IAAA,KAAS,OAAS;IACpB6wB,KAAA,GAAQjsE,KAAA,CAAME,MAAM;GACf,UAAIk7C,IAAA,KAAS,KAAO;IACzB6wB,KAAA,GAAQjsE,KAAA,CAAMC,GAAG;GACZ,UAAIm0C,6DAAA,CAASgH,IAAO;IAEzB6wB,KAAA,GAAQjsE,KAAM,CAAA0G,gBAAgB,CAAC00C,IAAA,CAAK30B,KAAK;GACpC,UAAIzmB,KAAM,CAAA+mD,YAAY,EAAE;IAC7BklB,KAAA,GAAQjsE,KAAA,CAAM+mD,YAAY;;EAE5B,OAAOklB,KAAA;AACT;AAQO,SAAS4pB,eAAgBA,CAAAz6C,IAAI,EAAEp7C,KAAK,EAAE0kD,UAAU,EAAE;EACvD,IAAIj+B,KAAA;EAEJ,IAAI20B,IAAA,KAAS,OAAS;IACpB30B,KAAQ,GAAAi+B,UAAA;GACH,UAAItJ,IAAA,KAAS,KAAO;IACzB30B,KAAQ,GAAAzmB,KAAA,CAAMM,OAAO,CAACy8B,OAAO,GAAG/8B,KAAM,CAAAoC,GAAG,GAAGpC,KAAA,CAAMmC,GAAG;GAChD,UAAIiyC,6DAAA,CAASgH,IAAO;IAEzB30B,KAAA,GAAQ20B,IAAA,CAAK30B,KAAK;GACb;IACLA,KAAA,GAAQzmB,KAAA,CAAMssE,YAAY;;EAE5B,OAAO7lD,KAAA;AACT;AAKA,SAAS+uE,eAAgBA,CAAAtmC,IAAI,EAAE;EAC7B,IAAM5uD,OAAA,GAAU4uD,IAAA,CAAK5uD,OAAO;EAC5B,IAAMw1F,UAAA,GAAax1F,OAAA,CAAQ86C,IAAI;EAC/B,IAAIA,IAAO,GAAAv9C,6DAAA,CAAei4F,UAAc,IAAAA,UAAA,CAAWzqF,MAAM,EAAEyqF,UAAA;EAE3D,IAAI16C,IAAA,KAASv8C,SAAW;IACtBu8C,IAAO,IAAC,CAAC96C,OAAA,CAAQ4R,eAAe;;EAGlC,IAAIkpC,IAAS,UAAK,IAAIA,IAAA,KAAS,IAAI,EAAE;IACnC,OAAO,KAAK;;EAGd,IAAIA,IAAA,KAAS,IAAI,EAAE;IACjB,OAAO;;EAET,OAAOA,IAAA;AACT;AC1HO,SAAS26C,eAAgBA,CAAAl+E,MAAM,EAAE;EACtC,IAAO7X,KAAK,GAAiB6X,MAAA,CAAtB7X,KAAK;IAAE4X,KAAA,GAAeC,MAAA,CAAfD,KAAA;IAAOs3C,IAAA,GAAQr3C,MAAA,CAARq3C,IAAA;EACrB,IAAM3F,MAAA,GAAS,EAAE;EACjB,IAAMwiC,QAAA,GAAW78B,IAAA,CAAK68B,QAAQ;EAC9B,IAAMiK,YAAA,GAAe9mC,IAAA,CAAK3F,MAAM;EAChC,IAAM0sC,UAAA,GAAaC,aAAA,CAAcl2F,KAAO,EAAA4X,KAAA;EACxCq+E,UAAW,CAAA90F,IAAI,CAAC8zF,mBAAoB;IAACj2F,CAAA,EAAG,IAAI;IAAEC,CAAA,EAAGe,KAAA,CAAME;GAAS,EAAAgvD,IAAA;EAEhE,KAAK,IAAIpvD,CAAI,MAAGA,CAAA,GAAIisF,QAAS,CAAAhsF,MAAM,EAAED,CAAK;IACxC,IAAM8vD,OAAA,GAAUm8B,QAAQ,CAACjsF,CAAE;IAC3B,KAAK,IAAIqtC,CAAA,GAAIyiB,OAAQ,CAAAh9C,KAAK,EAAEu6B,CAAK,IAAAyiB,OAAA,CAAQ7uC,GAAG,EAAEosB,CAAK;MACjDgpD,cAAA,CAAe5sC,MAAQ,EAAAysC,YAAY,CAAC7oD,CAAA,CAAE,EAAE8oD,UAAA;IAC1C;EACF;EACA,OAAO,IAAI7J,WAAY;IAAC7iC,MAAA,EAAAA,MAAA;IAAQjpD,OAAA,EAAS;EAAE;AAC7C;AAOA,SAAS41F,cAAcl2F,KAAK,EAAE4X,KAAK,EAAE;EACnC,IAAMw+E,KAAA,GAAQ,EAAE;EAChB,IAAM3vB,KAAA,GAAQzmE,KAAM,CAAA+3C,uBAAuB,CAAC;EAE5C,KAAK,IAAIj4C,CAAI,MAAGA,CAAA,GAAI2mE,KAAM,CAAA1mE,MAAM,EAAED,CAAK;IACrC,IAAM22C,IAAA,GAAOgwB,KAAK,CAAC3mE,CAAE;IACrB,IAAI22C,IAAA,CAAK7+B,KAAK,KAAKA,KAAO;MACxB;;IAEF,IAAI,CAAC6+B,IAAK,CAAAqD,MAAM,EAAE;MAChBs8C,KAAM,CAAAC,OAAO,CAAC5/C,IAAA,CAAKvnB,OAAO;;EAE9B;EACA,OAAOknE,KAAA;AACT;AAOA,SAASD,cAAeA,CAAA5sC,MAAM,EAAE+sC,WAAW,EAAEL,UAAU,EAAE;EACvD,IAAMM,SAAA,GAAY,EAAE;EACpB,KAAK,IAAIppD,CAAI,MAAGA,CAAA,GAAI8oD,UAAW,CAAAl2F,MAAM,EAAEotC,CAAK;IAC1C,IAAM+hB,IAAA,GAAO+mC,UAAU,CAAC9oD,CAAE;IAC1B,IAAAqpD,UAAA,GAA6BC,SAAU,CAAAvnC,IAAA,EAAMonC,WAAa;MAAnDz0B,KAAK,GAAA20B,UAAA,CAAL30B,KAAK;MAAExhD,IAAI,GAAAm2E,UAAA,CAAJn2E,IAAI;MAAE9f,KAAA,GAAAi2F,UAAA,CAAAj2F,KAAA;IAEpB,IAAI,CAACA,KAAU,IAAAshE,KAAA,IAASxhD,IAAO;MAC7B;;IAEF,IAAIwhD,KAAO;MAGT00B,SAAA,CAAUF,OAAO,CAAC91F,KAAA;KACb;MACLgpD,MAAA,CAAOpoD,IAAI,CAACZ,KAAA;MACZ,IAAI,CAAC8f,IAAM;QAET;;;EAGN;EACAkpC,MAAA,CAAOpoD,IAAI,CAAAqW,KAAA,CAAX+xC,MAAA,EAAegtC,SAAA;AACjB;AAQA,SAASE,SAAUA,CAAAvnC,IAAI,EAAEonC,WAAW,EAAE37E,QAAQ,EAAE;EAC9C,IAAMpa,KAAQ,GAAA2uD,IAAA,CAAKphB,WAAW,CAACwoD,WAAa,EAAA37E,QAAA;EAC5C,IAAI,CAACpa,KAAO;IACV,OAAO,EAAC;;EAGV,IAAMm2F,UAAA,GAAan2F,KAAK,CAACoa,QAAS;EAClC,IAAMoxE,QAAA,GAAW78B,IAAA,CAAK68B,QAAQ;EAC9B,IAAMiJ,UAAA,GAAa9lC,IAAA,CAAK3F,MAAM;EAC9B,IAAIsY,KAAA,GAAQ,KAAK;EACjB,IAAIxhD,IAAA,GAAO,KAAK;EAChB,KAAK,IAAIvgB,CAAI,MAAGA,CAAA,GAAIisF,QAAS,CAAAhsF,MAAM,EAAED,CAAK;IACxC,IAAM8vD,OAAA,GAAUm8B,QAAQ,CAACjsF,CAAE;IAC3B,IAAM62F,UAAA,GAAa3B,UAAU,CAACplC,OAAA,CAAQh9C,KAAK,CAAC,CAAC+H,QAAS;IACtD,IAAMi8E,SAAA,GAAY5B,UAAU,CAACplC,OAAA,CAAQ7uC,GAAG,CAAC,CAACpG,QAAS;IACnD,IAAIkuE,8DAAA,CAAW6N,UAAY,EAAAC,UAAA,EAAYC,SAAY;MACjD/0B,KAAA,GAAQ60B,UAAe,KAAAC,UAAA;MACvBt2E,IAAA,GAAOq2E,UAAe,KAAAE,SAAA;MACtB;;EAEJ;EACA,OAAO;IAAC/0B,KAAA,EAAAA,KAAA;IAAOxhD,IAAA,EAAAA,IAAA;IAAM9f,KAAA,EAAAA;EAAK;AAC5B;AAAA,IC1Gas2F,SAAA;EACX,SAAAA,UAAY34F,IAAI,EAAE;IAAAuwC,eAAA,OAAAooD,SAAA;IAChB,IAAI,CAAC73F,CAAC,GAAGd,IAAA,CAAKc,CAAC;IACf,IAAI,CAACC,CAAC,GAAGf,IAAA,CAAKe,CAAC;IACf,IAAI,CAACqqD,MAAM,GAAGprD,IAAA,CAAKorD,MAAM;EAC3B;EAAA1a,YAAA,CAAAioD,SAAA;IAAAv4F,GAAA;IAAAmoB,KAAA,EAEA,SAAA6jE,YAAYx4E,GAAG,EAAEw9E,MAAM,EAAEpxF,IAAI,EAAE;MAC7B,IAAOc,CAAA,GAAgB,IAAI,CAApBA,CAAA;QAAGC,CAAA,GAAa,IAAI,CAAjBA,CAAA;QAAGqqD,MAAM,GAAI,IAAI,CAAdA,MAAM;MACnBgmC,MAAA,GAASA,MAAU;QAAC18E,KAAO;QAAGmO,GAAK,EAAAqpC,yDAAGA;MAAA;MACtCt4C,GAAI,CAAA87C,GAAG,CAAC5uD,CAAA,EAAGC,CAAG,EAAAqqD,MAAA,EAAQgmC,MAAO,CAAAvuE,GAAG,EAAEuuE,MAAA,CAAO18E,KAAK,EAAE,IAAI;MACpD,OAAO,CAAC1U,IAAA,CAAKoxF,MAAM;IACrB;EAAA;IAAAhxF,GAAA;IAAAmoB,KAAA,EAEA,SAAAqnB,YAAYvtC,KAAK,EAAE;MACjB,IAAOvB,CAAA,GAAgB,IAAI,CAApBA,CAAA;QAAGC,CAAA,GAAa,IAAI,CAAjBA,CAAA;QAAGqqD,MAAM,GAAI,IAAI,CAAdA,MAAM;MACnB,IAAMlqC,KAAA,GAAQ7e,KAAA,CAAM6e,KAAK;MACzB,OAAO;QACLpgB,CAAA,EAAGA,CAAI,GAAAyD,IAAA,CAAK+nD,GAAG,CAACprC,KAAS,IAAAkqC,MAAA;QACzBrqD,CAAA,EAAGA,CAAI,GAAAwD,IAAA,CAAKqyB,GAAG,CAAC1V,KAAS,IAAAkqC,MAAA;QACzBlqC,KAAA,EAAAA;MACF;IACF;EAAA;EAAA,OAAAy3E,SAAA;AAAA;ACbK,SAASC,UAAWA,CAAAj/E,MAAM,EAAE;EACjC,IAAOjZ,KAAK,GAAgBiZ,MAAA,CAArBjZ,KAAK;IAAEw8C,IAAA,GAAcvjC,MAAA,CAAdujC,IAAA;IAAM8T,IAAA,GAAQr3C,MAAA,CAARq3C,IAAA;EAEpB,IAAI7Y,6DAAA,CAAS+E,IAAO;IAClB,OAAO27C,cAAA,CAAen4F,KAAO,EAAAw8C,IAAA;;EAG/B,IAAIA,IAAA,KAAS,OAAS;IACpB,OAAO26C,eAAgB,CAAAl+E,MAAA;;EAGzB,IAAIujC,IAAA,KAAS,OAAS;IACpB,OAAO,IAAI;;EAGb,IAAMy5C,QAAA,GAAWmC,eAAgB,CAAAn/E,MAAA;EAEjC,IAAIg9E,QAAA,YAAoBgC,SAAW;IACjC,OAAOhC,QAAA;;EAGT,OAAOI,mBAAA,CAAoBJ,QAAU,EAAA3lC,IAAA;AACvC;AAMA,SAAS6nC,eAAen4F,KAAK,EAAEgZ,KAAK,EAAE;EACpC,IAAM6+B,IAAA,GAAO73C,KAAM,CAAA09C,cAAc,CAAC1kC,KAAA;EAClC,IAAMqoE,OAAU,GAAAxpC,IAAA,IAAQ73C,KAAM,CAAAotD,gBAAgB,CAACp0C,KAAA;EAC/C,OAAOqoE,OAAU,GAAAxpC,IAAA,CAAKvnB,OAAO,GAAG,IAAI;AACtC;AAEA,SAAS8nE,gBAAgBn/E,MAAM,EAAE;EAC/B,IAAM7X,KAAQ,GAAA6X,MAAA,CAAO7X,KAAK,IAAI,EAAC;EAE/B,IAAIA,KAAA,CAAM4yD,wBAAwB,EAAE;IAClC,OAAOqkC,uBAAwB,CAAAp/E,MAAA;;EAEjC,OAAOq/E,qBAAsB,CAAAr/E,MAAA;AAC/B;AAGA,SAASq/E,sBAAsBr/E,MAAM,EAAE;EACrC,IAAAs/E,aAAA,GAA2Bt/E,MAAA,CAApB7X,KAAQ;IAARA,KAAQ,GAAAm3F,aAAA,mBAAAA,aAAA;IAAI/7C,IAAA,GAAQvjC,MAAA,CAARujC,IAAA;EACnB,IAAM6wB,KAAA,GAAQ2pB,eAAA,CAAgBx6C,IAAM,EAAAp7C,KAAA;EAEpC,IAAIq2C,6DAAA,CAAS41B,KAAQ;IACnB,IAAM3mB,UAAA,GAAatlD,KAAA,CAAMuC,YAAY;IAErC,OAAO;MACLvD,CAAG,EAAAsmD,UAAA,GAAa2mB,KAAA,GAAQ,IAAI;MAC5BhtE,CAAG,EAAAqmD,UAAA,GAAa,IAAI,GAAG2mB;IACzB;;EAGF,OAAO,IAAI;AACb;AAEA,SAASgrB,wBAAwBp/E,MAAM,EAAE;EACvC,IAAO7X,KAAA,GAAe6X,MAAA,CAAf7X,KAAA;IAAOo7C,IAAA,GAAQvjC,MAAA,CAARujC,IAAA;EACd,IAAM96C,OAAA,GAAUN,KAAA,CAAMM,OAAO;EAC7B,IAAMP,MAAS,GAAAC,KAAA,CAAM+E,SAAS,GAAGhF,MAAM;EACvC,IAAM6S,KAAA,GAAQtS,OAAA,CAAQy8B,OAAO,GAAG/8B,KAAA,CAAMmC,GAAG,GAAGnC,KAAA,CAAMoC,GAAG;EACrD,IAAMqkB,KAAA,GAAQovE,eAAgB,CAAAz6C,IAAA,EAAMp7C,KAAO,EAAA4S,KAAA;EAC3C,IAAMvH,MAAA,GAAS,EAAE;EAEjB,IAAI/K,OAAQ,CAAA0oD,IAAI,CAACkJ,QAAQ,EAAE;IACzB,IAAMjwD,MAAS,GAAAjC,KAAA,CAAM4yD,wBAAwB,CAAC,CAAG,EAAAhgD,KAAA;IACjD,OAAO,IAAIikF,SAAU;MACnB73F,CAAA,EAAGiD,MAAA,CAAOjD,CAAC;MACXC,CAAA,EAAGgD,MAAA,CAAOhD,CAAC;MACXqqD,MAAQ,EAAAtpD,KAAA,CAAM8xD,6BAA6B,CAACrrC,KAAA;IAC9C;;EAGF,KAAK,IAAI3mB,CAAI,MAAGA,CAAI,GAAAC,MAAA,EAAQ,EAAED,CAAG;IAC/BuL,MAAA,CAAOlK,IAAI,CAACnB,KAAM,CAAA4yD,wBAAwB,CAAC9yD,CAAG,EAAA2mB,KAAA;EAChD;EACA,OAAOpb,MAAA;AACT;ACzFO,SAAS+rF,SAAUA,CAAAtlF,GAAG,EAAE+F,MAAM,EAAE8nC,IAAI,EAAE;EAC3C,IAAMt0C,MAAA,GAASyrF,UAAW,CAAAj/E,MAAA;EAC1B,IAAOq3C,IAAI,GAAiBr3C,MAAA,CAArBq3C,IAAI;IAAElvD,KAAA,GAAe6X,MAAA,CAAf7X,KAAA;IAAOgB,IAAA,GAAQ6W,MAAA,CAAR7W,IAAA;EACpB,IAAMq2F,QAAA,GAAWnoC,IAAA,CAAK5uD,OAAO;EAC7B,IAAMw1F,UAAA,GAAauB,QAAA,CAASj8C,IAAI;EAChC,IAAMtM,KAAA,GAAQuoD,QAAA,CAASnlF,eAAe;EACtC,IAAAolF,KAAA,GAAuCxB,UAAA,IAAc,EAAC;IAAAyB,WAAA,GAAAD,KAAA,CAA/CE,KAAA;IAAAA,KAAA,GAAAD,WAAA,cAAQzoD,KAAK,GAAAyoD,WAAA;IAAAE,WAAA,GAAAH,KAAA,CAAElB,KAAA;IAAAA,KAAA,GAAAqB,WAAA,cAAQ3oD,KAAK,GAAA2oD,WAAA;EACnC,IAAIpsF,MAAU,IAAA6jD,IAAA,CAAK3F,MAAM,CAACxpD,MAAM,EAAE;IAChC8wE,6DAAA,CAAS/+D,GAAK,EAAA6tC,IAAA;IACd+3C,MAAA,CAAO5lF,GAAK;MAACo9C,IAAA,EAAAA,IAAA;MAAM7jD,MAAA,EAAAA,MAAA;MAAQmsF,KAAA,EAAAA,KAAA;MAAOpB,KAAA,EAAAA,KAAA;MAAOz2C,IAAA,EAAAA,IAAA;MAAM3/C,KAAA,EAAAA,KAAA;MAAOgB,IAAA,EAAAA;IAAI;IAC1DkwE,6DAAW,CAAAp/D,GAAA;;AAEf;AAEA,SAAS4lF,MAAOA,CAAA5lF,GAAG,EAAE2gC,GAAG,EAAE;EACxB,IAAOyc,IAAA,GAA2Czc,GAAA,CAA3Cyc,IAAA;IAAM7jD,MAAA,GAAqConC,GAAA,CAArCpnC,MAAA;IAAQmsF,KAAA,GAA6B/kD,GAAA,CAA7B+kD,KAAA;IAAOpB,KAAA,GAAsB3jD,GAAA,CAAtB2jD,KAAA;IAAOz2C,IAAA,GAAelN,GAAA,CAAfkN,IAAA;IAAM3/C,KAAA,GAASyyC,GAAA,CAATzyC,KAAA;EACzC,IAAM2a,QAAA,GAAWu0C,IAAK,CAAAjc,KAAK,GAAG,UAAUR,GAAA,CAAIzxC,IAAI;EAEhD8Q,GAAA,CAAIC,IAAI;EAER,IAAI4I,QAAA,KAAa,GAAO,IAAAy7E,KAAA,KAAUoB,KAAO;IACvCG,YAAa,CAAA7lF,GAAA,EAAKzG,MAAQ,EAAAs0C,IAAA,CAAK1/C,GAAG;IAClCm7C,IAAA,CAAKtpC,GAAK;MAACo9C,IAAA,EAAAA,IAAA;MAAM7jD,MAAA,EAAAA,MAAA;MAAQyjC,KAAO,EAAA0oD,KAAA;MAAOx3F,KAAA,EAAAA,KAAA;MAAO2a,QAAA,EAAAA;IAAQ;IACtD7I,GAAA,CAAIW,OAAO;IACXX,GAAA,CAAIC,IAAI;IACR4lF,YAAa,CAAA7lF,GAAA,EAAKzG,MAAQ,EAAAs0C,IAAA,CAAKz/C,MAAM;;EAEvCk7C,IAAA,CAAKtpC,GAAK;IAACo9C,IAAA,EAAAA,IAAA;IAAM7jD,MAAA,EAAAA,MAAA;IAAQyjC,KAAO,EAAAsnD,KAAA;IAAOp2F,KAAA,EAAAA,KAAA;IAAO2a,QAAA,EAAAA;EAAQ;EAEtD7I,GAAA,CAAIW,OAAO;AACb;AAEA,SAASklF,aAAa7lF,GAAG,EAAEzG,MAAM,EAAEusF,KAAK,EAAE;EACxC,IAAO7L,QAAA,GAAoB1gF,MAAA,CAApB0gF,QAAA;IAAUxiC,MAAA,GAAUl+C,MAAA,CAAVk+C,MAAA;EACjB,IAAIsY,KAAA,GAAQ,IAAI;EAChB,IAAIg2B,QAAA,GAAW,KAAK;EAEpB/lF,GAAA,CAAIE,SAAS;EAAA,IAAA8lF,WAAA,GAAAhgD,0BAAA,CACSi0C,QAAU;IAAAgM,OAAA;EAAA;IAAhC,KAAAD,WAAA,CAAA12D,CAAA,MAAA22D,OAAA,GAAAD,WAAA,CAAAz2D,CAAA,IAAApG,IAAA,GAAgC;MAAA,IAArB20B,OAAA,GAAAmoC,OAAA,CAAAtxE,KAAA;MACT,IAAO7T,KAAA,GAAcg9C,OAAA,CAAdh9C,KAAA;QAAOmO,GAAA,GAAO6uC,OAAA,CAAP7uC,GAAA;MACd,IAAM0vC,UAAA,GAAalH,MAAM,CAAC32C,KAAM;MAChC,IAAM89C,SAAA,GAAYnH,MAAM,CAACuqC,eAAgB,CAAAlhF,KAAA,EAAOmO,GAAA,EAAKwoC,MAAQ;MAC7D,IAAIsY,KAAO;QACT/vD,GAAA,CAAIu+D,MAAM,CAAC5f,UAAA,CAAWzxD,CAAC,EAAEyxD,UAAA,CAAWxxD,CAAC;QACrC4iE,KAAA,GAAQ,KAAK;OACR;QACL/vD,GAAA,CAAIw+D,MAAM,CAAC7f,UAAW,CAAAzxD,CAAC,EAAE44F,KAAA;QACzB9lF,GAAA,CAAIw+D,MAAM,CAAC7f,UAAA,CAAWzxD,CAAC,EAAEyxD,UAAA,CAAWxxD,CAAC;;MAEvC44F,QAAA,GAAW,CAAC,CAACxsF,MAAA,CAAOi/E,WAAW,CAACx4E,GAAA,EAAK89C,OAAS;QAACtN,IAAM,EAAAu1C;MAAQ;MAC7D,IAAIA,QAAU;QACZ/lF,GAAA,CAAImzE,SAAS;OACR;QACLnzE,GAAA,CAAIw+D,MAAM,CAAC5f,SAAU,CAAA1xD,CAAC,EAAE44F,KAAA;;IAE5B;EAAA,SAAAp/D,GAAA;IAAAs/D,WAAA,CAAAjoF,CAAA,CAAA2oB,GAAA;EAAA;IAAAs/D,WAAA,CAAA13D,CAAA;EAAA;EAEAtuB,GAAA,CAAIw+D,MAAM,CAACjlE,MAAA,CAAOw2D,KAAK,GAAG7iE,CAAC,EAAE44F,KAAA;EAC7B9lF,GAAA,CAAImzE,SAAS;EACbnzE,GAAA,CAAI2tC,IAAI;AACV;AAEA,SAASrE,IAAKA,CAAAtpC,GAAG,EAAE2gC,GAAG,EAAE;EACtB,IAAOyc,IAAI,GAAoCzc,GAAA,CAAxCyc,IAAI;IAAE7jD,MAAM,GAA4BonC,GAAA,CAAlCpnC,MAAM;IAAEsP,QAAQ,GAAkB83B,GAAA,CAA1B93B,QAAQ;IAAEm0B,KAAK,GAAW2D,GAAA,CAAhB3D,KAAK;IAAE9uC,KAAK,GAAIyyC,GAAA,CAATzyC,KAAK;EAC3C,IAAM+rF,QAAA,GAAWU,SAAU,CAAAv9B,IAAA,EAAM7jD,MAAQ,EAAAsP,QAAA;EAAA,IAAAq9E,WAAA,GAAAlgD,0BAAA,CAEYi0C,QAAU;IAAAkM,OAAA;EAAA;IAA/D,KAAAD,WAAA,CAAA52D,CAAA,MAAA62D,OAAA,GAAAD,WAAA,CAAA32D,CAAA,IAAApG,IAAA,GAA+D;MAAA,IAAAi9D,aAAA,GAAAD,OAAA,CAAAxxE,KAAA;QAA3CxO,GAAA,GAAAigF,aAAA,CAARrgF,MAAQ;QAAas8E,GAAG,GAAA+D,aAAA,CAAX7sF,MAAA;QAAauH,KAAK,GAAAslF,aAAA,CAALtlF,KAAK;QAAEmO,GAAG,GAAAm3E,aAAA,CAAHn3E,GAAG;MAC9C,IAAAo3E,UAAA,GAAgDlgF,GAAA,CAAzC6N,KAAO;QAAAsyE,WAAA,GAAAD,UAAA,cAA4B,EAAE,GAAAA,UAAA;QAAAE,qBAAA,GAAAD,WAAA,CAA7BlmF,eAAkB;QAAlBA,eAAkB,GAAAmmF,qBAAA,cAAAvpD,KAAA,GAAAupD,qBAAA;MACjC,IAAMC,QAAA,GAAWjtF,MAAA,KAAW,IAAI;MAEhCyG,GAAA,CAAIC,IAAI;MACRD,GAAA,CAAIG,SAAS,GAAGC,eAAA;MAEhBqmF,UAAA,CAAWzmF,GAAK,EAAA9R,KAAA,EAAOs4F,QAAY,IAAAvE,UAAA,CAAWp5E,QAAA,EAAU/H,KAAO,EAAAmO,GAAA;MAE/DjP,GAAA,CAAIE,SAAS;MAEb,IAAM6lF,QAAA,GAAW,CAAC,CAAC3oC,IAAK,CAAAo7B,WAAW,CAACx4E,GAAK,EAAAmG,GAAA;MAEzC,IAAIi7B,IAAA;MACJ,IAAIolD,QAAU;QACZ,IAAIT,QAAU;UACZ/lF,GAAA,CAAImzE,SAAS;SACR;UACLuT,kBAAmB,CAAA1mF,GAAA,EAAKzG,MAAA,EAAQ0V,GAAK,EAAApG,QAAA;;QAGvC,IAAM89E,UAAA,GAAa,CAAC,CAACptF,MAAA,CAAOi/E,WAAW,CAACx4E,GAAA,EAAKqiF,GAAK;UAAC7xC,IAAM,EAAAu1C,QAAA;UAAU96D,OAAA,EAAS;QAAI;QAChFmW,IAAA,GAAO2kD,QAAY,IAAAY,UAAA;QACnB,IAAI,CAACvlD,IAAM;UACTslD,kBAAmB,CAAA1mF,GAAA,EAAKzG,MAAA,EAAQuH,KAAO,EAAA+H,QAAA;;;MAI3C7I,GAAA,CAAImzE,SAAS;MACbnzE,GAAA,CAAIspC,IAAI,CAAClI,IAAO,eAAY,SAAS;MAErCphC,GAAA,CAAIW,OAAO;IACb;EAAA,SAAA+lB,GAAA;IAAAw/D,WAAA,CAAAnoF,CAAA,CAAA2oB,GAAA;EAAA;IAAAw/D,WAAA,CAAA53D,CAAA;EAAA;AACF;AAEA,SAASm4D,WAAWzmF,GAAG,EAAE9R,KAAK,EAAEsvF,MAAM,EAAE;EACtC,IAAAoJ,qBAAA,GAAsB14F,KAAA,CAAMpB,KAAK,CAACsJ,SAAS;IAApCjI,GAAA,GAAAy4F,qBAAA,CAAAz4F,GAAA;IAAKC,MAAA,GAAAw4F,qBAAA,CAAAx4F,MAAA;EACZ,IAAAy4F,MAAA,GAA+BrJ,MAAA,IAAU,EAAC;IAAnC30E,QAAA,GAAAg+E,MAAA,CAAAh+E,QAAA;IAAU/H,KAAA,GAAA+lF,MAAA,CAAA/lF,KAAA;IAAOmO,GAAG,GAAA43E,MAAA,CAAH53E,GAAG;EAC3B,IAAIpG,QAAA,KAAa,GAAK;IACpB7I,GAAA,CAAIE,SAAS;IACbF,GAAA,CAAIrE,IAAI,CAACmF,KAAA,EAAO3S,GAAK,EAAA8gB,GAAA,GAAMnO,KAAA,EAAO1S,MAAS,GAAAD,GAAA;IAC3C6R,GAAA,CAAI2tC,IAAI;;AAEZ;AAEA,SAAS+4C,mBAAmB1mF,GAAG,EAAEzG,MAAM,EAAE9K,KAAK,EAAEoa,QAAQ,EAAE;EACxD,IAAMi+E,iBAAoB,GAAAvtF,MAAA,CAAOyiC,WAAW,CAACvtC,KAAO,EAAAoa,QAAA;EACpD,IAAIi+E,iBAAmB;IACrB9mF,GAAA,CAAIw+D,MAAM,CAACsoB,iBAAA,CAAkB55F,CAAC,EAAE45F,iBAAA,CAAkB35F,CAAC;;AAEvD;AC7GA,IAAA2Y,KAAA,GAAe;EACb1U,EAAI;EAEJ21F,mBAAA,WAAAA,oBAAoBj6F,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IACzC,IAAMuqB,KAAA,GAAQ,CAACjsB,KAAM,CAAAkX,IAAI,CAACgY,QAAQ,IAAI,EAAE,EAAE/tB,MAAM;IAChD,IAAMq1F,OAAA,GAAU,EAAE;IAClB,IAAI3+C,IAAA,EAAM32C,CAAA,EAAGovD,IAAM,EAAAr3C,MAAA;IAEnB,KAAK/X,CAAI,MAAGA,CAAI,GAAA+qB,KAAA,EAAO,EAAE/qB,CAAG;MAC1B22C,IAAO,GAAA73C,KAAA,CAAM09C,cAAc,CAACx8C,CAAA;MAC5BovD,IAAA,GAAOzY,IAAA,CAAKvnB,OAAO;MACnBrX,MAAA,GAAS,IAAI;MAEb,IAAIq3C,IAAQ,IAAAA,IAAA,CAAK5uD,OAAO,IAAI4uD,IAAA,YAAgBk9B,WAAa;QACvDv0E,MAAS;UACPooE,OAAS,EAAArhF,KAAA,CAAMotD,gBAAgB,CAAClsD,CAAA;UAChC8X,KAAO,EAAA9X,CAAA;UACPs7C,IAAM,EAAAm6C,WAAA,CAAYrmC,IAAA,EAAMpvD,CAAG,EAAA+qB,KAAA;UAC3BjsB,KAAA,EAAAA,KAAA;UACAoC,IAAA,EAAMy1C,IAAK,CAAAyB,UAAU,CAAC53C,OAAO,CAACy7C,SAAS;UACvC/7C,KAAA,EAAOy2C,IAAA,CAAKkB,MAAM;UAClBuX,IAAA,EAAAA;QACF;;MAGFzY,IAAA,CAAKqiD,OAAO,GAAGjhF,MAAA;MACfu9E,OAAA,CAAQj0F,IAAI,CAAC0W,MAAA;IACf;IAEA,KAAK/X,CAAI,MAAGA,CAAI,GAAA+qB,KAAA,EAAO,EAAE/qB,CAAG;MAC1B+X,MAAS,GAAAu9E,OAAO,CAACt1F,CAAE;MACnB,IAAI,CAAC+X,MAAU,IAAAA,MAAA,CAAOujC,IAAI,KAAK,KAAK,EAAE;QACpC;;MAGFvjC,MAAA,CAAOujC,IAAI,GAAG+5C,cAAA,CAAeC,OAAS,EAAAt1F,CAAA,EAAGQ,OAAA,CAAQ+0F,SAAS;IAC5D;EACF;EAEA7hF,UAAA,WAAAA,WAAW5U,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAChC,IAAMmR,IAAA,GAAOnR,OAAQ,CAAAsR,QAAQ,KAAK;IAClC,IAAMikC,QAAA,GAAWj3C,KAAA,CAAMk2D,4BAA4B;IACnD,IAAMnV,IAAA,GAAO/gD,KAAA,CAAMsJ,SAAS;IAC5B,KAAK,IAAIpI,CAAA,GAAI+1C,QAAS,CAAA91C,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAK,CAAG,IAAEA,CAAG;MAC7C,IAAM+X,MAAS,GAAAg+B,QAAQ,CAAC/1C,CAAA,CAAE,CAACg5F,OAAO;MAClC,IAAI,CAACjhF,MAAQ;QACX;;MAGFA,MAAA,CAAOq3C,IAAI,CAACyB,mBAAmB,CAAChR,IAAA,EAAM9nC,MAAA,CAAO7W,IAAI;MACjD,IAAIyQ,IAAA,IAAQoG,MAAO,CAAAujC,IAAI,EAAE;QACvBg8C,SAAU,CAAAx4F,KAAA,CAAMkT,GAAG,EAAE+F,MAAQ,EAAA8nC,IAAA;;IAEjC;EACF;EAEArsC,kBAAA,WAAAA,mBAAmB1U,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IACxC,IAAIA,OAAA,CAAQsR,QAAQ,KAAK,oBAAsB;MAC7C;;IAGF,IAAMikC,QAAA,GAAWj3C,KAAA,CAAMk2D,4BAA4B;IACnD,KAAK,IAAIh1D,CAAA,GAAI+1C,QAAS,CAAA91C,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAK,CAAG,IAAEA,CAAG;MAC7C,IAAM+X,MAAS,GAAAg+B,QAAQ,CAAC/1C,CAAA,CAAE,CAACg5F,OAAO;MAElC,IAAI5D,gBAAA,CAAiBr9E,MAAS;QAC5Bu/E,SAAA,CAAUx4F,KAAM,CAAAkT,GAAG,EAAE+F,MAAA,EAAQjZ,KAAA,CAAMsJ,SAAS;;IAEhD;EACF;EAEA6wF,iBAAA,WAAAA,kBAAkBn6F,KAAK,EAAEuU,IAAI,EAAE7S,OAAO,EAAE;IACtC,IAAMuX,MAAS,GAAA1E,IAAA,CAAKsjC,IAAI,CAACqiD,OAAO;IAEhC,IAAI,CAAC5D,gBAAiB,CAAAr9E,MAAA,KAAWvX,OAAQ,CAAAsR,QAAQ,KAAK,mBAAqB;MACzE;;IAGFwlF,SAAA,CAAUx4F,KAAM,CAAAkT,GAAG,EAAE+F,MAAA,EAAQjZ,KAAA,CAAMsJ,SAAS;EAC9C;EAEAyK,QAAU;IACR0iF,SAAA,EAAW,IAAI;IACfzjF,QAAU;EACZ;AACF,CAAE;ACzEF,IAAMonF,UAAA,GAAa,SAAbA,WAAcC,SAAA,EAAWrnB,QAAa;EAC1C,IAAAsnB,oBAAA,GAAkDD,SAAA,CAA7CE,SAAY;IAAZA,SAAY,GAAAD,oBAAA,cAAAtnB,QAAA,GAAAsnB,oBAAA;IAAAE,mBAAA,GAAiCH,SAAA,CAAvBI,QAAW;IAAXA,QAAW,GAAAD,mBAAA,cAAAxnB,QAAA,GAAAwnB,mBAAA;EAEtC,IAAIH,SAAA,CAAUK,aAAa,EAAE;IAC3BH,SAAY,GAAA12F,IAAA,CAAKL,GAAG,CAAC+2F,SAAW,EAAAvnB,QAAA;IAChCynB,QAAA,GAAWJ,SAAA,CAAUM,eAAe,IAAI92F,IAAK,CAAAL,GAAG,CAACi3F,QAAU,EAAAznB,QAAA;;EAG7D,OAAO;IACLynB,QAAA,EAAAA,QAAA;IACAF,SAAA,EAAAA,SAAA;IACAK,UAAY,EAAA/2F,IAAA,CAAKN,GAAG,CAACyvE,QAAU,EAAAunB,SAAA;EACjC;AACF;AAEA,IAAMM,UAAA,GAAa,SAAbA,WAAcj/E,CAAG,EAAAC,CAAA;EAAA,OAAMD,CAAA,KAAM,IAAI,IAAIC,CAAA,KAAM,IAAI,IAAID,CAAA,CAAE27B,YAAY,KAAK17B,CAAA,CAAE07B,YAAY,IAAI37B,CAAA,CAAE5C,KAAK,KAAK6C,CAAA,CAAE7C,KAAK;AAAA;AAAA,IAEpG8hF,MAAe,0BAAAC,SAAA;EAAAtzC,SAAA,CAAAqzC,MAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAAtzC,YAAA,CAAAozC,MAAA;EAK1B,SAAAA,OAAYvpE,MAAM,EAAE;IAAA,IAAA0pE,OAAA;IAAAprD,eAAA,OAAAirD,MAAA;IAClBG,OAAA,GAAAD,QAAA,CAAA5mF,IAAA;IAEA6mF,OAAA,CAAKC,MAAM,GAAG,KAAK;IAGnBD,OAAA,CAAKE,cAAc,GAAG,EAAE;IAKxBF,OAAA,CAAKG,YAAY,GAAG,IAAI;IAGxBH,OAAA,CAAKI,YAAY,GAAG,KAAK;IAEzBJ,OAAA,CAAKj7F,KAAK,GAAGuxB,MAAA,CAAOvxB,KAAK;IACzBi7F,OAAA,CAAKv5F,OAAO,GAAG6vB,MAAA,CAAO7vB,OAAO;IAC7Bu5F,OAAA,CAAK/nF,GAAG,GAAGqe,MAAA,CAAOre,GAAG;IACrB+nF,OAAA,CAAKK,WAAW,GAAGr7F,SAAA;IACnBg7F,OAAA,CAAKM,WAAW,GAAGt7F,SAAA;IACnBg7F,OAAA,CAAKO,UAAU,GAAGv7F,SAAA;IAClBg7F,OAAA,CAAKjtC,SAAS,GAAG/tD,SAAA;IACjBg7F,OAAA,CAAKltC,QAAQ,GAAG9tD,SAAA;IAChBg7F,OAAA,CAAK55F,GAAG,GAAGpB,SAAA;IACXg7F,OAAA,CAAK35F,MAAM,GAAGrB,SAAA;IACdg7F,OAAA,CAAK15F,IAAI,GAAGtB,SAAA;IACZg7F,OAAA,CAAKz5F,KAAK,GAAGvB,SAAA;IACbg7F,OAAA,CAAKz0F,MAAM,GAAGvG,SAAA;IACdg7F,OAAA,CAAK10F,KAAK,GAAGtG,SAAA;IACbg7F,OAAA,CAAK30B,QAAQ,GAAGrmE,SAAA;IAChBg7F,OAAA,CAAKhlC,QAAQ,GAAGh2D,SAAA;IAChBg7F,OAAA,CAAKtrE,MAAM,GAAG1vB,SAAA;IACdg7F,OAAA,CAAKthC,QAAQ,GAAG15D,SAAA;IAAA,OAAAg7F,OAAA;EAClB;EAAAjrD,YAAA,CAAA8qD,MAAA;IAAAp7F,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAO8jD,QAAQ,EAAEC,SAAS,EAAEma,OAAO,EAAE;MACnC,IAAI,CAACpa,QAAQ,GAAGA,QAAA;MAChB,IAAI,CAACC,SAAS,GAAGA,SAAA;MACjB,IAAI,CAACsY,QAAQ,GAAG6B,OAAA;MAEhB,IAAI,CAACK,aAAa;MAClB,IAAI,CAACizB,WAAW;MAChB,IAAI,CAACjyB,GAAG;IACV;EAAA;IAAA9pE,GAAA;IAAAmoB,KAAA,EAEA,SAAA2gD,cAAA,EAAgB;MACd,IAAI,IAAI,CAAC7kE,YAAY,EAAI;QACvB,IAAI,CAAC4C,KAAK,GAAG,IAAI,CAACwnD,QAAQ;QAC1B,IAAI,CAACxsD,IAAI,GAAG,IAAI,CAAC+kE,QAAQ,CAAC/kE,IAAI;QAC9B,IAAI,CAACC,KAAK,GAAG,IAAI,CAAC+E,KAAK;OAClB;QACL,IAAI,CAACC,MAAM,GAAG,IAAI,CAACwnD,SAAS;QAC5B,IAAI,CAAC3sD,GAAG,GAAG,IAAI,CAACilE,QAAQ,CAACjlE,GAAG;QAC5B,IAAI,CAACC,MAAM,GAAG,IAAI,CAACkF,MAAM;;IAE7B;EAAA;IAAA9G,GAAA;IAAAmoB,KAAA,EAEA,SAAA4zE,YAAA,EAAc;MAAA,IAAAC,OAAA;MACZ,IAAMrB,SAAA,GAAY,IAAI,CAAC34F,OAAO,CAACwE,MAAM,IAAI,EAAC;MAC1C,IAAIo1F,WAAc,GAAAp8F,6DAAA,CAAKm7F,SAAU,CAAAzqC,cAAc,EAAE,CAAC,IAAI,CAAC5vD,KAAK,CAAC,EAAE,IAAI,KAAK,EAAE;MAE1E,IAAIq6F,SAAA,CAAU30E,MAAM,EAAE;QACpB41E,WAAA,GAAcA,WAAY,CAAA51E,MAAM,CAAC,UAACpQ,IAAS;UAAA,OAAA+kF,SAAA,CAAU30E,MAAM,CAACpQ,IAAM,EAAAomF,OAAI,CAAC17F,KAAK,CAACkX,IAAI;QAAA;;MAGnF,IAAImjF,SAAA,CAAU7+E,IAAI,EAAE;QAClB8/E,WAAA,GAAcA,WAAY,CAAA9/E,IAAI,CAAC,UAACI,CAAA,EAAGC,CAAM;UAAA,OAAAw+E,SAAA,CAAU7+E,IAAI,CAACI,CAAA,EAAGC,CAAG,EAAA6/E,OAAI,CAAC17F,KAAK,CAACkX,IAAI;QAAA;;MAG/E,IAAI,IAAI,CAACxV,OAAO,CAACy8B,OAAO,EAAE;QACxBm9D,WAAA,CAAYn9D,OAAO;;MAGrB,IAAI,CAACm9D,WAAW,GAAGA,WAAA;IACrB;EAAA;IAAA57F,GAAA;IAAAmoB,KAAA,EAEA,SAAA2hD,IAAA,EAAM;MACJ,IAAO9nE,OAAO,GAAS,IAAI,CAApBA,OAAO;QAAEwR,GAAG,GAAI,IAAI,CAAXA,GAAG;MAMnB,IAAI,CAACxR,OAAQ,CAAAovB,OAAO,EAAE;QACpB,IAAI,CAACvqB,KAAK,GAAG,IAAI,CAACC,MAAM,GAAG;QAC3B;;MAGF,IAAM6zF,SAAA,GAAY34F,OAAA,CAAQwE,MAAM;MAChC,IAAMy1F,SAAA,GAAYr2B,8DAAO,CAAA+0B,SAAA,CAAU3qE,IAAI;MACvC,IAAMsjD,QAAA,GAAW2oB,SAAA,CAAU1rE,IAAI;MAC/B,IAAMq7C,WAAA,GAAc,IAAI,CAACswB,mBAAmB;MAC5C,IAAAC,WAAA,GAA+BzB,UAAA,CAAWC,SAAW,EAAArnB,QAAA;QAA9CynB,QAAQ,GAAAoB,WAAA,CAARpB,QAAQ;QAAEG,UAAA,GAAAiB,WAAA,CAAAjB,UAAA;MAEjB,IAAIr0F,KAAO,EAAAC,MAAA;MAEX0M,GAAI,CAAAwc,IAAI,GAAGisE,SAAA,CAAU1uB,MAAM;MAE3B,IAAI,IAAI,CAACtpE,YAAY,EAAI;QACvB4C,KAAA,GAAQ,IAAI,CAACwnD,QAAQ;QACrBvnD,MAAA,GAAS,IAAI,CAACs1F,QAAQ,CAACxwB,WAAa,EAAA0H,QAAA,EAAUynB,QAAA,EAAUG,UAAc;OACjE;QACLp0F,MAAA,GAAS,IAAI,CAACwnD,SAAS;QACvBznD,KAAA,GAAQ,IAAI,CAACw1F,QAAQ,CAACzwB,WAAa,EAAAqwB,SAAA,EAAWlB,QAAA,EAAUG,UAAc;;MAGxE,IAAI,CAACr0F,KAAK,GAAG1C,IAAA,CAAKL,GAAG,CAAC+C,KAAO,EAAA7E,OAAA,CAAQqsD,QAAQ,IAAI,IAAI,CAACA,QAAQ;MAC9D,IAAI,CAACvnD,MAAM,GAAG3C,IAAA,CAAKL,GAAG,CAACgD,MAAQ,EAAA9E,OAAA,CAAQssD,SAAS,IAAI,IAAI,CAACA,SAAS;IACpE;EAAA;IAAAtuD,GAAA;IAAAmoB,KAAA,EAKA,SAAAi0E,SAASxwB,WAAW,EAAE0H,QAAQ,EAAEynB,QAAQ,EAAEG,UAAU,EAAE;MACpD,IAAO1nF,GAAG,GAA4C,IAAI,CAAnDA,GAAG;QAAE66C,QAAQ,GAAkC,IAAI,CAA9CA,QAAQ;QAAqBl+B,OAAA,GAAa,IAAI,CAApCnuB,OAAA,CAAUwE,MAAA,CAAS2pB,OAAA;MACzC,IAAMmsE,QAAW,OAAI,CAACb,cAAc,GAAG,EAAE;MAEzC,IAAMK,UAAa,OAAI,CAACA,UAAU,GAAG,CAAC,EAAE;MACxC,IAAMh2B,UAAA,GAAao1B,UAAa,GAAA/qE,OAAA;MAChC,IAAIosE,WAAc,GAAA3wB,WAAA;MAElBp4D,GAAA,CAAI08D,SAAS,GAAG;MAChB18D,GAAA,CAAI68D,YAAY,GAAG;MAEnB,IAAImsB,GAAA,GAAM,CAAC;MACX,IAAI76F,GAAA,GAAM,CAACmkE,UAAA;MACX,IAAI,CAAC81B,WAAW,CAACljF,OAAO,CAAC,UAAC63C,UAAA,EAAY/uD,CAAM;QAC1C,IAAMi7F,SAAA,GAAY1B,QAAY,GAAAznB,QAAA,GAAW,CAAK,GAAA9/D,GAAA,CAAIkpF,WAAW,CAACnsC,UAAA,CAAWn9B,IAAI,EAAEvsB,KAAK;QAEpF,IAAIrF,CAAM,UAAKs6F,UAAU,CAACA,UAAW,CAAAr6F,MAAM,GAAG,EAAE,GAAGg7F,SAAA,GAAY,CAAI,GAAAtsE,OAAA,GAAUk+B,QAAU;UACrFkuC,WAAe,IAAAz2B,UAAA;UACfg2B,UAAU,CAACA,UAAW,CAAAr6F,MAAM,IAAID,CAAI,OAAI,CAAI,IAAC,CAAD,CAAG,GAAG;UAClDG,GAAO,IAAAmkE,UAAA;UACP02B,GAAA;;QAGFF,QAAQ,CAAC96F,CAAA,CAAE,GAAG;UAACK,IAAM;UAAGF,GAAA,EAAAA,GAAA;UAAK66F,GAAA,EAAAA,GAAA;UAAK31F,KAAO,EAAA41F,SAAA;UAAW31F,MAAQ,EAAAo0F;QAAU;QAEtEY,UAAU,CAACA,UAAW,CAAAr6F,MAAM,GAAG,EAAE,IAAIg7F,SAAY,GAAAtsE,OAAA;MACnD;MAEA,OAAOosE,WAAA;IACT;EAAA;IAAAv8F,GAAA;IAAAmoB,KAAA,EAEA,SAAAk0E,SAASzwB,WAAW,EAAEqwB,SAAS,EAAElB,QAAQ,EAAE4B,WAAW,EAAE;MACtD,IAAOnpF,GAAG,GAA6C,IAAI,CAApDA,GAAG;QAAE86C,SAAS,GAAkC,IAAI,CAA/CA,SAAS;QAAqBn+B,OAAA,GAAa,IAAI,CAApCnuB,OAAA,CAAUwE,MAAA,CAAS2pB,OAAA;MAC1C,IAAMmsE,QAAW,OAAI,CAACb,cAAc,GAAG,EAAE;MACzC,IAAMI,WAAc,OAAI,CAACA,WAAW,GAAG,EAAE;MACzC,IAAMe,WAAA,GAActuC,SAAY,GAAAsd,WAAA;MAEhC,IAAIixB,UAAa,GAAA1sE,OAAA;MACjB,IAAI2sE,eAAkB;MACtB,IAAIC,gBAAmB;MAEvB,IAAIl7F,IAAO;MACX,IAAIm7F,GAAM;MAEV,IAAI,CAACpB,WAAW,CAACljF,OAAO,CAAC,UAAC63C,UAAA,EAAY/uD,CAAM;QAC1C,IAAAy7F,kBAAA,GAAgCC,iBAAkB,CAAAnC,QAAA,EAAUkB,SAAW,EAAAzoF,GAAA,EAAK+8C,UAAY,EAAAosC,WAAA;UAAjFF,SAAS,GAAAQ,kBAAA,CAATR,SAAS;UAAEvB,UAAU,GAAA+B,kBAAA,CAAV/B,UAAU;QAG5B,IAAI15F,CAAA,GAAI,CAAK,IAAAu7F,gBAAA,GAAmB7B,UAAa,OAAI/qE,OAAA,GAAUysE,WAAa;UACtEC,UAAA,IAAcC,eAAkB,GAAA3sE,OAAA;UAChC0rE,WAAA,CAAYh5F,IAAI,CAAC;YAACgE,KAAO,EAAAi2F,eAAA;YAAiBh2F,MAAQ,EAAAi2F;UAAgB;UAClEl7F,IAAA,IAAQi7F,eAAkB,GAAA3sE,OAAA;UAC1B6sE,GAAA;UACAF,eAAA,GAAkBC,gBAAmB;;QAIvCT,QAAQ,CAAC96F,CAAA,CAAE,GAAG;UAACK,IAAA,EAAAA,IAAA;UAAMF,GAAK,EAAAo7F,gBAAA;UAAkBC,GAAA,EAAAA,GAAA;UAAKn2F,KAAO,EAAA41F,SAAA;UAAW31F,MAAQ,EAAAo0F;QAAU;QAGrF4B,eAAkB,GAAA34F,IAAA,CAAKN,GAAG,CAACi5F,eAAiB,EAAAL,SAAA;QAC5CM,gBAAA,IAAoB7B,UAAa,GAAA/qE,OAAA;MACnC;MAEA0sE,UAAc,IAAAC,eAAA;MACdjB,WAAA,CAAYh5F,IAAI,CAAC;QAACgE,KAAO,EAAAi2F,eAAA;QAAiBh2F,MAAQ,EAAAi2F;MAAgB;MAElE,OAAOF,UAAA;IACT;EAAA;IAAA78F,GAAA;IAAAmoB,KAAA,EAEA,SAAAg1E,eAAA,EAAiB;MACf,IAAI,CAAC,IAAI,CAACn7F,OAAO,CAACovB,OAAO,EAAE;QACzB;;MAEF,IAAMw6C,WAAA,GAAc,IAAI,CAACswB,mBAAmB;MAC5C,IAAuBI,QAAA,GAAsD,IAAI,CAA1Eb,cAAgB;QAAA2B,eAAA,GAAsD,IAAI,CAAhDp7F,OAAS;QAACyiE,KAAA,GAAA24B,eAAA,CAAA34B,KAAA;QAAgBt0C,OAAO,GAAAitE,eAAA,CAAhB52F,MAAA,CAAS2pB,OAAO;QAAGktE,GAAA,GAAAD,eAAA,CAAAC,GAAA;MACrE,IAAMC,SAAA,GAAYC,8DAAA,CAAcF,GAAK,MAAI,CAACx7F,IAAI,EAAE,IAAI,CAACgF,KAAK;MAC1D,IAAI,IAAI,CAAC5C,YAAY,EAAI;QACvB,IAAIu4F,GAAM;QACV,IAAI36F,IAAA,GAAOykE,8DAAe,CAAA7B,KAAA,EAAO,IAAI,CAAC5iE,IAAI,GAAGsuB,OAAA,EAAS,IAAI,CAACruB,KAAK,GAAG,IAAI,CAACg6F,UAAU,CAACU,GAAI;QAAA,IAAAgB,WAAA,GAAAhkD,0BAAA,CAClE8iD,QAAU;UAAAmB,OAAA;QAAA;UAA/B,KAAAD,WAAA,CAAA16D,CAAA,MAAA26D,OAAA,GAAAD,WAAA,CAAAz6D,CAAA,IAAApG,IAAA,GAA+B;YAAA,IAApB+gE,MAAA,GAAAD,OAAA,CAAAt1E,KAAA;YACT,IAAIq0E,GAAA,KAAQkB,MAAO,CAAAlB,GAAG,EAAE;cACtBA,GAAA,GAAMkB,MAAA,CAAOlB,GAAG;cAChB36F,IAAA,GAAOykE,8DAAe,CAAA7B,KAAA,EAAO,IAAI,CAAC5iE,IAAI,GAAGsuB,OAAA,EAAS,IAAI,CAACruB,KAAK,GAAG,IAAI,CAACg6F,UAAU,CAACU,GAAI;;YAErFkB,MAAA,CAAO/7F,GAAG,IAAI,IAAI,CAACA,GAAG,GAAGiqE,WAAc,GAAAz7C,OAAA;YACvCutE,MAAO,CAAA77F,IAAI,GAAGy7F,SAAA,CAAUK,UAAU,CAACL,SAAA,CAAU58F,CAAC,CAACmB,IAAO,GAAA67F,MAAA,CAAO72F,KAAK;YAClEhF,IAAQ,IAAA67F,MAAA,CAAO72F,KAAK,GAAGspB,OAAA;UACzB;QAAA,SAAA+J,GAAA;UAAAsjE,WAAA,CAAAjsF,CAAA,CAAA2oB,GAAA;QAAA;UAAAsjE,WAAA,CAAA17D,CAAA;QAAA;OACK;QACL,IAAIk7D,GAAM;QACV,IAAIr7F,GAAA,GAAM2kE,8DAAe,CAAA7B,KAAA,EAAO,IAAI,CAAC9iE,GAAG,GAAGiqE,WAAc,GAAAz7C,OAAA,EAAS,IAAI,CAACvuB,MAAM,GAAG,IAAI,CAACi6F,WAAW,CAACmB,GAAA,CAAI,CAACl2F,MAAM;QAAA,IAAA82F,WAAA,GAAApkD,0BAAA,CACvF8iD,QAAU;UAAAuB,OAAA;QAAA;UAA/B,KAAAD,WAAA,CAAA96D,CAAA,MAAA+6D,OAAA,GAAAD,WAAA,CAAA76D,CAAA,IAAApG,IAAA,GAA+B;YAAA,IAApB+gE,OAAA,GAAAG,OAAA,CAAA11E,KAAA;YACT,IAAIu1E,OAAA,CAAOV,GAAG,KAAKA,GAAK;cACtBA,GAAA,GAAMU,OAAA,CAAOV,GAAG;cAChBr7F,GAAA,GAAM2kE,8DAAA,CAAe7B,KAAO,MAAI,CAAC9iE,GAAG,GAAGiqE,WAAA,GAAcz7C,OAAS,MAAI,CAACvuB,MAAM,GAAG,IAAI,CAACi6F,WAAW,CAACmB,GAAA,CAAI,CAACl2F,MAAM;;YAE1G42F,OAAA,CAAO/7F,GAAG,GAAGA,GAAA;YACb+7F,OAAA,CAAO77F,IAAI,IAAI,IAAI,CAACA,IAAI,GAAGsuB,OAAA;YAC3ButE,OAAA,CAAO77F,IAAI,GAAGy7F,SAAU,CAAAK,UAAU,CAACL,SAAA,CAAU58F,CAAC,CAACg9F,OAAO,CAAA77F,IAAI,CAAG,EAAA67F,OAAA,CAAO72F,KAAK;YACzElF,GAAO,IAAA+7F,OAAA,CAAO52F,MAAM,GAAGqpB,OAAA;UACzB;QAAA,SAAA+J,GAAA;UAAA0jE,WAAA,CAAArsF,CAAA,CAAA2oB,GAAA;QAAA;UAAA0jE,WAAA,CAAA97D,CAAA;QAAA;;IAEJ;EAAA;IAAA9hC,GAAA;IAAAmoB,KAAA,EAEA,SAAAlkB,aAAA,EAAe;MACb,OAAO,IAAI,CAACjC,OAAO,CAACu0D,QAAQ,KAAK,KAAS,QAAI,CAACv0D,OAAO,CAACu0D,QAAQ,KAAK;IACtE;EAAA;IAAAv2D,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAA,EAAO;MACL,IAAI,IAAI,CAACnR,OAAO,CAACovB,OAAO,EAAE;QACxB,IAAM5d,GAAA,GAAM,IAAI,CAACA,GAAG;QACpB++D,6DAAA,CAAS/+D,GAAA,EAAK,IAAI;QAElB,IAAI,CAACsqF,KAAK;QAEVlrB,6DAAW,CAAAp/D,GAAA;;IAEf;EAAA;IAAAxT,GAAA;IAAAmoB,KAAA,EAKA,SAAA21E,MAAA,EAAQ;MAAA,IAAAC,OAAA;MACN,IAAgBn+F,IAAA,GAAsC,IAAI,CAAnDoC,OAAS;QAAM65F,WAAA,GAAgC,IAAI,CAApCA,WAAA;QAAaC,UAAA,GAAmB,IAAI,CAAvBA,UAAA;QAAYtoF,GAAA,GAAO,IAAI,CAAXA,GAAA;MAC/C,IAAOixD,KAAK,GAAuB7kE,IAAA,CAA5B6kE,KAAK;QAAUk2B,SAAA,GAAa/6F,IAAA,CAArB4G,MAAQ;MACtB,IAAMw3F,YAAA,GAAe3pF,+DAAc;MACnC,IAAMipF,SAAA,GAAYC,8DAAc,CAAA39F,IAAA,CAAKy9F,GAAG,EAAE,IAAI,CAACx7F,IAAI,EAAE,IAAI,CAACgF,KAAK;MAC/D,IAAMo1F,SAAA,GAAYr2B,8DAAO,CAAA+0B,SAAA,CAAU3qE,IAAI;MACvC,IAAOG,OAAO,GAAIwqE,SAAA,CAAXxqE,OAAO;MACd,IAAMmjD,QAAA,GAAW2oB,SAAA,CAAU1rE,IAAI;MAC/B,IAAM0tE,YAAA,GAAe3qB,QAAW;MAChC,IAAI4qB,MAAA;MAEJ,IAAI,CAACrrB,SAAS;MAGdr/D,GAAA,CAAI08D,SAAS,GAAGotB,SAAU,CAAAptB,SAAS,CAAC;MACpC18D,GAAA,CAAI68D,YAAY,GAAG;MACnB78D,GAAA,CAAIO,SAAS,GAAG;MAChBP,GAAI,CAAAwc,IAAI,GAAGisE,SAAA,CAAU1uB,MAAM;MAE3B,IAAA4wB,YAAA,GAA0CzD,UAAA,CAAWC,SAAW,EAAArnB,QAAA;QAAzDynB,QAAA,GAAAoD,YAAA,CAAApD,QAAA;QAAUF,SAAA,GAAAsD,YAAA,CAAAtD,SAAA;QAAWK,UAAU,GAAAiD,YAAA,CAAVjD,UAAU;MAGtC,IAAMkD,aAAA,GAAgB,SAAhBA,cAAyB19F,CAAC,EAAEC,CAAC,EAAE4vD,UAAU,EAAE;QAC/C,IAAIlqD,KAAA,CAAM00F,QAAa,KAAAA,QAAA,IAAY,KAAK10F,KAAM,CAAAw0F,SAAA,KAAcA,SAAA,GAAY,CAAG;UACzE;;QAIFrnF,GAAA,CAAIC,IAAI;QAER,IAAMM,SAAY,GAAAxU,6DAAA,CAAegxD,UAAW,CAAAx8C,SAAS,EAAE;QACvDP,GAAA,CAAIG,SAAS,GAAGpU,6DAAe,CAAAgxD,UAAA,CAAW58C,SAAS,EAAEqqF,YAAA;QACrDxqF,GAAA,CAAIw3E,OAAO,GAAGzrF,6DAAe,CAAAgxD,UAAA,CAAWy6B,OAAO,EAAE;QACjDx3E,GAAA,CAAIs+D,cAAc,GAAGvyE,6DAAe,CAAAgxD,UAAA,CAAWuhB,cAAc,EAAE;QAC/Dt+D,GAAA,CAAIk2E,QAAQ,GAAGnqF,6DAAe,CAAAgxD,UAAA,CAAWm5B,QAAQ,EAAE;QACnDl2E,GAAA,CAAIO,SAAS,GAAGA,SAAA;QAChBP,GAAA,CAAIQ,WAAW,GAAGzU,6DAAe,CAAAgxD,UAAA,CAAWv8C,WAAW,EAAEgqF,YAAA;QAEzDxqF,GAAA,CAAIq+D,WAAW,CAACtyE,6DAAA,CAAegxD,UAAW,CAAA8tC,QAAQ,EAAE,EAAE;QAEtD,IAAI1D,SAAA,CAAUK,aAAa,EAAE;UAG3B,IAAMsD,WAAc;YAClBtzC,MAAQ,EAAA6vC,SAAA,GAAY12F,IAAK,CAAAo6F,KAAK,GAAG;YACjCnuC,UAAA,EAAYG,UAAA,CAAWH,UAAU;YACjC3uC,QAAA,EAAU8uC,UAAA,CAAW9uC,QAAQ;YAC7B3N,WAAa,EAAAC;UACf;UACA,IAAMm7C,OAAU,GAAAouC,SAAA,CAAUkB,KAAK,CAAC99F,CAAA,EAAGq6F,QAAW;UAC9C,IAAM5rC,OAAA,GAAUxuD,CAAI,GAAAs9F,YAAA;UAGpBQ,8DAAA,CAAgBjrF,GAAA,EAAK8qF,WAAa,EAAApvC,OAAA,EAASC,OAAS,EAAAwrC,SAAA,CAAUM,eAAe,IAAIF,QAAA;SAC5E;UAGL,IAAM2D,OAAA,GAAU/9F,CAAI,GAAAwD,IAAA,CAAKN,GAAG,CAAC,CAACyvE,QAAA,GAAWunB,SAAQ,IAAK,CAAG;UACzD,IAAM8D,QAAW,GAAArB,SAAA,CAAUK,UAAU,CAACj9F,CAAG,EAAAq6F,QAAA;UACzC,IAAM9T,YAAA,GAAeuJ,8DAAc,CAAAjgC,UAAA,CAAW02B,YAAY;UAE1DzzE,GAAA,CAAIE,SAAS;UAEb,IAAIpS,MAAA,CAAO0a,MAAM,CAACirE,YAAA,EAAc3O,IAAI,CAAC,UAAAlyE,CAAK;YAAA,OAAAA,CAAA,KAAM,CAAI;UAAA;YAClD4rF,8DAAA,CAAmBx+E,GAAK;cACtB9S,CAAG,EAAAi+F,QAAA;cACHh+F,CAAG,EAAA+9F,OAAA;cACHx7D,CAAG,EAAA63D,QAAA;cACHh6D,CAAG,EAAA85D,SAAA;cACH7vC,MAAQ,EAAAi8B;YACV;WACK;YACLzzE,GAAA,CAAIrE,IAAI,CAACwvF,QAAU,EAAAD,OAAA,EAAS3D,QAAU,EAAAF,SAAA;;UAGxCrnF,GAAA,CAAIspC,IAAI;UACR,IAAI/oC,SAAA,KAAc,CAAG;YACnBP,GAAA,CAAIy+D,MAAM;;;QAIdz+D,GAAA,CAAIW,OAAO;MACb;MAEA,IAAMyqF,QAAA,GAAW,SAAXA,SAAoBl+F,CAAC,EAAEC,CAAC,EAAE4vD,UAAU,EAAE;QAC1CoiB,6DAAW,CAAAn/D,GAAA,EAAK+8C,UAAA,CAAWn9B,IAAI,EAAE1yB,CAAA,EAAGC,CAAK,GAAAu6F,UAAA,GAAa,GAAIe,SAAW;UACnE4C,aAAA,EAAetuC,UAAA,CAAW/U,MAAM;UAChC00B,SAAA,EAAWotB,SAAU,CAAAptB,SAAS,CAAC3f,UAAA,CAAW2f,SAAS;QACrD;MACF;MAGA,IAAMjsE,YAAA,GAAe,IAAI,CAACA,YAAY;MACtC,IAAM2nE,WAAA,GAAc,IAAI,CAACswB,mBAAmB;MAC5C,IAAIj4F,YAAc;QAChBi6F,MAAS;UACPx9F,CAAA,EAAG4lE,8DAAe,CAAA7B,KAAA,EAAO,IAAI,CAAC5iE,IAAI,GAAGsuB,OAAS,MAAI,CAACruB,KAAK,GAAGg6F,UAAU,CAAC,CAAE;UACxEn7F,CAAA,EAAG,IAAI,CAACgB,GAAG,GAAGwuB,OAAU,GAAAy7C,WAAA;UACxBhb,IAAM;QACR;OACK;QACLstC,MAAS;UACPx9F,CAAG,MAAI,CAACmB,IAAI,GAAGsuB,OAAA;UACfxvB,CAAA,EAAG2lE,8DAAA,CAAe7B,KAAO,MAAI,CAAC9iE,GAAG,GAAGiqE,WAAc,GAAAz7C,OAAA,EAAS,IAAI,CAACvuB,MAAM,GAAGi6F,WAAW,CAAC,EAAE,CAAC/0F,MAAM;UAC9F8pD,IAAM;QACR;;MAGFkuC,8DAAA,CAAsB,IAAI,CAACtrF,GAAG,EAAE5T,IAAA,CAAKm/F,aAAa;MAElD,IAAMj5B,UAAA,GAAao1B,UAAa,GAAA/qE,OAAA;MAChC,IAAI,CAACyrE,WAAW,CAACljF,OAAO,CAAC,UAAC63C,UAAA,EAAY/uD,CAAM;QAC1CgS,GAAA,CAAIQ,WAAW,GAAGu8C,UAAW,CAAAF,SAAS;QACtC78C,GAAA,CAAIG,SAAS,GAAG48C,UAAW,CAAAF,SAAS;QAEpC,IAAM2uC,SAAA,GAAYxrF,GAAI,CAAAkpF,WAAW,CAACnsC,UAAW,CAAAn9B,IAAI,EAAEvsB,KAAK;QACxD,IAAMqpE,SAAY,GAAAotB,SAAA,CAAUptB,SAAS,CAAC3f,UAAW,CAAA2f,SAAS,KAAK3f,UAAW,CAAA2f,SAAS,GAAGyqB,SAAA,CAAUzqB,SAAS,CAAD;QACxG,IAAMrpE,KAAA,GAAQk0F,QAAA,GAAWkD,YAAe,GAAAe,SAAA;QACxC,IAAIt+F,CAAA,GAAIw9F,MAAA,CAAOx9F,CAAC;QAChB,IAAIC,CAAA,GAAIu9F,MAAA,CAAOv9F,CAAC;QAEhB28F,SAAA,CAAU2B,QAAQ,CAAClB,OAAI,CAACl3F,KAAK;QAE7B,IAAI5C,YAAc;UAChB,IAAIzC,CAAA,GAAI,KAAKd,CAAI,GAAAmG,KAAA,GAAQspB,OAAA,GAAU4tE,OAAI,CAACj8F,KAAK,EAAE;YAC7CnB,CAAI,GAAAu9F,MAAA,CAAOv9F,CAAC,IAAImlE,UAAA;YAChBo4B,MAAA,CAAOttC,IAAI;YACXlwD,CAAA,GAAIw9F,MAAA,CAAOx9F,CAAC,GAAG4lE,8DAAA,CAAe7B,KAAO,EAAAs5B,OAAI,CAACl8F,IAAI,GAAGsuB,OAAS,EAAA4tE,OAAI,CAACj8F,KAAK,GAAGg6F,UAAU,CAACoC,MAAA,CAAOttC,IAAI,CAAC;;SAE3F,UAAIpvD,CAAA,GAAI,CAAK,IAAAb,CAAA,GAAImlE,UAAA,GAAai4B,OAAI,CAACn8F,MAAM,EAAE;UAChDlB,CAAI,GAAAw9F,MAAA,CAAOx9F,CAAC,GAAGA,CAAI,GAAAm7F,WAAW,CAACqC,MAAA,CAAOttC,IAAI,CAAC,CAAC/pD,KAAK,GAAGspB,OAAA;UACpD+tE,MAAA,CAAOttC,IAAI;UACXjwD,CAAI,GAAAu9F,MAAA,CAAOv9F,CAAC,GAAG2lE,8DAAA,CAAe7B,KAAA,EAAOs5B,OAAI,CAACp8F,GAAG,GAAGiqE,WAAA,GAAcz7C,OAAA,EAAS4tE,OAAI,CAACn8F,MAAM,GAAGi6F,WAAW,CAACqC,MAAO,CAAAttC,IAAI,CAAC,CAAC9pD,MAAM;;QAGtH,IAAMo4F,KAAA,GAAQ5B,SAAU,CAAA58F,CAAC,CAACA,CAAA;QAE1B09F,aAAA,CAAcc,KAAA,EAAOv+F,CAAG,EAAA4vD,UAAA;QAExB7vD,CAAA,GAAIy+F,8DAAO,CAAAjvB,SAAA,EAAWxvE,CAAI,GAAAq6F,QAAA,GAAWkD,YAAc,EAAAh6F,YAAA,GAAevD,CAAI,GAAAmG,KAAA,GAAQk3F,OAAI,CAACj8F,KAAK,EAAElC,IAAA,CAAKy9F,GAAG;QAGlGuB,QAAA,CAAStB,SAAU,CAAA58F,CAAC,CAACA,CAAA,GAAIC,CAAG,EAAA4vD,UAAA;QAE5B,IAAItsD,YAAc;UAChBi6F,MAAO,CAAAx9F,CAAC,IAAImG,KAAQ,GAAAspB,OAAA;QACtB,OAAO,IAAI,OAAOogC,UAAW,CAAAn9B,IAAI,KAAK,QAAU;UAC9C,IAAMgsE,cAAA,GAAiBnD,SAAA,CAAUn2B,UAAU;UAC3Co4B,MAAA,CAAOv9F,CAAC,IAAI0+F,yBAA0B,CAAA9uC,UAAA,EAAY6uC,cAAkB,IAAAjvE,OAAA;SAC/D;UACL+tE,MAAA,CAAOv9F,CAAC,IAAImlE,UAAA;;MAEhB;MAEAw5B,8DAAA,CAAqB,IAAI,CAAC9rF,GAAG,EAAE5T,IAAA,CAAKm/F,aAAa;IACnD;EAAA;IAAA/+F,GAAA;IAAAmoB,KAAA,EAKA,SAAA0qD,UAAA,EAAY;MACV,IAAMjzE,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAM0pE,SAAA,GAAY9rE,IAAA,CAAK0rE,KAAK;MAC5B,IAAMh7C,SAAA,GAAYs1C,8DAAO,CAAA8F,SAAA,CAAU17C,IAAI;MACvC,IAAMuvE,YAAA,GAAeziC,6DAAU,CAAA4O,SAAA,CAAUv7C,OAAO;MAEhD,IAAI,CAACu7C,SAAU,CAAAt6C,OAAO,EAAE;QACtB;;MAGF,IAAMksE,SAAA,GAAYC,8DAAc,CAAA39F,IAAA,CAAKy9F,GAAG,EAAE,IAAI,CAACx7F,IAAI,EAAE,IAAI,CAACgF,KAAK;MAC/D,IAAM2M,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM+iD,QAAA,GAAWmV,SAAA,CAAUnV,QAAQ;MACnC,IAAM0nC,YAAA,GAAe3tE,SAAU,CAAAC,IAAI,GAAG;MACtC,IAAMivE,0BAAA,GAA6BD,YAAa,CAAA59F,GAAG,GAAGs8F,YAAA;MACtD,IAAIt9F,CAAA;MAIJ,IAAIkB,IAAA,GAAO,IAAI,CAACA,IAAI;MACpB,IAAIwsD,QAAA,GAAW,IAAI,CAACxnD,KAAK;MAEzB,IAAI,IAAI,CAAC5C,YAAY,EAAI;QAEvBoqD,QAAA,GAAWlqD,IAAK,CAAAN,GAAG,CAAAqV,KAAA,CAAR/U,IAAK,EAAA69B,kBAAA,CAAO,IAAI,CAAC85D,UAAU;QACtCn7F,CAAI,OAAI,CAACgB,GAAG,GAAG69F,0BAAA;QACf39F,IAAO,GAAAykE,8DAAA,CAAe1mE,IAAA,CAAK6kE,KAAK,EAAE5iE,IAAA,EAAM,IAAI,CAACC,KAAK,GAAGusD,QAAA;OAChD;QAEL,IAAMC,SAAA,GAAY,IAAI,CAACutC,WAAW,CAACtoD,MAAM,CAAC,UAACC,GAAK,EAAAjjB,IAAA;UAAA,OAASpsB,IAAA,CAAKN,GAAG,CAAC2vC,GAAK,EAAAjjB,IAAA,CAAKzpB,MAAM,CAAG;QAAA;QACrFnG,CAAI,GAAA6+F,0BAAA,GAA6Bl5B,8DAAA,CAAe1mE,IAAK,CAAA6kE,KAAK,EAAE,IAAI,CAAC9iE,GAAG,EAAE,IAAI,CAACC,MAAM,GAAG0sD,SAAA,GAAY1uD,IAAK,CAAA4G,MAAM,CAAC2pB,OAAO,GAAG,IAAI,CAAC+rE,mBAAmB;;MAKhJ,IAAMx7F,CAAI,GAAA4lE,8DAAA,CAAe/P,QAAU,EAAA10D,IAAA,EAAMA,IAAO,GAAAwsD,QAAA;MAGhD76C,GAAA,CAAI08D,SAAS,GAAGotB,SAAU,CAAAptB,SAAS,CAAChK,8DAAmB,CAAA3P,QAAA;MACvD/iD,GAAA,CAAI68D,YAAY,GAAG;MACnB78D,GAAI,CAAAQ,WAAW,GAAG03D,SAAA,CAAUl7B,KAAK;MACjCh9B,GAAI,CAAAG,SAAS,GAAG+3D,SAAA,CAAUl7B,KAAK;MAC/Bh9B,GAAI,CAAAwc,IAAI,GAAGM,SAAA,CAAUi9C,MAAM;MAE3BoF,6DAAA,CAAWn/D,GAAK,EAAAk4D,SAAA,CAAUt4C,IAAI,EAAE1yB,CAAA,EAAGC,CAAG,EAAA2vB,SAAA;IACxC;EAAA;IAAAtwB,GAAA;IAAAmoB,KAAA,EAKA,SAAA+zE,oBAAA,EAAsB;MACpB,IAAMxwB,SAAY,OAAI,CAAC1pE,OAAO,CAACspE,KAAK;MACpC,IAAMh7C,SAAA,GAAYs1C,8DAAO,CAAA8F,SAAA,CAAU17C,IAAI;MACvC,IAAMuvE,YAAA,GAAeziC,6DAAU,CAAA4O,SAAA,CAAUv7C,OAAO;MAChD,OAAOu7C,SAAA,CAAUt6C,OAAO,GAAGd,SAAA,CAAUw1C,UAAU,GAAGy5B,YAAA,CAAaz4F,MAAM,GAAG,CAAC;IAC3E;EAAA;IAAA9G,GAAA;IAAAmoB,KAAA,EAKA,SAAAs3E,iBAAiB/+F,CAAC,EAAEC,CAAC,EAAE;MACrB,IAAIa,CAAA,EAAGk+F,MAAQ,EAAAC,EAAA;MAEf,IAAIpV,8DAAA,CAAW7pF,CAAG,MAAI,CAACmB,IAAI,EAAE,IAAI,CAACC,KAAK,KAClCyoF,8DAAW,CAAA5pF,CAAA,EAAG,IAAI,CAACgB,GAAG,EAAE,IAAI,CAACC,MAAM,CAAG;QAEzC+9F,EAAK,OAAI,CAAClE,cAAc;QACxB,KAAKj6F,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAIm+F,EAAA,CAAGl+F,MAAM,EAAE,EAAED,CAAG;UAC9Bk+F,MAAS,GAAAC,EAAE,CAACn+F,CAAE;UAEd,IAAI+oF,8DAAA,CAAW7pF,CAAA,EAAGg/F,MAAO,CAAA79F,IAAI,EAAE69F,MAAO,CAAA79F,IAAI,GAAG69F,MAAO,CAAA74F,KAAK,KACpD0jF,8DAAW,CAAA5pF,CAAA,EAAG++F,MAAA,CAAO/9F,GAAG,EAAE+9F,MAAA,CAAO/9F,GAAG,GAAG+9F,MAAO,CAAA54F,MAAM,CAAG;YAE1D,OAAO,IAAI,CAAC80F,WAAW,CAACp6F,CAAE;;QAE9B;;MAGF,OAAO,IAAI;IACb;EAAA;IAAAxB,GAAA;IAAAmoB,KAAA,EAMA,SAAAy3E,YAAYruF,CAAC,EAAE;MACb,IAAM3R,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAI,CAAC69F,UAAA,CAAWtuF,CAAE,CAAA/H,IAAI,EAAE5J,IAAO;QAC7B;;MAIF,IAAMkgG,WAAA,GAAc,IAAI,CAACL,gBAAgB,CAACluF,CAAE,CAAA7Q,CAAC,EAAE6Q,CAAA,CAAE5Q,CAAC;MAElD,IAAI4Q,CAAA,CAAE/H,IAAI,KAAK,eAAe+H,CAAE,CAAA/H,IAAI,KAAK,UAAY;QACnD,IAAMN,QAAA,GAAW,IAAI,CAACwyF,YAAY;QAClC,IAAMqE,QAAA,GAAW5E,UAAA,CAAWjyF,QAAU,EAAA42F,WAAA;QACtC,IAAI52F,QAAA,IAAY,CAAC62F,QAAU;UACzBvgG,6DAAK,CAAAI,IAAA,CAAKogG,OAAO,EAAE,CAACzuF,CAAA,EAAGrI,QAAA,EAAU,IAAI,CAAC,EAAE,IAAI;;QAG9C,IAAI,CAACwyF,YAAY,GAAGoE,WAAA;QAEpB,IAAIA,WAAA,IAAe,CAACC,QAAU;UAC5BvgG,6DAAK,CAAAI,IAAA,CAAK0mF,OAAO,EAAE,CAAC/0E,CAAA,EAAGuuF,WAAA,EAAa,IAAI,CAAC,EAAE,IAAI;;MAEnD,OAAO,IAAIA,WAAa;QACtBtgG,6DAAK,CAAAI,IAAA,CAAK0wD,OAAO,EAAE,CAAC/+C,CAAA,EAAGuuF,WAAA,EAAa,IAAI,CAAC,EAAE,IAAI;;IAEnD;EAAA;EAAA,OAAA1E,MAAA;AAAA,EA/f0B74B,OAAA;AAkgB5B,SAAS26B,kBAAkBnC,QAAQ,EAAEkB,SAAS,EAAEzoF,GAAG,EAAE+8C,UAAU,EAAEosC,WAAW,EAAE;EAC5E,IAAMF,SAAY,GAAAwD,kBAAA,CAAmB1vC,UAAY,EAAAwqC,QAAA,EAAUkB,SAAW,EAAAzoF,GAAA;EACtE,IAAM0nF,UAAa,GAAAgF,mBAAA,CAAoBvD,WAAa,EAAApsC,UAAA,EAAY0rC,SAAA,CAAUn2B,UAAU;EACpF,OAAO;IAAC22B,SAAA,EAAAA,SAAA;IAAWvB,UAAA,EAAAA;EAAU;AAC/B;AAEA,SAAS+E,mBAAmB1vC,UAAU,EAAEwqC,QAAQ,EAAEkB,SAAS,EAAEzoF,GAAG,EAAE;EAChE,IAAI2sF,cAAA,GAAiB5vC,UAAA,CAAWn9B,IAAI;EACpC,IAAI+sE,cAAA,IAAkB,OAAOA,cAAA,KAAmB,QAAU;IACxDA,cAAA,GAAiBA,cAAe,CAAA5sD,MAAM,CAAC,UAACr3B,CAAG,EAAAC,CAAA;MAAA,OAAMD,CAAE,CAAAza,MAAM,GAAG0a,CAAA,CAAE1a,MAAM,GAAGya,CAAA,GAAIC,CAAC;IAAA;;EAE9E,OAAO4+E,QAAA,GAAYkB,SAAA,CAAU1rE,IAAI,GAAG,IAAK/c,GAAI,CAAAkpF,WAAW,CAACyD,cAAA,EAAgBt5F,KAAK;AAChF;AAEA,SAASq5F,oBAAoBvD,WAAW,EAAEpsC,UAAU,EAAE6uC,cAAc,EAAE;EACpE,IAAIlE,UAAa,GAAAyB,WAAA;EACjB,IAAI,OAAOpsC,UAAA,CAAWn9B,IAAI,KAAK,QAAU;IACvC8nE,UAAA,GAAamE,yBAAA,CAA0B9uC,UAAY,EAAA6uC,cAAA;;EAErD,OAAOlE,UAAA;AACT;AAEA,SAASmE,yBAA0BA,CAAA9uC,UAAU,EAAE6uC,cAAc,EAAE;EAC7D,IAAMpzB,WAAA,GAAczb,UAAA,CAAWn9B,IAAI,GAAGm9B,UAAA,CAAWn9B,IAAI,CAAC3xB,MAAM,GAAG,CAAC;EAChE,OAAO29F,cAAiB,GAAApzB,WAAA;AAC1B;AAEA,SAAS6zB,UAAWA,CAAAr2F,IAAI,EAAE5J,IAAI,EAAE;EAC9B,IAAI,CAAC4J,IAAS,oBAAeA,IAAA,KAAS,UAAS,MAAO5J,IAAA,CAAK0mF,OAAO,IAAI1mF,IAAK,CAAAogG,OAAO,CAAG;IACnF,OAAO,IAAI;;EAEb,IAAIpgG,IAAA,CAAK0wD,OAAO,KAAK9mD,IAAA,KAAS,OAAW,IAAAA,IAAA,KAAS,SAAQ,CAAI;IAC5D,OAAO,IAAI;;EAEb,OAAO,KAAK;AACd;AAEA,IAAA42F,aAAA,GAAe;EACbx7F,EAAI;EAMJy7F,QAAU,EAAAjF,MAAA;EAEV9mF,KAAA,WAAAA,MAAMhU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAC3B,IAAM8uB,MAAS,GAAAxwB,KAAA,CAAMwwB,MAAM,GAAG,IAAIsqE,MAAO;MAAC5nF,GAAA,EAAKlT,KAAA,CAAMkT,GAAG;MAAExR,OAAA,EAAAA,OAAA;MAAS1B,KAAA,EAAAA;IAAK;IACxEi5D,OAAQ,CAAA1jB,SAAS,CAACv1C,KAAA,EAAOwwB,MAAQ,EAAA9uB,OAAA;IACjCu3D,OAAQ,CAAAiD,MAAM,CAACl8D,KAAO,EAAAwwB,MAAA;EACxB;EAEA1b,IAAA,WAAAA,KAAK9U,KAAK,EAAE;IACVi5D,OAAA,CAAQoD,SAAS,CAACr8D,KAAO,EAAAA,KAAA,CAAMwwB,MAAM;IACrC,OAAOxwB,KAAA,CAAMwwB,MAAM;EACrB;EAKA/b,YAAA,WAAAA,aAAazU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAClC,IAAM8uB,MAAA,GAASxwB,KAAA,CAAMwwB,MAAM;IAC3ByoC,OAAQ,CAAA1jB,SAAS,CAACv1C,KAAA,EAAOwwB,MAAQ,EAAA9uB,OAAA;IACjC8uB,MAAA,CAAO9uB,OAAO,GAAGA,OAAA;EACnB;EAIAgoE,WAAA,WAAAA,YAAY1pE,KAAK,EAAE;IACjB,IAAMwwB,MAAA,GAASxwB,KAAA,CAAMwwB,MAAM;IAC3BA,MAAA,CAAOirE,WAAW;IAClBjrE,MAAA,CAAOqsE,cAAc;EACvB;EAGAmD,UAAW,WAAAA,WAAAhgG,KAAK,EAAEuU,IAAI,EAAE;IACtB,IAAI,CAACA,IAAK,CAAA8wE,MAAM,EAAE;MAChBrlF,KAAA,CAAMwwB,MAAM,CAAC8uE,WAAW,CAAC/qF,IAAA,CAAK5U,KAAK;;EAEvC;EAEAoU,QAAU;IACR+c,OAAA,EAAS,IAAI;IACbmlC,QAAU;IACVkO,KAAO;IACPxK,QAAA,EAAU,IAAI;IACdx7B,OAAA,EAAS,KAAK;IACdxO,MAAQ;IAGRqgC,OAAA,WAAAA,QAAQ/+C,CAAC,EAAEg/C,UAAU,EAAEz/B,MAAM,EAAE;MAC7B,IAAMxX,KAAA,GAAQi3C,UAAA,CAAW1Y,YAAY;MACrC,IAAM0oD,EAAA,GAAKzvE,MAAA,CAAOxwB,KAAK;MACvB,IAAIigG,EAAA,CAAG7yC,gBAAgB,CAACp0C,KAAQ;QAC9BinF,EAAA,CAAGlc,IAAI,CAAC/qE,KAAA;QACRi3C,UAAW,CAAA/U,MAAM,GAAG,IAAI;OACnB;QACL+kD,EAAA,CAAGjc,IAAI,CAAChrE,KAAA;QACRi3C,UAAW,CAAA/U,MAAM,GAAG,KAAK;;IAE7B;IAEA8qC,OAAA,EAAS,IAAI;IACb0Z,OAAA,EAAS,IAAI;IAEbx5F,MAAQ;MACNgqC,KAAA,EAAO,SAAAA,MAACh9B,GAAQ;QAAA,OAAAA,GAAA,CAAIlT,KAAK,CAAC0B,OAAO,CAACwuC,KAAK;MAAA;MACvCuqD,QAAU;MACV5qE,OAAS;MAYT+/B,cAAA,WAAAA,eAAe5vD,KAAK,EAAE;QACpB,IAAMkvB,QAAW,GAAAlvB,KAAA,CAAMkX,IAAI,CAACgY,QAAQ;QACpC,IAAAgxE,qBAAA,GAA+FlgG,KAAA,CAAMwwB,MAAM,CAAC9uB,OAAO,CAA5GwE,MAAA;UAASw0F,aAAA,GAAAwF,qBAAA,CAAAxF,aAAA;UAAe5qC,UAAU,GAAAowC,qBAAA,CAAVpwC,UAAU;UAAE8f,SAAA,GAAAswB,qBAAA,CAAAtwB,SAAA;UAAW1/B,KAAA,GAAAgwD,qBAAA,CAAAhwD,KAAA;UAAOiwD,eAAe,GAAAD,qBAAA,CAAfC,eAAe;UAAExZ,YAAA,GAAAuZ,qBAAA,CAAAvZ,YAAA;QAE9E,OAAO3mF,KAAA,CAAMk3C,sBAAsB,GAAG7hC,GAAG,CAAC,UAACwiC,IAAS;UAClD,IAAM3wB,KAAA,GAAQ2wB,IAAA,CAAKyB,UAAU,CAAC2H,QAAQ,CAACy5C,aAAA,GAAgB,IAAIz6F,SAAS;UACpE,IAAMuT,WAAA,GAAcgpD,6DAAU,CAAAt1C,KAAA,CAAM1T,WAAW;UAE/C,OAAO;YACLsf,IAAA,EAAM5D,QAAQ,CAAC2oB,IAAA,CAAK7+B,KAAK,CAAC,CAACmW,KAAK;YAChC9b,SAAA,EAAW6T,KAAA,CAAM5T,eAAe;YAChCy8C,SAAW,EAAA7f,KAAA;YACXgL,MAAQ,GAACrD,IAAA,CAAKwpC,OAAO;YACrBqJ,OAAA,EAASxjE,KAAA,CAAMyjE,cAAc;YAC7BoT,QAAA,EAAU72E,KAAA,CAAMgoD,UAAU;YAC1BsC,cAAA,EAAgBtqD,KAAA,CAAMkoD,gBAAgB;YACtCga,QAAA,EAAUliE,KAAA,CAAMgiE,eAAe;YAC/Bz1E,SAAW,EAAC,CAAAD,WAAY,CAAAjN,KAAK,GAAGiN,WAAY,CAAAhN,MAAM,IAAI;YACtDkN,WAAA,EAAawT,KAAA,CAAMvT,WAAW;YAC9Bm8C,UAAY,EAAAA,UAAA,IAAc5oC,KAAA,CAAM4oC,UAAU;YAC1C3uC,QAAA,EAAU+F,KAAA,CAAM/F,QAAQ;YACxByuD,SAAW,EAAAA,SAAA,IAAa1oD,KAAA,CAAM0oD,SAAS;YACvC+W,YAAA,EAAcwZ,eAAoB,KAAAxZ,YAAgB,IAAAz/D,KAAA,CAAMy/D,YAAY,CAAD;YAGnEpvC,YAAA,EAAcM,IAAA,CAAK7+B;UACrB;QACF,GAAG,IAAI;MACT;IACF;IAEAgyD,KAAO;MACL96B,KAAA,EAAO,SAAAA,MAACh9B,GAAQ;QAAA,OAAAA,GAAA,CAAIlT,KAAK,CAAC0B,OAAO,CAACwuC,KAAK;MAAA;MACvCpf,OAAA,EAAS,KAAK;MACdmlC,QAAU;MACVnjC,IAAM;IACR;EACF;EAEA+gD,WAAa;IACXrkB,WAAA,EAAa,SAAAA,YAAC3/C,IAAA;MAAA,OAAS,CAACA,IAAA,CAAK6/C,UAAU,CAAC;IAAA;IACxCxpD,MAAQ;MACNspD,WAAa,WAAAA,YAAC3/C,IAAA;QAAA,OAAS,CAAC,CAAC,kBAAkB,UAAU,OAAO,CAACupD,QAAQ,CAACvpD,IAAA;MAAA;IACxE;EACF;AACF,CAAE;AAAA,ICzsBWuwF,KAAc,0BAAAC,SAAA;EAAA54C,SAAA,CAAA24C,KAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAA54C,YAAA,CAAA04C,KAAA;EAIzB,SAAAA,MAAY7uE,MAAM,EAAE;IAAA,IAAAgvE,OAAA;IAAA1wD,eAAA,OAAAuwD,KAAA;IAClBG,OAAA,GAAAD,QAAA,CAAAlsF,IAAA;IAEAmsF,OAAA,CAAKvgG,KAAK,GAAGuxB,MAAA,CAAOvxB,KAAK;IACzBugG,OAAA,CAAK7+F,OAAO,GAAG6vB,MAAA,CAAO7vB,OAAO;IAC7B6+F,OAAA,CAAKrtF,GAAG,GAAGqe,MAAA,CAAOre,GAAG;IACrBqtF,OAAA,CAAKC,QAAQ,GAAGvgG,SAAA;IAChBsgG,OAAA,CAAKl/F,GAAG,GAAGpB,SAAA;IACXsgG,OAAA,CAAKj/F,MAAM,GAAGrB,SAAA;IACdsgG,OAAA,CAAKh/F,IAAI,GAAGtB,SAAA;IACZsgG,OAAA,CAAK/+F,KAAK,GAAGvB,SAAA;IACbsgG,OAAA,CAAKh6F,KAAK,GAAGtG,SAAA;IACbsgG,OAAA,CAAK/5F,MAAM,GAAGvG,SAAA;IACdsgG,OAAA,CAAKtqC,QAAQ,GAAGh2D,SAAA;IAChBsgG,OAAA,CAAK5wE,MAAM,GAAG1vB,SAAA;IACdsgG,OAAA,CAAK5mC,QAAQ,GAAG15D,SAAA;IAAA,OAAAsgG,OAAA;EAClB;EAAAvwD,YAAA,CAAAowD,KAAA;IAAA1gG,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAO8jD,QAAQ,EAAEC,SAAS,EAAE;MAC1B,IAAM1uD,IAAA,GAAO,IAAI,CAACoC,OAAO;MAEzB,IAAI,CAACH,IAAI,GAAG;MACZ,IAAI,CAACF,GAAG,GAAG;MAEX,IAAI,CAAC/B,IAAK,CAAAwxB,OAAO,EAAE;QACjB,IAAI,CAACvqB,KAAK,GAAG,IAAI,CAACC,MAAM,GAAG,IAAI,CAAChF,KAAK,GAAG,IAAI,CAACF,MAAM,GAAG;QACtD;;MAGF,IAAI,CAACiF,KAAK,GAAG,IAAI,CAAC/E,KAAK,GAAGusD,QAAA;MAC1B,IAAI,CAACvnD,MAAM,GAAG,IAAI,CAAClF,MAAM,GAAG0sD,SAAA;MAE5B,IAAM6hB,SAAA,GAAY53D,6DAAQ,CAAA3Y,IAAA,CAAKwzB,IAAI,IAAIxzB,IAAA,CAAKwzB,IAAI,CAAC3xB,MAAM,GAAG,CAAC;MAC3D,IAAI,CAACq/F,QAAQ,GAAGhkC,6DAAA,CAAUl9D,IAAA,CAAKuwB,OAAO;MACtC,IAAM4wE,QAAW,GAAA5wB,SAAA,GAAYvK,8DAAO,CAAAhmE,IAAA,CAAKowB,IAAI,EAAE81C,UAAU,GAAG,IAAI,CAACg7B,QAAQ,CAACh6F,MAAM;MAEhF,IAAI,IAAI,CAAC7C,YAAY,EAAI;QACvB,IAAI,CAAC6C,MAAM,GAAGi6F,QAAA;OACT;QACL,IAAI,CAACl6F,KAAK,GAAGk6F,QAAA;;IAEjB;EAAA;IAAA/gG,GAAA;IAAAmoB,KAAA,EAEA,SAAAlkB,aAAA,EAAe;MACb,IAAM00D,GAAM,OAAI,CAAC32D,OAAO,CAACu0D,QAAQ;MACjC,OAAOoC,GAAA,KAAQ,SAASA,GAAQ;IAClC;EAAA;IAAA34D,GAAA;IAAAmoB,KAAA,EAEA,SAAA64E,UAAUp7F,MAAM,EAAE;MAChB,IAAOjE,GAAA,GAAqC,IAAI,CAAzCA,GAAA;QAAKE,IAAA,GAAgC,IAAI,CAApCA,IAAA;QAAMD,MAAA,GAA0B,IAAI,CAA9BA,MAAA;QAAQE,KAAA,GAAkB,IAAI,CAAtBA,KAAA;QAAOE,OAAA,GAAW,IAAI,CAAfA,OAAA;MACjC,IAAMyiE,KAAA,GAAQziE,OAAA,CAAQyiE,KAAK;MAC3B,IAAIhjD,QAAW;MACf,IAAI4sC,QAAA,EAAU+X,MAAQ,EAAAC,MAAA;MAEtB,IAAI,IAAI,CAACpiE,YAAY,EAAI;QACvBmiE,MAAS,GAAAE,8DAAA,CAAe7B,KAAA,EAAO5iE,IAAM,EAAAC,KAAA;QACrCukE,MAAA,GAAS1kE,GAAM,GAAAiE,MAAA;QACfyoD,QAAA,GAAWvsD,KAAQ,GAAAD,IAAA;OACd;QACL,IAAIG,OAAA,CAAQu0D,QAAQ,KAAK,MAAQ;UAC/B6P,MAAA,GAASvkE,IAAO,GAAA+D,MAAA;UAChBygE,MAAS,GAAAC,8DAAA,CAAe7B,KAAA,EAAO7iE,MAAQ,EAAAD,GAAA;UACvC8f,QAAA,GAAWe,yDAAA,GAAK,CAAC;SACZ;UACL4jD,MAAA,GAAStkE,KAAQ,GAAA8D,MAAA;UACjBygE,MAAS,GAAAC,8DAAA,CAAe7B,KAAA,EAAO9iE,GAAK,EAAAC,MAAA;UACpC6f,QAAA,GAAWe,yDAAK;;QAElB6rC,QAAA,GAAWzsD,MAAS,GAAAD,GAAA;;MAEtB,OAAO;QAACykE,MAAA,EAAAA,MAAA;QAAQC,MAAA,EAAAA,MAAA;QAAQhY,QAAA,EAAAA,QAAA;QAAU5sC,QAAA,EAAAA;MAAQ;IAC5C;EAAA;IAAAzhB,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAA,EAAO;MACL,IAAMK,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM5T,IAAA,GAAO,IAAI,CAACoC,OAAO;MAEzB,IAAI,CAACpC,IAAK,CAAAwxB,OAAO,EAAE;QACjB;;MAGF,IAAM6vE,QAAA,GAAWr7B,8DAAO,CAAAhmE,IAAA,CAAKowB,IAAI;MACjC,IAAM81C,UAAA,GAAam7B,QAAA,CAASn7B,UAAU;MACtC,IAAMlgE,MAAA,GAASkgE,UAAa,OAAI,IAAI,CAACg7B,QAAQ,CAACn/F,GAAG;MACjD,IAAAu/F,eAAA,GAA6C,IAAI,CAACF,SAAS,CAACp7F,MAAA;QAArDwgE,MAAA,GAAA86B,eAAA,CAAA96B,MAAA;QAAQC,MAAA,GAAA66B,eAAA,CAAA76B,MAAA;QAAQhY,QAAA,GAAA6yC,eAAA,CAAA7yC,QAAA;QAAU5sC,QAAA,GAAAy/E,eAAA,CAAAz/E,QAAA;MAEjCkxD,6DAAA,CAAWn/D,GAAA,EAAK5T,IAAK,CAAAwzB,IAAI,EAAE,GAAG,GAAG6tE,QAAU;QACzCzwD,KAAA,EAAO5wC,IAAA,CAAK4wC,KAAK;QACjB6d,QAAA,EAAAA,QAAA;QACA5sC,QAAA,EAAAA,QAAA;QACAyuD,SAAW,EAAAhK,8DAAA,CAAmBtmE,IAAA,CAAK6kE,KAAK;QACxC4L,YAAc;QACde,WAAa,GAAChL,MAAA,EAAQC,MAAA;MACxB;IACF;EAAA;EAAA,OAAAq6B,KAAA;AAAA,EAlGyBn+B,OAAA;AAqG3B,SAAS4+B,WAAYA,CAAA7gG,KAAK,EAAEorE,SAAS,EAAE;EACrC,IAAMJ,KAAA,GAAQ,IAAIo1B,KAAM;IACtBltF,GAAA,EAAKlT,KAAA,CAAMkT,GAAG;IACdxR,OAAS,EAAA0pE,SAAA;IACTprE,KAAA,EAAAA;EACF;EAEAi5D,OAAQ,CAAA1jB,SAAS,CAACv1C,KAAA,EAAOgrE,KAAO,EAAAI,SAAA;EAChCnS,OAAQ,CAAAiD,MAAM,CAACl8D,KAAO,EAAAgrE,KAAA;EACtBhrE,KAAA,CAAM8gG,UAAU,GAAG91B,KAAA;AACrB;AAEA,IAAA+1B,YAAA,GAAe;EACbz8F,EAAI;EAMJy7F,QAAU,EAAAK,KAAA;EAEVpsF,KAAA,WAAAA,MAAMhU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAC3Bm/F,WAAA,CAAY7gG,KAAO,EAAA0B,OAAA;EACrB;EAEAoT,IAAA,WAAAA,KAAK9U,KAAK,EAAE;IACV,IAAM8gG,UAAA,GAAa9gG,KAAA,CAAM8gG,UAAU;IACnC7nC,OAAQ,CAAAoD,SAAS,CAACr8D,KAAO,EAAA8gG,UAAA;IACzB,OAAO9gG,KAAA,CAAM8gG,UAAU;EACzB;EAEArsF,YAAA,WAAAA,aAAazU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAClC,IAAMspE,KAAA,GAAQhrE,KAAA,CAAM8gG,UAAU;IAC9B7nC,OAAQ,CAAA1jB,SAAS,CAACv1C,KAAA,EAAOgrE,KAAO,EAAAtpE,OAAA;IAChCspE,KAAA,CAAMtpE,OAAO,GAAGA,OAAA;EAClB;EAEAqS,QAAU;IACRowD,KAAO;IACPrzC,OAAA,EAAS,KAAK;IACdpB,IAAM;MACJC,MAAQ;IACV;IACAgqC,QAAA,EAAU,IAAI;IACd9pC,OAAS;IACTomC,QAAU;IACVnjC,IAAM;IACNnD,MAAA,EAAQ;EACV;EAEAgkD,aAAe;IACbzjC,KAAO;EACT;EAEA2jC,WAAa;IACXrkB,WAAA,EAAa,IAAI;IACjBC,UAAA,EAAY;EACd;AACF,CAAE;AClKF,IAAMp6C,GAAA,GAAM,IAAI5S,OAAA;AAEhB,IAAAu+F,eAAA,GAAe;EACb18F,EAAI;EAEJ0P,KAAA,WAAAA,MAAMhU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAC3B,IAAMspE,KAAA,GAAQ,IAAIo1B,KAAM;MACtBltF,GAAA,EAAKlT,KAAA,CAAMkT,GAAG;MACdxR,OAAA,EAAAA,OAAA;MACA1B,KAAA,EAAAA;IACF;IAEAi5D,OAAQ,CAAA1jB,SAAS,CAACv1C,KAAA,EAAOgrE,KAAO,EAAAtpE,OAAA;IAChCu3D,OAAQ,CAAAiD,MAAM,CAACl8D,KAAO,EAAAgrE,KAAA;IACtB31D,GAAI,CAAApS,GAAG,CAACjD,KAAO,EAAAgrE,KAAA;EACjB;EAEAl2D,IAAA,WAAAA,KAAK9U,KAAK,EAAE;IACVi5D,OAAA,CAAQoD,SAAS,CAACr8D,KAAO,EAAAqV,GAAA,CAAIzS,GAAG,CAAC5C,KAAA;IACjCqV,GAAA,UAAU,CAACrV,KAAA;EACb;EAEAyU,YAAA,WAAAA,aAAazU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAClC,IAAMspE,KAAA,GAAQ31D,GAAI,CAAAzS,GAAG,CAAC5C,KAAA;IACtBi5D,OAAQ,CAAA1jB,SAAS,CAACv1C,KAAA,EAAOgrE,KAAO,EAAAtpE,OAAA;IAChCspE,KAAA,CAAMtpE,OAAO,GAAGA,OAAA;EAClB;EAEAqS,QAAU;IACRowD,KAAO;IACPrzC,OAAA,EAAS,KAAK;IACdpB,IAAM;MACJC,MAAQ;IACV;IACAgqC,QAAA,EAAU,IAAI;IACd9pC,OAAS;IACTomC,QAAU;IACVnjC,IAAM;IACNnD,MAAA,EAAQ;EACV;EAEAgkD,aAAe;IACbzjC,KAAO;EACT;EAEA2jC,WAAa;IACXrkB,WAAA,EAAa,IAAI;IACjBC,UAAA,EAAY;EACd;AACF,CAAE;ACpCF,IAAMwxC,WAAc;EAIlBC,OAAA,WAAAA,QAAQ5uD,KAAK,EAAE;IACb,IAAI,CAACA,KAAM,CAAAnxC,MAAM,EAAE;MACjB,OAAO,KAAK;;IAGd,IAAID,CAAG,EAAAghC,GAAA;IACP,IAAI9hC,CAAI;IACR,IAAIC,CAAI;IACR,IAAI4rB,KAAQ;IAEZ,KAAK/qB,CAAA,GAAI,GAAGghC,GAAM,GAAAoQ,KAAA,CAAMnxC,MAAM,EAAED,CAAA,GAAIghC,GAAK,IAAEhhC,CAAG;MAC5C,IAAM20D,EAAK,GAAAvjB,KAAK,CAACpxC,CAAA,CAAE,CAACob,OAAO;MAC3B,IAAIu5C,EAAA,IAAMA,EAAG,CAAAuM,QAAQ,EAAI;QACvB,IAAM/J,GAAA,GAAMxC,EAAA,CAAGqM,eAAe;QAC9B9hE,CAAA,IAAKi4D,GAAA,CAAIj4D,CAAC;QACVC,CAAA,IAAKg4D,GAAA,CAAIh4D,CAAC;QACV,EAAE4rB,KAAA;;IAEN;IAEA,OAAO;MACL7rB,CAAA,EAAGA,CAAI,GAAA6rB,KAAA;MACP5rB,CAAA,EAAGA,CAAI,GAAA4rB;IACT;EACF;EAKAgsC,OAAQ,WAAAA,QAAA3lB,KAAK,EAAE6uD,aAAa,EAAE;IAC5B,IAAI,CAAC7uD,KAAM,CAAAnxC,MAAM,EAAE;MACjB,OAAO,KAAK;;IAGd,IAAIf,CAAA,GAAI+gG,aAAA,CAAc/gG,CAAC;IACvB,IAAIC,CAAA,GAAI8gG,aAAA,CAAc9gG,CAAC;IACvB,IAAIm3D,WAAA,GAAclf,MAAA,CAAOE,iBAAiB;IAC1C,IAAIt3C,CAAA,EAAGghC,GAAK,EAAAk/D,cAAA;IAEZ,KAAKlgG,CAAA,GAAI,GAAGghC,GAAM,GAAAoQ,KAAA,CAAMnxC,MAAM,EAAED,CAAA,GAAIghC,GAAK,IAAEhhC,CAAG;MAC5C,IAAM20D,EAAK,GAAAvjB,KAAK,CAACpxC,CAAA,CAAE,CAACob,OAAO;MAC3B,IAAIu5C,EAAA,IAAMA,EAAG,CAAAuM,QAAQ,EAAI;QACvB,IAAM/+D,MAAA,GAASwyD,EAAA,CAAG4B,cAAc;QAChC,IAAMl2B,CAAA,GAAI8/D,8DAAA,CAAsBF,aAAe,EAAA99F,MAAA;QAE/C,IAAIk+B,CAAA,GAAIi2B,WAAa;UACnBA,WAAc,GAAAj2B,CAAA;UACd6/D,cAAiB,GAAAvrC,EAAA;;;IAGvB;IAEA,IAAIurC,cAAgB;MAClB,IAAME,EAAA,GAAKF,cAAA,CAAel/B,eAAe;MACzC9hE,CAAA,GAAIkhG,EAAA,CAAGlhG,CAAC;MACRC,CAAA,GAAIihG,EAAA,CAAGjhG,CAAC;;IAGV,OAAO;MACLD,CAAA,EAAAA,CAAA;MACAC,CAAA,EAAAA;IACF;EACF;AACF;AAGA,SAASkhG,YAAaA,CAAA9nF,IAAI,EAAE+nF,MAAM,EAAE;EAClC,IAAIA,MAAQ;IACV,IAAIvpF,6DAAA,CAAQupF,MAAS;MAEnBxpF,KAAA,CAAM9D,SAAS,CAAC3R,IAAI,CAACqW,KAAK,CAACa,IAAM,EAAA+nF,MAAA;KAC5B;MACL/nF,IAAA,CAAKlX,IAAI,CAACi/F,MAAA;;;EAId,OAAO/nF,IAAA;AACT;AAQA,SAASgoF,aAAcA,CAAAzmF,GAAG,EAAE;EAC1B,IAAI,CAAC,OAAOA,GAAA,KAAQ,QAAY,IAAAA,GAAA,YAAe5E,MAAK,KAAM4E,GAAI,CAAA9a,OAAO,CAAC,QAAQ,CAAC,CAAG;IAChF,OAAO8a,GAAA,CAAIG,KAAK,CAAC;;EAEnB,OAAOH,GAAA;AACT;AASA,SAAS0mF,kBAAkB1hG,KAAK,EAAEsV,IAAI,EAAE;EACtC,IAAOgH,OAAO,GAAyBhH,IAAA,CAAhCgH,OAAO;IAAEi7B,YAAA,GAAuBjiC,IAAA,CAAvBiiC,YAAA;IAAcv+B,KAAA,GAAS1D,IAAA,CAAT0D,KAAA;EAC9B,IAAMsgC,UAAa,GAAAt5C,KAAA,CAAM09C,cAAc,CAACnG,YAAA,EAAc+B,UAAU;EAChE,IAAAqoD,qBAAA,GAAuBroD,UAAA,CAAWoH,gBAAgB,CAAC1nC,KAAA;IAA5CmW,KAAA,GAAAwyE,qBAAA,CAAAxyE,KAAA;IAAOtH,KAAA,GAAA85E,qBAAA,CAAA95E,KAAA;EAEd,OAAO;IACL7nB,KAAA,EAAAA,KAAA;IACAmvB,KAAA,EAAAA,KAAA;IACAoqB,MAAQ,EAAAD,UAAA,CAAWuG,SAAS,CAAC7mC,KAAA;IAC7BuhC,GAAK,EAAAv6C,KAAA,CAAMkX,IAAI,CAACgY,QAAQ,CAACqoB,YAAa,EAACrgC,IAAI,CAAC8B,KAAM;IAClD4oF,cAAgB,EAAA/5E,KAAA;IAChByI,OAAA,EAASgpB,UAAA,CAAWqD,UAAU;IAC9BpsB,SAAW,EAAAvX,KAAA;IACXu+B,YAAA,EAAAA,YAAA;IACAj7B,OAAA,EAAAA;EACF;AACF;AAKA,SAASulF,eAAe9xE,OAAO,EAAEruB,OAAO,EAAE;EACxC,IAAMwR,GAAM,GAAA6c,OAAA,CAAQ/vB,KAAK,CAACkT,GAAG;EAC7B,IAAOue,IAAI,GAAmB1B,OAAA,CAAvB0B,IAAI;IAAEqwE,MAAA,GAAiB/xE,OAAA,CAAjB+xE,MAAA;IAAQ92B,KAAA,GAASj7C,OAAA,CAATi7C,KAAA;EACrB,IAAOyvB,QAAA,GAAuB/4F,OAAA,CAAvB+4F,QAAA;IAAUF,SAAA,GAAa74F,OAAA,CAAb64F,SAAA;EACjB,IAAMrqE,QAAA,GAAWo1C,8DAAO,CAAA5jE,OAAA,CAAQwuB,QAAQ;EACxC,IAAMF,SAAA,GAAYs1C,8DAAO,CAAA5jE,OAAA,CAAQsuB,SAAS;EAC1C,IAAM+xE,UAAA,GAAaz8B,8DAAO,CAAA5jE,OAAA,CAAQqgG,UAAU;EAC5C,IAAMC,cAAA,GAAiBh3B,KAAA,CAAM7pE,MAAM;EACnC,IAAM8gG,eAAA,GAAkBH,MAAA,CAAO3gG,MAAM;EACrC,IAAM+gG,iBAAA,GAAoBzwE,IAAA,CAAKtwB,MAAM;EAErC,IAAM0uB,OAAA,GAAU2sC,6DAAU,CAAA96D,OAAA,CAAQmuB,OAAO;EACzC,IAAIrpB,MAAA,GAASqpB,OAAA,CAAQrpB,MAAM;EAC3B,IAAID,KAAQ;EAGZ,IAAI47F,kBAAA,GAAqB1wE,IAAA,CAAKwhB,MAAM,CAAC,UAAChnB,KAAO,EAAAm2E,QAAA;IAAA,OAAan2E,KAAQ,GAAAm2E,QAAA,CAASC,MAAM,CAAClhG,MAAM,GAAGihG,QAAA,CAAS78B,KAAK,CAACpkE,MAAM,GAAGihG,QAAS,CAAAE,KAAK,CAACnhG,MAAM;EAAA,GAAE;EAC1IghG,kBAAsB,IAAApyE,OAAA,CAAQwyE,UAAU,CAACphG,MAAM,GAAG4uB,OAAQ,CAAAyyE,SAAS,CAACrhG,MAAM;EAE1E,IAAI6gG,cAAgB;IAClBx7F,MAAA,IAAUw7F,cAAiB,GAAAhyE,SAAA,CAAUw1C,UAAU,GAC9C,CAACw8B,cAAiB,QAAKtgG,OAAA,CAAQ+gG,YAAY,GAC3C/gG,OAAA,CAAQghG,iBAAiB;;EAE5B,IAAIP,kBAAoB;IAEtB,IAAMQ,cAAiB,GAAAjhG,OAAA,CAAQyuB,aAAa,GAAGtsB,IAAK,CAAAN,GAAG,CAACg3F,SAAA,EAAWrqE,QAAS,CAAAs1C,UAAU,CAAI,GAAAt1C,QAAA,CAASs1C,UAAU;IAC7Gh/D,MAAA,IAAU07F,iBAAA,GAAoBS,cAC7B,GAAC,CAAAR,kBAAA,GAAqBD,iBAAgB,IAAKhyE,QAAA,CAASs1C,UAAU,GAC9D,CAAC28B,kBAAA,GAAqB,KAAKzgG,OAAA,CAAQkhG,WAAW;;EAEjD,IAAIX,eAAiB;IACnBz7F,MAAA,IAAU9E,OAAQ,CAAAmhG,eAAe,GAChCZ,eAAA,GAAkBF,UAAW,CAAAv8B,UAAU,GACtC,CAAAy8B,eAAA,GAAkB,KAAKvgG,OAAA,CAAQohG,aAAa;;EAIhD,IAAIC,YAAe;EACnB,IAAMC,YAAA,GAAe,SAAfA,aAAwB1yC,IAAI,EAAE;IAClC/pD,KAAQ,GAAA1C,IAAA,CAAKN,GAAG,CAACgD,KAAA,EAAO2M,GAAA,CAAIkpF,WAAW,CAAC9rC,IAAM,EAAA/pD,KAAK,GAAGw8F,YAAA;EACxD;EAEA7vF,GAAA,CAAIC,IAAI;EAERD,GAAI,CAAAwc,IAAI,GAAGM,SAAA,CAAUi9C,MAAM;EAC3BjuE,6DAAK,CAAA+wB,OAAA,CAAQi7C,KAAK,EAAEg4B,YAAA;EAGpB9vF,GAAI,CAAAwc,IAAI,GAAGQ,QAAA,CAAS+8C,MAAM;EAC1BjuE,6DAAA,CAAK+wB,OAAA,CAAQwyE,UAAU,CAAC9sF,MAAM,CAACsa,OAAA,CAAQyyE,SAAS,CAAG,EAAAQ,YAAA;EAGnDD,YAAe,GAAArhG,OAAA,CAAQyuB,aAAa,GAAIsqE,QAAA,GAAW,IAAI/4F,OAAQ,CAAA64D,UAAU,GAAI,CAAC;EAC9Ev7D,6DAAK,CAAAyyB,IAAA,EAAM,UAAC2wE,QAAa;IACvBpjG,6DAAK,CAAAojG,QAAA,CAASC,MAAM,EAAEW,YAAA;IACtBhkG,6DAAK,CAAAojG,QAAA,CAAS78B,KAAK,EAAEy9B,YAAA;IACrBhkG,6DAAK,CAAAojG,QAAA,CAASE,KAAK,EAAEU,YAAA;EACvB;EAGAD,YAAe;EAGf7vF,GAAI,CAAAwc,IAAI,GAAGqyE,UAAA,CAAW90B,MAAM;EAC5BjuE,6DAAK,CAAA+wB,OAAA,CAAQ+xE,MAAM,EAAEkB,YAAA;EAErB9vF,GAAA,CAAIW,OAAO;EAGXtN,KAAA,IAASspB,OAAA,CAAQtpB,KAAK;EAEtB,OAAO;IAACA,KAAA,EAAAA,KAAA;IAAOC,MAAA,EAAAA;EAAM;AACvB;AAEA,SAASy8F,eAAgBA,CAAAjjG,KAAK,EAAEiwB,IAAI,EAAE;EACpC,IAAO5vB,CAAA,GAAa4vB,IAAA,CAAb5vB,CAAA;IAAGmG,MAAA,GAAUypB,IAAA,CAAVzpB,MAAA;EAEV,IAAInG,CAAA,GAAImG,MAAA,GAAS,CAAG;IAClB,OAAO;EACT,OAAO,IAAInG,CAAK,GAAAL,KAAA,CAAMwG,MAAM,GAAGA,MAAA,GAAS,CAAI;IAC1C,OAAO;;EAET,OAAO;AACT;AAEA,SAAS08F,oBAAoBC,MAAM,EAAEnjG,KAAK,EAAE0B,OAAO,EAAEuuB,IAAI,EAAE;EACzD,IAAO7vB,CAAA,GAAY6vB,IAAA,CAAZ7vB,CAAA;IAAGmG,KAAA,GAAS0pB,IAAA,CAAT1pB,KAAA;EACV,IAAM68F,KAAQ,GAAA1hG,OAAA,CAAQ2hG,SAAS,GAAG3hG,OAAA,CAAQ4hG,YAAY;EACtD,IAAIH,MAAA,KAAW,MAAU,IAAA/iG,CAAA,GAAImG,KAAA,GAAQ68F,KAAQ,GAAApjG,KAAA,CAAMuG,KAAK,EAAE;IACxD,OAAO,IAAI;;EAGb,IAAI48F,MAAW,gBAAW/iG,CAAI,GAAAmG,KAAA,GAAQ68F,KAAA,GAAQ,CAAG;IAC/C,OAAO,IAAI;;AAEf;AAEA,SAASG,gBAAgBvjG,KAAK,EAAE0B,OAAO,EAAEuuB,IAAI,EAAEuzE,MAAM,EAAE;EACrD,IAAOpjG,CAAA,GAAY6vB,IAAA,CAAZ7vB,CAAA;IAAGmG,KAAA,GAAS0pB,IAAA,CAAT1pB,KAAA;EACV,IAAc4H,UAAU,GAA8BnO,KAAA,CAA/CuG,KAAA;IAAA2H,gBAAA,GAA+ClO,KAAA,CAA5BsJ,SAAW;IAAC/H,IAAI,GAAA2M,gBAAA,CAAJ3M,IAAI;IAAEC,KAAK,GAAA0M,gBAAA,CAAL1M,KAAK;EACjD,IAAI2hG,MAAS;EAEb,IAAIK,MAAA,KAAW,QAAU;IACvBL,MAAS,GAAA/iG,CAAA,IAAK,CAACmB,IAAA,GAAOC,KAAI,IAAK,IAAI,SAAS,OAAO;GAC9C,UAAIpB,CAAK,IAAAmG,KAAA,GAAQ,CAAG;IACzB48F,MAAS;EACX,OAAO,IAAI/iG,CAAA,IAAK+N,UAAa,GAAA5H,KAAA,GAAQ,CAAG;IACtC48F,MAAS;;EAGX,IAAID,mBAAoB,CAAAC,MAAA,EAAQnjG,KAAO,EAAA0B,OAAA,EAASuuB,IAAO;IACrDkzE,MAAS;;EAGX,OAAOA,MAAA;AACT;AAKA,SAASM,kBAAmBA,CAAAzjG,KAAK,EAAE0B,OAAO,EAAEuuB,IAAI,EAAE;EAChD,IAAMuzE,MAAA,GAASvzE,IAAA,CAAKuzE,MAAM,IAAI9hG,OAAA,CAAQ8hG,MAAM,IAAIP,eAAA,CAAgBjjG,KAAO,EAAAiwB,IAAA;EAEvE,OAAO;IACLkzE,MAAQ,EAAAlzE,IAAA,CAAKkzE,MAAM,IAAIzhG,OAAA,CAAQyhG,MAAM,IAAII,eAAA,CAAgBvjG,KAAO,EAAA0B,OAAA,EAASuuB,IAAM,EAAAuzE,MAAA;IAC/EA,MAAA,EAAAA;EACF;AACF;AAEA,SAASE,MAAOA,CAAAzzE,IAAI,EAAEkzE,MAAM,EAAE;EAC5B,IAAK/iG,CAAA,GAAY6vB,IAAA,CAAZ7vB,CAAA;IAAGmG,KAAA,GAAS0pB,IAAA,CAAT1pB,KAAA;EACR,IAAI48F,MAAA,KAAW,OAAS;IACtB/iG,CAAK,IAAAmG,KAAA;GACA,UAAI48F,MAAA,KAAW,QAAU;IAC9B/iG,CAAA,IAAMmG,KAAQ;;EAEhB,OAAOnG,CAAA;AACT;AAEA,SAASujG,OAAO1zE,IAAI,EAAEuzE,MAAM,EAAEI,cAAc,EAAE;EAE5C,IAAKvjG,CAAA,GAAa4vB,IAAA,CAAb5vB,CAAA;IAAGmG,MAAA,GAAUypB,IAAA,CAAVzpB,MAAA;EACR,IAAIg9F,MAAA,KAAW,KAAO;IACpBnjG,CAAK,IAAAujG,cAAA;GACA,UAAIJ,MAAA,KAAW,QAAU;IAC9BnjG,CAAA,IAAKmG,MAAS,GAAAo9F,cAAA;GACT;IACLvjG,CAAA,IAAMmG,MAAS;;EAEjB,OAAOnG,CAAA;AACT;AAKA,SAASwjG,mBAAmBniG,OAAO,EAAEuuB,IAAI,EAAE6zE,SAAS,EAAE9jG,KAAK,EAAE;EAC3D,IAAOqjG,SAAS,GAAgC3hG,OAAA,CAAzC2hG,SAAS;IAAEC,YAAA,GAA8B5hG,OAAA,CAA9B4hG,YAAA;IAAcS,YAAA,GAAgBriG,OAAA,CAAhBqiG,YAAA;EAChC,IAAOZ,MAAA,GAAkBW,SAAA,CAAlBX,MAAA;IAAQK,MAAA,GAAUM,SAAA,CAAVN,MAAA;EACf,IAAMI,cAAA,GAAiBP,SAAY,GAAAC,YAAA;EACnC,IAAAU,cAAA,GAAqD9T,8DAAc,CAAA6T,YAAA;IAA5D1T,OAAO,GAAA2T,cAAA,CAAP3T,OAAO;IAAEC,QAAQ,GAAA0T,cAAA,CAAR1T,QAAQ;IAAEC,UAAA,GAAAyT,cAAA,CAAAzT,UAAA;IAAYC,WAAA,GAAAwT,cAAA,CAAAxT,WAAA;EAEtC,IAAIpwF,CAAA,GAAIsjG,MAAA,CAAOzzE,IAAM,EAAAkzE,MAAA;EACrB,IAAM9iG,CAAA,GAAIsjG,MAAO,CAAA1zE,IAAA,EAAMuzE,MAAQ,EAAAI,cAAA;EAE/B,IAAIJ,MAAA,KAAW,QAAU;IACvB,IAAIL,MAAA,KAAW,MAAQ;MACrB/iG,CAAK,IAAAwjG,cAAA;KACA,UAAIT,MAAA,KAAW,OAAS;MAC7B/iG,CAAK,IAAAwjG,cAAA;;GAEF,UAAIT,MAAA,KAAW,MAAQ;IAC5B/iG,CAAA,IAAKyD,IAAK,CAAAN,GAAG,CAAC8sF,OAAA,EAASE,UAAc,IAAA8S,SAAA;GAChC,UAAIF,MAAA,KAAW,OAAS;IAC7B/iG,CAAA,IAAKyD,IAAK,CAAAN,GAAG,CAAC+sF,QAAA,EAAUE,WAAe,IAAA6S,SAAA;;EAGzC,OAAO;IACLjjG,CAAA,EAAG2qE,6DAAA,CAAY3qE,CAAG,KAAGJ,KAAA,CAAMuG,KAAK,GAAG0pB,IAAA,CAAK1pB,KAAK;IAC7ClG,CAAA,EAAG0qE,6DAAA,CAAY1qE,CAAG,KAAGL,KAAA,CAAMwG,MAAM,GAAGypB,IAAA,CAAKzpB,MAAM;EACjD;AACF;AAEA,SAASy9F,YAAYl0E,OAAO,EAAEo0C,KAAK,EAAEziE,OAAO,EAAE;EAC5C,IAAMmuB,OAAA,GAAU2sC,6DAAU,CAAA96D,OAAA,CAAQmuB,OAAO;EAEzC,OAAOs0C,KAAA,KAAU,QACb,GAAAp0C,OAAA,CAAQ3vB,CAAC,GAAG2vB,OAAA,CAAQxpB,KAAK,GAAG,CAC5B,GAAA49D,KAAA,KAAU,OACR,GAAAp0C,OAAA,CAAQ3vB,CAAC,GAAG2vB,OAAA,CAAQxpB,KAAK,GAAGspB,OAAQ,CAAAruB,KAAK,GACzCuuB,OAAQ,CAAA3vB,CAAC,GAAGyvB,OAAA,CAAQtuB,IAAI;AAChC;AAKA,SAAS2iG,uBAAwBA,CAAAhlG,QAAQ,EAAE;EACzC,OAAOqiG,YAAA,CAAa,EAAE,EAAEE,aAAc,CAAAviG,QAAA;AACxC;AAEA,SAASilG,qBAAqBtpF,MAAM,EAAEkV,OAAO,EAAEq0E,YAAY,EAAE;EAC3D,OAAO/pD,6DAAA,CAAcx/B,MAAQ;IAC3BkV,OAAA,EAAAA,OAAA;IACAq0E,YAAA,EAAAA,YAAA;IACAl7F,IAAM;EACR;AACF;AAEA,SAASm7F,iBAAkBA,CAAAh0E,SAAS,EAAEzY,OAAO,EAAE;EAC7C,IAAMs9C,QAAW,GAAAt9C,OAAA,IAAWA,OAAQ,CAAA0Y,OAAO,IAAI1Y,OAAQ,CAAA0Y,OAAO,CAACP,OAAO,IAAInY,OAAQ,CAAA0Y,OAAO,CAACP,OAAO,CAACM,SAAS;EAC3G,OAAO6kC,QAAW,GAAA7kC,SAAA,CAAU6kC,QAAQ,CAACA,QAAA,IAAY7kC,SAAS;AAC5D;AAEA,IAAMi0E,gBAAmB;EAEvBC,WAAa,EAAAC,0DAAA;EACbx5B,KAAA,WAAAA,MAAMo5B,YAAY,EAAE;IAClB,IAAIA,YAAA,CAAajjG,MAAM,GAAG,CAAG;MAC3B,IAAMmU,IAAA,GAAO8uF,YAAY,CAAC,CAAE;MAC5B,IAAMl+F,MAAA,GAASoP,IAAK,CAAAtV,KAAK,CAACkX,IAAI,CAAChR,MAAM;MACrC,IAAMu+F,UAAa,GAAAv+F,MAAA,GAASA,MAAO,CAAA/E,MAAM,GAAG,CAAC;MAE7C,IAAI,IAAI,IAAI,IAAI,CAACO,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC5B,IAAI,KAAK,SAAW;QAC3D,OAAOwV,IAAK,CAAAgb,OAAO,CAACnB,KAAK,IAAI;OACxB,UAAI7Z,IAAK,CAAA6Z,KAAK,EAAE;QACrB,OAAO7Z,IAAA,CAAK6Z,KAAK;MACnB,OAAO,IAAIs1E,UAAa,QAAKnvF,IAAK,CAAAib,SAAS,GAAGk0E,UAAY;QACxD,OAAOv+F,MAAM,CAACoP,IAAK,CAAAib,SAAS,CAAC;;;IAIjC,OAAO;EACT;EACAm0E,UAAY,EAAAF,0DAAA;EAGZjC,UAAY,EAAAiC,0DAAA;EAGZG,WAAa,EAAAH,0DAAA;EACbr1E,KAAA,WAAAA,MAAMy1E,WAAW,EAAE;IACjB,IAAI,IAAI,IAAI,IAAI,CAACljG,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC5B,IAAI,KAAK,SAAW;MAC3D,OAAO8kG,WAAA,CAAYz1E,KAAK,GAAG,OAAOy1E,WAAA,CAAYhD,cAAc,IAAIgD,WAAA,CAAYhD,cAAc;;IAG5F,IAAIzyE,KAAQ,GAAAy1E,WAAA,CAAYt0E,OAAO,CAACnB,KAAK,IAAI;IAEzC,IAAIA,KAAO;MACTA,KAAS;;IAEX,IAAMtH,KAAA,GAAQ+8E,WAAA,CAAYhD,cAAc;IACxC,IAAI,CAACt8C,6DAAA,CAAcz9B,KAAQ;MACzBsH,KAAS,IAAAtH,KAAA;;IAEX,OAAOsH,KAAA;EACT;EACA01E,UAAA,WAAAA,WAAWD,WAAW,EAAE;IACtB,IAAM/sD,IAAA,GAAO+sD,WAAY,CAAA5kG,KAAK,CAAC09C,cAAc,CAACknD,WAAA,CAAYrtD,YAAY;IACtE,IAAM71C,OAAA,GAAUm2C,IAAK,CAAAyB,UAAU,CAAC2H,QAAQ,CAAC2jD,WAAA,CAAYr0E,SAAS;IAC9D,OAAO;MACL5c,WAAA,EAAajS,OAAA,CAAQiS,WAAW;MAChCL,eAAA,EAAiB5R,OAAA,CAAQ4R,eAAe;MACxCE,WAAA,EAAa9R,OAAA,CAAQ8R,WAAW;MAChC07D,UAAA,EAAYxtE,OAAA,CAAQwtE,UAAU;MAC9BE,gBAAA,EAAkB1tE,OAAA,CAAQ0tE,gBAAgB;MAC1CuX,YAAc;IAChB;EACF;EACAme,cAAiB,WAAAA,eAAA;IACf,OAAO,IAAI,CAACpjG,OAAO,CAACqjG,SAAS;EAC/B;EACAC,eAAA,WAAAA,gBAAgBJ,WAAW,EAAE;IAC3B,IAAM/sD,IAAA,GAAO+sD,WAAY,CAAA5kG,KAAK,CAAC09C,cAAc,CAACknD,WAAA,CAAYrtD,YAAY;IACtE,IAAM71C,OAAA,GAAUm2C,IAAK,CAAAyB,UAAU,CAAC2H,QAAQ,CAAC2jD,WAAA,CAAYr0E,SAAS;IAC9D,OAAO;MACLu/B,UAAA,EAAYpuD,OAAA,CAAQouD,UAAU;MAC9B3uC,QAAA,EAAUzf,OAAA,CAAQyf;IACpB;EACF;EACA8jF,UAAY,EAAAT,0DAAA;EAGZhC,SAAW,EAAAgC,0DAAA;EAGXU,YAAc,EAAAV,0DAAA;EACd1C,MAAQ,EAAA0C,0DAAA;EACRW,WAAa,EAAAX,0DAAIA;AACnB;AAWA,SAASY,2BAA2B/0E,SAAS,EAAExgB,IAAI,EAAEqD,GAAG,EAAE6E,GAAG,EAAE;EAC7D,IAAMwjB,MAAA,GAASlL,SAAS,CAACxgB,IAAA,CAAK,CAACuE,IAAI,CAAClB,GAAK,EAAA6E,GAAA;EAEzC,IAAI,OAAOwjB,MAAA,KAAW,WAAa;IACjC,OAAO+oE,gBAAgB,CAACz0F,IAAA,CAAK,CAACuE,IAAI,CAAClB,GAAK,EAAA6E,GAAA;;EAG1C,OAAOwjB,MAAA;AACT;AAAA,IAEa8pE,OAAgB,0BAAAC,SAAA;EAAA79C,SAAA,CAAA49C,OAAA,EAAAC,SAAA;EAAA,IAAAC,QAAA,GAAA79C,YAAA,CAAA29C,OAAA;EAO3B,SAAAA,QAAY9zE,MAAM,EAAE;IAAA,IAAAi0E,OAAA;IAAA31D,eAAA,OAAAw1D,OAAA;IAClBG,OAAA,GAAAD,QAAA,CAAAnxF,IAAA;IAEAoxF,OAAA,CAAKC,OAAO,GAAG;IACfD,OAAA,CAAKjzD,OAAO,GAAG,EAAE;IACjBizD,OAAA,CAAKE,cAAc,GAAGzlG,SAAA;IACtBulG,OAAA,CAAKG,KAAK,GAAG1lG,SAAA;IACbulG,OAAA,CAAKI,iBAAiB,GAAG3lG,SAAA;IACzBulG,OAAA,CAAKK,aAAa,GAAG,EAAE;IACvBL,OAAA,CAAKlvD,WAAW,GAAGr2C,SAAA;IACnBulG,OAAA,CAAKvpD,QAAQ,GAAGh8C,SAAA;IAChBulG,OAAA,CAAKxlG,KAAK,GAAGuxB,MAAA,CAAOvxB,KAAK;IACzBwlG,OAAA,CAAK9jG,OAAO,GAAG6vB,MAAA,CAAO7vB,OAAO;IAC7B8jG,OAAA,CAAKM,UAAU,GAAG7lG,SAAA;IAClBulG,OAAA,CAAKx6B,KAAK,GAAG/qE,SAAA;IACbulG,OAAA,CAAKjD,UAAU,GAAGtiG,SAAA;IAClBulG,OAAA,CAAK/zE,IAAI,GAAGxxB,SAAA;IACZulG,OAAA,CAAKhD,SAAS,GAAGviG,SAAA;IACjBulG,OAAA,CAAK1D,MAAM,GAAG7hG,SAAA;IACdulG,OAAA,CAAKrC,MAAM,GAAGljG,SAAA;IACdulG,OAAA,CAAKhC,MAAM,GAAGvjG,SAAA;IACdulG,OAAA,CAAKplG,CAAC,GAAGH,SAAA;IACTulG,OAAA,CAAKnlG,CAAC,GAAGJ,SAAA;IACTulG,OAAA,CAAKh/F,MAAM,GAAGvG,SAAA;IACdulG,OAAA,CAAKj/F,KAAK,GAAGtG,SAAA;IACbulG,OAAA,CAAKO,MAAM,GAAG9lG,SAAA;IACdulG,OAAA,CAAKQ,MAAM,GAAG/lG,SAAA;IAGdulG,OAAA,CAAKS,WAAW,GAAGhmG,SAAA;IACnBulG,OAAA,CAAKU,gBAAgB,GAAGjmG,SAAA;IACxBulG,OAAA,CAAKW,eAAe,GAAGlmG,SAAA;IAAA,OAAAulG,OAAA;EACzB;EAAAx1D,YAAA,CAAAq1D,OAAA;IAAA3lG,GAAA;IAAAmoB,KAAA,EAEA,SAAAw0B,WAAW36C,OAAO,EAAE;MAClB,IAAI,CAACA,OAAO,GAAGA,OAAA;MACf,IAAI,CAACkkG,iBAAiB,GAAG3lG,SAAA;MACzB,IAAI,CAACg8C,QAAQ,GAAGh8C,SAAA;IAClB;EAAA;IAAAP,GAAA;IAAAmoB,KAAA,EAKA,SAAAk6B,mBAAA,EAAqB;MACnB,IAAMjH,MAAA,GAAS,IAAI,CAAC8qD,iBAAiB;MAErC,IAAI9qD,MAAQ;QACV,OAAOA,MAAA;;MAGT,IAAM96C,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM0B,OAAA,GAAU,IAAI,CAACA,OAAO,CAAC8lE,UAAU,CAAC,IAAI,CAAC5oB,UAAU;MACvD,IAAMt/C,IAAA,GAAOoC,OAAQ,CAAAnC,OAAO,IAAIS,KAAA,CAAM0B,OAAO,CAACg0C,SAAS,IAAIh0C,OAAA,CAAQw0C,UAAU;MAC7E,IAAMA,UAAA,GAAa,IAAId,UAAA,CAAW,IAAI,CAACp1C,KAAK,EAAEV,IAAA;MAC9C,IAAIA,IAAA,CAAK2iD,UAAU,EAAE;QACnB,IAAI,CAAC2jD,iBAAiB,GAAG5kG,MAAA,CAAO8gD,MAAM,CAAC5L,UAAA;;MAGzC,OAAOA,UAAA;IACT;EAAA;IAAAx2C,GAAA;IAAAmoB,KAAA,EAKA,SAAA+2B,WAAA,EAAa;MACX,OAAO,IAAI,CAAC3C,QAAQ,KACpB,IAAI,CAACA,QAAQ,GAAGkoD,oBAAA,CAAqB,IAAI,CAACnkG,KAAK,CAAC4+C,UAAU,IAAI,IAAI,EAAE,IAAI,CAACinD,aAAa;IACxF;EAAA;IAAAnmG,GAAA;IAAAmoB,KAAA,EAEA,SAAAu+E,SAASxuF,OAAO,EAAElW,OAAO,EAAE;MACzB,IAAO2uB,SAAS,GAAI3uB,OAAA,CAAb2uB,SAAS;MAEhB,IAAMk0E,WAAc,GAAAa,0BAAA,CAA2B/0E,SAAW,iBAAe,IAAI,EAAEzY,OAAA;MAC/E,IAAMozD,KAAQ,GAAAo6B,0BAAA,CAA2B/0E,SAAW,WAAS,IAAI,EAAEzY,OAAA;MACnE,IAAM8sF,UAAa,GAAAU,0BAAA,CAA2B/0E,SAAW,gBAAc,IAAI,EAAEzY,OAAA;MAE7E,IAAI2tD,KAAA,GAAQ,EAAE;MACdA,KAAQ,GAAAg8B,YAAA,CAAah8B,KAAA,EAAOk8B,aAAc,CAAA8C,WAAA;MAC1Ch/B,KAAQ,GAAAg8B,YAAA,CAAah8B,KAAA,EAAOk8B,aAAc,CAAAz2B,KAAA;MAC1CzF,KAAQ,GAAAg8B,YAAA,CAAah8B,KAAA,EAAOk8B,aAAc,CAAAiD,UAAA;MAE1C,OAAOn/B,KAAA;IACT;EAAA;IAAA7lE,GAAA;IAAAmoB,KAAA,EAEA,SAAAw+E,cAAcjC,YAAY,EAAE1iG,OAAO,EAAE;MACnC,OAAOwiG,uBAAA,CACLkB,0BAA2B,CAAA1jG,OAAA,CAAQ2uB,SAAS,EAAE,cAAc,IAAI,EAAE+zE,YAAA;IAEtE;EAAA;IAAA1kG,GAAA;IAAAmoB,KAAA,EAEA,SAAAy+E,QAAQlC,YAAY,EAAE1iG,OAAO,EAAE;MAAA,IAAA6kG,OAAA;MAC7B,IAAOl2E,SAAS,GAAI3uB,OAAA,CAAb2uB,SAAS;MAChB,IAAMm2E,SAAA,GAAY,EAAE;MAEpBxnG,6DAAK,CAAAolG,YAAA,EAAc,UAACxsF,OAAY;QAC9B,IAAMwqF,QAAW;UACfC,MAAA,EAAQ,EAAE;UACV98B,KAAA,EAAO,EAAE;UACT+8B,KAAA,EAAO;QACT;QACA,IAAMmE,MAAA,GAASpC,iBAAA,CAAkBh0E,SAAW,EAAAzY,OAAA;QAC5C2pF,YAAa,CAAAa,QAAA,CAASC,MAAM,EAAEZ,aAAA,CAAc2D,0BAAA,CAA2BqB,MAAQ,iBAAeF,OAAI,EAAE3uF,OAAA;QACpG2pF,YAAA,CAAaa,QAAA,CAAS78B,KAAK,EAAE6/B,0BAAA,CAA2BqB,MAAQ,WAASF,OAAI,EAAE3uF,OAAA;QAC/E2pF,YAAa,CAAAa,QAAA,CAASE,KAAK,EAAEb,aAAA,CAAc2D,0BAAA,CAA2BqB,MAAQ,gBAAcF,OAAI,EAAE3uF,OAAA;QAElG4uF,SAAA,CAAUjkG,IAAI,CAAC6/F,QAAA;MACjB;MAEA,OAAOoE,SAAA;IACT;EAAA;IAAA9mG,GAAA;IAAAmoB,KAAA,EAEA,SAAA6+E,aAAatC,YAAY,EAAE1iG,OAAO,EAAE;MAClC,OAAOwiG,uBAAA,CACLkB,0BAA2B,CAAA1jG,OAAA,CAAQ2uB,SAAS,EAAE,aAAa,IAAI,EAAE+zE,YAAA;IAErE;EAAA;IAAA1kG,GAAA;IAAAmoB,KAAA,EAGA,SAAA8+E,UAAUvC,YAAY,EAAE1iG,OAAO,EAAE;MAC/B,IAAO2uB,SAAS,GAAI3uB,OAAA,CAAb2uB,SAAS;MAEhB,IAAM60E,YAAe,GAAAE,0BAAA,CAA2B/0E,SAAW,kBAAgB,IAAI,EAAE+zE,YAAA;MACjF,IAAMtC,MAAS,GAAAsD,0BAAA,CAA2B/0E,SAAW,YAAU,IAAI,EAAE+zE,YAAA;MACrE,IAAMe,WAAc,GAAAC,0BAAA,CAA2B/0E,SAAW,iBAAe,IAAI,EAAE+zE,YAAA;MAE/E,IAAI7+B,KAAA,GAAQ,EAAE;MACdA,KAAQ,GAAAg8B,YAAA,CAAah8B,KAAA,EAAOk8B,aAAc,CAAAyD,YAAA;MAC1C3/B,KAAQ,GAAAg8B,YAAA,CAAah8B,KAAA,EAAOk8B,aAAc,CAAAK,MAAA;MAC1Cv8B,KAAQ,GAAAg8B,YAAA,CAAah8B,KAAA,EAAOk8B,aAAc,CAAA0D,WAAA;MAE1C,OAAO5/B,KAAA;IACT;EAAA;IAAA7lE,GAAA;IAAAmoB,KAAA,EAKA,SAAA++E,aAAallG,OAAO,EAAE;MAAA,IAAAmlG,OAAA;MACpB,IAAMjyD,MAAA,GAAS,IAAI,CAACrC,OAAO;MAC3B,IAAMr7B,IAAO,OAAI,CAAClX,KAAK,CAACkX,IAAI;MAC5B,IAAM+uF,WAAA,GAAc,EAAE;MACtB,IAAMC,gBAAA,GAAmB,EAAE;MAC3B,IAAMC,eAAA,GAAkB,EAAE;MAC1B,IAAI/B,YAAA,GAAe,EAAE;MACrB,IAAIljG,CAAG,EAAAghC,GAAA;MAEP,KAAKhhC,CAAA,GAAI,GAAGghC,GAAM,GAAA0S,MAAA,CAAOzzC,MAAM,EAAED,CAAA,GAAIghC,GAAK,IAAEhhC,CAAG;QAC7CkjG,YAAa,CAAA7hG,IAAI,CAACm/F,iBAAkB,KAAI,CAAC1hG,KAAK,EAAE40C,MAAM,CAAC1zC,CAAE;MAC3D;MAGA,IAAIQ,OAAA,CAAQgkB,MAAM,EAAE;QAClB0+E,YAAA,GAAeA,YAAa,CAAA1+E,MAAM,CAAC,UAACpJ,OAAS,EAAAtD,KAAA,EAAOo/C,KAAU;UAAA,OAAA12D,OAAA,CAAQgkB,MAAM,CAACpJ,OAAS,EAAAtD,KAAA,EAAOo/C,KAAO,EAAAlhD,IAAA;QAAA;;MAItG,IAAIxV,OAAA,CAAQolG,QAAQ,EAAE;QACpB1C,YAAe,GAAAA,YAAA,CAAa5oF,IAAI,CAAC,UAACI,CAAA,EAAGC,CAAA;UAAA,OAAMna,OAAQ,CAAAolG,QAAQ,CAAClrF,CAAA,EAAGC,CAAG,EAAA3E,IAAA;QAAA;;MAIpElY,6DAAK,CAAAolG,YAAA,EAAc,UAACxsF,OAAY;QAC9B,IAAM6uF,MAAS,GAAApC,iBAAA,CAAkB3iG,OAAQ,CAAA2uB,SAAS,EAAEzY,OAAA;QACpDquF,WAAA,CAAY1jG,IAAI,CAAC6iG,0BAAA,CAA2BqB,MAAQ,gBAAcI,OAAI,EAAEjvF,OAAA;QACxEsuF,gBAAA,CAAiB3jG,IAAI,CAAC6iG,0BAAA,CAA2BqB,MAAQ,qBAAmBI,OAAI,EAAEjvF,OAAA;QAClFuuF,eAAA,CAAgB5jG,IAAI,CAAC6iG,0BAAA,CAA2BqB,MAAQ,oBAAkBI,OAAI,EAAEjvF,OAAA;MAClF;MAEA,IAAI,CAACquF,WAAW,GAAGA,WAAA;MACnB,IAAI,CAACC,gBAAgB,GAAGA,gBAAA;MACxB,IAAI,CAACC,eAAe,GAAGA,eAAA;MACvB,IAAI,CAACL,UAAU,GAAG1B,YAAA;MAClB,OAAOA,YAAA;IACT;EAAA;IAAA1kG,GAAA;IAAAmoB,KAAA,EAEA,SAAA5d,OAAO8a,OAAO,EAAEsgE,MAAM,EAAE;MACtB,IAAM3jF,OAAA,GAAU,IAAI,CAACA,OAAO,CAAC8lE,UAAU,CAAC,IAAI,CAAC5oB,UAAU;MACvD,IAAMhK,MAAA,GAAS,IAAI,CAACrC,OAAO;MAC3B,IAAI74B,UAAA;MACJ,IAAI0qF,YAAA,GAAe,EAAE;MAErB,IAAI,CAACxvD,MAAO,CAAAzzC,MAAM,EAAE;QAClB,IAAI,IAAI,CAACskG,OAAO,KAAK,CAAG;UACtB/rF,UAAa;YACX+rF,OAAS;UACX;;OAEG;QACL,IAAMxvC,QAAW,GAAAgrC,WAAW,CAACv/F,OAAA,CAAQu0D,QAAQ,CAAC,CAAC7hD,IAAI,CAAC,IAAI,EAAEwgC,MAAQ,MAAI,CAAC8wD,cAAc;QACrFtB,YAAe,OAAI,CAACwC,YAAY,CAACllG,OAAA;QAEjC,IAAI,CAACspE,KAAK,GAAG,IAAI,CAACo7B,QAAQ,CAAChC,YAAc,EAAA1iG,OAAA;QACzC,IAAI,CAAC6gG,UAAU,GAAG,IAAI,CAAC8D,aAAa,CAACjC,YAAc,EAAA1iG,OAAA;QACnD,IAAI,CAAC+vB,IAAI,GAAG,IAAI,CAAC60E,OAAO,CAAClC,YAAc,EAAA1iG,OAAA;QACvC,IAAI,CAAC8gG,SAAS,GAAG,IAAI,CAACkE,YAAY,CAACtC,YAAc,EAAA1iG,OAAA;QACjD,IAAI,CAACogG,MAAM,GAAG,IAAI,CAAC6E,SAAS,CAACvC,YAAc,EAAA1iG,OAAA;QAE3C,IAAMuuB,IAAA,GAAO,IAAI,CAAC01E,KAAK,GAAG9D,cAAA,CAAe,IAAI,EAAEngG,OAAA;QAC/C,IAAMqlG,eAAA,GAAkB/lG,MAAO,CAAA6X,MAAM,CAAC,IAAIo9C,QAAU,EAAAhmC,IAAA;QACpD,IAAM6zE,SAAA,GAAYL,kBAAmB,KAAI,CAACzjG,KAAK,EAAE0B,OAAS,EAAAqlG,eAAA;QAC1D,IAAMC,eAAA,GAAkBnD,kBAAmB,CAAAniG,OAAA,EAASqlG,eAAA,EAAiBjD,SAAW,MAAI,CAAC9jG,KAAK;QAE1F,IAAI,CAACmjG,MAAM,GAAGW,SAAA,CAAUX,MAAM;QAC9B,IAAI,CAACK,MAAM,GAAGM,SAAA,CAAUN,MAAM;QAE9B9pF,UAAa;UACX+rF,OAAS;UACTrlG,CAAA,EAAG4mG,eAAA,CAAgB5mG,CAAC;UACpBC,CAAA,EAAG2mG,eAAA,CAAgB3mG,CAAC;UACpBkG,KAAA,EAAO0pB,IAAA,CAAK1pB,KAAK;UACjBC,MAAA,EAAQypB,IAAA,CAAKzpB,MAAM;UACnBu/F,MAAA,EAAQ9vC,QAAA,CAAS71D,CAAC;UAClB4lG,MAAA,EAAQ/vC,QAAA,CAAS51D;QACnB;;MAGF,IAAI,CAACwlG,aAAa,GAAGzB,YAAA;MACrB,IAAI,CAACnoD,QAAQ,GAAGh8C,SAAA;MAEhB,IAAIyZ,UAAY;QACd,IAAI,CAACqoC,kBAAkB,GAAG93C,MAAM,CAAC,IAAI,EAAEyP,UAAA;;MAGzC,IAAIqL,OAAA,IAAWrjB,OAAQ,CAAAulG,QAAQ,EAAE;QAC/BvlG,OAAA,CAAQulG,QAAQ,CAAC7yF,IAAI,CAAC,IAAI,EAAE;UAACpU,KAAO,MAAI,CAACA,KAAK;UAAE+vB,OAAA,EAAS,IAAI;UAAEs1D,MAAA,EAAAA;QAAM;;IAEzE;EAAA;IAAA3lF,GAAA;IAAAmoB,KAAA,EAEA,SAAAq/E,UAAUC,YAAY,EAAEj0F,GAAG,EAAE+c,IAAI,EAAEvuB,OAAO,EAAE;MAC1C,IAAM0lG,aAAA,GAAgB,IAAI,CAACC,gBAAgB,CAACF,YAAA,EAAcl3E,IAAM,EAAAvuB,OAAA;MAEhEwR,GAAA,CAAIw+D,MAAM,CAAC01B,aAAA,CAAc14B,EAAE,EAAE04B,aAAA,CAAcz4B,EAAE;MAC7Cz7D,GAAA,CAAIw+D,MAAM,CAAC01B,aAAA,CAAcx4B,EAAE,EAAEw4B,aAAA,CAAcv4B,EAAE;MAC7C37D,GAAA,CAAIw+D,MAAM,CAAC01B,aAAA,CAAcE,EAAE,EAAEF,aAAA,CAAcG,EAAE;IAC/C;EAAA;IAAA7nG,GAAA;IAAAmoB,KAAA,EAEA,SAAAw/E,iBAAiBF,YAAY,EAAEl3E,IAAI,EAAEvuB,OAAO,EAAE;MAC5C,IAAOyhG,MAAM,GAAY,IAAI,CAAtBA,MAAM;QAAEK,MAAM,GAAI,IAAI,CAAdA,MAAM;MACrB,IAAOH,SAAA,GAA2B3hG,OAAA,CAA3B2hG,SAAA;QAAWU,YAAA,GAAgBriG,OAAA,CAAhBqiG,YAAA;MAClB,IAAAyD,eAAA,GAAqDtX,8DAAc,CAAA6T,YAAA;QAA5D1T,OAAO,GAAAmX,eAAA,CAAPnX,OAAO;QAAEC,QAAQ,GAAAkX,eAAA,CAARlX,QAAQ;QAAEC,UAAA,GAAAiX,eAAA,CAAAjX,UAAA;QAAYC,WAAA,GAAAgX,eAAA,CAAAhX,WAAA;MACtC,IAAUiX,GAAA,GAAeN,YAAA,CAAlB/mG,CAAG;QAAQsnG,GAAA,GAAOP,YAAA,CAAV9mG,CAAG;MAClB,IAAOkG,KAAA,GAAiB0pB,IAAA,CAAjB1pB,KAAA;QAAOC,MAAA,GAAUypB,IAAA,CAAVzpB,MAAA;MACd,IAAIkoE,EAAI,EAAAE,EAAA,EAAI04B,EAAI,EAAA34B,EAAA,EAAIE,EAAI,EAAA04B,EAAA;MAExB,IAAI/D,MAAA,KAAW,QAAU;QACvB30B,EAAA,GAAK64B,GAAA,GAAOlhG,MAAS;QAErB,IAAI28F,MAAA,KAAW,MAAQ;UACrBz0B,EAAK,GAAA+4B,GAAA;UACL74B,EAAA,GAAKF,EAAK,GAAA20B,SAAA;UAGV10B,EAAA,GAAKE,EAAK,GAAAw0B,SAAA;UACVkE,EAAA,GAAK14B,EAAK,GAAAw0B,SAAA;SACL;UACL30B,EAAA,GAAK+4B,GAAM,GAAAlhG,KAAA;UACXqoE,EAAA,GAAKF,EAAK,GAAA20B,SAAA;UAGV10B,EAAA,GAAKE,EAAK,GAAAw0B,SAAA;UACVkE,EAAA,GAAK14B,EAAK,GAAAw0B,SAAA;;QAGZiE,EAAK,GAAA54B,EAAA;OACA;QACL,IAAIy0B,MAAA,KAAW,MAAQ;UACrBv0B,EAAA,GAAK64B,GAAM,GAAA5jG,IAAA,CAAKN,GAAG,CAAC8sF,OAAA,EAASE,UAAe,IAAA8S,SAAA;SACvC,UAAIF,MAAA,KAAW,OAAS;UAC7Bv0B,EAAA,GAAK64B,GAAA,GAAMlhG,KAAQ,GAAA1C,IAAA,CAAKN,GAAG,CAAC+sF,QAAA,EAAUE,WAAe,IAAA6S,SAAA;SAChD;UACLz0B,EAAK,OAAI,CAACm3B,MAAM;;QAGlB,IAAIvC,MAAA,KAAW,KAAO;UACpB70B,EAAK,GAAA+4B,GAAA;UACL74B,EAAA,GAAKF,EAAK,GAAA00B,SAAA;UAGV30B,EAAA,GAAKE,EAAK,GAAAy0B,SAAA;UACViE,EAAA,GAAK14B,EAAK,GAAAy0B,SAAA;SACL;UACL10B,EAAA,GAAK+4B,GAAM,GAAAlhG,MAAA;UACXqoE,EAAA,GAAKF,EAAK,GAAA00B,SAAA;UAGV30B,EAAA,GAAKE,EAAK,GAAAy0B,SAAA;UACViE,EAAA,GAAK14B,EAAK,GAAAy0B,SAAA;;QAEZkE,EAAK,GAAA54B,EAAA;;MAEP,OAAO;QAACD,EAAA,EAAAA,EAAA;QAAIE,EAAA,EAAAA,EAAA;QAAI04B,EAAA,EAAAA,EAAA;QAAI34B,EAAA,EAAAA,EAAA;QAAIE,EAAA,EAAAA,EAAA;QAAI04B,EAAA,EAAAA;MAAE;IAChC;EAAA;IAAA7nG,GAAA;IAAAmoB,KAAA,EAEA,SAAA0qD,UAAUo1B,EAAE,EAAEz0F,GAAG,EAAExR,OAAO,EAAE;MAC1B,IAAMspE,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAM7pE,MAAA,GAAS6pE,KAAA,CAAM7pE,MAAM;MAC3B,IAAI6uB,SAAA,EAAWyyE,YAAc,EAAAvhG,CAAA;MAE7B,IAAIC,MAAQ;QACV,IAAM67F,SAAA,GAAYC,8DAAc,CAAAv7F,OAAA,CAAQq7F,GAAG,EAAE,IAAI,CAAC38F,CAAC,EAAE,IAAI,CAACmG,KAAK;QAE/DohG,EAAA,CAAGvnG,CAAC,GAAG6jG,WAAA,CAAY,IAAI,EAAEviG,OAAA,CAAQikE,UAAU,EAAEjkE,OAAA;QAE7CwR,GAAA,CAAI08D,SAAS,GAAGotB,SAAA,CAAUptB,SAAS,CAACluE,OAAA,CAAQikE,UAAU;QACtDzyD,GAAA,CAAI68D,YAAY,GAAG;QAEnB//C,SAAY,GAAAs1C,8DAAA,CAAO5jE,OAAA,CAAQsuB,SAAS;QACpCyyE,YAAA,GAAe/gG,OAAA,CAAQ+gG,YAAY;QAEnCvvF,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQkmG,UAAU;QAClC10F,GAAI,CAAAwc,IAAI,GAAGM,SAAA,CAAUi9C,MAAM;QAE3B,KAAK/rE,CAAI,MAAGA,CAAI,GAAAC,MAAA,EAAQ,EAAED,CAAG;UAC3BgS,GAAA,CAAIorF,QAAQ,CAACtzB,KAAK,CAAC9pE,CAAA,CAAE,EAAE87F,SAAU,CAAA58F,CAAC,CAACunG,EAAA,CAAGvnG,CAAC,CAAG,EAAAunG,EAAA,CAAGtnG,CAAC,GAAG2vB,SAAA,CAAUw1C,UAAU,GAAG;UACxEmiC,EAAA,CAAGtnG,CAAC,IAAI2vB,SAAA,CAAUw1C,UAAU,GAAGi9B,YAAA;UAE/B,IAAIvhG,CAAA,GAAI,MAAMC,MAAQ;YACpBwmG,EAAA,CAAGtnG,CAAC,IAAIqB,OAAA,CAAQghG,iBAAiB,GAAGD,YAAA;;QAExC;;IAEJ;EAAA;IAAA/iG,GAAA;IAAAmoB,KAAA,EAKA,SAAAggF,cAAc30F,GAAG,EAAEy0F,EAAE,EAAEzmG,CAAC,EAAE87F,SAAS,EAAEt7F,OAAO,EAAE;MAC5C,IAAMmjG,UAAa,OAAI,CAACoB,WAAW,CAAC/kG,CAAE;MACtC,IAAM8jG,eAAkB,OAAI,CAACkB,gBAAgB,CAAChlG,CAAE;MAChD,IAAOq5F,SAAA,GAAuB74F,OAAA,CAAvB64F,SAAA;QAAWE,QAAA,GAAY/4F,OAAA,CAAZ+4F,QAAA;MAClB,IAAMvqE,QAAA,GAAWo1C,8DAAO,CAAA5jE,OAAA,CAAQwuB,QAAQ;MACxC,IAAM43E,MAAS,GAAA7D,WAAA,CAAY,IAAI,EAAE,MAAQ,EAAAviG,OAAA;MACzC,IAAMqmG,SAAA,GAAY/K,SAAU,CAAA58F,CAAC,CAAC0nG,MAAA;MAC9B,IAAME,OAAU,GAAAzN,SAAA,GAAYrqE,QAAS,CAAAs1C,UAAU,GAAI,CAAAt1C,QAAA,CAASs1C,UAAU,GAAG+0B,SAAQ,IAAK,IAAI,CAAC;MAC3F,IAAM0N,MAAA,GAASN,EAAG,CAAAtnG,CAAC,GAAG2nG,OAAA;MAEtB,IAAItmG,OAAA,CAAQg5F,aAAa,EAAE;QACzB,IAAMsD,WAAc;UAClBtzC,MAAA,EAAQ7mD,IAAK,CAAAL,GAAG,CAACi3F,QAAA,EAAUF,SAAa;UACxCzqC,UAAA,EAAYk1C,eAAA,CAAgBl1C,UAAU;UACtC3uC,QAAA,EAAU6jF,eAAA,CAAgB7jF,QAAQ;UAClC3N,WAAa;QACf;QAGA,IAAMo7C,OAAA,GAAUouC,SAAU,CAAAK,UAAU,CAAC0K,SAAA,EAAWtN,QAAA,IAAYA,QAAW;QACvE,IAAM5rC,OAAA,GAAUo5C,MAAA,GAAS1N,SAAY;QAGrCrnF,GAAI,CAAAQ,WAAW,GAAGhS,OAAA,CAAQwmG,kBAAkB;QAC5Ch1F,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQwmG,kBAAkB;QAC1C5Y,8DAAU,CAAAp8E,GAAA,EAAK8qF,WAAA,EAAapvC,OAAS,EAAAC,OAAA;QAGrC37C,GAAI,CAAAQ,WAAW,GAAGmxF,UAAA,CAAWlxF,WAAW;QACxCT,GAAI,CAAAG,SAAS,GAAGwxF,UAAA,CAAWvxF,eAAe;QAC1Cg8E,8DAAU,CAAAp8E,GAAA,EAAK8qF,WAAA,EAAapvC,OAAS,EAAAC,OAAA;OAChC;QAEL37C,GAAI,CAAAO,SAAS,GAAG+hC,6DAAS,CAAAqvD,UAAA,CAAWrxF,WAAW,CAAI,GAAA3P,IAAA,CAAKN,GAAG,CAAAqV,KAAA,CAAR/U,IAAA,EAAA69B,kBAAA,CAAY1gC,MAAA,CAAO0a,MAAM,CAACmpF,UAAA,CAAWrxF,WAAW,CAAM,KAAAqxF,UAAA,CAAWrxF,WAAW,IAAI,CAAE;QACrIN,GAAI,CAAAQ,WAAW,GAAGmxF,UAAA,CAAWlxF,WAAW;QACxCT,GAAA,CAAIq+D,WAAW,CAACszB,UAAW,CAAA31B,UAAU,IAAI,EAAE;QAC3Ch8D,GAAA,CAAIs+D,cAAc,GAAGqzB,UAAW,CAAAz1B,gBAAgB,IAAI;QAGpD,IAAM+4B,MAAS,GAAAnL,SAAA,CAAUK,UAAU,CAAC0K,SAAW,EAAAtN,QAAA;QAC/C,IAAM2N,MAAA,GAASpL,SAAA,CAAUK,UAAU,CAACL,SAAA,CAAUkB,KAAK,CAAC6J,SAAW,MAAItN,QAAW;QAC9E,IAAM9T,YAAA,GAAeuJ,8DAAc,CAAA2U,UAAA,CAAWle,YAAY;QAE1D,IAAI3lF,MAAA,CAAO0a,MAAM,CAACirE,YAAA,EAAc3O,IAAI,CAAC,UAAAlyE,CAAK;UAAA,OAAAA,CAAA,KAAM,CAAI;QAAA;UAClDoN,GAAA,CAAIE,SAAS;UACbF,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQwmG,kBAAkB;UAC1CxW,8DAAA,CAAmBx+E,GAAK;YACtB9S,CAAG,EAAA+nG,MAAA;YACH9nG,CAAG,EAAA4nG,MAAA;YACHrlE,CAAG,EAAA63D,QAAA;YACHh6D,CAAG,EAAA85D,SAAA;YACH7vC,MAAQ,EAAAi8B;UACV;UACAzzE,GAAA,CAAIspC,IAAI;UACRtpC,GAAA,CAAIy+D,MAAM;UAGVz+D,GAAI,CAAAG,SAAS,GAAGwxF,UAAA,CAAWvxF,eAAe;UAC1CJ,GAAA,CAAIE,SAAS;UACbs+E,8DAAA,CAAmBx+E,GAAK;YACtB9S,CAAG,EAAAgoG,MAAA;YACH/nG,CAAA,EAAG4nG,MAAS;YACZrlE,CAAA,EAAG63D,QAAW;YACdh6D,CAAA,EAAG85D,SAAY;YACf7vC,MAAQ,EAAAi8B;UACV;UACAzzE,GAAA,CAAIspC,IAAI;SACH;UAELtpC,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQwmG,kBAAkB;UAC1Ch1F,GAAA,CAAIK,QAAQ,CAAC40F,MAAQ,EAAAF,MAAA,EAAQxN,QAAU,EAAAF,SAAA;UACvCrnF,GAAA,CAAIU,UAAU,CAACu0F,MAAQ,EAAAF,MAAA,EAAQxN,QAAU,EAAAF,SAAA;UAEzCrnF,GAAI,CAAAG,SAAS,GAAGwxF,UAAA,CAAWvxF,eAAe;UAC1CJ,GAAA,CAAIK,QAAQ,CAAC60F,MAAA,EAAQH,MAAA,GAAS,CAAG,EAAAxN,QAAA,GAAW,GAAGF,SAAY;;;MAK/DrnF,GAAA,CAAIG,SAAS,GAAG,IAAI,CAAC8yF,eAAe,CAACjlG,CAAE;IACzC;EAAA;IAAAxB,GAAA;IAAAmoB,KAAA,EAEA,SAAAwgF,SAASV,EAAE,EAAEz0F,GAAG,EAAExR,OAAO,EAAE;MACzB,IAAO+vB,IAAA,GAAQ,IAAI,CAAZA,IAAA;MACP,IAAOmxE,WAAA,GAA0ElhG,OAAA,CAA1EkhG,WAAA;QAAa0F,SAAA,GAA6D5mG,OAAA,CAA7D4mG,SAAA;QAAWn4E,aAAA,GAAkDzuB,OAAA,CAAlDyuB,aAAA;QAAeoqE,SAAA,GAAmC74F,OAAA,CAAnC64F,SAAA;QAAWE,QAAA,GAAwB/4F,OAAA,CAAxB+4F,QAAA;QAAUlgC,UAAA,GAAc74D,OAAA,CAAd64D,UAAA;MACnE,IAAMrqC,QAAA,GAAWo1C,8DAAO,CAAA5jE,OAAA,CAAQwuB,QAAQ;MACxC,IAAIyyE,cAAA,GAAiBzyE,QAAA,CAASs1C,UAAU;MACxC,IAAI+iC,YAAe;MAEnB,IAAMvL,SAAA,GAAYC,8DAAc,CAAAv7F,OAAA,CAAQq7F,GAAG,EAAE,IAAI,CAAC38F,CAAC,EAAE,IAAI,CAACmG,KAAK;MAE/D,IAAMiiG,cAAA,GAAiB,SAAjBA,eAA0Bl4C,IAAI,EAAE;QACpCp9C,GAAA,CAAIorF,QAAQ,CAAChuC,IAAM,EAAA0sC,SAAA,CAAU58F,CAAC,CAACunG,EAAG,CAAAvnG,CAAC,GAAGmoG,YAAA,GAAeZ,EAAG,CAAAtnG,CAAC,GAAGsiG,cAAiB;QAC7EgF,EAAG,CAAAtnG,CAAC,IAAIsiG,cAAiB,GAAAC,WAAA;MAC3B;MAEA,IAAM6F,uBAAA,GAA0BzL,SAAU,CAAAptB,SAAS,CAAC04B,SAAA;MACpD,IAAIlG,QAAU,EAAAsG,SAAA,EAAWnjC,KAAO,EAAArkE,CAAA,EAAGqtC,CAAA,EAAG4I,IAAM,EAAAy1B,IAAA;MAE5C15D,GAAA,CAAI08D,SAAS,GAAG04B,SAAA;MAChBp1F,GAAA,CAAI68D,YAAY,GAAG;MACnB78D,GAAI,CAAAwc,IAAI,GAAGQ,QAAA,CAAS+8C,MAAM;MAE1B06B,EAAA,CAAGvnG,CAAC,GAAG6jG,WAAY,KAAI,EAAEwE,uBAAyB,EAAA/mG,OAAA;MAGlDwR,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQqjG,SAAS;MACjC/lG,6DAAK,KAAI,CAACujG,UAAU,EAAEiG,cAAA;MAEtBD,YAAA,GAAep4E,aAAiB,IAAAs4E,uBAAA,KAA4B,OACxD,GAAAH,SAAA,KAAc,QAAY,GAAA7N,QAAA,GAAW,CAAI,GAAAlgC,UAAA,GAAekgC,QAAW,OAAIlgC,UAAW,GAClF,CAAC;MAGL,KAAKr5D,CAAA,GAAI,GAAGi2C,IAAO,GAAA1lB,IAAA,CAAKtwB,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC7CkhG,QAAW,GAAA3wE,IAAI,CAACvwB,CAAE;QAClBwnG,SAAA,GAAY,IAAI,CAACvC,eAAe,CAACjlG,CAAE;QAEnCgS,GAAA,CAAIG,SAAS,GAAGq1F,SAAA;QAChB1pG,6DAAK,CAAAojG,QAAA,CAASC,MAAM,EAAEmG,cAAA;QAEtBjjC,KAAA,GAAQ68B,QAAA,CAAS78B,KAAK;QAEtB,IAAIp1C,aAAA,IAAiBo1C,KAAM,CAAApkE,MAAM,EAAE;UACjC,IAAI,CAAC0mG,aAAa,CAAC30F,GAAK,EAAAy0F,EAAA,EAAIzmG,CAAA,EAAG87F,SAAW,EAAAt7F,OAAA;UAC1CihG,cAAA,GAAiB9+F,IAAK,CAAAN,GAAG,CAAC2sB,QAAA,CAASs1C,UAAU,EAAE+0B,SAAA;;QAGjD,KAAKhsD,CAAA,GAAI,GAAGq+B,IAAO,GAAArH,KAAA,CAAMpkE,MAAM,EAAEotC,CAAA,GAAIq+B,IAAM,IAAEr+B,CAAG;UAC9Ci6D,cAAe,CAAAjjC,KAAK,CAACh3B,CAAE;UAEvBo0D,cAAA,GAAiBzyE,QAAA,CAASs1C,UAAU;QACtC;QAEAxmE,6DAAK,CAAAojG,QAAA,CAASE,KAAK,EAAEkG,cAAA;MACvB;MAGAD,YAAe;MACf5F,cAAA,GAAiBzyE,QAAA,CAASs1C,UAAU;MAGpCxmE,6DAAK,KAAI,CAACwjG,SAAS,EAAEgG,cAAA;MACrBb,EAAG,CAAAtnG,CAAC,IAAIuiG,WAAA;IACV;EAAA;IAAAljG,GAAA;IAAAmoB,KAAA,EAEA,SAAA8gF,WAAWhB,EAAE,EAAEz0F,GAAG,EAAExR,OAAO,EAAE;MAC3B,IAAMogG,MAAA,GAAS,IAAI,CAACA,MAAM;MAC1B,IAAM3gG,MAAA,GAAS2gG,MAAA,CAAO3gG,MAAM;MAC5B,IAAI4gG,UAAY,EAAA7gG,CAAA;MAEhB,IAAIC,MAAQ;QACV,IAAM67F,SAAA,GAAYC,8DAAc,CAAAv7F,OAAA,CAAQq7F,GAAG,EAAE,IAAI,CAAC38F,CAAC,EAAE,IAAI,CAACmG,KAAK;QAE/DohG,EAAA,CAAGvnG,CAAC,GAAG6jG,WAAA,CAAY,IAAI,EAAEviG,OAAA,CAAQknG,WAAW,EAAElnG,OAAA;QAC9CimG,EAAG,CAAAtnG,CAAC,IAAIqB,OAAA,CAAQmhG,eAAe;QAE/B3vF,GAAA,CAAI08D,SAAS,GAAGotB,SAAA,CAAUptB,SAAS,CAACluE,OAAA,CAAQknG,WAAW;QACvD11F,GAAA,CAAI68D,YAAY,GAAG;QAEnBgyB,UAAa,GAAAz8B,8DAAA,CAAO5jE,OAAA,CAAQqgG,UAAU;QAEtC7uF,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQmnG,WAAW;QACnC31F,GAAI,CAAAwc,IAAI,GAAGqyE,UAAA,CAAW90B,MAAM;QAE5B,KAAK/rE,CAAI,MAAGA,CAAI,GAAAC,MAAA,EAAQ,EAAED,CAAG;UAC3BgS,GAAA,CAAIorF,QAAQ,CAACwD,MAAM,CAAC5gG,CAAA,CAAE,EAAE87F,SAAU,CAAA58F,CAAC,CAACunG,EAAA,CAAGvnG,CAAC,CAAG,EAAAunG,EAAA,CAAGtnG,CAAC,GAAG0hG,UAAA,CAAWv8B,UAAU,GAAG;UAC1EmiC,EAAA,CAAGtnG,CAAC,IAAI0hG,UAAA,CAAWv8B,UAAU,GAAG9jE,OAAA,CAAQohG,aAAa;QACvD;;IAEJ;EAAA;IAAApjG,GAAA;IAAAmoB,KAAA,EAEA,SAAAspD,eAAew2B,EAAE,EAAEz0F,GAAG,EAAE41F,WAAW,EAAEpnG,OAAO,EAAE;MAC5C,IAAOyhG,MAAM,GAAY,IAAI,CAAtBA,MAAM;QAAEK,MAAM,GAAI,IAAI,CAAdA,MAAM;MACrB,IAAOpjG,CAAA,GAAQunG,EAAA,CAARvnG,CAAA;QAAGC,CAAA,GAAKsnG,EAAA,CAALtnG,CAAA;MACV,IAAOkG,KAAA,GAAiBuiG,WAAA,CAAjBviG,KAAA;QAAOC,MAAA,GAAUsiG,WAAA,CAAVtiG,MAAA;MACd,IAAAuiG,eAAA,GAAqD7Y,8DAAc,CAAAxuF,OAAA,CAAQqiG,YAAY;QAAhF1T,OAAA,GAAA0Y,eAAA,CAAA1Y,OAAA;QAASC,QAAA,GAAAyY,eAAA,CAAAzY,QAAA;QAAUC,UAAA,GAAAwY,eAAA,CAAAxY,UAAA;QAAYC,WAAA,GAAAuY,eAAA,CAAAvY,WAAA;MAEtCt9E,GAAI,CAAAG,SAAS,GAAG3R,OAAA,CAAQ4R,eAAe;MACvCJ,GAAI,CAAAQ,WAAW,GAAGhS,OAAA,CAAQiS,WAAW;MACrCT,GAAI,CAAAO,SAAS,GAAG/R,OAAA,CAAQ8R,WAAW;MAEnCN,GAAA,CAAIE,SAAS;MACbF,GAAI,CAAAu+D,MAAM,CAACrxE,CAAA,GAAIiwF,OAAS,EAAAhwF,CAAA;MACxB,IAAImjG,MAAA,KAAW,KAAO;QACpB,IAAI,CAAC0D,SAAS,CAACS,EAAA,EAAIz0F,GAAA,EAAK41F,WAAa,EAAApnG,OAAA;;MAEvCwR,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAmG,KAAA,GAAQ+pF,QAAU,EAAAjwF,CAAA;MACjC6S,GAAA,CAAI81F,gBAAgB,CAAC5oG,CAAA,GAAImG,KAAA,EAAOlG,CAAG,EAAAD,CAAA,GAAImG,KAAA,EAAOlG,CAAI,GAAAiwF,QAAA;MAClD,IAAIkT,MAAA,KAAW,QAAY,IAAAL,MAAA,KAAW,OAAS;QAC7C,IAAI,CAAC+D,SAAS,CAACS,EAAA,EAAIz0F,GAAA,EAAK41F,WAAa,EAAApnG,OAAA;;MAEvCwR,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAmG,KAAA,EAAOlG,CAAA,GAAImG,MAAS,GAAAgqF,WAAA;MACnCt9E,GAAI,CAAA81F,gBAAgB,CAAC5oG,CAAI,GAAAmG,KAAA,EAAOlG,CAAA,GAAImG,MAAQ,EAAApG,CAAA,GAAImG,KAAQ,GAAAiqF,WAAA,EAAanwF,CAAI,GAAAmG,MAAA;MACzE,IAAIg9F,MAAA,KAAW,QAAU;QACvB,IAAI,CAAC0D,SAAS,CAACS,EAAA,EAAIz0F,GAAA,EAAK41F,WAAa,EAAApnG,OAAA;;MAEvCwR,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAmwF,UAAA,EAAYlwF,CAAI,GAAAmG,MAAA;MAC/B0M,GAAA,CAAI81F,gBAAgB,CAAC5oG,CAAA,EAAGC,CAAA,GAAImG,MAAQ,EAAApG,CAAA,EAAGC,CAAA,GAAImG,MAAS,GAAA+pF,UAAA;MACpD,IAAIiT,MAAA,KAAW,QAAY,IAAAL,MAAA,KAAW,MAAQ;QAC5C,IAAI,CAAC+D,SAAS,CAACS,EAAA,EAAIz0F,GAAA,EAAK41F,WAAa,EAAApnG,OAAA;;MAEvCwR,GAAI,CAAAw+D,MAAM,CAACtxE,CAAA,EAAGC,CAAI,GAAAgwF,OAAA;MAClBn9E,GAAA,CAAI81F,gBAAgB,CAAC5oG,CAAG,EAAAC,CAAA,EAAGD,CAAA,GAAIiwF,OAAS,EAAAhwF,CAAA;MACxC6S,GAAA,CAAImzE,SAAS;MAEbnzE,GAAA,CAAIspC,IAAI;MAER,IAAI96C,OAAA,CAAQ8R,WAAW,GAAG,CAAG;QAC3BN,GAAA,CAAIy+D,MAAM;;IAEd;EAAA;IAAAjyE,GAAA;IAAAmoB,KAAA,EAMA,SAAAohF,uBAAuBvnG,OAAO,EAAE;MAC9B,IAAM1B,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAMwxC,KAAA,GAAQ,IAAI,CAAC8E,WAAW;MAC9B,IAAM4yD,KAAA,GAAQ13D,KAAS,IAAAA,KAAA,CAAMpxC,CAAC;MAC9B,IAAM+oG,KAAA,GAAQ33D,KAAS,IAAAA,KAAA,CAAMnxC,CAAC;MAC9B,IAAI6oG,KAAA,IAASC,KAAO;QAClB,IAAMlzC,QAAA,GAAWgrC,WAAW,CAACv/F,OAAQ,CAAAu0D,QAAQ,CAAC,CAAC7hD,IAAI,CAAC,IAAI,EAAE,IAAI,CAACm+B,OAAO,EAAE,IAAI,CAACmzD,cAAc;QAC3F,IAAI,CAACzvC,QAAU;UACb;;QAEF,IAAMhmC,IAAA,GAAO,IAAI,CAAC01E,KAAK,GAAG9D,cAAA,CAAe,IAAI,EAAEngG,OAAA;QAC/C,IAAMqlG,eAAA,GAAkB/lG,MAAA,CAAO6X,MAAM,CAAC,EAAI,EAAAo9C,QAAA,EAAU,IAAI,CAAC0vC,KAAK;QAC9D,IAAM7B,SAAA,GAAYL,kBAAmB,CAAAzjG,KAAA,EAAO0B,OAAS,EAAAqlG,eAAA;QACrD,IAAMplG,KAAQ,GAAAkiG,kBAAA,CAAmBniG,OAAS,EAAAqlG,eAAA,EAAiBjD,SAAW,EAAA9jG,KAAA;QACtE,IAAIkpG,KAAA,CAAMx0D,GAAG,KAAK/yC,KAAM,CAAAvB,CAAC,IAAI+oG,KAAA,CAAMz0D,GAAG,KAAK/yC,KAAM,CAAAtB,CAAC,EAAE;UAClD,IAAI,CAAC8iG,MAAM,GAAGW,SAAA,CAAUX,MAAM;UAC9B,IAAI,CAACK,MAAM,GAAGM,SAAA,CAAUN,MAAM;UAC9B,IAAI,CAACj9F,KAAK,GAAG0pB,IAAA,CAAK1pB,KAAK;UACvB,IAAI,CAACC,MAAM,GAAGypB,IAAA,CAAKzpB,MAAM;UACzB,IAAI,CAACu/F,MAAM,GAAG9vC,QAAA,CAAS71D,CAAC;UACxB,IAAI,CAAC4lG,MAAM,GAAG/vC,QAAA,CAAS51D,CAAC;UACxB,IAAI,CAAC0hD,kBAAkB,GAAG93C,MAAM,CAAC,IAAI,EAAEtI,KAAA;;;IAG7C;EAAA;IAAAjC,GAAA;IAAAmoB,KAAA,EAMA,SAAAuhF,YAAA,EAAc;MACZ,OAAO,CAAC,CAAC,IAAI,CAAC3D,OAAO;IACvB;EAAA;IAAA/lG,GAAA;IAAAmoB,KAAA,EAEA,SAAAhV,KAAKK,GAAG,EAAE;MACR,IAAMxR,OAAA,GAAU,IAAI,CAACA,OAAO,CAAC8lE,UAAU,CAAC,IAAI,CAAC5oB,UAAU;MACvD,IAAI6mD,OAAA,GAAU,IAAI,CAACA,OAAO;MAE1B,IAAI,CAACA,OAAS;QACZ;;MAGF,IAAI,CAACwD,sBAAsB,CAACvnG,OAAA;MAE5B,IAAMonG,WAAc;QAClBviG,KAAO,MAAI,CAACA,KAAK;QACjBC,MAAQ,MAAI,CAACA;MACf;MACA,IAAMmhG,EAAK;QACTvnG,CAAG,MAAI,CAACA,CAAC;QACTC,CAAG,MAAI,CAACA;MACV;MAGAolG,OAAA,GAAU5hG,IAAA,CAAKgD,GAAG,CAAC4+F,OAAW,WAAO,IAAIA,OAAO;MAEhD,IAAM51E,OAAA,GAAU2sC,6DAAU,CAAA96D,OAAA,CAAQmuB,OAAO;MAGzC,IAAMw5E,iBAAoB,OAAI,CAACr+B,KAAK,CAAC7pE,MAAM,IAAI,IAAI,CAACohG,UAAU,CAACphG,MAAM,IAAI,IAAI,CAACswB,IAAI,CAACtwB,MAAM,IAAI,IAAI,CAACqhG,SAAS,CAACrhG,MAAM,IAAI,IAAI,CAAC2gG,MAAM,CAAC3gG,MAAM;MAExI,IAAIO,OAAA,CAAQnC,OAAO,IAAI8pG,iBAAmB;QACxCn2F,GAAA,CAAIC,IAAI;QACRD,GAAA,CAAIo2F,WAAW,GAAG7D,OAAA;QAGlB,IAAI,CAACt0B,cAAc,CAACw2B,EAAA,EAAIz0F,GAAA,EAAK41F,WAAa,EAAApnG,OAAA;QAE1C88F,8DAAsB,CAAAtrF,GAAA,EAAKxR,OAAA,CAAQ+8F,aAAa;QAEhDkJ,EAAG,CAAAtnG,CAAC,IAAIwvB,OAAA,CAAQxuB,GAAG;QAGnB,IAAI,CAACkxE,SAAS,CAACo1B,EAAA,EAAIz0F,GAAK,EAAAxR,OAAA;QAGxB,IAAI,CAAC2mG,QAAQ,CAACV,EAAA,EAAIz0F,GAAK,EAAAxR,OAAA;QAGvB,IAAI,CAACinG,UAAU,CAAChB,EAAA,EAAIz0F,GAAK,EAAAxR,OAAA;QAEzBs9F,8DAAqB,CAAA9rF,GAAA,EAAKxR,OAAA,CAAQ+8F,aAAa;QAE/CvrF,GAAA,CAAIW,OAAO;;IAEf;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAMA,SAAAi9D,kBAAA,EAAoB;MAClB,OAAO,IAAI,CAACvyC,OAAO,IAAI,EAAE;IAC3B;EAAA;IAAA7yC,GAAA;IAAAmoB,KAAA,EAOA,SAAAk9D,kBAAkBC,cAAc,EAAEmc,aAAa,EAAE;MAAA,IAAAoI,OAAA;MAC/C,IAAMrkB,UAAA,GAAa,IAAI,CAAC3yC,OAAO;MAC/B,IAAMqC,MAAA,GAASowC,cAAe,CAAA3vE,GAAG,CAAC,UAAAm0F,MAAA,EAA2B;QAAA,IAAzBjyD,YAAY,GAAAiyD,MAAA,CAAZjyD,YAAY;UAAEv+B,KAAK,GAAAwwF,MAAA,CAALxwF,KAAK;QACrD,IAAM6+B,IAAA,GAAO0xD,OAAI,CAACvpG,KAAK,CAAC09C,cAAc,CAACnG,YAAA;QAEvC,IAAI,CAACM,IAAM;UACT,MAAM,IAAIp/B,KAAM,qCAAoC8+B,YAAc;;QAGpE,OAAO;UACLA,YAAA,EAAAA,YAAA;UACAj7B,OAAS,EAAAu7B,IAAA,CAAK3gC,IAAI,CAAC8B,KAAM;UACzBA,KAAA,EAAAA;QACF;MACF;MACA,IAAM+L,OAAA,GAAU,CAACogE,8DAAA,CAAeD,UAAY,EAAAtwC,MAAA;MAC5C,IAAM60D,eAAkB,OAAI,CAACC,gBAAgB,CAAC90D,MAAQ,EAAAusD,aAAA;MAEtD,IAAIp8E,OAAA,IAAW0kF,eAAiB;QAC9B,IAAI,CAACl3D,OAAO,GAAGqC,MAAA;QACf,IAAI,CAAC8wD,cAAc,GAAGvE,aAAA;QACtB,IAAI,CAACwI,mBAAmB,GAAG,IAAI;QAC/B,IAAI,CAAC1/F,MAAM,CAAC,IAAI;;IAEpB;EAAA;IAAAvK,GAAA;IAAAmoB,KAAA,EASA,SAAAy3E,YAAYruF,CAAC,EAAEo0E,MAAM,EAAsB;MAAA,IAApBrH,WAAA,GAAAj5E,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAc,IAAI;MACvC,IAAIsgF,MAAU,QAAI,CAACskB,mBAAmB,EAAE;QACtC,OAAO,KAAK;;MAEd,IAAI,CAACA,mBAAmB,GAAG,KAAK;MAEhC,IAAMjoG,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMwjF,UAAa,OAAI,CAAC3yC,OAAO,IAAI,EAAE;MACrC,IAAMqC,MAAA,GAAS,IAAI,CAACkxC,kBAAkB,CAAC70E,CAAA,EAAGi0E,UAAA,EAAYG,MAAQ,EAAArH,WAAA;MAK9D,IAAMyrB,eAAkB,OAAI,CAACC,gBAAgB,CAAC90D,MAAQ,EAAA3jC,CAAA;MAGtD,IAAM8T,OAAU,GAAAsgE,MAAA,IAAU,CAACF,8DAAA,CAAevwC,MAAA,EAAQswC,UAAe,KAAAukB,eAAA;MAGjE,IAAI1kF,OAAS;QACX,IAAI,CAACwtB,OAAO,GAAGqC,MAAA;QAEf,IAAIlzC,OAAQ,CAAAnC,OAAO,IAAImC,OAAA,CAAQulG,QAAQ,EAAE;UACvC,IAAI,CAACvB,cAAc,GAAG;YACpBtlG,CAAA,EAAG6Q,CAAA,CAAE7Q,CAAC;YACNC,CAAA,EAAG4Q,CAAA,CAAE5Q;UACP;UAEA,IAAI,CAAC4J,MAAM,CAAC,IAAI,EAAEo7E,MAAA;;;MAItB,OAAOtgE,OAAA;IACT;EAAA;IAAArlB,GAAA;IAAAmoB,KAAA,EAWA,SAAAi+D,mBAAmB70E,CAAC,EAAEi0E,UAAU,EAAEG,MAAM,EAAErH,WAAW,EAAE;MACrD,IAAMt8E,OAAA,GAAU,IAAI,CAACA,OAAO;MAE5B,IAAIuP,CAAA,CAAE/H,IAAI,KAAK,UAAY;QACzB,OAAO,EAAE;;MAGX,IAAI,CAAC80E,WAAa;QAEhB,OAAOkH,UAAA;;MAIT,IAAMtwC,MAAA,GAAS,IAAI,CAAC50C,KAAK,CAAC4jF,yBAAyB,CAAC3yE,CAAG,EAAAvP,OAAA,CAAQ5B,IAAI,EAAE4B,OAAS,EAAA2jF,MAAA;MAE9E,IAAI3jF,OAAA,CAAQy8B,OAAO,EAAE;QACnByW,MAAA,CAAOzW,OAAO;;MAGhB,OAAOyW,MAAA;IACT;EAAA;IAAAl1C,GAAA;IAAAmoB,KAAA,EASA,SAAA6hF,iBAAiB90D,MAAM,EAAE3jC,CAAC,EAAE;MAC1B,IAAO80F,MAAA,GAA2B,IAAI,CAA/BA,MAAA;QAAQC,MAAA,GAAmB,IAAI,CAAvBA,MAAA;QAAQtkG,OAAO,GAAI,IAAI,CAAfA,OAAO;MAC9B,IAAMu0D,QAAA,GAAWgrC,WAAW,CAACv/F,OAAQ,CAAAu0D,QAAQ,CAAC,CAAC7hD,IAAI,CAAC,IAAI,EAAEwgC,MAAQ,EAAA3jC,CAAA;MAClE,OAAOglD,QAAA,KAAa,KAAK,KAAK8vC,MAAA,KAAW9vC,QAAS,CAAA71D,CAAC,IAAI4lG,MAAA,KAAW/vC,QAAS,CAAA51D,CAAC,CAAD;IAC7E;EAAA;EAAA,OAAAglG,OAAA;AAAA,EAvvB2BpjC,OAAA;AAAA3iB,eAAA,CAAhB+lD,OAAgB,iBAKNpE,WAAY;AAqvBnC,IAAA2I,cAAA,GAAe;EACbtlG,EAAI;EACJy7F,QAAU,EAAAsF,OAAA;EACVpE,WAAA,EAAAA,WAAA;EAEA4I,SAAA,WAAAA,UAAU7pG,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAC/B,IAAIA,OAAS;MACX1B,KAAM,CAAA+vB,OAAO,GAAG,IAAIs1E,OAAQ;QAACrlG,KAAA,EAAAA,KAAA;QAAO0B,OAAA,EAAAA;MAAO;;EAE/C;EAEA+S,YAAA,WAAAA,aAAazU,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAClC,IAAI1B,KAAA,CAAM+vB,OAAO,EAAE;MACjB/vB,KAAM,CAAA+vB,OAAO,CAACssB,UAAU,CAAC36C,OAAA;;EAE7B;EAEA6oB,KAAA,WAAAA,MAAMvqB,KAAK,EAAEiU,KAAK,EAAEvS,OAAO,EAAE;IAC3B,IAAI1B,KAAA,CAAM+vB,OAAO,EAAE;MACjB/vB,KAAM,CAAA+vB,OAAO,CAACssB,UAAU,CAAC36C,OAAA;;EAE7B;EAEAmT,SAAA,WAAAA,UAAU7U,KAAK,EAAE;IACf,IAAM+vB,OAAA,GAAU/vB,KAAA,CAAM+vB,OAAO;IAE7B,IAAIA,OAAA,IAAWA,OAAQ,CAAAq5E,WAAW,EAAI;MACpC,IAAM70F,IAAO;QACXwb,OAAA,EAAAA;MACF;MAEA,IAAI/vB,KAAA,CAAM+pE,aAAa,CAAC,mBAAqB,EAAAqqB,aAAA,CAAAA,aAAA,KAAI7/E,IAAI;QAAEnF,UAAA,EAAY;MAAI,QAAO,KAAK,EAAE;QACnF;;MAGF2gB,OAAQ,CAAAld,IAAI,CAAC7S,KAAA,CAAMkT,GAAG;MAEtBlT,KAAM,CAAA+pE,aAAa,CAAC,kBAAoB,EAAAx1D,IAAA;;EAE5C;EAEAyrF,UAAW,WAAAA,WAAAhgG,KAAK,EAAEuU,IAAI,EAAE;IACtB,IAAIvU,KAAA,CAAM+vB,OAAO,EAAE;MAEjB,IAAM4mC,gBAAA,GAAmBpiD,IAAA,CAAK8wE,MAAM;MACpC,IAAIrlF,KAAA,CAAM+vB,OAAO,CAACuvE,WAAW,CAAC/qF,IAAK,CAAA5U,KAAK,EAAEg3D,gBAAA,EAAkBpiD,IAAK,CAAAypE,WAAW,CAAG;QAE7EzpE,IAAK,CAAAwQ,OAAO,GAAG,IAAI;;;EAGzB;EAEAhR,QAAU;IACRxU,OAAA,EAAS,IAAI;IACb0nG,QAAA,EAAU,IAAI;IACdhxC,QAAU;IACV3iD,eAAiB;IACjBs0F,UAAY;IACZ53E,SAAW;MACTL,MAAQ;IACV;IACA8yE,YAAc;IACdC,iBAAmB;IACnB/8B,UAAY;IACZo/B,SAAW;IACXnC,WAAa;IACb1yE,QAAA,EAAU,EACV;IACAo4E,SAAW;IACXO,WAAa;IACb/F,aAAe;IACfD,eAAiB;IACjBd,UAAY;MACVpyE,MAAQ;IACV;IACAi5E,WAAa;IACb/4E,OAAS;IACTyzE,YAAc;IACdD,SAAW;IACXU,YAAc;IACdxJ,SAAA,EAAW,SAAAA,UAACrnF,GAAK,EAAA5T,IAAA;MAAA,OAASA,IAAK,CAAA4wB,QAAQ,CAACD,IAAI;IAAA;IAC5CwqE,QAAA,EAAU,SAAAA,SAACvnF,GAAK,EAAA5T,IAAA;MAAA,OAASA,IAAK,CAAA4wB,QAAQ,CAACD,IAAI;IAAA;IAC3Ci4E,kBAAoB;IACpB/3E,aAAA,EAAe,IAAI;IACnBoqC,UAAY;IACZ5mD,WAAa;IACbH,WAAa;IACbkiC,SAAW;MACT9D,QAAU;MACVsC,MAAQ;IACV;IACAgC,UAAY;MACVgU,OAAS;QACPhhD,IAAM;QACNwQ,UAAY,GAAC,KAAK,KAAK,SAAS,UAAU,UAAU;MACtD;MACA+rF,OAAS;QACPvxD,MAAQ;QACRtC,QAAU;MACZ;IACF;IACAvhB,SAAW,EAAAi0E;EACb;EAEA3wB,aAAe;IACbzjD,QAAU;IACV6xE,UAAY;IACZ/xE,SAAW;EACb;EAEA6jD,WAAa;IACXrkB,WAAA,EAAa,SAAAA,YAAC3/C,IAAS;MAAA,OAAAA,IAAA,KAAS,QAAY,IAAAA,IAAA,KAAS,cAAcA,IAAS;IAAA;IAC5E4/C,UAAA,EAAY,KAAK;IACjBp/B,SAAW;MACTm/B,WAAA,EAAa,KAAK;MAClBC,UAAA,EAAY;IACd;IACA/Z,SAAW;MACTo0D,SAAA,EAAW;IACb;IACA5zD,UAAY;MACV4zD,SAAW;IACb;EACF;EAGA3uB,sBAAwB,GAAC;AAC3B,CAAE;;;;;;;;;;;ACvzCF,IAAM4uB,WAAc,YAAdA,WAAcA,CAAC7jG,MAAQ,EAAAq0C,GAAA,EAAKvhC,KAAA,EAAOgxF,WAAgB;EACvD,IAAI,OAAOzvD,GAAA,KAAQ,QAAU;IAC3BvhC,KAAQ,GAAA9S,MAAA,CAAO3D,IAAI,CAACg4C,GAAO;IAC3ByvD,WAAA,CAAYvS,OAAO,CAAC;MAACz+E,KAAA,EAAAA,KAAA;MAAOmW,KAAO,EAAAorB;IAAG;GACjC,UAAIx0C,KAAA,CAAMw0C,GAAM;IACrBvhC,KAAA,GAAQ,IAAI;;EAEd,OAAOA,KAAA;AACT;AAEA,SAASixF,eAAe/jG,MAAM,EAAEq0C,GAAG,EAAEvhC,KAAK,EAAEgxF,WAAW,EAAE;EACvD,IAAM/mC,KAAA,GAAQ/8D,MAAO,CAAAhG,OAAO,CAACq6C,GAAA;EAC7B,IAAI0oB,KAAA,KAAU,CAAC,CAAG;IAChB,OAAO8mC,WAAA,CAAY7jG,MAAQ,EAAAq0C,GAAA,EAAKvhC,KAAO,EAAAgxF,WAAA;;EAEzC,IAAMvoF,IAAA,GAAOvb,MAAO,CAAAgkG,WAAW,CAAC3vD,GAAA;EAChC,OAAO0oB,KAAA,KAAUxhD,IAAO,GAAAzI,KAAA,GAAQiqD,KAAK;AACvC;AAEA,IAAM2B,UAAa,YAAbA,UAAaA,CAAC5rD,KAAO,EAAAzV,GAAA;EAAA,OAAQyV,KAAA,KAAU,IAAI,GAAG,IAAI,GAAG+xD,6DAAA,CAAYlnE,IAAK,CAAAmC,KAAK,CAACgT,KAAA,GAAQ,GAAGzV,GAAI;AAAA;AAEjG,SAAS4mG,kBAAkBtiF,KAAK,EAAE;EAChC,IAAM3hB,MAAA,GAAS,IAAI,CAACC,SAAS;EAE7B,IAAI0hB,KAAS,SAAKA,KAAQ,GAAA3hB,MAAA,CAAO/E,MAAM,EAAE;IACvC,OAAO+E,MAAM,CAAC2hB,KAAM;;EAEtB,OAAOA,KAAA;AACT;AAAA,IAEqBuiF,aAAsB,0BAAAC,MAAA;EAAA5iD,SAAA,CAAA2iD,aAAA,EAAAC,MAAA;EAAA,IAAAC,QAAA,GAAA5iD,YAAA,CAAA0iD,aAAA;EAazC,SAAAA,cAAYv2D,GAAG,EAAE;IAAA,IAAA02D,OAAA;IAAA16D,eAAA,OAAAu6D,aAAA;IACfG,OAAA,GAAAD,QAAA,CAAAl2F,IAAA,OAAMy/B,GAAA;IAGN02D,OAAA,CAAKC,WAAW,GAAGvqG,SAAA;IACnBsqG,OAAA,CAAKE,WAAW,GAAG;IACnBF,OAAA,CAAKG,YAAY,GAAG,EAAE;IAAA,OAAAH,OAAA;EACxB;EAAAv6D,YAAA,CAAAo6D,aAAA;IAAA1qG,GAAA;IAAAmoB,KAAA,EAEA,SAAApJ,KAAK9T,YAAY,EAAE;MACjB,IAAMggG,KAAA,GAAQ,IAAI,CAACD,YAAY;MAC/B,IAAIC,KAAA,CAAMxpG,MAAM,EAAE;QAChB,IAAM+E,MAAA,GAAS,IAAI,CAACC,SAAS;QAAA,IAAAykG,WAAA,GAAA1xD,0BAAA,CACAyxD,KAAO;UAAAE,OAAA;QAAA;UAApC,KAAAD,WAAA,CAAApoE,CAAA,MAAAqoE,OAAA,GAAAD,WAAA,CAAAnoE,CAAA,IAAApG,IAAA,GAAoC;YAAA,IAAAyuE,aAAA,GAAAD,OAAA,CAAAhjF,KAAA;cAAxB7O,OAAA,GAAA8xF,aAAA,CAAA9xF,KAAA;cAAOmW,KAAK,GAAA27E,aAAA,CAAL37E,KAAK;YACtB,IAAIjpB,MAAM,CAAC8S,OAAM,MAAKmW,KAAO;cAC3BjpB,MAAO,CAAA+d,MAAM,CAACjL,OAAO;;UAEzB;QAAA,SAAA4gB,GAAA;UAAAgxE,WAAA,CAAA35F,CAAA,CAAA2oB,GAAA;QAAA;UAAAgxE,WAAA,CAAAppE,CAAA;QAAA;QACA,IAAI,CAACkpE,YAAY,GAAG,EAAE;;MAExB1iD,IAAA,CAAAC,eAAA,CAAAmiD,aAAA,CAAAl2F,SAAA,iBAAAE,IAAA,OAAWzJ,YAAA;IACb;EAAA;IAAAjL,GAAA;IAAAmoB,KAAA,EAEA,SAAAtiB,MAAMg1C,GAAG,EAAEvhC,KAAK,EAAE;MAChB,IAAIssC,6DAAA,CAAc/K,GAAM;QACtB,OAAO,IAAI;;MAEb,IAAMr0C,MAAA,GAAS,IAAI,CAACC,SAAS;MAC7B6S,KAAA,GAAQ+xF,QAAA,CAAS/xF,KAAU,KAAA9S,MAAM,CAAC8S,KAAA,CAAM,KAAKuhC,GAAM,GAAAvhC,KAAA,GAC/CixF,cAAe,CAAA/jG,MAAA,EAAQq0C,GAAA,EAAKt7C,6DAAe,CAAA+Z,KAAA,EAAOuhC,GAAA,GAAM,IAAI,CAACmwD,YAAY,CAAC;MAC9E,OAAO9lC,UAAW,CAAA5rD,KAAA,EAAO9S,MAAO,CAAA/E,MAAM,GAAG;IAC3C;EAAA;IAAAzB,GAAA;IAAAmoB,KAAA,EAEA,SAAA8gD,oBAAA,EAAsB;MACpB,IAAAqiC,oBAAA,GAAiC,IAAI,CAAC9yD,aAAa;QAA5CE,UAAA,GAAA4yD,oBAAA,CAAA5yD,UAAA;QAAYC,UAAA,GAAA2yD,oBAAA,CAAA3yD,UAAA;MACnB,IAAA4yD,eAAA,GAAiB,IAAI,CAAC/qD,SAAS,CAAC,IAAI;QAA/B18C,GAAG,GAAAynG,eAAA,CAAHznG,GAAG;QAAED,GAAG,GAAA0nG,eAAA,CAAH1nG,GAAG;MAEb,IAAI,IAAI,CAAC7B,OAAO,CAACgvF,MAAM,KAAK,OAAS;QACnC,IAAI,CAACt4C,UAAY;UACf50C,GAAM;;QAER,IAAI,CAAC60C,UAAY;UACf90C,GAAA,GAAM,IAAI,CAAC4C,SAAS,GAAGhF,MAAM,GAAG;;;MAIpC,IAAI,CAACqC,GAAG,GAAGA,GAAA;MACX,IAAI,CAACD,GAAG,GAAGA,GAAA;IACb;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAEA,SAAAkhD,WAAA,EAAa;MACX,IAAMvlE,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAMD,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM+B,MAAS,OAAI,CAAC5D,OAAO,CAAC4D,MAAM;MAClC,IAAMmqB,KAAA,GAAQ,EAAE;MAChB,IAAIvpB,MAAA,GAAS,IAAI,CAACC,SAAS;MAG3BD,MAAA,GAAS1C,GAAC,KAAQ,CAAK,IAAAD,GAAA,KAAQ2C,MAAA,CAAO/E,MAAM,GAAG,CAAK,GAAA+E,MAAA,GAASA,MAAO,CAAAqQ,KAAK,CAAC/S,GAAA,EAAKD,GAAA,GAAM,CAAE;MAEvF,IAAI,CAACknG,WAAW,GAAG5mG,IAAA,CAAKN,GAAG,CAAC2C,MAAA,CAAO/E,MAAM,IAAImE,MAAA,GAAS,CAAI,IAAC,CAAG;MAC9D,IAAI,CAACklG,WAAW,GAAG,IAAI,CAAChnG,GAAG,IAAI8B,MAAA,GAAS,GAAM,IAAC,CAAD;MAE9C,KAAK,IAAIuiB,KAAA,GAAQrkB,GAAK,EAAAqkB,KAAA,IAAStkB,GAAA,EAAKskB,KAAS;QAC3C4H,KAAA,CAAMltB,IAAI,CAAC;UAACslB,KAAA,EAAAA;QAAK;MACnB;MACA,OAAO4H,KAAA;IACT;EAAA;IAAA/vB,GAAA;IAAAmoB,KAAA,EAEA,SAAA84B,iBAAiB94B,KAAK,EAAE;MACtB,OAAOsiF,iBAAkB,CAAA/1F,IAAI,CAAC,IAAI,EAAEyT,KAAA;IACtC;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAKA,SAAA0tB,UAAA,EAAY;MACVyS,IAAA,CAAAC,eAAA,CAAAmiD,aAAA,CAAAl2F,SAAA,sBAAAE,IAAA;MAEA,IAAI,CAAC,IAAI,CAACzQ,YAAY,EAAI;QAExB,IAAI,CAAC+xD,cAAc,GAAG,CAAC,IAAI,CAACA,cAAc;;IAE9C;EAAA;IAAAh2D,GAAA;IAAAmoB,KAAA,EAGA,SAAA/f,iBAAiB+f,KAAK,EAAE;MACtB,IAAI,OAAOA,KAAA,KAAU,QAAU;QAC7BA,KAAQ,OAAI,CAACtiB,KAAK,CAACsiB,KAAA;;MAGrB,OAAOA,KAAA,KAAU,IAAI,GAAGo4B,GAAA,GAAM,IAAI,CAAC0J,kBAAkB,CAAE,CAAA9hC,KAAQ,OAAI,CAAC2iF,WAAU,IAAK,IAAI,CAACC,WAAW,CAAC;IACtG;EAAA;IAAA/qG,GAAA;IAAAmoB,KAAA,EAIA,SAAAm9B,gBAAgBhsC,KAAK,EAAE;MACrB,IAAMyW,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAIzW,KAAA,GAAQ,CAAK,IAAAA,KAAA,GAAQyW,KAAM,CAAAtuB,MAAM,GAAG,CAAG;QACzC,OAAO,IAAI;;MAEb,OAAO,IAAI,CAAC2G,gBAAgB,CAAC2nB,KAAK,CAACzW,KAAA,CAAM,CAAC6O,KAAK;IACjD;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAEA,SAAA/jB,iBAAiBupE,KAAK,EAAE;MACtB,OAAOxpE,IAAK,CAAAmC,KAAK,CAAC,IAAI,CAACwkG,WAAW,GAAG,IAAI,CAAC/8B,kBAAkB,CAACJ,KAAS,QAAI,CAACo9B,WAAW;IACxF;EAAA;IAAA/qG,GAAA;IAAAmoB,KAAA,EAEA,SAAAsgC,aAAA,EAAe;MACb,OAAO,IAAI,CAAC7mD,MAAM;IACpB;EAAA;EAAA,OAAA8oG,aAAA;AAAA,EA3HyClkC,KAAA;AAAA5mB,eAAA,CAAtB8qD,aAAsB,QAE7B,UAAW;AAAA9qD,eAAA,CAFJ8qD,aAAsB,cAOvB;EAChB36E,KAAO;IACLvwB,QAAU,EAAAirG;EACZ;CACA;ACpBJ,SAASe,gBAAcC,iBAAiB,EAAEC,SAAS,EAAE;EACnD,IAAM37E,KAAA,GAAQ,EAAE;EAKhB,IAAM47E,WAAc;EACpB,IAAO3a,MAAM,GAA0Eya,iBAAA,CAAhFza,MAAM;IAAE5hB,IAAA,GAAwEq8B,iBAAA,CAAxEr8B,IAAA;IAAMtrE,GAAA,GAAkE2nG,iBAAA,CAAlE3nG,GAAA;IAAKD,GAAG,GAA0D4nG,iBAAA,CAA7D5nG,GAAG;IAAE+nG,SAAA,GAAwDH,iBAAA,CAAxDG,SAAA;IAAWr/E,KAAA,GAA6Ck/E,iBAAA,CAA7Cl/E,KAAA;IAAOs/E,QAAQ,GAA8BJ,iBAAA,CAAtCI,QAAQ;IAAEC,SAAA,GAA4BL,iBAAA,CAA5BK,SAAA;IAAWC,aAAA,GAAiBN,iBAAA,CAAjBM,aAAA;EACtE,IAAMC,IAAA,GAAO58B,IAAQ;EACrB,IAAM68B,SAAA,GAAYJ,QAAW;EAC7B,IAAYK,IAAA,GAAmBR,SAAA,CAAxB5nG,GAAK;IAAWqoG,IAAA,GAAQT,SAAA,CAAb7nG,GAAK;EACvB,IAAM60C,UAAA,GAAa,CAACkN,6DAAc,CAAA9hD,GAAA;EAClC,IAAM60C,UAAA,GAAa,CAACiN,6DAAc,CAAA/hD,GAAA;EAClC,IAAMuoG,YAAA,GAAe,CAACxmD,6DAAc,CAAAr5B,KAAA;EACpC,IAAM8/E,UAAA,GAAa,CAACF,IAAA,GAAOD,IAAG,KAAMJ,SAAA,GAAY;EAChD,IAAIl+C,OAAA,GAAU0+C,8DAAA,CAAQ,CAACH,IAAA,GAAOD,IAAG,IAAKD,SAAA,GAAYD,IAAQ,IAAAA,IAAA;EAC1D,IAAIj4D,MAAA,EAAQw4D,OAAA,EAASC,OAAS,EAAAC,SAAA;EAI9B,IAAI7+C,OAAU,GAAA+9C,WAAA,IAAe,CAACjzD,UAAA,IAAc,CAACC,UAAY;IACvD,OAAO,CAAC;MAACxwB,KAAO,EAAA+jF;IAAI,GAAG;MAAC/jF,KAAO,EAAAgkF;IAAI,EAAE;;EAGvCM,SAAY,GAAAtoG,IAAA,CAAKkgE,IAAI,CAAC8nC,IAAA,GAAOv+C,OAAA,IAAWzpD,IAAK,CAAAotB,KAAK,CAAC26E,IAAO,GAAAt+C,OAAA;EAC1D,IAAI6+C,SAAA,GAAYR,SAAW;IAEzBr+C,OAAA,GAAU0+C,8DAAQ,CAAAG,SAAA,GAAY7+C,OAAU,GAAAq+C,SAAA,GAAYD,IAAQ,IAAAA,IAAA;;EAG9D,IAAI,CAACpmD,6DAAA,CAAcgmD,SAAY;IAE7B73D,MAAS,GAAA5vC,IAAA,CAAKorC,GAAG,CAAC,EAAI,EAAAq8D,SAAA;IACtBh+C,OAAA,GAAUzpD,IAAK,CAAAkgE,IAAI,CAACzW,OAAA,GAAU7Z,MAAU,IAAAA,MAAA;;EAG1C,IAAIi9C,MAAA,KAAW,OAAS;IACtBub,OAAA,GAAUpoG,IAAK,CAAAotB,KAAK,CAAC26E,IAAA,GAAOt+C,OAAW,IAAAA,OAAA;IACvC4+C,OAAA,GAAUroG,IAAK,CAAAkgE,IAAI,CAAC8nC,IAAA,GAAOv+C,OAAW,IAAAA,OAAA;GACjC;IACL2+C,OAAU,GAAAL,IAAA;IACVM,OAAU,GAAAL,IAAA;;EAGZ,IAAIzzD,UAAA,IAAcC,UAAc,IAAAy2B,IAAA,IAAQs9B,8DAAY,CAAC,CAAA7oG,GAAA,GAAMC,GAAE,IAAKsrE,IAAM,EAAAxhB,OAAA,GAAU,IAAO;IAKvF6+C,SAAY,GAAAtoG,IAAA,CAAKmC,KAAK,CAACnC,IAAK,CAAAL,GAAG,CAAE,CAAAD,GAAA,GAAMC,GAAE,IAAK8pD,OAAS,EAAAi+C,QAAA;IACvDj+C,OAAA,GAAU,CAAC/pD,GAAM,GAAAC,GAAE,IAAK2oG,SAAA;IACxBF,OAAU,GAAAzoG,GAAA;IACV0oG,OAAU,GAAA3oG,GAAA;EACZ,OAAO,IAAIuoG,YAAc;IAIvBG,OAAU,GAAA7zD,UAAA,GAAa50C,GAAA,GAAMyoG,OAAO;IACpCC,OAAU,GAAA7zD,UAAA,GAAa90C,GAAA,GAAM2oG,OAAO;IACpCC,SAAA,GAAYlgF,KAAQ;IACpBqhC,OAAA,GAAU,CAAC4+C,OAAU,GAAAD,OAAM,IAAKE,SAAA;GAC3B;IAELA,SAAA,GAAY,CAACD,OAAU,GAAAD,OAAM,IAAK3+C,OAAA;IAGlC,IAAI++C,8DAAA,CAAaF,SAAW,EAAAtoG,IAAA,CAAKmC,KAAK,CAACmmG,SAAA,GAAY7+C,OAAA,GAAU,IAAO;MAClE6+C,SAAY,GAAAtoG,IAAA,CAAKmC,KAAK,CAACmmG,SAAA;KAClB;MACLA,SAAY,GAAAtoG,IAAA,CAAKkgE,IAAI,CAACooC,SAAA;;;EAM1B,IAAMG,aAAA,GAAgBzoG,IAAK,CAAAN,GAAG,CAC5BgpG,8DAAA,CAAej/C,OAAA,GACfi/C,8DAAe,CAAAN,OAAA;EAEjBx4D,MAAA,GAAS5vC,IAAA,CAAKorC,GAAG,CAAC,IAAIqW,6DAAc,CAAAgmD,SAAA,IAAagB,aAAA,GAAgBhB,SAAS;EAC1EW,OAAA,GAAUpoG,IAAK,CAAAmC,KAAK,CAACimG,OAAA,GAAUx4D,MAAU,IAAAA,MAAA;EACzCy4D,OAAA,GAAUroG,IAAK,CAAAmC,KAAK,CAACkmG,OAAA,GAAUz4D,MAAU,IAAAA,MAAA;EAEzC,IAAIlF,CAAI;EACR,IAAI6J,UAAY;IACd,IAAIqzD,aAAA,IAAiBQ,OAAA,KAAYzoG,GAAK;MACpCisB,KAAA,CAAMltB,IAAI,CAAC;QAACslB,KAAO,EAAArkB;MAAG;MAEtB,IAAIyoG,OAAA,GAAUzoG,GAAK;QACjB+qC,CAAA;;MAGF,IAAI89D,8DAAA,CAAaxoG,IAAK,CAAAmC,KAAK,CAAE,CAAAimG,OAAU,GAAA19D,CAAA,GAAI+e,OAAM,IAAK7Z,MAAA,IAAUA,MAAQ,EAAAjwC,GAAA,EAAKgpG,iBAAkB,CAAAhpG,GAAA,EAAKuoG,UAAA,EAAYZ,iBAAqB;QACnI58D,CAAA;;KAEG,UAAI09D,OAAA,GAAUzoG,GAAK;MACxB+qC,CAAA;;;EAIJ,OAAOA,CAAA,GAAI49D,SAAW,IAAE59D,CAAG;IACzB,IAAMk+D,SAAA,GAAY5oG,IAAK,CAAAmC,KAAK,CAAE,CAAAimG,OAAU,GAAA19D,CAAA,GAAI+e,OAAM,IAAK7Z,MAAU,IAAAA,MAAA;IACjE,IAAI4E,UAAA,IAAco0D,SAAA,GAAYlpG,GAAK;MACjC;;IAEFksB,KAAA,CAAMltB,IAAI,CAAC;MAACslB,KAAO,EAAA4kF;IAAS;EAC9B;EAEA,IAAIp0D,UAAA,IAAcozD,aAAiB,IAAAS,OAAA,KAAY3oG,GAAK;IAElD,IAAIksB,KAAA,CAAMtuB,MAAM,IAAIkrG,8DAAa,CAAA58E,KAAK,CAACA,KAAM,CAAAtuB,MAAM,GAAG,EAAE,CAAC0mB,KAAK,EAAEtkB,GAAA,EAAKipG,iBAAkB,CAAAjpG,GAAA,EAAKwoG,UAAA,EAAYZ,iBAAqB;MAC3H17E,KAAK,CAACA,KAAM,CAAAtuB,MAAM,GAAG,CAAE,EAAC0mB,KAAK,GAAGtkB,GAAA;KAC3B;MACLksB,KAAA,CAAMltB,IAAI,CAAC;QAACslB,KAAO,EAAAtkB;MAAG;;EAE1B,OAAO,IAAI,CAAC80C,UAAc,IAAA6zD,OAAA,KAAY3oG,GAAK;IACzCksB,KAAA,CAAMltB,IAAI,CAAC;MAACslB,KAAO,EAAAqkF;IAAO;;EAG5B,OAAOz8E,KAAA;AACT;AAEA,SAAS+8E,kBAAkB3kF,KAAK,EAAEkkF,UAAU,EAAAW,MAAA,EAA6B;EAAA,IAA1BhmD,UAAU,GAAAgmD,MAAA,CAAVhmD,UAAU;IAAE0jB,WAAW,GAAAsiC,MAAA,CAAXtiC,WAAW;EACpE,IAAMuiC,GAAA,GAAM1/C,6DAAU,CAAAmd,WAAA;EACtB,IAAM96B,KAAQ,GAAC,CAAAoX,UAAA,GAAa7iD,IAAK,CAAAqyB,GAAG,CAACy2E,GAAA,IAAO9oG,IAAK,CAAA+nD,GAAG,CAAC+gD,GAAA,CAAI,KAAK;EAC9D,IAAMxrG,MAAA,GAAS,OAAO4qG,UAAa,GAAC,GAAK,GAAAlkF,KAAI,EAAG1mB,MAAM;EACtD,OAAO0C,IAAK,CAAAL,GAAG,CAACuoG,UAAA,GAAaz8D,KAAO,EAAAnuC,MAAA;AACtC;AAAA,IAEqByrG,eAAwB,0BAAAC,OAAA;EAAAplD,SAAA,CAAAmlD,eAAA,EAAAC,OAAA;EAAA,IAAAC,QAAA,GAAAplD,YAAA,CAAAklD,eAAA;EAE3C,SAAAA,gBAAY/4D,GAAG,EAAE;IAAA,IAAAk5D,OAAA;IAAAl9D,eAAA,OAAA+8D,eAAA;IACfG,OAAA,GAAAD,QAAA,CAAA14F,IAAA,OAAMy/B,GAAA;IAGNk5D,OAAA,CAAK/4F,KAAK,GAAG/T,SAAA;IAEb8sG,OAAA,CAAK5qF,GAAG,GAAGliB,SAAA;IAEX8sG,OAAA,CAAKvC,WAAW,GAAGvqG,SAAA;IAEnB8sG,OAAA,CAAKC,SAAS,GAAG/sG,SAAA;IACjB8sG,OAAA,CAAKtC,WAAW,GAAG;IAAA,OAAAsC,OAAA;EACrB;EAAA/8D,YAAA,CAAA48D,eAAA;IAAAltG,GAAA;IAAAmoB,KAAA,EAEA,SAAAtiB,MAAMg1C,GAAG,EAAEvhC,KAAK,EAAE;MAChB,IAAIssC,6DAAA,CAAc/K,GAAM;QACtB,OAAO,IAAI;;MAEb,IAAK,QAAOA,GAAQ,iBAAYA,GAAe,YAAAjC,MAAK,KAAM,CAACyyD,QAAS,EAACxwD,GAAM;QACzE,OAAO,IAAI;;MAGb,OAAO,CAACA,GAAA;IACV;EAAA;IAAA76C,GAAA;IAAAmoB,KAAA,EAEA,SAAAolF,uBAAA,EAAyB;MACvB,IAAO3iD,WAAW,GAAI,IAAI,CAAC5oD,OAAO,CAA3B4oD,WAAW;MAClB,IAAA4iD,oBAAA,GAAiC,IAAI,CAACh1D,aAAa;QAA5CE,UAAA,GAAA80D,oBAAA,CAAA90D,UAAA;QAAYC,UAAA,GAAA60D,oBAAA,CAAA70D,UAAA;MACnB,IAAK70C,GAAG,GAAS,IAAI,CAAhBA,GAAG;QAAED,GAAG,GAAI,IAAI,CAAXA,GAAG;MAEb,IAAM4pG,MAAA,GAAS,SAATA,OAASrnG,CAAA;QAAA,OAAMtC,GAAM,GAAA40C,UAAA,GAAa50C,GAAA,GAAMsC,CAAC;MAAA;MAC/C,IAAMsnG,MAAA,GAAS,SAATA,OAAStnG,CAAA;QAAA,OAAMvC,GAAM,GAAA80C,UAAA,GAAa90C,GAAA,GAAMuC,CAAC;MAAA;MAE/C,IAAIwkD,WAAa;QACf,IAAM+iD,OAAA,GAAUluG,6DAAK,CAAAqE,GAAA;QACrB,IAAM8pG,OAAA,GAAUnuG,6DAAK,CAAAoE,GAAA;QAErB,IAAI8pG,OAAA,GAAU,CAAK,IAAAC,OAAA,GAAU,CAAG;UAC9BF,MAAO;QACT,OAAO,IAAIC,OAAA,GAAU,CAAK,IAAAC,OAAA,GAAU,CAAG;UACrCH,MAAO;;;MAIX,IAAI3pG,GAAA,KAAQD,GAAK;QACf,IAAI+B,MAAA,GAAS/B,GAAA,KAAQ,CAAI,OAAIM,IAAA,CAAKgD,GAAG,CAACtD,GAAA,GAAM,IAAK;QAEjD6pG,MAAA,CAAO7pG,GAAM,GAAA+B,MAAA;QAEb,IAAI,CAACglD,WAAa;UAChB6iD,MAAA,CAAO3pG,GAAM,GAAA8B,MAAA;;;MAGjB,IAAI,CAAC9B,GAAG,GAAGA,GAAA;MACX,IAAI,CAACD,GAAG,GAAGA,GAAA;IACb;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAEA,SAAA0lF,aAAA,EAAe;MACb,IAAM/qC,QAAW,OAAI,CAAC9gE,OAAO,CAAC+tB,KAAK;MAEnC,IAAKmzC,aAAA,GAA2BJ,QAAA,CAA3BI,aAAA;QAAeh8D,QAAA,GAAY47D,QAAA,CAAZ57D,QAAA;MACpB,IAAI2kG,QAAA;MAEJ,IAAI3kG,QAAU;QACZ2kG,QAAA,GAAW1nG,IAAK,CAAAkgE,IAAI,CAAC,IAAI,CAACxgE,GAAG,GAAGqD,QAAY,IAAA/C,IAAA,CAAKotB,KAAK,CAAC,IAAI,CAACztB,GAAG,GAAGoD,QAAY;QAC9E,IAAI2kG,QAAA,GAAW,IAAM;UACnBl3F,OAAA,CAAQC,IAAI,WAAAmB,MAAA,CAAW,IAAI,CAACnR,EAAE,uBAAAmR,MAAA,CAAoB7O,QAAS,qCAAA6O,MAAA,CAAiC81F,QAAA,8BAAmC;UAC/HA,QAAW;;OAER;QACLA,QAAW,OAAI,CAACiC,gBAAgB;QAChC5qC,aAAA,GAAgBA,aAAiB;;MAGnC,IAAIA,aAAe;QACjB2oC,QAAW,GAAA1nG,IAAA,CAAKL,GAAG,CAACo/D,aAAe,EAAA2oC,QAAA;;MAGrC,OAAOA,QAAA;IACT;EAAA;IAAA7rG,GAAA;IAAAmoB,KAAA,EAKA,SAAA2lF,iBAAA,EAAmB;MACjB,OAAOl1D,MAAA,CAAOE,iBAAiB;IACjC;EAAA;IAAA94C,GAAA;IAAAmoB,KAAA,EAEA,SAAAkhD,WAAA,EAAa;MACX,IAAMzpE,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAM8gE,QAAA,GAAWljE,IAAA,CAAKmwB,KAAK;MAM3B,IAAI87E,QAAA,GAAW,IAAI,CAACgC,YAAY;MAChChC,QAAW,GAAA1nG,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAgoG,QAAA;MAEvB,IAAMkC,uBAA0B;QAC9BlC,QAAA,EAAAA,QAAA;QACA7a,MAAA,EAAQpxF,IAAA,CAAKoxF,MAAM;QACnBltF,GAAA,EAAKlE,IAAA,CAAKkE,GAAG;QACbD,GAAA,EAAKjE,IAAA,CAAKiE,GAAG;QACb+nG,SAAA,EAAW9oC,QAAA,CAAS8oC,SAAS;QAC7Bx8B,IAAA,EAAMtM,QAAA,CAAS57D,QAAQ;QACvBqlB,KAAA,EAAOu2C,QAAA,CAASv2C,KAAK;QACrBu/E,SAAW,MAAI,CAACz4B,UAAU;QAC1BrsB,UAAY,MAAI,CAAC/iD,YAAY;QAC7BymE,WAAa,EAAA5H,QAAA,CAAS4H,WAAW,IAAI;QACrCqhC,aAAe,EAAAjpC,QAAA,CAASipC,aAAa,KAAK;MAC5C;MACA,IAAML,SAAY,OAAI,CAACxkC,MAAM,IAAI,IAAI;MACrC,IAAMn3C,KAAA,GAAQy7E,eAAA,CAAcuC,uBAAyB,EAAArC,SAAA;MAIrD,IAAI9rG,IAAA,CAAKoxF,MAAM,KAAK,OAAS;QAC3Bgd,8DAAmB,CAAAj+E,KAAA,EAAO,IAAI,EAAE;;MAGlC,IAAInwB,IAAA,CAAK6+B,OAAO,EAAE;QAChB1O,KAAA,CAAM0O,OAAO;QAEb,IAAI,CAACnqB,KAAK,GAAG,IAAI,CAACzQ,GAAG;QACrB,IAAI,CAAC4e,GAAG,GAAG,IAAI,CAAC3e,GAAG;OACd;QACL,IAAI,CAACwQ,KAAK,GAAG,IAAI,CAACxQ,GAAG;QACrB,IAAI,CAAC2e,GAAG,GAAG,IAAI,CAAC5e,GAAG;;MAGrB,OAAOksB,KAAA;IACT;EAAA;IAAA/vB,GAAA;IAAAmoB,KAAA,EAKA,SAAA0tB,UAAA,EAAY;MACV,IAAM9lB,KAAA,GAAQ,IAAI,CAACA,KAAK;MACxB,IAAIzb,KAAA,GAAQ,IAAI,CAACxQ,GAAG;MACpB,IAAI2e,GAAA,GAAM,IAAI,CAAC5e,GAAG;MAElBykD,IAAA,CAAAC,eAAA,CAAA2kD,eAAA,CAAA14F,SAAA,sBAAAE,IAAA;MAEA,IAAI,IAAI,CAAC1S,OAAO,CAAC4D,MAAM,IAAImqB,KAAA,CAAMtuB,MAAM,EAAE;QACvC,IAAMmE,MAAS,GAAC,CAAA6c,GAAA,GAAMnO,KAAI,IAAKnQ,IAAK,CAAAN,GAAG,CAACksB,KAAA,CAAMtuB,MAAM,GAAG,GAAG,CAAK;QAC/D6S,KAAS,IAAA1O,MAAA;QACT6c,GAAO,IAAA7c,MAAA;;MAET,IAAI,CAACklG,WAAW,GAAGx2F,KAAA;MACnB,IAAI,CAACg5F,SAAS,GAAG7qF,GAAA;MACjB,IAAI,CAACsoF,WAAW,GAAGtoF,GAAM,GAAAnO,KAAA;IAC3B;EAAA;IAAAtU,GAAA;IAAAmoB,KAAA,EAEA,SAAA84B,iBAAiB94B,KAAK,EAAE;MACtB,OAAOqnC,6DAAA,CAAarnC,KAAO,MAAI,CAAC7nB,KAAK,CAAC0B,OAAO,CAACytD,MAAM,EAAE,IAAI,CAACztD,OAAO,CAAC+tB,KAAK,CAACqlC,MAAM;IACjF;EAAA;EAAA,OAAA83C,eAAA;AAAA,EA9J2C1mC,KAAA;AAAA,ICpJxBynC,WAAoB,0BAAAC,gBAAA;EAAAnmD,SAAA,CAAAkmD,WAAA,EAAAC,gBAAA;EAAA,IAAAC,QAAA,GAAAnmD,YAAA,CAAAimD,WAAA;EAAA,SAAAA,YAAA;IAAA99D,eAAA,OAAA89D,WAAA;IAAA,OAAAE,QAAA,CAAAj1F,KAAA,OAAA7T,SAAA;EAAA;EAAAirC,YAAA,CAAA29D,WAAA;IAAAjuG,GAAA;IAAAmoB,KAAA,EAcvC,SAAA8gD,oBAAA,EAAsB;MACpB,IAAAmlC,gBAAA,GAAmB,IAAI,CAAC5tD,SAAS,CAAC,IAAI;QAA/B18C,GAAG,GAAAsqG,gBAAA,CAAHtqG,GAAG;QAAED,GAAG,GAAAuqG,gBAAA,CAAHvqG,GAAG;MAEf,IAAI,CAACC,GAAG,GAAGi0C,6DAAS,CAAAj0C,GAAA,IAAOA,GAAA,GAAM,CAAC;MAClC,IAAI,CAACD,GAAG,GAAGk0C,6DAAS,CAAAl0C,GAAA,IAAOA,GAAA,GAAM,CAAC;MAGlC,IAAI,CAAC0pG,sBAAsB;IAC7B;EAAA;IAAAvtG,GAAA;IAAAmoB,KAAA,EAMA,SAAA2lF,iBAAA,EAAmB;MACjB,IAAM9mD,UAAA,GAAa,IAAI,CAAC/iD,YAAY;MACpC,IAAMxC,MAAA,GAASulD,UAAA,GAAa,IAAI,CAACngD,KAAK,GAAG,IAAI,CAACC,MAAM;MACpD,IAAM4jE,WAAA,GAAcnd,6DAAA,CAAU,IAAI,CAACvrD,OAAO,CAAC+tB,KAAK,CAAC26C,WAAW;MAC5D,IAAM96B,KAAQ,GAAC,CAAAoX,UAAA,GAAa7iD,IAAK,CAAAqyB,GAAG,CAACk0C,WAAA,IAAevmE,IAAK,CAAA+nD,GAAG,CAACwe,WAAA,CAAY,KAAK;MAC9E,IAAMyC,QAAW,OAAI,CAACG,uBAAuB,CAAC;MAC9C,OAAOnpE,IAAA,CAAKkgE,IAAI,CAAC5iE,MAAS,GAAA0C,IAAA,CAAKL,GAAG,CAAC,IAAIqpE,QAAS,CAAArH,UAAU,GAAGl2B,KAAA;IAC/D;EAAA;IAAA5vC,GAAA;IAAAmoB,KAAA,EAGA,SAAA/f,iBAAiB+f,KAAK,EAAE;MACtB,OAAOA,KAAA,KAAU,IAAI,GAAGo4B,GAAA,GAAM,IAAI,CAAC0J,kBAAkB,CAAE,CAAA9hC,KAAQ,OAAI,CAAC2iF,WAAU,IAAK,IAAI,CAACC,WAAW,CAAC;IACtG;EAAA;IAAA/qG,GAAA;IAAAmoB,KAAA,EAEA,SAAA/jB,iBAAiBupE,KAAK,EAAE;MACtB,OAAO,IAAI,CAACm9B,WAAW,GAAG,IAAI,CAAC/8B,kBAAkB,CAACJ,KAAA,IAAS,IAAI,CAACo9B,WAAW;IAC7E;EAAA;EAAA,OAAAkD,WAAA;AAAA,EA5CuCf,eAAA;AAAAttD,eAAA,CAApBquD,WAAoB,QAE3B,QAAS;AAAAruD,eAAA,CAFFquD,WAAoB,cAOrB;EAChBl+E,KAAO;IACLvwB,QAAU,EAAA6uG,6EAAwBE;EACpC;CACA;ACTJ,IAAMC,UAAA,GAAa,SAAbA,WAAapoG,CAAA;EAAA,OAAKjC,IAAK,CAAAotB,KAAK,CAACk9E,8DAAM,CAAAroG,CAAA;AAAA;AACzC,IAAMsoG,cAAA,GAAiB,SAAjBA,eAAkBtoG,CAAG,EAAAw9B,CAAA;EAAA,OAAMz/B,IAAA,CAAKorC,GAAG,CAAC,EAAI,EAAAi/D,UAAA,CAAWpoG,CAAK,IAAAw9B,CAAA;AAAA;AAE9D,SAAS+qE,QAAQC,OAAO,EAAE;EACxB,IAAMx5D,MAAA,GAASw5D,OAAW,GAAAzqG,IAAA,CAAKorC,GAAG,CAAC,IAAIi/D,UAAW,CAAAI,OAAA;EAClD,OAAOx5D,MAAW;AACpB;AAEA,SAASy5D,MAAM/qG,GAAG,EAAED,GAAG,EAAEirG,QAAQ,EAAE;EACjC,IAAMC,SAAY,GAAA5qG,IAAA,CAAKorC,GAAG,CAAC,EAAI,EAAAu/D,QAAA;EAC/B,IAAMx6F,KAAQ,GAAAnQ,IAAA,CAAKotB,KAAK,CAACztB,GAAM,GAAAirG,SAAA;EAC/B,IAAMtsF,GAAM,GAAAte,IAAA,CAAKkgE,IAAI,CAACxgE,GAAM,GAAAkrG,SAAA;EAC5B,OAAOtsF,GAAM,GAAAnO,KAAA;AACf;AAEA,SAAS06F,QAASA,CAAAlrG,GAAG,EAAED,GAAG,EAAE;EAC1B,IAAMD,KAAA,GAAQC,GAAM,GAAAC,GAAA;EACpB,IAAIgrG,QAAA,GAAWN,UAAW,CAAA5qG,KAAA;EAC1B,OAAOirG,KAAM,CAAA/qG,GAAA,EAAKD,GAAK,EAAAirG,QAAA,IAAY,EAAI;IACrCA,QAAA;EACF;EACA,OAAOD,KAAM,CAAA/qG,GAAA,EAAKD,GAAK,EAAAirG,QAAA,IAAY,EAAI;IACrCA,QAAA;EACF;EACA,OAAO3qG,IAAK,CAAAL,GAAG,CAACgrG,QAAA,EAAUN,UAAW,CAAA1qG,GAAA;AACvC;AASA,SAASmrG,cAAcxD,iBAAiB,EAAAyD,MAAA,EAAc;EAAA,IAAXprG,GAAG,GAAAorG,MAAA,CAAHprG,GAAG;IAAED,GAAG,GAAAqrG,MAAA,CAAHrrG,GAAG;EACjDC,GAAM,GAAAmkE,6DAAA,CAAgBwjC,iBAAkB,CAAA3nG,GAAG,EAAEA,GAAA;EAC7C,IAAMisB,KAAA,GAAQ,EAAE;EAChB,IAAMo/E,MAAA,GAASX,UAAW,CAAA1qG,GAAA;EAC1B,IAAIsrG,GAAA,GAAMJ,QAAA,CAASlrG,GAAK,EAAAD,GAAA;EACxB,IAAI+nG,SAAA,GAAYwD,GAAM,OAAIjrG,IAAK,CAAAorC,GAAG,CAAC,IAAIprC,IAAK,CAAAgD,GAAG,CAACioG,GAAA,KAAQ,CAAC;EACzD,IAAMloG,QAAW,GAAA/C,IAAA,CAAKorC,GAAG,CAAC,EAAI,EAAA6/D,GAAA;EAC9B,IAAMr1F,IAAA,GAAOo1F,MAAA,GAASC,GAAM,GAAAjrG,IAAA,CAAKorC,GAAG,CAAC,IAAI4/D,MAAA,IAAU,CAAC;EACpD,IAAM76F,KAAA,GAAQnQ,IAAA,CAAKmC,KAAK,CAAC,CAACxC,GAAA,GAAMiW,IAAG,IAAK6xF,SAAa,IAAAA,SAAA;EACrD,IAAMhmG,MAAA,GAASzB,IAAK,CAAAotB,KAAK,CAAE,CAAAztB,GAAA,GAAMiW,IAAG,IAAK7S,QAAW,SAAMA,QAAW;EACrE,IAAImoG,WAAc,GAAAlrG,IAAA,CAAKotB,KAAK,CAAC,CAACjd,KAAQ,GAAA1O,MAAK,IAAKzB,IAAA,CAAKorC,GAAG,CAAC,EAAI,EAAA6/D,GAAA;EAC7D,IAAIjnF,KAAA,GAAQ8/C,6DAAgB,CAAAwjC,iBAAA,CAAkB3nG,GAAG,EAAEK,IAAA,CAAKmC,KAAK,CAAE,CAAAyT,IAAO,GAAAnU,MAAA,GAASypG,WAAA,GAAclrG,IAAK,CAAAorC,GAAG,CAAC,EAAI,EAAA6/D,GAAA,CAAG,IAAKxD,SAAa,IAAAA,SAAA;EAC/H,OAAOzjF,KAAA,GAAQtkB,GAAK;IAClBksB,KAAA,CAAMltB,IAAI,CAAC;MAACslB,KAAA,EAAAA,KAAA;MAAOi7C,KAAA,EAAOurC,OAAQ,CAAAxmF,KAAA;MAAQknF,WAAA,EAAAA;IAAW;IACrD,IAAIA,WAAA,IAAe,EAAI;MACrBA,WAAc,GAAAA,WAAA,GAAc,EAAK,QAAK,EAAE;KACnC;MACLA,WAAA;;IAEF,IAAIA,WAAA,IAAe,EAAI;MACrBD,GAAA;MACAC,WAAc;MACdzD,SAAY,GAAAwD,GAAA,IAAO,CAAI,OAAIxD,SAAS;;IAEtCzjF,KAAA,GAAQhkB,IAAK,CAAAmC,KAAK,CAAE,CAAAyT,IAAO,GAAAnU,MAAA,GAASypG,WAAc,GAAAlrG,IAAA,CAAKorC,GAAG,CAAC,EAAI,EAAA6/D,GAAA,CAAG,IAAKxD,SAAa,IAAAA,SAAA;EACtF;EACA,IAAM0D,QAAW,GAAArnC,6DAAA,CAAgBwjC,iBAAkB,CAAA5nG,GAAG,EAAEskB,KAAA;EACxD4H,KAAA,CAAMltB,IAAI,CAAC;IAACslB,KAAO,EAAAmnF,QAAA;IAAUlsC,KAAA,EAAOurC,OAAQ,CAAAW,QAAA;IAAWD,WAAA,EAAAA;EAAW;EAElE,OAAOt/E,KAAA;AACT;AAAA,IAEqBw/E,gBAAyB,0BAAAC,OAAA;EAAAznD,SAAA,CAAAwnD,gBAAA,EAAAC,OAAA;EAAA,IAAAC,QAAA,GAAAznD,YAAA,CAAAunD,gBAAA;EAiB5C,SAAAA,iBAAYp7D,GAAG,EAAE;IAAA,IAAAu7D,OAAA;IAAAv/D,eAAA,OAAAo/D,gBAAA;IACfG,OAAA,GAAAD,QAAA,CAAA/6F,IAAA,OAAMy/B,GAAA;IAGNu7D,OAAA,CAAKp7F,KAAK,GAAG/T,SAAA;IAEbmvG,OAAA,CAAKjtF,GAAG,GAAGliB,SAAA;IAEXmvG,OAAA,CAAK5E,WAAW,GAAGvqG,SAAA;IACnBmvG,OAAA,CAAK3E,WAAW,GAAG;IAAA,OAAA2E,OAAA;EACrB;EAAAp/D,YAAA,CAAAi/D,gBAAA;IAAAvvG,GAAA;IAAAmoB,KAAA,EAEA,SAAAtiB,MAAMg1C,GAAG,EAAEvhC,KAAK,EAAE;MAChB,IAAM6O,KAAA,GAAQ+kF,eAAA,CAAgB14F,SAAS,CAAC3O,KAAK,CAACqT,KAAK,CAAC,IAAI,EAAE,CAAC2hC,GAAA,EAAKvhC,KAAA,CAAM;MACtE,IAAI6O,KAAA,KAAU,CAAG;QACf,IAAI,CAACwnF,KAAK,GAAG,IAAI;QACjB,OAAOpvG,SAAA;;MAET,OAAOw3C,6DAAS,CAAA5vB,KAAA,KAAUA,KAAQ,OAAIA,KAAA,GAAQ,IAAI;IACpD;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAEA,SAAA8gD,oBAAA,EAAsB;MACpB,IAAA2mC,gBAAA,GAAmB,IAAI,CAACpvD,SAAS,CAAC,IAAI;QAA/B18C,GAAG,GAAA8rG,gBAAA,CAAH9rG,GAAG;QAAED,GAAG,GAAA+rG,gBAAA,CAAH/rG,GAAG;MAEf,IAAI,CAACC,GAAG,GAAGi0C,6DAAS,CAAAj0C,GAAA,IAAOK,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAC,GAAA,IAAO,IAAI;MAClD,IAAI,CAACD,GAAG,GAAGk0C,6DAAS,CAAAl0C,GAAA,IAAOM,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAA,GAAA,IAAO,IAAI;MAElD,IAAI,IAAI,CAAC7B,OAAO,CAAC4oD,WAAW,EAAE;QAC5B,IAAI,CAAC+kD,KAAK,GAAG,IAAI;;MAKnB,IAAI,IAAI,CAACA,KAAK,IAAI,IAAI,CAAC7rG,GAAG,KAAK,IAAI,CAAC4jE,aAAa,IAAI,CAAC3vB,6DAAA,CAAS,IAAI,CAACyvB,QAAQ,CAAG;QAC7E,IAAI,CAAC1jE,GAAG,GAAGA,GAAA,KAAQ4qG,cAAA,CAAe,IAAI,CAAC5qG,GAAG,EAAE,CAAK,IAAA4qG,cAAA,CAAe,IAAI,CAAC5qG,GAAG,EAAE,CAAC,KAAK4qG,cAAA,CAAe,IAAI,CAAC5qG,GAAG,EAAE,CAAE;;MAG7G,IAAI,CAACypG,sBAAsB;IAC7B;EAAA;IAAAvtG,GAAA;IAAAmoB,KAAA,EAEA,SAAAolF,uBAAA,EAAyB;MACvB,IAAAsC,oBAAA,GAAiC,IAAI,CAACr3D,aAAa;QAA5CE,UAAA,GAAAm3D,oBAAA,CAAAn3D,UAAA;QAAYC,UAAA,GAAAk3D,oBAAA,CAAAl3D,UAAA;MACnB,IAAI70C,GAAA,GAAM,IAAI,CAACA,GAAG;MAClB,IAAID,GAAA,GAAM,IAAI,CAACA,GAAG;MAElB,IAAM4pG,MAAA,GAAS,SAATA,OAASrnG,CAAA;QAAA,OAAMtC,GAAM,GAAA40C,UAAA,GAAa50C,GAAA,GAAMsC,CAAC;MAAA;MAC/C,IAAMsnG,MAAA,GAAS,SAATA,OAAStnG,CAAA;QAAA,OAAMvC,GAAM,GAAA80C,UAAA,GAAa90C,GAAA,GAAMuC,CAAC;MAAA;MAE/C,IAAItC,GAAA,KAAQD,GAAK;QACf,IAAIC,GAAA,IAAO,CAAG;UACZ2pG,MAAO;UACPC,MAAO;SACF;UACLD,MAAO,CAAAiB,cAAA,CAAe5qG,GAAA,EAAK,CAAC;UAC5B4pG,MAAO,CAAAgB,cAAA,CAAe7qG,GAAA,EAAK,CAAC;;;MAGhC,IAAIC,GAAA,IAAO,CAAG;QACZ2pG,MAAO,CAAAiB,cAAA,CAAe7qG,GAAA,EAAK,CAAC;;MAE9B,IAAIA,GAAA,IAAO,CAAG;QAEZ6pG,MAAO,CAAAgB,cAAA,CAAe5qG,GAAA,EAAK,CAAC;;MAG9B,IAAI,CAACA,GAAG,GAAGA,GAAA;MACX,IAAI,CAACD,GAAG,GAAGA,GAAA;IACb;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAEA,SAAAkhD,WAAA,EAAa;MACX,IAAMzpE,IAAA,GAAO,IAAI,CAACoC,OAAO;MAEzB,IAAMypG,iBAAoB;QACxB3nG,GAAK,MAAI,CAAC0jE,QAAQ;QAClB3jE,GAAK,MAAI,CAAC0jE;MACZ;MACA,IAAMx3C,KAAA,GAAQk/E,aAAc,CAAAxD,iBAAA,EAAmB,IAAI;MAInD,IAAI7rG,IAAA,CAAKoxF,MAAM,KAAK,OAAS;QAC3Bgd,8DAAmB,CAAAj+E,KAAA,EAAO,IAAI,EAAE;;MAGlC,IAAInwB,IAAA,CAAK6+B,OAAO,EAAE;QAChB1O,KAAA,CAAM0O,OAAO;QAEb,IAAI,CAACnqB,KAAK,GAAG,IAAI,CAACzQ,GAAG;QACrB,IAAI,CAAC4e,GAAG,GAAG,IAAI,CAAC3e,GAAG;OACd;QACL,IAAI,CAACwQ,KAAK,GAAG,IAAI,CAACxQ,GAAG;QACrB,IAAI,CAAC2e,GAAG,GAAG,IAAI,CAAC5e,GAAG;;MAGrB,OAAOksB,KAAA;IACT;EAAA;IAAA/vB,GAAA;IAAAmoB,KAAA,EAMA,SAAA84B,iBAAiB94B,KAAK,EAAE;MACtB,OAAOA,KAAA,KAAU5nB,SAAA,GACb,GACA,GAAAivD,6DAAA,CAAarnC,KAAA,EAAO,IAAI,CAAC7nB,KAAK,CAAC0B,OAAO,CAACytD,MAAM,EAAE,IAAI,CAACztD,OAAO,CAAC+tB,KAAK,CAACqlC,MAAM,CAAC;IAC/E;EAAA;IAAAp1D,GAAA;IAAAmoB,KAAA,EAKA,SAAA0tB,UAAA,EAAY;MACV,IAAMvhC,KAAA,GAAQ,IAAI,CAACxQ,GAAG;MAEtBwkD,IAAA,CAAAC,eAAA,CAAAgnD,gBAAA,CAAA/6F,SAAA,sBAAAE,IAAA;MAEA,IAAI,CAACo2F,WAAW,GAAG2D,8DAAM,CAAAn6F,KAAA;MACzB,IAAI,CAACy2F,WAAW,GAAG0D,8DAAA,CAAM,IAAI,CAAC5qG,GAAG,IAAI4qG,8DAAM,CAAAn6F,KAAA;IAC7C;EAAA;IAAAtU,GAAA;IAAAmoB,KAAA,EAEA,SAAA/f,iBAAiB+f,KAAK,EAAE;MACtB,IAAIA,KAAA,KAAU5nB,SAAa,IAAA4nB,KAAA,KAAU,CAAG;QACtCA,KAAQ,OAAI,CAACrkB,GAAG;;MAElB,IAAIqkB,KAAU,SAAI,IAAI9hB,KAAA,CAAM8hB,KAAQ;QAClC,OAAOo4B,GAAA;;MAET,OAAO,IAAI,CAAC0J,kBAAkB,CAAC9hC,KAAA,KAAU,IAAI,CAACrkB,GAAG,GAC7C,IACA,CAAC2qG,8DAAA,CAAMtmF,KAAA,IAAS,IAAI,CAAC2iF,WAAW,IAAI,IAAI,CAACC,WAAW;IAC1D;EAAA;IAAA/qG,GAAA;IAAAmoB,KAAA,EAEA,SAAA/jB,iBAAiBupE,KAAK,EAAE;MACtB,IAAMC,OAAU,OAAI,CAACG,kBAAkB,CAACJ,KAAA;MACxC,OAAOxpE,IAAA,CAAKorC,GAAG,CAAC,EAAI,MAAI,CAACu7D,WAAW,GAAGl9B,OAAA,GAAU,IAAI,CAACm9B,WAAW;IACnE;EAAA;EAAA,OAAAwE,gBAAA;AAAA,EAvJ4C/oC,KAAA;AAAA5mB,eAAA,CAAzB2vD,gBAAyB,QAEhC,aAAc;AAAA3vD,eAAA,CAFP2vD,gBAAyB,cAO1B;EAChBx/E,KAAO;IACLvwB,QAAU,EAAA6uG,iFAA4B;IACtCjrC,KAAO;MACLvjE,OAAA,EAAS;IACX;EACF;CACA;AC/EJ,SAASiwG,sBAAsBlwG,IAAI,EAAE;EACnC,IAAMkjE,QAAA,GAAWljE,IAAA,CAAKmwB,KAAK;EAE3B,IAAI+yC,QAAS,CAAA1xC,OAAO,IAAIxxB,IAAA,CAAKwxB,OAAO,EAAE;IACpC,IAAMjB,OAAA,GAAU2sC,6DAAU,CAAAgG,QAAA,CAASoO,eAAe;IAClD,OAAO3xE,6DAAe,CAAAujE,QAAA,CAAS9yC,IAAI,IAAI8yC,QAAA,CAAS9yC,IAAI,CAACO,IAAI,EAAElc,mEAAkB,IAAI8b,OAAA,CAAQrpB,MAAM;;EAEjG,OAAO;AACT;AAEA,SAASipG,iBAAiBv8F,GAAG,EAAEwc,IAAI,EAAEP,KAAK,EAAE;EAC1CA,KAAQ,GAAAlX,6DAAA,CAAQkX,KAAA,IAASA,KAAQ,IAACA,KAAA,CAAM;EACxC,OAAO;IACLyT,CAAA,EAAG8sE,8DAAa,CAAAx8F,GAAA,EAAKwc,IAAK,CAAAu9C,MAAM,EAAE99C,KAAA;IAClCsR,CAAA,EAAGtR,KAAM,CAAAhuB,MAAM,GAAGuuB,IAAA,CAAK81C;EACzB;AACF;AAEA,SAASmqC,gBAAgBnvF,KAAK,EAAE63C,GAAG,EAAEpoC,IAAI,EAAEzsB,GAAG,EAAED,GAAG,EAAE;EACnD,IAAIid,KAAA,KAAUhd,GAAO,IAAAgd,KAAA,KAAUjd,GAAK;IAClC,OAAO;MACLyQ,KAAA,EAAOqkD,GAAA,GAAOpoC,IAAO;MACrB9N,GAAA,EAAKk2C,GAAA,GAAOpoC,IAAO;IACrB;EACF,OAAO,IAAIzP,KAAA,GAAQhd,GAAO,IAAAgd,KAAA,GAAQjd,GAAK;IACrC,OAAO;MACLyQ,KAAA,EAAOqkD,GAAM,GAAApoC,IAAA;MACb9N,GAAK,EAAAk2C;IACP;;EAGF,OAAO;IACLrkD,KAAO,EAAAqkD,GAAA;IACPl2C,GAAA,EAAKk2C,GAAM,GAAApoC;EACb;AACF;AAKA,SAAS2/E,kBAAmBA,CAAAxuG,KAAK,EAAE;EA8BjC,IAAM+lD,IAAO;IACX3mB,CAAA,EAAGp/B,KAAA,CAAMG,IAAI,GAAGH,KAAM,CAAAo/F,QAAQ,CAACj/F,IAAI;IACnCwgC,CAAA,EAAG3gC,KAAA,CAAMI,KAAK,GAAGJ,KAAM,CAAAo/F,QAAQ,CAACh/F,KAAK;IACrCslB,CAAA,EAAG1lB,KAAA,CAAMC,GAAG,GAAGD,KAAM,CAAAo/F,QAAQ,CAACn/F,GAAG;IACjCwa,CAAA,EAAGza,KAAA,CAAME,MAAM,GAAGF,KAAM,CAAAo/F,QAAQ,CAACl/F;EACnC;EACA,IAAMwD,MAAS,GAAA9D,MAAA,CAAO6X,MAAM,CAAC,EAAI,EAAAsuC,IAAA;EACjC,IAAMsjB,UAAA,GAAa,EAAE;EACrB,IAAM56C,OAAA,GAAU,EAAE;EAClB,IAAMggF,UAAa,GAAAzuG,KAAA,CAAM0uG,YAAY,CAAC3uG,MAAM;EAC5C,IAAM4uG,cAAiB,GAAA3uG,KAAA,CAAMM,OAAO,CAAC6xD,WAAW;EAChD,IAAMy8C,eAAA,GAAkBD,cAAe,CAAAE,iBAAiB,GAAG/tF,yDAAA,GAAK2tF,UAAA,GAAa,CAAC;EAE9E,KAAK,IAAI3uG,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI2uG,UAAA,EAAY3uG,CAAK;IACnC,IAAM5B,IAAA,GAAOywG,cAAe,CAAAvoC,UAAU,CAACpmE,KAAA,CAAM8uG,oBAAoB,CAAChvG,CAAA;IAClE2uB,OAAO,CAAC3uB,CAAA,CAAE,GAAG5B,IAAA,CAAKuwB,OAAO;IACzB,IAAMkkC,aAAA,GAAgB3yD,KAAM,CAAA+uG,gBAAgB,CAACjvG,CAAA,EAAGE,KAAM,CAAAgvG,WAAW,GAAGvgF,OAAO,CAAC3uB,CAAA,CAAE,EAAE8uG,eAAA;IAChF,IAAMK,MAAA,GAAS/qC,8DAAO,CAAAhmE,IAAA,CAAKowB,IAAI;IAC/B,IAAM+wE,QAAA,GAAWgP,gBAAA,CAAiBruG,KAAM,CAAA8R,GAAG,EAAEm9F,MAAQ,EAAAjvG,KAAA,CAAM0uG,YAAY,CAAC5uG,CAAE;IAC1EupE,UAAU,CAACvpE,CAAA,CAAE,GAAGu/F,QAAA;IAEhB,IAAMh1B,YAAe,GAAAsqB,8DAAA,CAAgB30F,KAAM,CAAA0xD,aAAa,CAAC5xD,CAAK,IAAA8uG,eAAA;IAC9D,IAAMxvF,KAAQ,GAAA3c,IAAA,CAAKmC,KAAK,CAACilE,6DAAU,CAAAQ,YAAA;IACnC,IAAM6kC,OAAA,GAAUX,eAAA,CAAgBnvF,KAAO,EAAAuzC,aAAA,CAAc3zD,CAAC,EAAEqgG,QAAA,CAAS79D,CAAC,EAAE,CAAG;IACvE,IAAM2tE,OAAA,GAAUZ,eAAA,CAAgBnvF,KAAO,EAAAuzC,aAAA,CAAc1zD,CAAC,EAAEogG,QAAA,CAAShgE,CAAC,EAAE,EAAI;IACxE+vE,YAAa,CAAA1rG,MAAA,EAAQqiD,IAAM,EAAAskB,YAAA,EAAc6kC,OAAS,EAAAC,OAAA;EACpD;EAEAnvG,KAAM,CAAAqvG,cAAc,CAClBtpD,IAAA,CAAK3mB,CAAC,GAAG17B,MAAA,CAAO07B,CAAC,EACjB17B,MAAO,CAAAi9B,CAAC,GAAGolB,IAAA,CAAKplB,CAAC,EACjBolB,IAAA,CAAKrgC,CAAC,GAAGhiB,MAAO,CAAAgiB,CAAC,EACjBhiB,MAAO,CAAA+W,CAAC,GAAGsrC,IAAA,CAAKtrC,CAAC;EAInBza,KAAA,CAAMsvG,gBAAgB,GAAGC,oBAAqB,CAAAvvG,KAAA,EAAOqpE,UAAY,EAAA56C,OAAA;AACnE;AAEA,SAAS2gF,aAAa1rG,MAAM,EAAEqiD,IAAI,EAAE3mC,KAAK,EAAE8vF,OAAO,EAAEC,OAAO,EAAE;EAC3D,IAAMr6E,GAAA,GAAMryB,IAAK,CAAAgD,GAAG,CAAChD,IAAA,CAAKqyB,GAAG,CAAC1V,KAAA;EAC9B,IAAMorC,GAAA,GAAM/nD,IAAK,CAAAgD,GAAG,CAAChD,IAAA,CAAK+nD,GAAG,CAACprC,KAAA;EAC9B,IAAIpgB,CAAI;EACR,IAAIC,CAAI;EACR,IAAIiwG,OAAQ,CAAAt8F,KAAK,GAAGmzC,IAAA,CAAK3mB,CAAC,EAAE;IAC1BpgC,CAAI,GAAC,CAAA+mD,IAAK,CAAA3mB,CAAC,GAAG8vE,OAAQ,CAAAt8F,KAAK,IAAIkiB,GAAA;IAC/BpxB,MAAO,CAAA07B,CAAC,GAAG38B,IAAA,CAAKL,GAAG,CAACsB,MAAA,CAAO07B,CAAC,EAAE2mB,IAAK,CAAA3mB,CAAC,GAAGpgC,CAAA;EACzC,OAAO,IAAIkwG,OAAQ,CAAAnuF,GAAG,GAAGglC,IAAA,CAAKplB,CAAC,EAAE;IAC/B3hC,CAAI,GAAC,CAAAkwG,OAAQ,CAAAnuF,GAAG,GAAGglC,IAAK,CAAAplB,CAAC,IAAI7L,GAAA;IAC7BpxB,MAAO,CAAAi9B,CAAC,GAAGl+B,IAAA,CAAKN,GAAG,CAACuB,MAAA,CAAOi9B,CAAC,EAAEolB,IAAK,CAAAplB,CAAC,GAAG3hC,CAAA;;EAEzC,IAAImwG,OAAQ,CAAAv8F,KAAK,GAAGmzC,IAAA,CAAKrgC,CAAC,EAAE;IAC1BzmB,CAAI,GAAC,CAAA8mD,IAAK,CAAArgC,CAAC,GAAGypF,OAAQ,CAAAv8F,KAAK,IAAI43C,GAAA;IAC/B9mD,MAAO,CAAAgiB,CAAC,GAAGjjB,IAAA,CAAKL,GAAG,CAACsB,MAAA,CAAOgiB,CAAC,EAAEqgC,IAAK,CAAArgC,CAAC,GAAGzmB,CAAA;EACzC,OAAO,IAAIkwG,OAAQ,CAAApuF,GAAG,GAAGglC,IAAA,CAAKtrC,CAAC,EAAE;IAC/Bxb,CAAI,GAAC,CAAAkwG,OAAQ,CAAApuF,GAAG,GAAGglC,IAAK,CAAAtrC,CAAC,IAAI+vC,GAAA;IAC7B9mD,MAAO,CAAA+W,CAAC,GAAGhY,IAAA,CAAKN,GAAG,CAACuB,MAAA,CAAO+W,CAAC,EAAEsrC,IAAK,CAAAtrC,CAAC,GAAGxb,CAAA;;AAE3C;AAEA,SAASuwG,qBAAqBxvG,KAAK,EAAE4X,KAAK,EAAE63F,QAAQ,EAAE;EACpD,IAAMC,aAAA,GAAgB1vG,KAAA,CAAMgvG,WAAW;EACvC,IAAOW,KAAA,GAAyCF,QAAA,CAAzCE,KAAA;IAAOf,eAAA,GAAkCa,QAAA,CAAlCb,eAAA;IAAiBngF,OAAO,GAAUghF,QAAA,CAAjBhhF,OAAO;IAAEI,IAAI,GAAI4gF,QAAA,CAAR5gF,IAAI;EAC5C,IAAM+gF,kBAAA,GAAqB5vG,KAAM,CAAA+uG,gBAAgB,CAACn3F,KAAO,EAAA83F,aAAA,GAAgBC,KAAA,GAAQlhF,OAAS,EAAAmgF,eAAA;EAC1F,IAAMxvF,KAAA,GAAQ3c,IAAA,CAAKmC,KAAK,CAACilE,6DAAA,CAAU8qB,8DAAgB,CAAAib,kBAAA,CAAmBxwF,KAAK,GAAG6rC,yDAAA;EAC9E,IAAMhsD,CAAA,GAAI4wG,SAAU,CAAAD,kBAAA,CAAmB3wG,CAAC,EAAE4vB,IAAA,CAAKwQ,CAAC,EAAEjgB,KAAA;EAClD,IAAMovD,SAAA,GAAYshC,oBAAqB,CAAA1wF,KAAA;EACvC,IAAMjf,IAAA,GAAO4vG,gBAAiB,CAAAH,kBAAA,CAAmB5wG,CAAC,EAAE6vB,IAAA,CAAK2S,CAAC,EAAEgtC,SAAA;EAC5D,OAAO;IAELyR,OAAA,EAAS,IAAI;IAGbjhF,CAAA,EAAG4wG,kBAAA,CAAmB5wG,CAAC;IACvBC,CAAA,EAAAA,CAAA;IAGAuvE,SAAA,EAAAA,SAAA;IAGAruE,IAAA,EAAAA,IAAA;IACAF,GAAK,EAAAhB,CAAA;IACLmB,KAAO,EAAAD,IAAA,GAAO0uB,IAAA,CAAK2S,CAAC;IACpBthC,MAAQ,EAAAjB,CAAA,GAAI4vB,IAAA,CAAKwQ;EACnB;AACF;AAEA,SAAS2wE,eAAgBA,CAAA97F,IAAI,EAAEyrC,IAAI,EAAE;EACnC,IAAI,CAACA,IAAM;IACT,OAAO,IAAI;;EAEb,IAAOx/C,IAAA,GAA4B+T,IAAA,CAA5B/T,IAAA;IAAMF,GAAA,GAAsBiU,IAAA,CAAtBjU,GAAA;IAAKG,KAAK,GAAY8T,IAAA,CAAjB9T,KAAK;IAAEF,MAAM,GAAIgU,IAAA,CAAVhU,MAAM;EAC/B,IAAM+vG,YAAA,GAAet6C,6DAAe;IAAC32D,CAAG,EAAAmB,IAAA;IAAMlB,CAAG,EAAAgB;EAAG,GAAG0/C,IAAA,KAASgW,6DAAe;IAAC32D,CAAG,EAAAmB,IAAA;IAAMlB,CAAG,EAAAiB;EAAM,GAAGy/C,IAAA,KACnGgW,6DAAe;IAAC32D,CAAG,EAAAoB,KAAA;IAAOnB,CAAG,EAAAgB;EAAG,GAAG0/C,IAAA,KAASgW,6DAAe;IAAC32D,CAAG,EAAAoB,KAAA;IAAOnB,CAAG,EAAAiB;GAAS,EAAAy/C,IAAA;EACpF,OAAO,CAACswD,YAAA;AACV;AAEA,SAASV,qBAAqBvvG,KAAK,EAAEqpE,UAAU,EAAE56C,OAAO,EAAE;EACxD,IAAMyiB,KAAA,GAAQ,EAAE;EAChB,IAAMu9D,UAAa,GAAAzuG,KAAA,CAAM0uG,YAAY,CAAC3uG,MAAM;EAC5C,IAAM7B,IAAA,GAAO8B,KAAA,CAAMM,OAAO;EAC1B,IAAA4vG,iBAAA,GAAqChyG,IAAA,CAAKi0D,WAAW;IAA9C08C,iBAAiB,GAAAqB,iBAAA,CAAjBrB,iBAAiB;IAAEn/E,OAAA,GAAAwgF,iBAAA,CAAAxgF,OAAA;EAC1B,IAAM+/E,QAAW;IACfE,KAAA,EAAOvB,qBAAA,CAAsBlwG,IAAQ;IACrC0wG,eAAiB,EAAAC,iBAAA,GAAoB/tF,yDAAK,GAAA2tF,UAAA,GAAa;EACzD;EACA,IAAI9uD,IAAA;EAEJ,KAAK,IAAI7/C,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI2uG,UAAA,EAAY3uG,CAAK;IACnC2vG,QAAA,CAAShhF,OAAO,GAAGA,OAAO,CAAC3uB,CAAE;IAC7B2vG,QAAA,CAAS5gF,IAAI,GAAGw6C,UAAU,CAACvpE,CAAE;IAE7B,IAAMoU,IAAA,GAAOs7F,oBAAqB,CAAAxvG,KAAA,EAAOF,CAAG,EAAA2vG,QAAA;IAC5Cv+D,KAAA,CAAM/vC,IAAI,CAAC+S,IAAA;IACX,IAAIwb,OAAA,KAAY,MAAQ;MACtBxb,IAAK,CAAA+rE,OAAO,GAAG+vB,eAAA,CAAgB97F,IAAM,EAAAyrC,IAAA;MACrC,IAAIzrC,IAAA,CAAK+rE,OAAO,EAAE;QAChBtgC,IAAO,GAAAzrC,IAAA;;;EAGb;EACA,OAAOg9B,KAAA;AACT;AAEA,SAAS4+D,qBAAqB1wF,KAAK,EAAE;EACnC,IAAIA,KAAA,KAAU,CAAK,IAAAA,KAAA,KAAU,GAAK;IAChC,OAAO;GACF,UAAIA,KAAA,GAAQ,GAAK;IACtB,OAAO;;EAGT,OAAO;AACT;AAEA,SAAS2wF,iBAAiB/wG,CAAC,EAAEwiC,CAAC,EAAEuhC,KAAK,EAAE;EACrC,IAAIA,KAAA,KAAU,OAAS;IACrB/jE,CAAK,IAAAwiC,CAAA;GACA,UAAIuhC,KAAA,KAAU,QAAU;IAC7B/jE,CAAA,IAAMwiC,CAAI;;EAEZ,OAAOxiC,CAAA;AACT;AAEA,SAAS6wG,UAAU5wG,CAAC,EAAEogC,CAAC,EAAEjgB,KAAK,EAAE;EAC9B,IAAIA,KAAA,KAAU,EAAM,IAAAA,KAAA,KAAU,GAAK;IACjCngB,CAAA,IAAMogC,CAAI;EACZ,OAAO,IAAIjgB,KAAA,GAAQ,GAAO,IAAAA,KAAA,GAAQ,EAAI;IACpCngB,CAAK,IAAAogC,CAAA;;EAEP,OAAOpgC,CAAA;AACT;AAEA,SAASkxG,kBAAkBr+F,GAAG,EAAE5T,IAAI,EAAEgW,IAAI,EAAE;EAC1C,IAAO/T,IAAA,GAA4B+T,IAAA,CAA5B/T,IAAA;IAAMF,GAAA,GAAsBiU,IAAA,CAAtBjU,GAAA;IAAKG,KAAK,GAAY8T,IAAA,CAAjB9T,KAAK;IAAEF,MAAM,GAAIgU,IAAA,CAAVhU,MAAM;EAC/B,IAAOuvE,aAAa,GAAIvxE,IAAA,CAAjBuxE,aAAa;EAEpB,IAAI,CAACvrB,6DAAA,CAAcurB,aAAgB;IACjC,IAAM8V,YAAA,GAAeuJ,8DAAc,CAAA5wF,IAAA,CAAKqnF,YAAY;IACpD,IAAM92D,OAAA,GAAU2sC,6DAAU,CAAAl9D,IAAA,CAAKsxE,eAAe;IAC9C19D,GAAA,CAAIG,SAAS,GAAGw9D,aAAA;IAEhB,IAAM2gC,YAAA,GAAejwG,IAAO,GAAAsuB,OAAA,CAAQtuB,IAAI;IACxC,IAAMkwG,WAAA,GAAcpwG,GAAM,GAAAwuB,OAAA,CAAQxuB,GAAG;IACrC,IAAMqwG,aAAgB,GAAAlwG,KAAA,GAAQD,IAAO,GAAAsuB,OAAA,CAAQtpB,KAAK;IAClD,IAAMorG,cAAiB,GAAArwG,MAAA,GAASD,GAAM,GAAAwuB,OAAA,CAAQrpB,MAAM;IAEpD,IAAIxF,MAAA,CAAO0a,MAAM,CAACirE,YAAA,EAAc3O,IAAI,CAAC,UAAAlyE,CAAK;MAAA,OAAAA,CAAA,KAAM,CAAI;IAAA;MAClDoN,GAAA,CAAIE,SAAS;MACbs+E,8DAAA,CAAmBx+E,GAAK;QACtB9S,CAAG,EAAAoxG,YAAA;QACHnxG,CAAG,EAAAoxG,WAAA;QACH7uE,CAAG,EAAA8uE,aAAA;QACHjxE,CAAG,EAAAkxE,cAAA;QACHjnD,MAAQ,EAAAi8B;MACV;MACAzzE,GAAA,CAAIspC,IAAI;KACH;MACLtpC,GAAA,CAAIK,QAAQ,CAACi+F,YAAc,EAAAC,WAAA,EAAaC,aAAe,EAAAC,cAAA;;;AAG7D;AAEA,SAASC,eAAgBA,CAAAxwG,KAAK,EAAEqjG,UAAU,EAAE;EAC1C,IAAOvxF,GAAA,GAA+B9R,KAAA,CAA/B8R,GAAA;IAAeqgD,WAAW,GAAKnyD,KAAA,CAA1BM,OAAA,CAAU6xD,WAAW;EAEjC,KAAK,IAAIryD,CAAI,GAAAujG,UAAA,GAAa,CAAG,EAAAvjG,CAAA,IAAK,GAAGA,CAAK;IACxC,IAAMoU,IAAO,GAAAlU,KAAA,CAAMsvG,gBAAgB,CAACxvG,CAAE;IACtC,IAAI,CAACoU,IAAK,CAAA+rE,OAAO,EAAE;MAEjB;;IAEF,IAAMtS,WAAA,GAAcxb,WAAY,CAAAiU,UAAU,CAACpmE,KAAA,CAAM8uG,oBAAoB,CAAChvG,CAAA;IACtEqwG,iBAAA,CAAkBr+F,GAAA,EAAK67D,WAAa,EAAAz5D,IAAA;IACpC,IAAM+6F,MAAA,GAAS/qC,8DAAO,CAAAyJ,WAAA,CAAYr/C,IAAI;IACtC,IAAOtvB,CAAC,GAAkBkV,IAAA,CAAnBlV,CAAC;MAAEC,CAAA,GAAgBiV,IAAA,CAAhBjV,CAAA;MAAGuvE,SAAA,GAAat6D,IAAA,CAAbs6D,SAAA;IAEbyC,6DAAA,CACEn/D,GACA,EAAA9R,KAAA,CAAM0uG,YAAY,CAAC5uG,CAAE,GACrBd,CACA,EAAAC,CAAA,GAAKgwG,MAAO,CAAA7qC,UAAU,GAAG,GACzB6qC,MACA;MACEngE,KAAA,EAAO6+B,WAAA,CAAY7+B,KAAK;MACxB0/B,SAAW,EAAAA,SAAA;MACXG,YAAc;IAChB;EAEJ;AACF;AAEA,SAAS8hC,eAAezwG,KAAK,EAAEspD,MAAM,EAAE4I,QAAQ,EAAEmxC,UAAU,EAAE;EAC3D,IAAOvxF,GAAG,GAAI9R,KAAA,CAAP8R,GAAG;EACV,IAAIogD,QAAU;IAEZpgD,GAAI,CAAA87C,GAAG,CAAC5tD,KAAM,CAAAuxD,OAAO,EAAEvxD,KAAM,CAAAwxD,OAAO,EAAElI,MAAA,EAAQ,CAAG,EAAAc,yDAAA;GAC5C;IAEL,IAAIuI,aAAgB,GAAA3yD,KAAA,CAAM+uG,gBAAgB,CAAC,CAAG,EAAAzlD,MAAA;IAC9Cx3C,GAAA,CAAIu+D,MAAM,CAAC1d,aAAA,CAAc3zD,CAAC,EAAE2zD,aAAA,CAAc1zD,CAAC;IAE3C,KAAK,IAAIa,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAIujG,UAAA,EAAYvjG,CAAK;MACnC6yD,aAAgB,GAAA3yD,KAAA,CAAM+uG,gBAAgB,CAACjvG,CAAG,EAAAwpD,MAAA;MAC1Cx3C,GAAA,CAAIw+D,MAAM,CAAC3d,aAAA,CAAc3zD,CAAC,EAAE2zD,aAAA,CAAc1zD,CAAC;IAC7C;;AAEJ;AAEA,SAASyxG,eAAe1wG,KAAK,EAAE2wG,YAAY,EAAErnD,MAAM,EAAE+5C,UAAU,EAAEz2B,UAAU,EAAE;EAC3E,IAAM96D,GAAA,GAAM9R,KAAA,CAAM8R,GAAG;EACrB,IAAMogD,QAAA,GAAWy+C,YAAA,CAAaz+C,QAAQ;EAEtC,IAAOpjB,KAAA,GAAoB6hE,YAAA,CAApB7hE,KAAA;IAAOz8B,SAAA,GAAas+F,YAAA,CAAbt+F,SAAA;EAEd,IAAK,CAAC6/C,QAAA,IAAY,CAACmxC,UAAA,IAAe,CAACv0D,KAAS,KAACz8B,SAAa,IAAAi3C,MAAA,GAAS,CAAG;IACpE;;EAGFx3C,GAAA,CAAIC,IAAI;EACRD,GAAA,CAAIQ,WAAW,GAAGw8B,KAAA;EAClBh9B,GAAA,CAAIO,SAAS,GAAGA,SAAA;EAChBP,GAAI,CAAAq+D,WAAW,CAACvD,UAAA,CAAWmB,IAAI;EAC/Bj8D,GAAI,CAAAs+D,cAAc,GAAGxD,UAAA,CAAWqB,UAAU;EAE1Cn8D,GAAA,CAAIE,SAAS;EACby+F,cAAe,CAAAzwG,KAAA,EAAOspD,MAAA,EAAQ4I,QAAU,EAAAmxC,UAAA;EACxCvxF,GAAA,CAAImzE,SAAS;EACbnzE,GAAA,CAAIy+D,MAAM;EACVz+D,GAAA,CAAIW,OAAO;AACb;AAEA,SAASm+F,wBAAwBn3F,MAAM,EAAE7B,KAAK,EAAEmW,KAAK,EAAE;EACrD,OAAOkrB,6DAAA,CAAcx/B,MAAQ;IAC3BsU,KAAA,EAAAA,KAAA;IACAnW,KAAA,EAAAA,KAAA;IACA9P,IAAM;EACR;AACF;AAAA,IAEqB+oG,iBAA0B,0BAAAC,iBAAA;EAAAzqD,SAAA,CAAAwqD,iBAAA,EAAAC,iBAAA;EAAA,IAAAC,QAAA,GAAAzqD,YAAA,CAAAuqD,iBAAA;EA0E7C,SAAAA,kBAAYp+D,GAAG,EAAE;IAAA,IAAAu+D,OAAA;IAAAviE,eAAA,OAAAoiE,iBAAA;IACfG,OAAA,GAAAD,QAAA,CAAA/9F,IAAA,OAAMy/B,GAAA;IAGNu+D,OAAA,CAAKz/C,OAAO,GAAG1yD,SAAA;IAEfmyG,OAAA,CAAKx/C,OAAO,GAAG3yD,SAAA;IAEfmyG,OAAA,CAAKhC,WAAW,GAAGnwG,SAAA;IAEnBmyG,OAAA,CAAKtC,YAAY,GAAG,EAAE;IACtBsC,OAAA,CAAK1B,gBAAgB,GAAG,EAAE;IAAA,OAAA0B,OAAA;EAC5B;EAAApiE,YAAA,CAAAiiE,iBAAA;IAAAvyG,GAAA;IAAAmoB,KAAA,EAEA,SAAA2gD,cAAA,EAAgB;MAEd,IAAM34C,OAAA,GAAU,IAAI,CAAC2wE,QAAQ,GAAGhkC,6DAAA,CAAUgzC,qBAAsB,KAAI,CAAC9tG,OAAO,CAAI;MAChF,IAAMkhC,CAAA,GAAI,IAAI,CAACr8B,KAAK,GAAG,IAAI,CAACwnD,QAAQ,GAAGl+B,OAAA,CAAQtpB,KAAK;MACpD,IAAMk6B,CAAA,GAAI,IAAI,CAACj6B,MAAM,GAAG,IAAI,CAACwnD,SAAS,GAAGn+B,OAAA,CAAQrpB,MAAM;MACvD,IAAI,CAACmsD,OAAO,GAAG9uD,IAAA,CAAKotB,KAAK,CAAC,IAAI,CAAC1vB,IAAI,GAAGqhC,CAAI,OAAI/S,OAAA,CAAQtuB,IAAI;MAC1D,IAAI,CAACqxD,OAAO,GAAG/uD,IAAA,CAAKotB,KAAK,CAAC,IAAI,CAAC5vB,GAAG,GAAGo/B,CAAI,OAAI5Q,OAAA,CAAQxuB,GAAG;MACxD,IAAI,CAAC+uG,WAAW,GAAGvsG,IAAK,CAAAotB,KAAK,CAACptB,IAAK,CAAAL,GAAG,CAACo/B,CAAA,EAAGnC,CAAK;IACjD;EAAA;IAAA/gC,GAAA;IAAAmoB,KAAA,EAEA,SAAA8gD,oBAAA,EAAsB;MACpB,IAAA0pC,gBAAA,GAAmB,IAAI,CAACnyD,SAAS,CAAC,KAAK;QAAhC18C,GAAG,GAAA6uG,gBAAA,CAAH7uG,GAAG;QAAED,GAAG,GAAA8uG,gBAAA,CAAH9uG,GAAG;MAEf,IAAI,CAACC,GAAG,GAAGi0C,6DAAA,CAASj0C,GAAA,KAAQ,CAACuC,KAAA,CAAMvC,GAAO,IAAAA,GAAA,GAAM,CAAC;MACjD,IAAI,CAACD,GAAG,GAAGk0C,6DAAA,CAASl0C,GAAA,KAAQ,CAACwC,KAAA,CAAMxC,GAAO,IAAAA,GAAA,GAAM,CAAC;MAGjD,IAAI,CAAC0pG,sBAAsB;IAC7B;EAAA;IAAAvtG,GAAA;IAAAmoB,KAAA,EAMA,SAAA2lF,iBAAA,EAAmB;MACjB,OAAO3pG,IAAA,CAAKkgE,IAAI,CAAC,IAAI,CAACqsC,WAAW,GAAGZ,qBAAA,CAAsB,IAAI,CAAC9tG,OAAO;IACxE;EAAA;IAAAhC,GAAA;IAAAmoB,KAAA,EAEA,SAAAoiD,mBAAmBx6C,KAAK,EAAE;MAAA,IAAA6iF,OAAA;MACxB1F,eAAA,CAAgB14F,SAAS,CAAC+1D,kBAAkB,CAAC71D,IAAI,CAAC,IAAI,EAAEqb,KAAA;MAGxD,IAAI,CAACqgF,YAAY,GAAG,IAAI,CAAC3pG,SAAS,GAC/BkP,GAAG,CAAC,UAACwS,KAAA,EAAO7O,KAAU;QACrB,IAAMmW,KAAA,GAAQjwB,6DAAA,CAAaozG,OAAI,CAAC5wG,OAAO,CAAC6xD,WAAW,CAACr0D,QAAQ,EAAE,CAAC2oB,KAAA,EAAO7O,KAAA,CAAM,EAAEs5F,OAAI;QAClF,OAAOnjF,KAAS,IAAAA,KAAA,KAAU,CAAI,GAAAA,KAAA,GAAQ,EAAE;OAEzC,EAAAzJ,MAAM,CAAC,UAAC5f,CAAG,EAAA5E,CAAA;QAAA,OAAMoxG,OAAI,CAACtyG,KAAK,CAACypD,iBAAiB,CAACvoD,CAAA;MAAA;IACnD;EAAA;IAAAxB,GAAA;IAAAmoB,KAAA,EAEA,SAAA2hD,IAAA,EAAM;MACJ,IAAMlqE,IAAA,GAAO,IAAI,CAACoC,OAAO;MAEzB,IAAIpC,IAAA,CAAKwxB,OAAO,IAAIxxB,IAAA,CAAKi0D,WAAW,CAACziC,OAAO,EAAE;QAC5C8+E,kBAAA,CAAmB,IAAI;OAClB;QACL,IAAI,CAACa,cAAc,CAAC,GAAG,GAAG,CAAG;;IAEjC;EAAA;IAAA/wG,GAAA;IAAAmoB,KAAA,EAEA,SAAA4oF,eAAe8B,YAAY,EAAEC,aAAa,EAAEC,WAAW,EAAEC,cAAc,EAAE;MACvE,IAAI,CAAC//C,OAAO,IAAI9uD,IAAK,CAAAotB,KAAK,CAAC,CAACshF,YAAe,GAAAC,aAAY,IAAK;MAC5D,IAAI,CAAC5/C,OAAO,IAAI/uD,IAAK,CAAAotB,KAAK,CAAC,CAACwhF,WAAc,GAAAC,cAAa,IAAK;MAC5D,IAAI,CAACtC,WAAW,IAAIvsG,IAAK,CAAAL,GAAG,CAAC,IAAI,CAAC4sG,WAAW,GAAG,GAAGvsG,IAAK,CAAAN,GAAG,CAACgvG,YAAA,EAAcC,aAAA,EAAeC,WAAa,EAAAC,cAAA;IACxG;EAAA;IAAAhzG,GAAA;IAAAmoB,KAAA,EAEA,SAAAirC,cAAc95C,KAAK,EAAE;MACnB,IAAM25F,eAAA,GAAkBnnD,yDAAA,IAAO,IAAI,CAACskD,YAAY,CAAC3uG,MAAM,IAAI;MAC3D,IAAMsqD,UAAA,GAAa,IAAI,CAAC/pD,OAAO,CAAC+pD,UAAU,IAAI;MAE9C,OAAOsqC,8DAAA,CAAgB/8E,KAAQ,GAAA25F,eAAA,GAAkB1lD,6DAAU,CAAAxB,UAAA;IAC7D;EAAA;IAAA/rD,GAAA;IAAAmoB,KAAA,EAEA,SAAAqrC,8BAA8BrrC,KAAK,EAAE;MACnC,IAAIy9B,6DAAA,CAAcz9B,KAAQ;QACxB,OAAOo4B,GAAA;;MAIT,IAAM2yD,aAAgB,OAAI,CAACxC,WAAW,IAAI,IAAI,CAAC7sG,GAAG,GAAG,IAAI,CAACC,GAAG,CAAD;MAC5D,IAAI,IAAI,CAAC9B,OAAO,CAACy8B,OAAO,EAAE;QACxB,OAAO,CAAC,IAAI,CAAC56B,GAAG,GAAGskB,KAAI,IAAK+qF,aAAA;;MAE9B,OAAO,CAAC/qF,KAAA,GAAQ,IAAI,CAACrkB,GAAG,IAAIovG,aAAA;IAC9B;EAAA;IAAAlzG,GAAA;IAAAmoB,KAAA,EAEA,SAAAgrF,8BAA8B7jG,QAAQ,EAAE;MACtC,IAAIs2C,6DAAA,CAAct2C,QAAW;QAC3B,OAAOixC,GAAA;;MAGT,IAAM6yD,cAAA,GAAiB9jG,QAAY,QAAI,CAACohG,WAAW,IAAI,IAAI,CAAC7sG,GAAG,GAAG,IAAI,CAACC,GAAG;MAC1E,OAAO,IAAI,CAAC9B,OAAO,CAACy8B,OAAO,GAAG,IAAI,CAAC56B,GAAG,GAAGuvG,cAAiB,OAAI,CAACtvG,GAAG,GAAGsvG,cAAc;IACrF;EAAA;IAAApzG,GAAA;IAAAmoB,KAAA,EAEA,SAAAqoF,qBAAqBl3F,KAAK,EAAE;MAC1B,IAAMu6C,WAAc,OAAI,CAACu8C,YAAY,IAAI,EAAE;MAE3C,IAAI92F,KAAS,SAAKA,KAAQ,GAAAu6C,WAAA,CAAYpyD,MAAM,EAAE;QAC5C,IAAM4xG,UAAA,GAAax/C,WAAW,CAACv6C,KAAM;QACrC,OAAOg5F,uBAAwB,KAAI,CAACpzD,UAAU,IAAI5lC,KAAO,EAAA+5F,UAAA;;IAE7D;EAAA;IAAArzG,GAAA;IAAAmoB,KAAA,EAEA,SAAAsoF,iBAAiBn3F,KAAK,EAAEg6F,kBAAkB,EAAuB;MAAA,IAArBhD,eAAA,GAAAjrG,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAkB,CAAC;MAC7D,IAAMyb,KAAA,GAAQ,IAAI,CAACsyC,aAAa,CAAC95C,KAAA,IAASqzC,yDAAU,GAAA2jD,eAAA;MACpD,OAAO;QACL5vG,CAAA,EAAGyD,IAAA,CAAK+nD,GAAG,CAACprC,KAAA,IAASwyF,kBAAqB,OAAI,CAACrgD,OAAO;QACtDtyD,CAAA,EAAGwD,IAAA,CAAKqyB,GAAG,CAAC1V,KAAA,IAASwyF,kBAAqB,OAAI,CAACpgD,OAAO;QACtDpyC,KAAA,EAAAA;MACF;IACF;EAAA;IAAA9gB,GAAA;IAAAmoB,KAAA,EAEA,SAAAmsC,yBAAyBh7C,KAAK,EAAE6O,KAAK,EAAE;MACrC,OAAO,IAAI,CAACsoF,gBAAgB,CAACn3F,KAAA,EAAO,IAAI,CAACk6C,6BAA6B,CAACrrC,KAAA;IACzE;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAEA,SAAAorF,gBAAgBj6F,KAAK,EAAE;MACrB,OAAO,IAAI,CAACg7C,wBAAwB,CAACh7C,KAAA,IAAS,CAAG,MAAI,CAAC00D,YAAY;IACpE;EAAA;IAAAhuE,GAAA;IAAAmoB,KAAA,EAEA,SAAAqrF,sBAAsBl6F,KAAK,EAAE;MAC3B,IAAAm6F,qBAAA,GAAmC,IAAI,CAACzC,gBAAgB,CAAC13F,KAAM;QAAxDzX,IAAA,GAAA4xG,qBAAA,CAAA5xG,IAAA;QAAMF,GAAA,GAAA8xG,qBAAA,CAAA9xG,GAAA;QAAKG,KAAK,GAAA2xG,qBAAA,CAAL3xG,KAAK;QAAEF,MAAM,GAAA6xG,qBAAA,CAAN7xG,MAAM;MAC/B,OAAO;QACLC,IAAA,EAAAA,IAAA;QACAF,GAAA,EAAAA,GAAA;QACAG,KAAA,EAAAA,KAAA;QACAF,MAAA,EAAAA;MACF;IACF;EAAA;IAAA5B,GAAA;IAAAmoB,KAAA,EAKA,SAAAspD,eAAA,EAAiB;MACf,IAAAiiC,eAAA,GAA4C,IAAI,CAAC1xG,OAAO;QAAjD4R,eAAA,GAAA8/F,eAAA,CAAA9/F,eAAA;QAAwBggD,QAAA,GAAA8/C,eAAA,CAAPhpD,IAAA,CAAOkJ,QAAA;MAC/B,IAAIhgD,eAAiB;QACnB,IAAMJ,GAAA,GAAM,IAAI,CAACA,GAAG;QACpBA,GAAA,CAAIC,IAAI;QACRD,GAAA,CAAIE,SAAS;QACby+F,cAAA,CAAe,IAAI,EAAE,IAAI,CAAC3+C,6BAA6B,CAAC,IAAI,CAAC85C,SAAS,GAAG15C,QAAU,MAAI,CAACw8C,YAAY,CAAC3uG,MAAM;QAC3G+R,GAAA,CAAImzE,SAAS;QACbnzE,GAAA,CAAIG,SAAS,GAAGC,eAAA;QAChBJ,GAAA,CAAIspC,IAAI;QACRtpC,GAAA,CAAIW,OAAO;;IAEf;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAKA,SAAAwpD,SAAA,EAAW;MAAA,IAAAgiC,OAAA;MACT,IAAMngG,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM5T,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAO2xD,UAAU,GAAkB/zD,IAAA,CAA5B+zD,UAAU;QAAEjJ,IAAA,GAAgB9qD,IAAA,CAAhB8qD,IAAA;QAAMwH,MAAA,GAAUtyD,IAAA,CAAVsyD,MAAA;MACzB,IAAM6yC,UAAa,OAAI,CAACqL,YAAY,CAAC3uG,MAAM;MAE3C,IAAID,CAAA,EAAGoE,MAAQ,EAAA2wD,QAAA;MAEf,IAAI32D,IAAK,CAAAi0D,WAAW,CAACziC,OAAO,EAAE;QAC5B8gF,eAAA,CAAgB,IAAI,EAAEnN,UAAA;;MAGxB,IAAIr6C,IAAA,CAAKt5B,OAAO,EAAE;QAChB,IAAI,CAACrB,KAAK,CAACrX,OAAO,CAAC,UAACq6B,IAAA,EAAMz5B,KAAU;UAClC,IAAIA,KAAA,KAAU,CAAG;YACf1T,MAAA,GAAS+tG,OAAI,CAACngD,6BAA6B,CAACzgB,IAAA,CAAK5qB,KAAK;YACtD,IAAMjQ,OAAU,GAAAy7F,OAAI,CAACz0D,UAAU,CAAC5lC,KAAA;YAChC,IAAM+1D,WAAA,GAAc3kB,IAAK,CAAAod,UAAU,CAAC5vD,OAAA;YACpC,IAAMo3D,iBAAA,GAAoBpd,MAAO,CAAA4V,UAAU,CAAC5vD,OAAA;YAE5Ck6F,cAAA,CAAeuB,OAAI,EAAEtkC,WAAa,EAAAzpE,MAAA,EAAQm/F,UAAY,EAAAz1B,iBAAA;;QAE1D;;MAGF,IAAI3b,UAAA,CAAWviC,OAAO,EAAE;QACtB5d,GAAA,CAAIC,IAAI;QAER,KAAKjS,CAAI,GAAAujG,UAAA,GAAa,CAAG,EAAAvjG,CAAA,IAAK,GAAGA,CAAK;UACpC,IAAM6tE,WAAA,GAAc1b,UAAW,CAAAmU,UAAU,CAAC,IAAI,CAAC0oC,oBAAoB,CAAChvG,CAAA;UACpE,IAAOgvC,KAAA,GAAoB6+B,WAAA,CAApB7+B,KAAA;YAAOz8B,SAAA,GAAas7D,WAAA,CAAbt7D,SAAA;UAEd,IAAI,CAACA,SAAa,KAACy8B,KAAO;YACxB;;UAGFh9B,GAAA,CAAIO,SAAS,GAAGA,SAAA;UAChBP,GAAA,CAAIQ,WAAW,GAAGw8B,KAAA;UAElBh9B,GAAI,CAAAq+D,WAAW,CAACxC,WAAA,CAAYG,UAAU;UACtCh8D,GAAI,CAAAs+D,cAAc,GAAGzC,WAAA,CAAYK,gBAAgB;UAEjD9pE,MAAA,GAAS,IAAI,CAAC4tD,6BAA6B,CAAC5zD,IAAA,CAAKmwB,KAAK,CAAC0O,OAAO,GAAG,IAAI,CAAC36B,GAAG,GAAG,IAAI,CAACD,GAAG;UACpF0yD,QAAA,GAAW,IAAI,CAACk6C,gBAAgB,CAACjvG,CAAG,EAAAoE,MAAA;UACpC4N,GAAA,CAAIE,SAAS;UACbF,GAAI,CAAAu+D,MAAM,CAAC,IAAI,CAAC9e,OAAO,EAAE,IAAI,CAACC,OAAO;UACrC1/C,GAAA,CAAIw+D,MAAM,CAACzb,QAAA,CAAS71D,CAAC,EAAE61D,QAAA,CAAS51D,CAAC;UACjC6S,GAAA,CAAIy+D,MAAM;QACZ;QAEAz+D,GAAA,CAAIW,OAAO;;IAEf;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAKA,SAAAgqD,WAAA,EAAa;EAAC;IAAAnyE,GAAA;IAAAmoB,KAAA,EAKd,SAAAmqD,WAAA,EAAa;MAAA,IAAAshC,OAAA;MACX,IAAMpgG,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM5T,IAAA,GAAO,IAAI,CAACoC,OAAO;MACzB,IAAM8gE,QAAA,GAAWljE,IAAA,CAAKmwB,KAAK;MAE3B,IAAI,CAAC+yC,QAAS,CAAA1xC,OAAO,EAAE;QACrB;;MAGF,IAAM26B,UAAa,OAAI,CAACqH,aAAa,CAAC;MACtC,IAAIxtD,MAAQ,EAAAiB,KAAA;MAEZ2M,GAAA,CAAIC,IAAI;MACRD,GAAI,CAAAo3E,SAAS,CAAC,IAAI,CAAC33B,OAAO,EAAE,IAAI,CAACC,OAAO;MACxC1/C,GAAA,CAAIswB,MAAM,CAACioB,UAAA;MACXv4C,GAAA,CAAI08D,SAAS,GAAG;MAChB18D,GAAA,CAAI68D,YAAY,GAAG;MAEnB,IAAI,CAACtgD,KAAK,CAACrX,OAAO,CAAC,UAACq6B,IAAA,EAAMz5B,KAAU;QAClC,IAAIA,KAAU,UAAK,CAAC1Z,IAAA,CAAK6+B,OAAO,EAAE;UAChC;;QAGF,IAAM4wC,WAAA,GAAcvM,QAAS,CAAAgF,UAAU,CAAC8rC,OAAI,CAAC10D,UAAU,CAAC5lC,KAAA;QACxD,IAAM6zD,QAAA,GAAWvH,8DAAO,CAAAyJ,WAAA,CAAYr/C,IAAI;QACxCpqB,MAAS,GAAAguG,OAAI,CAACpgD,6BAA6B,CAACogD,OAAI,CAAC7jF,KAAK,CAACzW,KAAM,EAAC6O,KAAK;QAEnE,IAAIknD,WAAA,CAAY0B,iBAAiB,EAAE;UACjCv9D,GAAI,CAAAwc,IAAI,GAAGm9C,QAAA,CAASI,MAAM;UAC1B1mE,KAAA,GAAQ2M,GAAA,CAAIkpF,WAAW,CAAC3pD,IAAK,CAAAtjB,KAAK,EAAE5oB,KAAK;UACzC2M,GAAI,CAAAG,SAAS,GAAG07D,WAAA,CAAY8B,aAAa;UAEzC,IAAMhhD,OAAA,GAAU2sC,6DAAU,CAAAuS,WAAA,CAAY6B,eAAe;UACrD19D,GAAI,CAAAK,QAAQ,CACV,CAAChN,KAAQ,OAAIspB,OAAA,CAAQtuB,IAAI,EACzB,CAAC+D,MAAA,GAASunE,QAAS,CAAA58C,IAAI,GAAG,CAAI,GAAAJ,OAAA,CAAQxuB,GAAG,EACzCkF,KAAQ,GAAAspB,OAAA,CAAQtpB,KAAK,EACrBsmE,QAAS,CAAA58C,IAAI,GAAGJ,OAAA,CAAQrpB,MAAM;;QAIlC6rE,6DAAA,CAAWn/D,GAAA,EAAKu/B,IAAK,CAAAtjB,KAAK,EAAE,CAAG,GAAC7pB,MAAA,EAAQunE,QAAU;UAChD38B,KAAA,EAAO6+B,WAAA,CAAY7+B,KAAK;UACxBkgC,WAAA,EAAarB,WAAA,CAAYsB,eAAe;UACxCC,WAAA,EAAavB,WAAA,CAAYwB;QAC3B;MACF;MAEAr9D,GAAA,CAAIW,OAAO;IACb;EAAA;IAAAnU,GAAA;IAAAmoB,KAAA,EAKA,SAAA0qD,UAAA,EAAY;EAAC;EAAA,OAAA0/B,iBAAA;AAAA,EAzVgCrF,eAAA;AAAAttD,eAAA,CAA1B2yD,iBAA0B,QAEjC,cAAe;AAAA3yD,eAAA,CAFR2yD,iBAA0B,cAO3B;EAChBnhF,OAAA,EAAS,IAAI;EAGbyiF,OAAA,EAAS,IAAI;EACbt9C,QAAU;EAEV5C,UAAY;IACVviC,OAAA,EAAS,IAAI;IACbrd,SAAW;IACXy7D,UAAA,EAAY,EAAE;IACdE,gBAAkB;EACpB;EAEAhlB,IAAM;IACJkJ,QAAA,EAAU;EACZ;EAEA7H,UAAY;EAGZh8B,KAAO;IAELghD,iBAAA,EAAmB,IAAI;IAEvBvxE,QAAU,EAAA6uG,6EAAwBE;EACpC;EAEA16C,WAAa;IACXsd,aAAe,EAAA5wE,SAAA;IAGf2wE,eAAiB;IAGjB9/C,OAAA,EAAS,IAAI;IAGbpB,IAAM;MACJO,IAAM;IACR;IAGA/wB,QAAA,WAAAA,SAASiwB,KAAK,EAAE;MACd,OAAOA,KAAA;IACT;IAGAU,OAAS;IAGTogF,iBAAA,EAAmB;EACrB;CACA;AAAA3wD,eAAA,CA5DiB2yD,iBAA0B,mBA8DtB;EACrB,kBAAoB;EACpB,mBAAqB;EACrB,aAAe;CACf;AAAA3yD,eAAA,CAlEiB2yD,iBAA0B,iBAoExB;EACnB5+C,UAAY;IACVy2C,SAAW;EACb;CACA;AC1YJ,IAAM0J,SAAY;EAChBC,WAAa;IAACC,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;IAAGs+E,KAAO;EAAI;EAChDvnG,MAAQ;IAAC0sG,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;IAAMs+E,KAAO;EAAE;EAC5CtnG,MAAQ;IAACysG,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;IAAOs+E,KAAO;EAAE;EAC7CrnG,IAAM;IAACwsG,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;IAASs+E,KAAO;EAAE;EAC7CpnG,GAAK;IAACusG,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;IAAUs+E,KAAO;EAAE;EAC7CnnG,IAAM;IAACssG,MAAA,EAAQ,KAAK;IAAEzjF,IAAM;IAAWs+E,KAAO;EAAC;EAC/ClnG,KAAO;IAACqsG,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;IAASs+E,KAAO;EAAE;EAC9CjnG,OAAS;IAACosG,MAAA,EAAQ,KAAK;IAAEzjF,IAAM;IAASs+E,KAAO;EAAC;EAChDhnG,IAAM;IAACmsG,MAAA,EAAQ,IAAI;IAAEzjF,IAAM;EAAQ;AACrC;AAKA,IAAM0jF,KAAA,kBAA6C3yG,MAAA,CAAOC,IAAI,CAACuyG,SAAA;AAM/D,SAASI,OAAOh4F,CAAC,EAAEC,CAAC,EAAE;EACpB,OAAOD,CAAI,GAAAC,CAAA;AACb;AAOA,SAAStW,OAAMnE,KAAK,EAAEke,KAAK,EAAE;EAC3B,IAAIgmC,6DAAA,CAAchmC,KAAQ;IACxB,OAAO,IAAI;;EAGb,IAAMu0F,OAAA,GAAUzyG,KAAA,CAAM0yG,QAAQ;EAC9B,IAAAC,iBAAA,GAAoC3yG,KAAA,CAAM4yG,UAAU;IAA7CC,MAAA,GAAAF,iBAAA,CAAAE,MAAA;IAAQjuG,KAAA,GAAA+tG,iBAAA,CAAA/tG,KAAA;IAAOkuG,UAAU,GAAAH,iBAAA,CAAVG,UAAU;EAChC,IAAIrsF,KAAQ,GAAAvI,KAAA;EAEZ,IAAI,OAAO20F,MAAA,KAAW,UAAY;IAChCpsF,KAAA,GAAQosF,MAAO,CAAApsF,KAAA;;EAIjB,IAAI,CAAC4vB,6DAAA,CAAS5vB,KAAQ;IACpBA,KAAA,GAAQ,OAAOosF,MAAA,KAAW,QACtB,GAAAJ,OAAA,CAAQtuG,KAAK,CAACsiB,KAAO,EAAqBosF,MAAA,IAC1CJ,OAAQ,CAAAtuG,KAAK,CAACsiB,KAAM;;EAG1B,IAAIA,KAAA,KAAU,IAAI,EAAE;IAClB,OAAO,IAAI;;EAGb,IAAI7hB,KAAO;IACT6hB,KAAA,GAAQ7hB,KAAA,KAAU,MAAW,KAAAurD,6DAAA,CAAS2iD,UAAe,KAAAA,UAAA,KAAe,IAAI,CAAD,GACnEL,OAAA,CAAQ7+C,OAAO,CAACntC,KAAA,EAAO,SAAW,EAAAqsF,UAAA,IAClCL,OAAA,CAAQ7+C,OAAO,CAACntC,KAAA,EAAO7hB,KAAM;;EAGnC,OAAO,CAAC6hB,KAAA;AACV;AAUA,SAASssF,0BAA0BC,OAAO,EAAE5wG,GAAG,EAAED,GAAG,EAAE8wG,QAAQ,EAAE;EAC9D,IAAMl9D,IAAA,GAAOw8D,KAAA,CAAMxyG,MAAM;EAEzB,KAAK,IAAID,CAAI,GAAAyyG,KAAA,CAAMzzG,OAAO,CAACk0G,OAAA,GAAUlzG,CAAI,GAAAi2C,IAAA,GAAO,CAAG,IAAEj2C,CAAG;IACtD,IAAMirB,QAAA,GAAWqnF,SAAS,CAACG,KAAK,CAACzyG,CAAA,CAAE,CAAC;IACpC,IAAMuyC,MAAA,GAAStnB,QAAA,CAASoiF,KAAK,GAAGpiF,QAAA,CAASoiF,KAAK,GAAGj2D,MAAA,CAAOg8D,gBAAgB;IAExE,IAAInoF,QAAA,CAASunF,MAAM,IAAI7vG,IAAK,CAAAkgE,IAAI,CAAC,CAACxgE,GAAM,GAAAC,GAAE,KAAMiwC,MAAA,GAAStnB,QAAA,CAAS8D,IAAG,MAAOokF,QAAU;MACpF,OAAOV,KAAK,CAACzyG,CAAE;;EAEnB;EAEA,OAAOyyG,KAAK,CAACx8D,IAAA,GAAO,CAAE;AACxB;AAWA,SAASo9D,0BAA2BA,CAAAnzG,KAAK,EAAE+oE,QAAQ,EAAEiqC,OAAO,EAAE5wG,GAAG,EAAED,GAAG,EAAE;EACtE,KAAK,IAAIrC,CAAI,GAAAyyG,KAAA,CAAMxyG,MAAM,GAAG,CAAG,EAAAD,CAAA,IAAKyyG,KAAM,CAAAzzG,OAAO,CAACk0G,OAAA,GAAUlzG,CAAK;IAC/D,IAAMwqG,IAAA,GAAOiI,KAAK,CAACzyG,CAAE;IACrB,IAAIsyG,SAAS,CAAC9H,IAAK,EAACgI,MAAM,IAAItyG,KAAA,CAAM0yG,QAAQ,CAAC/+C,IAAI,CAACxxD,GAAA,EAAKC,GAAK,EAAAkoG,IAAA,KAASvhC,QAAA,GAAW,CAAG;MACjF,OAAOuhC,IAAA;;EAEX;EAEA,OAAOiI,KAAK,CAACS,OAAU,GAAAT,KAAA,CAAMzzG,OAAO,CAACk0G,OAAA,IAAW,CAAC,CAAC;AACpD;AAMA,SAASI,kBAAmBA,CAAA9I,IAAI,EAAE;EAChC,KAAK,IAAIxqG,CAAA,GAAIyyG,KAAM,CAAAzzG,OAAO,CAACwrG,IAAQ,OAAGv0D,IAAO,GAAAw8D,KAAA,CAAMxyG,MAAM,EAAED,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IACxE,IAAIsyG,SAAS,CAACG,KAAK,CAACzyG,CAAA,CAAE,CAAC,CAACwyG,MAAM,EAAE;MAC9B,OAAOC,KAAK,CAACzyG,CAAE;;EAEnB;AACF;AAOA,SAASuzG,OAAQA,CAAAhlF,KAAK,EAAE7nB,IAAI,EAAE8sG,UAAU,EAAE;EACxC,IAAI,CAACA,UAAY;IACfjlF,KAAK,CAAC7nB,IAAK,IAAG,IAAI;GACb,UAAI8sG,UAAW,CAAAvzG,MAAM,EAAE;IAC5B,IAAAwzG,QAAA,GAAiBC,8DAAA,CAAQF,UAAY,EAAA9sG,IAAA;MAA9BkuD,EAAE,GAAA6+C,QAAA,CAAF7+C,EAAE;MAAEC,EAAA,GAAA4+C,QAAA,CAAA5+C,EAAA;IACX,IAAM8+C,SAAY,GAAAH,UAAU,CAAC5+C,EAAA,CAAG,IAAIluD,IAAA,GAAO8sG,UAAU,CAAC5+C,EAAG,IAAG4+C,UAAU,CAAC3+C,EAAG;IAC1EtmC,KAAK,CAAColF,SAAU,IAAG,IAAI;;AAE3B;AASA,SAASC,cAAc1zG,KAAK,EAAEquB,KAAK,EAAEpa,GAAG,EAAE0/F,SAAS,EAAE;EACnD,IAAMlB,OAAA,GAAUzyG,KAAA,CAAM0yG,QAAQ;EAC9B,IAAM7wC,KAAA,GAAQ,CAAC4wC,OAAA,CAAQ7+C,OAAO,CAACvlC,KAAK,CAAC,EAAE,CAAC5H,KAAK,EAAEktF,SAAA;EAC/C,IAAMtzF,IAAA,GAAOgO,KAAK,CAACA,KAAA,CAAMtuB,MAAM,GAAG,EAAE,CAAC0mB,KAAK;EAC1C,IAAIi7C,KAAO,EAAA9pD,KAAA;EAEX,KAAK8pD,KAAA,GAAQG,KAAO,EAAAH,KAAA,IAASrhD,IAAM,EAAAqhD,KAAA,GAAQ,CAAC+wC,OAAA,CAAQzhG,GAAG,CAAC0wD,KAAO,KAAGiyC,SAAY;IAC5E/7F,KAAQ,GAAA3D,GAAG,CAACytD,KAAM;IAClB,IAAI9pD,KAAA,IAAS,CAAG;MACdyW,KAAK,CAACzW,KAAA,CAAM,CAAC8pD,KAAK,GAAG,IAAI;;EAE7B;EACA,OAAOrzC,KAAA;AACT;AAQA,SAASulF,mBAAoBA,CAAA5zG,KAAK,EAAEsa,MAAM,EAAEq5F,SAAS,EAAE;EACrD,IAAMtlF,KAAA,GAAQ,EAAE;EAEhB,IAAMpa,GAAA,GAAM,EAAC;EACb,IAAM8hC,IAAA,GAAOz7B,MAAA,CAAOva,MAAM;EAC1B,IAAID,CAAG,EAAA2mB,KAAA;EAEP,KAAK3mB,CAAI,MAAGA,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IACzB2mB,KAAQ,GAAAnM,MAAM,CAACxa,CAAE;IACjBmU,GAAG,CAACwS,KAAA,CAAM,GAAG3mB,CAAA;IAEbuuB,KAAA,CAAMltB,IAAI,CAAC;MACTslB,KAAA,EAAAA,KAAA;MACAi7C,KAAA,EAAO;IACT;EACF;EAIA,OAAQ3rB,IAAS,UAAK,CAAC49D,SAAA,GAAatlF,KAAA,GAAQqlF,aAAc,CAAA1zG,KAAA,EAAOquB,KAAO,EAAApa,GAAA,EAAK0/F,SAAU;AACzF;AAAA,IAEqBE,SAAkB,0BAAAC,OAAA;EAAAztD,SAAA,CAAAwtD,SAAA,EAAAC,OAAA;EAAA,IAAAC,QAAA,GAAAztD,YAAA,CAAAutD,SAAA;EAgDrC,SAAAA,UAAYjzF,KAAK,EAAE;IAAA,IAAAozF,OAAA;IAAAvlE,eAAA,OAAAolE,SAAA;IACjBG,OAAA,GAAAD,QAAA,CAAA/gG,IAAA,OAAM4N,KAAA;IAGNozF,OAAA,CAAK5wD,MAAM,GAAG;MACZttC,IAAA,EAAM,EAAE;MACRhR,MAAA,EAAQ,EAAE;MACV4e,GAAA,EAAK;IACP;IAGAswF,OAAA,CAAKC,KAAK,GAAG;IAEbD,OAAA,CAAKE,UAAU,GAAGr1G,SAAA;IAClBm1G,OAAA,CAAKG,QAAQ,GAAG,EAAC;IACjBH,OAAA,CAAKI,WAAW,GAAG,KAAK;IACxBJ,OAAA,CAAKpB,UAAU,GAAG/zG,SAAA;IAAA,OAAAm1G,OAAA;EACpB;EAAAplE,YAAA,CAAAilE,SAAA;IAAAv1G,GAAA;IAAAmoB,KAAA,EAEA,SAAApJ,KAAKzZ,SAAS,EAAa;MAAA,IAAX1F,IAAO,GAAAyF,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,QAAE;MACvB,IAAM6C,IAAA,GAAO5C,SAAA,CAAU4C,IAAI,KAAK5C,SAAU,CAAA4C,IAAI,GAAG,EAAC;MAElD,IAAMisG,OAAU,OAAI,CAACC,QAAQ,GAAG,IAAI1+C,QAAA,CAASC,KAAK,CAACrwD,SAAU,CAAAowD,QAAQ,CAAC3jB,IAAI;MAE1EoiE,OAAA,CAAQp1F,IAAI,CAACnf,IAAA;MAMb26E,8DAAA,CAAQryE,IAAK,CAAA6tG,cAAc,EAAE5B,OAAA,CAAQh/C,OAAO;MAE5C,IAAI,CAACm/C,UAAU,GAAG;QAChBC,MAAA,EAAQrsG,IAAA,CAAKqsG,MAAM;QACnBjuG,KAAA,EAAO4B,IAAA,CAAK5B,KAAK;QACjBkuG,UAAA,EAAYtsG,IAAA,CAAKssG;MACnB;MAEAlsD,IAAA,CAAAC,eAAA,CAAAgtD,SAAA,CAAA/gG,SAAA,iBAAAE,IAAA,OAAWpP,SAAA;MAEX,IAAI,CAACwwG,WAAW,GAAGl2G,IAAA,CAAKo2G,UAAU;IACpC;EAAA;IAAAh2G,GAAA;IAAAmoB,KAAA,EAOA,SAAAtiB,MAAMg1C,GAAG,EAAEvhC,KAAK,EAAE;MAChB,IAAIuhC,GAAA,KAAQt6C,SAAW;QACrB,OAAO,IAAI;;MAEb,OAAOsF,MAAA,CAAM,IAAI,EAAEg1C,GAAA;IACrB;EAAA;IAAA76C,GAAA;IAAAmoB,KAAA,EAEA,SAAA80C,aAAA,EAAe;MACb3U,IAAA,CAAAC,eAAA,CAAAgtD,SAAA,CAAA/gG,SAAA,yBAAAE,IAAA;MACA,IAAI,CAACowC,MAAM,GAAG;QACZttC,IAAA,EAAM,EAAE;QACRhR,MAAA,EAAQ,EAAE;QACV4e,GAAA,EAAK;MACP;IACF;EAAA;IAAAplB,GAAA;IAAAmoB,KAAA,EAEA,SAAA8gD,oBAAA,EAAsB;MACpB,IAAMjnE,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMmyG,OAAA,GAAU,IAAI,CAACC,QAAQ;MAC7B,IAAMpI,IAAO,GAAAhqG,OAAA,CAAQkG,IAAI,CAAC8jG,IAAI,IAAI;MAElC,IAAAiK,oBAAA,GAAyC,IAAI,CAACz9D,aAAa;QAAtD10C,GAAA,GAAAmyG,oBAAA,CAAAnyG,GAAA;QAAKD,GAAA,GAAAoyG,oBAAA,CAAApyG,GAAA;QAAK60C,UAAA,GAAAu9D,oBAAA,CAAAv9D,UAAA;QAAYC,UAAA,GAAAs9D,oBAAA,CAAAt9D,UAAA;MAK3B,SAASu9D,YAAaA,CAAAllB,MAAM,EAAE;QAC5B,IAAI,CAACt4C,UAAc,KAACryC,KAAM,CAAA2qF,MAAA,CAAOltF,GAAG,CAAG;UACrCA,GAAA,GAAMK,IAAK,CAAAL,GAAG,CAACA,GAAA,EAAKktF,MAAA,CAAOltF,GAAG;;QAEhC,IAAI,CAAC60C,UAAc,KAACtyC,KAAM,CAAA2qF,MAAA,CAAOntF,GAAG,CAAG;UACrCA,GAAA,GAAMM,IAAK,CAAAN,GAAG,CAACA,GAAA,EAAKmtF,MAAA,CAAOntF,GAAG;;MAElC;MAGA,IAAI,CAAC60C,UAAc,KAACC,UAAY;QAE9Bu9D,YAAa,KAAI,CAACC,eAAe;QAIjC,IAAIn0G,OAAA,CAAQgvF,MAAM,KAAK,WAAWhvF,OAAA,CAAQ+tB,KAAK,CAACxW,MAAM,KAAK,QAAU;UACnE28F,YAAA,CAAa,IAAI,CAAC11D,SAAS,CAAC,KAAK;;;MAIrC18C,GAAA,GAAMi0C,6DAAS,CAAAj0C,GAAA,KAAQ,CAACuC,KAAA,CAAMvC,GAAO,IAAAA,GAAA,GAAM,CAACqwG,OAAA,CAAQ7+C,OAAO,CAACt9C,IAAK,CAAAD,GAAG,IAAIi0F,IAAK;MAC7EnoG,GAAA,GAAMk0C,6DAAS,CAAAl0C,GAAA,KAAQ,CAACwC,KAAA,CAAMxC,GAAA,IAAOA,GAAM,IAACswG,OAAQ,CAAA5+C,KAAK,CAACv9C,IAAA,CAAKD,GAAG,IAAIi0F,IAAA,IAAQ,CAAC;MAG/E,IAAI,CAACloG,GAAG,GAAGK,IAAA,CAAKL,GAAG,CAACA,GAAA,EAAKD,GAAM;MAC/B,IAAI,CAACA,GAAG,GAAGM,IAAA,CAAKN,GAAG,CAACC,GAAA,GAAM,CAAG,EAAAD,GAAA;IAC/B;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAKA,SAAAguF,gBAAA,EAAkB;MAChB,IAAMlyD,GAAA,GAAM,IAAI,CAACmyD,kBAAkB;MACnC,IAAItyG,GAAA,GAAM80C,MAAA,CAAOE,iBAAiB;MAClC,IAAIj1C,GAAA,GAAM+0C,MAAA,CAAOC,iBAAiB;MAElC,IAAIoL,GAAA,CAAIxiD,MAAM,EAAE;QACdqC,GAAM,GAAAmgD,GAAG,CAAC,CAAE;QACZpgD,GAAA,GAAMogD,GAAG,CAACA,GAAI,CAAAxiD,MAAM,GAAG,CAAE;;MAE3B,OAAO;QAACqC,GAAA,EAAAA,GAAA;QAAKD,GAAA,EAAAA;MAAG;IAClB;EAAA;IAAA7D,GAAA;IAAAmoB,KAAA,EAKA,SAAAkhD,WAAA,EAAa;MACX,IAAMrnE,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMq0G,QAAA,GAAWr0G,OAAA,CAAQkG,IAAI;MAC7B,IAAM46D,QAAA,GAAW9gE,OAAA,CAAQ+tB,KAAK;MAC9B,IAAMilF,UAAa,GAAAlyC,QAAA,CAASvpD,MAAM,KAAK,QAAW,OAAI,CAAC68F,kBAAkB,EAAK,OAAI,CAACE,SAAS,EAAE;MAE9F,IAAIt0G,OAAA,CAAQgvF,MAAM,KAAK,OAAW,IAAAgkB,UAAA,CAAWvzG,MAAM,EAAE;QACnD,IAAI,CAACqC,GAAG,GAAG,IAAI,CAAC0jE,QAAQ,IAAIwtC,UAAU,CAAC,CAAE;QACzC,IAAI,CAACnxG,GAAG,GAAG,IAAI,CAAC0jE,QAAQ,IAAIytC,UAAU,CAACA,UAAA,CAAWvzG,MAAM,GAAG,CAAE;;MAG/D,IAAMqC,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAMD,GAAA,GAAM,IAAI,CAACA,GAAG;MAEpB,IAAMksB,KAAA,GAAQwmF,8DAAe,CAAAvB,UAAA,EAAYlxG,GAAK,EAAAD,GAAA;MAK9C,IAAI,CAAC8xG,KAAK,GAAGU,QAAA,CAASrK,IAAI,KAAKlpC,QAAA,CAASD,QAAQ,GAC5C4xC,yBAAA,CAA0B4B,QAAS,CAAA3B,OAAO,EAAE,IAAI,CAAC5wG,GAAG,EAAE,IAAI,CAACD,GAAG,EAAE,IAAI,CAAC2yG,iBAAiB,CAAC1yG,GACvF,KAAA+wG,0BAAA,CAA2B,IAAI,EAAE9kF,KAAA,CAAMtuB,MAAM,EAAE40G,QAAA,CAAS3B,OAAO,EAAE,IAAI,CAAC5wG,GAAG,EAAE,IAAI,CAACD,GAAG,CAAC,CAAD;MACvF,IAAI,CAAC+xG,UAAU,GAAG,CAAC9yC,QAAS,CAAAM,KAAK,CAACvjE,OAAO,IAAI,IAAI,CAAC81G,KAAK,KAAK,MAAS,GAAAp1G,SAAA,GACjEu0G,kBAAA,CAAmB,IAAI,CAACa,KAAK,CAAC;MAClC,IAAI,CAACc,WAAW,CAACzB,UAAA;MAEjB,IAAIhzG,OAAA,CAAQy8B,OAAO,EAAE;QACnB1O,KAAA,CAAM0O,OAAO;;MAGf,OAAO62E,mBAAA,CAAoB,IAAI,EAAEvlF,KAAO,MAAI,CAAC6lF,UAAU;IACzD;EAAA;IAAA51G,GAAA;IAAAmoB,KAAA,EAEA,SAAAyhD,cAAA,EAAgB;MAGd,IAAI,IAAI,CAAC5nE,OAAO,CAAC00G,mBAAmB,EAAE;QACpC,IAAI,CAACD,WAAW,CAAC,IAAI,CAAC1mF,KAAK,CAACpa,GAAG,CAAC,UAAAo9B,IAAQ;UAAA,QAACA,IAAA,CAAK5qB,KAAK;QAAA;;IAEvD;EAAA;IAAAnoB,GAAA;IAAAmoB,KAAA,EAUA,SAAAsuF,YAAA,EAA6B;MAAA,IAAjBzB,UAAa,GAAA3vG,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,QAAE;MACzB,IAAIiP,KAAQ;MACZ,IAAImO,GAAM;MACV,IAAI8gD,KAAO,EAAAxhD,IAAA;MAEX,IAAI,IAAI,CAAC/f,OAAO,CAAC4D,MAAM,IAAIovG,UAAA,CAAWvzG,MAAM,EAAE;QAC5C8hE,KAAA,GAAQ,IAAI,CAACozC,kBAAkB,CAAC3B,UAAU,CAAC,CAAE;QAC7C,IAAIA,UAAA,CAAWvzG,MAAM,KAAK,CAAG;UAC3B6S,KAAA,GAAQ,CAAI,GAAAivD,KAAA;SACP;UACLjvD,KAAQ,GAAC,KAAI,CAACqiG,kBAAkB,CAAC3B,UAAU,CAAC,EAAE,CAAI,GAAAzxC,KAAI,IAAK;;QAE7DxhD,IAAO,OAAI,CAAC40F,kBAAkB,CAAC3B,UAAU,CAACA,UAAA,CAAWvzG,MAAM,GAAG,CAAE;QAChE,IAAIuzG,UAAA,CAAWvzG,MAAM,KAAK,CAAG;UAC3BghB,GAAM,GAAAV,IAAA;SACD;UACLU,GAAA,GAAM,CAACV,IAAO,OAAI,CAAC40F,kBAAkB,CAAC3B,UAAU,CAACA,UAAW,CAAAvzG,MAAM,GAAG,EAAE,KAAK;;;MAGhF,IAAMiD,KAAA,GAAQswG,UAAW,CAAAvzG,MAAM,GAAG,IAAI,MAAM,IAAI;MAChD6S,KAAQ,GAAA+2D,6DAAA,CAAY/2D,KAAA,EAAO,CAAG,EAAA5P,KAAA;MAC9B+d,GAAM,GAAA4oD,6DAAA,CAAY5oD,GAAA,EAAK,CAAG,EAAA/d,KAAA;MAE1B,IAAI,CAACmxG,QAAQ,GAAG;QAACvhG,KAAA,EAAAA,KAAA;QAAOmO,GAAA,EAAAA,GAAA;QAAKsxB,MAAA,EAAQ,CAAK,IAAAz/B,KAAQ,OAAImO,GAAE;MAAE;IAC5D;EAAA;IAAAziB,GAAA;IAAAmoB,KAAA,EASA,SAAAmuF,UAAA,EAAY;MACV,IAAMnC,OAAA,GAAU,IAAI,CAACC,QAAQ;MAC7B,IAAMtwG,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAMD,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAM7B,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMq0G,QAAA,GAAWr0G,OAAA,CAAQkG,IAAI;MAE7B,IAAM0uG,KAAQ,GAAAP,QAAA,CAASrK,IAAI,IAAIyI,yBAA0B,CAAA4B,QAAA,CAAS3B,OAAO,EAAE5wG,GAAK,EAAAD,GAAA,EAAK,IAAI,CAAC2yG,iBAAiB,CAAC1yG,GAAA;MAC5G,IAAMoD,QAAA,GAAW3H,6DAAe,CAAAyC,OAAA,CAAQ+tB,KAAK,CAAC7oB,QAAQ,EAAE;MACxD,IAAM2vG,OAAA,GAAUD,KAAU,cAASP,QAAS,CAAA7B,UAAU,GAAG,KAAK;MAC9D,IAAMsC,UAAa,GAAAjlD,6DAAA,CAASglD,OAAY,KAAAA,OAAA,KAAY,IAAI;MACxD,IAAM9mF,KAAA,GAAQ,EAAC;MACf,IAAIwzC,KAAQ,GAAAz/D,GAAA;MACZ,IAAIoE,IAAM,EAAAqkB,KAAA;MAGV,IAAIuqF,UAAY;QACdvzC,KAAA,GAAQ,CAAC4wC,OAAA,CAAQ7+C,OAAO,CAACiO,KAAA,EAAO,SAAW,EAAAszC,OAAA;;MAI7CtzC,KAAA,GAAQ,CAAC4wC,OAAQ,CAAA7+C,OAAO,CAACiO,KAAO,EAAAuzC,UAAA,GAAa,QAAQF,KAAK;MAG1D,IAAIzC,OAAA,CAAQ9+C,IAAI,CAACxxD,GAAA,EAAKC,GAAK,EAAA8yG,KAAA,IAAS,SAAS1vG,QAAU;QACrD,MAAM,IAAI6R,KAAA,CAAMjV,GAAM,aAAUD,GAAA,GAAM,sCAAyC,GAAAqD,QAAA,GAAW,MAAM0vG,KAAO;;MAGzG,IAAM5B,UAAA,GAAahzG,OAAA,CAAQ+tB,KAAK,CAACxW,MAAM,KAAK,UAAU,IAAI,CAACw9F,iBAAiB;MAC5E,KAAK7uG,IAAA,GAAOq7D,KAAO,EAAAh3C,KAAA,GAAQ,CAAC,EAAErkB,IAAA,GAAOrE,GAAK,EAAAqE,IAAA,GAAO,CAACisG,OAAA,CAAQzhG,GAAG,CAACxK,IAAA,EAAMhB,QAAU,EAAA0vG,KAAA,GAAQrqF,KAAA,EAAO,EAAE;QAC7FwoF,OAAA,CAAQhlF,KAAA,EAAO7nB,IAAM,EAAA8sG,UAAA;MACvB;MAEA,IAAI9sG,IAAA,KAASrE,GAAO,IAAA7B,OAAA,CAAQgvF,MAAM,KAAK,WAAWzkE,KAAA,KAAU,CAAG;QAC7DwoF,OAAA,CAAQhlF,KAAA,EAAO7nB,IAAM,EAAA8sG,UAAA;;MAIvB,OAAO1zG,MAAA,CAAOC,IAAI,CAACwuB,KAAO,EAAAjU,IAAI,CAACo4F,MAAA,EAAQv+F,GAAG,CAAC,UAAAjV,CAAA;QAAA,OAAK,CAACA,CAAA;MAAA;IACnD;EAAA;IAAAV,GAAA;IAAAmoB,KAAA,EAMA,SAAA84B,iBAAiB94B,KAAK,EAAE;MACtB,IAAMgsF,OAAA,GAAU,IAAI,CAACC,QAAQ;MAC7B,IAAMiC,QAAW,OAAI,CAACr0G,OAAO,CAACkG,IAAI;MAElC,IAAImuG,QAAA,CAASW,aAAa,EAAE;QAC1B,OAAO7C,OAAQ,CAAA/+C,MAAM,CAACjtC,KAAA,EAAOkuF,QAAA,CAASW,aAAa;;MAErD,OAAO7C,OAAA,CAAQ/+C,MAAM,CAACjtC,KAAA,EAAOkuF,QAAS,CAAAN,cAAc,CAACkB,QAAQ;IAC/D;EAAA;IAAAj3G,GAAA;IAAAmoB,KAAA,EAOA,SAAAitC,OAAOjtC,KAAK,EAAEitC,OAAM,EAAE;MACpB,IAAMpzD,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMmzD,OAAU,GAAAnzD,OAAA,CAAQkG,IAAI,CAAC6tG,cAAc;MAC3C,IAAM/J,IAAA,GAAO,IAAI,CAAC2J,KAAK;MACvB,IAAMuB,GAAM,GAAA9hD,OAAA,IAAUD,OAAO,CAAC62C,IAAK;MACnC,OAAO,IAAI,CAACoI,QAAQ,CAACh/C,MAAM,CAACjtC,KAAO,EAAA+uF,GAAA;IACrC;EAAA;IAAAl3G,GAAA;IAAAmoB,KAAA,EAWA,SAAAgvF,oBAAoBjvG,IAAI,EAAEoR,KAAK,EAAEyW,KAAK,EAAEqlC,MAAM,EAAE;MAC9C,IAAMpzD,OAAA,GAAU,IAAI,CAACA,OAAO;MAC5B,IAAMo1G,SAAY,GAAAp1G,OAAA,CAAQ+tB,KAAK,CAACvwB,QAAQ;MAExC,IAAI43G,SAAW;QACb,OAAO53G,6DAAA,CAAK43G,SAAW,GAAClvG,IAAA,EAAMoR,KAAA,EAAOyW,KAAA,CAAM,EAAE,IAAI;;MAGnD,IAAMolC,OAAU,GAAAnzD,OAAA,CAAQkG,IAAI,CAAC6tG,cAAc;MAC3C,IAAM/J,IAAA,GAAO,IAAI,CAAC2J,KAAK;MACvB,IAAMN,SAAA,GAAY,IAAI,CAACO,UAAU;MACjC,IAAMyB,WAAc,GAAArL,IAAA,IAAQ72C,OAAO,CAAC62C,IAAK;MACzC,IAAMsL,WAAc,GAAAjC,SAAA,IAAalgD,OAAO,CAACkgD,SAAU;MACnD,IAAMtiE,IAAA,GAAOhjB,KAAK,CAACzW,KAAM;MACzB,IAAM8pD,KAAQ,GAAAiyC,SAAA,IAAaiC,WAAe,IAAAvkE,IAAA,IAAQA,IAAA,CAAKqwB,KAAK;MAE5D,OAAO,IAAI,CAACgxC,QAAQ,CAACh/C,MAAM,CAACltD,IAAM,EAAAktD,MAAA,KAAWgO,KAAA,GAAQk0C,WAAc,GAAAD,WAAW,CAAD;IAC/E;EAAA;IAAAr3G,GAAA;IAAAmoB,KAAA,EAKA,SAAAoiD,mBAAmBx6C,KAAK,EAAE;MACxB,IAAIvuB,CAAA,EAAGi2C,IAAM,EAAA1E,IAAA;MAEb,KAAKvxC,CAAA,GAAI,GAAGi2C,IAAO,GAAA1nB,KAAA,CAAMtuB,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC9CuxC,IAAO,GAAAhjB,KAAK,CAACvuB,CAAE;QACfuxC,IAAK,CAAAtjB,KAAK,GAAG,IAAI,CAAC0nF,mBAAmB,CAACpkE,IAAA,CAAK5qB,KAAK,EAAE3mB,CAAG,EAAAuuB,KAAA;MACvD;IACF;EAAA;IAAA/vB,GAAA;IAAAmoB,KAAA,EAMA,SAAAwuF,mBAAmBxuF,KAAK,EAAE;MACxB,OAAOA,KAAA,KAAU,IAAI,GAAGo4B,GAAA,GAAM,CAACp4B,KAAA,GAAQ,IAAI,CAACrkB,GAAG,KAAK,IAAI,CAACD,GAAG,GAAG,IAAI,CAACC,GAAE,CAAE;IAC1E;EAAA;IAAA9D,GAAA;IAAAmoB,KAAA,EAMA,SAAA/f,iBAAiB+f,KAAK,EAAE;MACtB,IAAMovF,OAAA,GAAU,IAAI,CAAC1B,QAAQ;MAC7B,IAAMl9C,GAAM,OAAI,CAACg+C,kBAAkB,CAACxuF,KAAA;MACpC,OAAO,IAAI,CAAC8hC,kBAAkB,CAAC,CAACstD,OAAQ,CAAAjjG,KAAK,GAAGqkD,GAAE,IAAK4+C,OAAA,CAAQxjE,MAAM;IACvE;EAAA;IAAA/zC,GAAA;IAAAmoB,KAAA,EAMA,SAAA/jB,iBAAiBupE,KAAK,EAAE;MACtB,IAAM4pC,OAAA,GAAU,IAAI,CAAC1B,QAAQ;MAC7B,IAAMl9C,GAAA,GAAM,IAAI,CAACoV,kBAAkB,CAACJ,KAAA,IAAS4pC,OAAQ,CAAAxjE,MAAM,GAAGwjE,OAAA,CAAQ90F,GAAG;MACzE,OAAO,IAAI,CAAC3e,GAAG,GAAG60D,GAAO,QAAI,CAAC90D,GAAG,GAAG,IAAI,CAACC,GAAG,CAAD;IAC7C;EAAA;IAAA9D,GAAA;IAAAmoB,KAAA,EAOA,SAAAqvF,cAAc/nF,KAAK,EAAE;MACnB,IAAMgoF,SAAY,OAAI,CAACz1G,OAAO,CAAC+tB,KAAK;MACpC,IAAM2nF,cAAA,GAAiB,IAAI,CAAClkG,GAAG,CAACkpF,WAAW,CAACjtE,KAAA,EAAO5oB,KAAK;MACxD,IAAMia,KAAA,GAAQysC,6DAAU,KAAI,CAACtpD,YAAY,KAAKwzG,SAAU,CAAA9sC,WAAW,GAAG8sC,SAAA,CAAU/sC,WAAW;MAC3F,IAAMitC,WAAA,GAAcxzG,IAAK,CAAA+nD,GAAG,CAACprC,KAAA;MAC7B,IAAM82F,WAAA,GAAczzG,IAAK,CAAAqyB,GAAG,CAAC1V,KAAA;MAC7B,IAAM+2F,YAAA,GAAe,IAAI,CAACvqC,uBAAuB,CAAC,GAAG/8C,IAAI;MAEzD,OAAO;QACL2S,CAAG,EAACw0E,cAAiB,GAAAC,WAAA,GAAgBE,YAAe,GAAAD,WAAA;QACpD72E,CAAG,EAAC22E,cAAiB,GAAAE,WAAA,GAAgBC,YAAe,GAAAF;MACtD;IACF;EAAA;IAAA33G,GAAA;IAAAmoB,KAAA,EAOA,SAAAquF,kBAAkBsB,WAAW,EAAE;MAC7B,IAAMzB,QAAW,OAAI,CAACr0G,OAAO,CAACkG,IAAI;MAClC,IAAM6tG,cAAA,GAAiBM,QAAA,CAASN,cAAc;MAG9C,IAAM3gD,MAAA,GAAS2gD,cAAc,CAACM,QAAA,CAASrK,IAAI,CAAC,IAAI+J,cAAA,CAAehC,WAAW;MAC1E,IAAMgE,YAAA,GAAe,IAAI,CAACZ,mBAAmB,CAACW,WAAa,KAAGxC,mBAAoB,KAAI,EAAE,CAACwC,WAAA,CAAY,EAAE,IAAI,CAAClC,UAAU,CAAG,EAAAxgD,MAAA;MACzH,IAAM7kC,IAAO,OAAI,CAACinF,aAAa,CAACO,YAAA;MAGhC,IAAMpD,QAAA,GAAWxwG,IAAA,CAAKotB,KAAK,CAAC,IAAI,CAACttB,YAAY,KAAK,IAAI,CAAC4C,KAAK,GAAG0pB,IAAA,CAAK2S,CAAC,GAAG,IAAI,CAACp8B,MAAM,GAAGypB,IAAK,CAAAwQ,CAAC,CAAI;MAChG,OAAO4zE,QAAA,GAAW,CAAI,GAAAA,QAAA,GAAW,CAAC;IACpC;EAAA;IAAA30G,GAAA;IAAAmoB,KAAA,EAKA,SAAA4uF,kBAAA,EAAoB;MAClB,IAAI/B,UAAA,GAAa,IAAI,CAAClwD,MAAM,CAACttC,IAAI,IAAI,EAAE;MACvC,IAAIhW,CAAG,EAAAi2C,IAAA;MAEP,IAAIu9D,UAAA,CAAWvzG,MAAM,EAAE;QACrB,OAAOuzG,UAAA;;MAGT,IAAM7sC,KAAA,GAAQ,IAAI,CAAC1uB,uBAAuB;MAE1C,IAAI,IAAI,CAACq8D,WAAW,IAAI3tC,KAAA,CAAM1mE,MAAM,EAAE;QACpC,OAAQ,IAAI,CAACqjD,MAAM,CAACttC,IAAI,GAAG2wD,KAAK,CAAC,EAAE,CAACvuB,UAAU,CAACkH,kBAAkB,CAAC,IAAI;;MAGxE,KAAKt/C,CAAA,GAAI,GAAGi2C,IAAO,GAAA0wB,KAAA,CAAM1mE,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC9CwzG,UAAa,GAAAA,UAAA,CAAWj/F,MAAM,CAACoyD,KAAK,CAAC3mE,CAAE,EAACo4C,UAAU,CAACkH,kBAAkB,CAAC,IAAI;MAC5E;MAEA,OAAQ,IAAI,CAACgE,MAAM,CAACttC,IAAI,GAAG,IAAI,CAACwgG,SAAS,CAAChD,UAAA;IAC5C;EAAA;IAAAh1G,GAAA;IAAAmoB,KAAA,EAKA,SAAAiuF,mBAAA,EAAqB;MACnB,IAAMpB,UAAA,GAAa,IAAI,CAAClwD,MAAM,CAACt+C,MAAM,IAAI,EAAE;MAC3C,IAAIhF,CAAG,EAAAi2C,IAAA;MAEP,IAAIu9D,UAAA,CAAWvzG,MAAM,EAAE;QACrB,OAAOuzG,UAAA;;MAGT,IAAMxuG,MAAA,GAAS,IAAI,CAACC,SAAS;MAC7B,KAAKjF,CAAA,GAAI,GAAGi2C,IAAO,GAAAjxC,MAAA,CAAO/E,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC/CwzG,UAAA,CAAWnyG,IAAI,CAACgD,MAAA,CAAM,IAAI,EAAEW,MAAM,CAAChF,CAAE;MACvC;MAEA,OAAQ,IAAI,CAACsjD,MAAM,CAACt+C,MAAM,GAAG,IAAI,CAACsvG,WAAW,GAAGd,UAAa,OAAI,CAACgD,SAAS,CAAChD,UAAW;IACzF;EAAA;IAAAh1G,GAAA;IAAAmoB,KAAA,EAMA,SAAA6vF,UAAUh8F,MAAM,EAAE;MAEhB,OAAOipC,6DAAA,CAAajpC,MAAO,CAAAF,IAAI,CAACo4F,MAAA;IAClC;EAAA;EAAA,OAAAqB,SAAA;AAAA,EA3dqC/uC,KAAA;AAAA5mB,eAAA,CAAlB21D,SAAkB,QAEzB,MAAO;AAAA31D,eAAA,CAFA21D,SAAkB,cAOnB;EAQhBvkB,MAAQ;EAERt7B,QAAA,EAAU,EAAC;EACXxtD,IAAM;IACJqsG,MAAA,EAAQ,KAAK;IACbvI,IAAA,EAAM,KAAK;IACX1lG,KAAA,EAAO,KAAK;IACZkuG,UAAA,EAAY,KAAK;IACjBE,OAAS;IACTqB,cAAA,EAAgB;EAClB;EACAhmF,KAAO;IASLxW,MAAQ;IAER/Z,QAAA,EAAU,KAAK;IAEf4jE,KAAO;MACLvjE,OAAA,EAAS;IACX;EACF;CACA;ACtOJ,SAAS2vC,WAAYA,CAAAyoE,KAAK,EAAEz9F,GAAG,EAAEikB,OAAO,EAAE;EACxC,IAAI23B,EAAK;EACT,IAAIC,EAAA,GAAK4hD,KAAM,CAAAx2G,MAAM,GAAG;EACxB,IAAIy2G,UAAA,EAAYC,UAAA,EAAYC,UAAY,EAAAC,UAAA;EACxC,IAAI55E,OAAS;IACX,IAAIjkB,GAAO,IAAAy9F,KAAK,CAAC7hD,EAAA,CAAG,CAACuC,GAAG,IAAIn+C,GAAA,IAAOy9F,KAAK,CAAC5hD,EAAG,EAACsC,GAAG,EAAE;MAAA,IAAA2/C,aAAA,GACpCpiD,6DAAA,CAAa+hD,KAAO,SAAOz9F,GAAG;MAAxC47C,EAAA,GAAAkiD,aAAA,CAAAliD,EAAA;MAAIC,EAAA,GAAAiiD,aAAA,CAAAjiD,EAAA;;IACP,IAAAkiD,SAAA,GACsCN,KAAK,CAAC7hD,EAAA,CAAG;IAAzC8hD,UAAA,GAAAK,SAAA,CAAL5/C,GAAK;IAAkBy/C,UAAU,GAAAG,SAAA,CAAhBrwG,IAAA;IAAA,IAAAswG,SAAA,GACoBP,KAAK,CAAC5hD,EAAA,CAAG;IAAzC8hD,UAAA,GAAAK,SAAA,CAAL7/C,GAAK;IAAkB0/C,UAAU,GAAAG,SAAA,CAAhBtwG,IAAA;GACd;IACL,IAAIsS,GAAO,IAAAy9F,KAAK,CAAC7hD,EAAA,CAAG,CAACluD,IAAI,IAAIsS,GAAA,IAAOy9F,KAAK,CAAC5hD,EAAG,EAACnuD,IAAI,EAAE;MAAA,IAAAuwG,aAAA,GACtCviD,6DAAA,CAAa+hD,KAAO,UAAQz9F,GAAG;MAAzC47C,EAAA,GAAAqiD,aAAA,CAAAriD,EAAA;MAAIC,EAAA,GAAAoiD,aAAA,CAAApiD,EAAA;;IACP,IAAAqiD,UAAA,GACsCT,KAAK,CAAC7hD,EAAA,CAAG;IAAxC8hD,UAAA,GAAAQ,UAAA,CAANxwG,IAAM;IAAiBkwG,UAAU,GAAAM,UAAA,CAAf//C,GAAA;IAAA,IAAAggD,UAAA,GACmBV,KAAK,CAAC5hD,EAAA,CAAG;IAAxC8hD,UAAA,GAAAQ,UAAA,CAANzwG,IAAM;IAAiBmwG,UAAU,GAAAM,UAAA,CAAfhgD,GAAA;;EAGtB,IAAMigD,IAAA,GAAOT,UAAa,GAAAD,UAAA;EAC1B,OAAOU,IAAO,GAAAR,UAAA,GAAa,CAACC,UAAa,GAAAD,UAAS,KAAM59F,GAAM,GAAA09F,UAAS,CAAK,GAAAU,IAAA,GAAOR,UAAU;AAC/F;AAAA,IAEMS,eAAwB,0BAAAC,UAAA;EAAA/wD,SAAA,CAAA8wD,eAAA,EAAAC,UAAA;EAAA,IAAAC,QAAA,GAAA/wD,YAAA,CAAA6wD,eAAA;EAY5B,SAAAA,gBAAYv2F,KAAK,EAAE;IAAA,IAAA02F,OAAA;IAAA7oE,eAAA,OAAA0oE,eAAA;IACjBG,OAAA,GAAAD,QAAA,CAAArkG,IAAA,OAAM4N,KAAA;IAGN02F,OAAA,CAAKC,MAAM,GAAG,EAAE;IAEhBD,OAAA,CAAKE,OAAO,GAAG34G,SAAA;IAEfy4G,OAAA,CAAKG,WAAW,GAAG54G,SAAA;IAAA,OAAAy4G,OAAA;EACrB;EAAA1oE,YAAA,CAAAuoE,eAAA;IAAA74G,GAAA;IAAAmoB,KAAA,EAKA,SAAAsuF,YAAA,EAAc;MACZ,IAAMzB,UAAA,GAAa,IAAI,CAACoE,sBAAsB;MAC9C,IAAMnB,KAAA,GAAQ,IAAI,CAACgB,MAAM,GAAG,IAAI,CAACI,gBAAgB,CAACrE,UAAA;MAClD,IAAI,CAACkE,OAAO,GAAG1pE,WAAA,CAAYyoE,KAAO,MAAI,CAACn0G,GAAG;MAC1C,IAAI,CAACq1G,WAAW,GAAG3pE,WAAY,CAAAyoE,KAAA,EAAO,IAAI,CAACp0G,GAAG,IAAI,IAAI,CAACq1G,OAAO;MAC9D5wD,IAAA,CAAAC,eAAA,CAAAswD,eAAA,CAAArkG,SAAA,wBAAAE,IAAA,OAAkBsgG,UAAA;IACpB;EAAA;IAAAh1G,GAAA;IAAAmoB,KAAA,EAaA,SAAAkxF,iBAAiBrE,UAAU,EAAE;MAC3B,IAAOlxG,GAAG,GAAS,IAAI,CAAhBA,GAAG;QAAED,GAAG,GAAI,IAAI,CAAXA,GAAG;MACf,IAAM+uC,KAAA,GAAQ,EAAE;MAChB,IAAMqlE,KAAA,GAAQ,EAAE;MAChB,IAAIz2G,CAAA,EAAGi2C,IAAM,EAAA7Y,IAAA,EAAMwmB,IAAM,EAAAroB,IAAA;MAEzB,KAAKv7B,CAAA,GAAI,GAAGi2C,IAAO,GAAAu9D,UAAA,CAAWvzG,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QACnD4jD,IAAO,GAAA4vD,UAAU,CAACxzG,CAAE;QACpB,IAAI4jD,IAAA,IAAQthD,GAAO,IAAAshD,IAAA,IAAQvhD,GAAK;UAC9B+uC,KAAA,CAAM/vC,IAAI,CAACuiD,IAAA;;MAEf;MAEA,IAAIxS,KAAA,CAAMnxC,MAAM,GAAG,CAAG;QAEpB,OAAO,CACL;UAACyG,IAAM,EAAApE,GAAA;UAAK60D,GAAK;QAAC,GAClB;UAACzwD,IAAM,EAAArE,GAAA;UAAK80D,GAAK;QAAC,EACnB;;MAGH,KAAKn3D,CAAA,GAAI,GAAGi2C,IAAO,GAAA7E,KAAA,CAAMnxC,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;QAC9Cu7B,IAAO,GAAA6V,KAAK,CAACpxC,CAAA,GAAI,CAAE;QACnBo9B,IAAO,GAAAgU,KAAK,CAACpxC,CAAA,GAAI,CAAE;QACnB4jD,IAAO,GAAAxS,KAAK,CAACpxC,CAAE;QAGf,IAAI2C,IAAA,CAAKmC,KAAK,CAAE,CAAAy2B,IAAO,GAAA6B,IAAG,IAAK,OAAOwmB,IAAM;UAC1C6yD,KAAA,CAAMp1G,IAAI,CAAC;YAACqF,IAAM,EAAAk9C,IAAA;YAAMuT,GAAK,EAAAn3D,CAAA,IAAKi2C,IAAA,GAAO;UAAE;;MAE/C;MACA,OAAOwgE,KAAA;IACT;EAAA;IAAAj4G,GAAA;IAAAmoB,KAAA,EAQA,SAAAmuF,UAAA,EAAY;MACV,IAAMxyG,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAMD,GAAA,GAAM,IAAI,CAACA,GAAG;MACpB,IAAImxG,UAAA,GAAA1sD,IAAA,CAAAC,eAAA,CAAAswD,eAAA,CAAArkG,SAAA,8BAAAE,IAAA,MAAoC;MACxC,IAAI,CAACsgG,UAAA,CAAWt7C,QAAQ,CAAC51D,GAAA,KAAQ,CAACkxG,UAAA,CAAWvzG,MAAM,EAAE;QACnDuzG,UAAW,CAAAzwF,MAAM,CAAC,GAAG,CAAG,EAAAzgB,GAAA;;MAE1B,IAAI,CAACkxG,UAAA,CAAWt7C,QAAQ,CAAC71D,GAAA,KAAQmxG,UAAW,CAAAvzG,MAAM,KAAK,CAAG;QACxDuzG,UAAA,CAAWnyG,IAAI,CAACgB,GAAA;;MAElB,OAAOmxG,UAAA,CAAWl5F,IAAI,CAAC,UAACI,CAAA,EAAGC,CAAA;QAAA,OAAMD,CAAI,GAAAC,CAAA;MAAA;IACvC;EAAA;IAAAnc,GAAA;IAAAmoB,KAAA,EAOA,SAAAixF,uBAAA,EAAyB;MACvB,IAAIpE,UAAA,GAAa,IAAI,CAAClwD,MAAM,CAAC1/B,GAAG,IAAI,EAAE;MAEtC,IAAI4vF,UAAA,CAAWvzG,MAAM,EAAE;QACrB,OAAOuzG,UAAA;;MAGT,IAAMx9F,IAAA,GAAO,IAAI,CAACu/F,iBAAiB;MACnC,IAAMtnF,KAAA,GAAQ,IAAI,CAAC2mF,kBAAkB;MACrC,IAAI5+F,IAAK,CAAA/V,MAAM,IAAIguB,KAAA,CAAMhuB,MAAM,EAAE;QAG/BuzG,UAAA,GAAa,IAAI,CAACgD,SAAS,CAACxgG,IAAA,CAAKzB,MAAM,CAAC0Z,KAAA;OACnC;QACLulF,UAAA,GAAax9F,IAAK,CAAA/V,MAAM,GAAG+V,IAAA,GAAOiY,KAAK;;MAEzCulF,UAAA,GAAa,IAAI,CAAClwD,MAAM,CAAC1/B,GAAG,GAAG4vF,UAAA;MAE/B,OAAOA,UAAA;IACT;EAAA;IAAAh1G,GAAA;IAAAmoB,KAAA,EAMA,SAAAwuF,mBAAmBxuF,KAAK,EAAE;MACxB,OAAO,CAACqnB,WAAY,KAAI,CAACypE,MAAM,EAAE9wF,KAAS,QAAI,CAAC+wF,OAAM,IAAK,IAAI,CAACC,WAAW;IAC5E;EAAA;IAAAn5G,GAAA;IAAAmoB,KAAA,EAMA,SAAA/jB,iBAAiBupE,KAAK,EAAE;MACtB,IAAM4pC,OAAA,GAAU,IAAI,CAAC1B,QAAQ;MAC7B,IAAMjoC,OAAA,GAAU,IAAI,CAACG,kBAAkB,CAACJ,KAAA,IAAS4pC,OAAQ,CAAAxjE,MAAM,GAAGwjE,OAAA,CAAQ90F,GAAG;MAC7E,OAAO+sB,WAAY,KAAI,CAACypE,MAAM,EAAErrC,OAAU,OAAI,CAACurC,WAAW,GAAG,IAAI,CAACD,OAAO,EAAE,IAAI;IACjF;EAAA;EAAA,OAAAL,eAAA;AAAA,EA5I4BtD,SAAA;AAAA31D,eAAA,CAAxBi5D,eAAwB,QAEhB,YAAa;AAAAj5D,eAAA,CAFrBi5D,eAAwB,cAOVtD,SAAU,CAAAlhG,QAAQ;;;;;;;;;;ICrBzBi9B,aAAgB,IAC3BwjC,WAAA,EACA1zB,QAAA,EACAhxB,OAAA,EACAhvB,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBF;;GAAA;;;AAUO,SAAS0jG,IAAOA,CAAA;EACrB;AAGF;;AAEC;AACM,IAAM/lB,GAAM,GAAC,YAAM;EACxB,IAAIn6E,EAAK;EACT,OAAO;IAAA,OAAMA,EAAA;EAAA;AACf;AAEA;;;;AAIC;AACM,SAASghD,aAAcA,CAAAz9B,KAAc,EAA6B;EACvE,OAAOA,KAAU,SAAI,IAAI,OAAOA,KAAU;AAC5C;AAEA;;;;AAIC;AACM,SAAS5P,OAAqBA,CAAA4P,KAAc,EAAgB;EACjE,IAAI7P,KAAA,CAAMC,OAAO,IAAID,KAAM,CAAAC,OAAO,CAAC4P,KAAQ;IACzC,OAAO,IAAI;;EAEb,IAAM3e,IAAA,GAAOlI,MAAO,CAAAkT,SAAS,CAACkB,QAAQ,CAAChB,IAAI,CAACyT,KAAA;EAC5C,IAAI3e,IAAA,CAAKqN,KAAK,CAAC,CAAG,SAAO,SAAa,IAAArN,IAAA,CAAKqN,KAAK,CAAC,CAAC,OAAO,QAAU;IACjE,OAAO,IAAI;;EAEb,OAAO,KAAK;AACd;AAEA;;;;AAIC;AACM,SAASi/B,QAASA,CAAA3tB,KAAc,EAAsB;EAC3D,OAAOA,KAAA,KAAU,IAAI,IAAI7mB,MAAO,CAAAkT,SAAS,CAACkB,QAAQ,CAAChB,IAAI,CAACyT,KAAW;AACrE;AAEA;;;;AAIA,SAAS4vB,cAAeA,CAAA5vB,KAAc,EAAmB;EACvD,OAAQ,QAAOA,KAAA,KAAU,YAAYA,KAAiB,YAAAywB,MAAK,KAAMyyD,QAAA,CAAS,CAACljF,KAAA;AAC7E;AAKA;;;;AAIC;AACM,SAAS8/C,gBAAgB9/C,KAAc,EAAEmxF,YAAoB,EAAE;EACpE,OAAOvhE,cAAA,CAAe5vB,KAAS,IAAAA,KAAA,GAAQmxF,YAAY;AACrD;AAEA;;;;AAIC;AACM,SAAS/5G,eAAkB4oB,KAAoB,EAAEmxF,YAAe,EAAE;EACvE,OAAO,OAAOnxF,KAAA,KAAU,WAAc,GAAAmxF,YAAA,GAAenxF,KAAK;AAC5D;IAEa6lC,YAAe,YAAfA,YAAeA,CAAC7lC,KAAA,EAAwBoxF,SACnD;EAAA,cAAOpxF,KAAA,KAAU,QAAY,IAAAA,KAAA,CAAMqxF,QAAQ,CAAC,OAC1CriB,UAAW,CAAAhvE,KAAA,IAAS,MAClB,CAACA,KAAA,GAAQoxF,SAAA;AAAA;IAEF/qD,WAAc,YAAdA,WAAcA,CAACrmC,KAAA,EAAwBoxF,SAClD;EAAA,cAAOpxF,KAAA,KAAU,QAAY,IAAAA,KAAA,CAAMqxF,QAAQ,CAAC,OAC1CriB,UAAW,CAAAhvE,KAAA,IAAS,MAAMoxF,SACxB,IAACpxF,KAAA;AAAA;AAEP;;;;;;;AAOO,SAAS3oB,QACdA,CAAAqB,EAAiB,EACjBgU,IAAe,EACf4kG,OAAY,EACG;EACf,IAAI54G,EAAM,WAAOA,EAAG,CAAA6T,IAAI,KAAK,UAAY;IACvC,OAAO7T,EAAA,CAAGqY,KAAK,CAACugG,OAAS,EAAA5kG,IAAA;;AAE7B;AAuBO,SAASvV,KACdo6G,QAAiC,EACjC74G,EAAoC,EACpC44G,OAAY,EACZh7E,OAAiB,EACjB;EACA,IAAIj9B,CAAA,EAAWghC,GAAa,EAAAjhC,IAAA;EAC5B,IAAIgX,OAAA,CAAQmhG,QAAW;IACrBl3E,GAAA,GAAMk3E,QAAA,CAASj4G,MAAM;IACrB,IAAIg9B,OAAS;MACX,KAAKj9B,CAAI,GAAAghC,GAAA,GAAM,CAAG,EAAAhhC,CAAA,IAAK,GAAGA,CAAK;QAC7BX,EAAA,CAAG6T,IAAI,CAAC+kG,OAAA,EAASC,QAAQ,CAACl4G,CAAA,CAAE,EAAEA,CAAA;MAChC;KACK;MACL,KAAKA,CAAI,MAAGA,CAAI,GAAAghC,GAAA,EAAKhhC,CAAK;QACxBX,EAAA,CAAG6T,IAAI,CAAC+kG,OAAA,EAASC,QAAQ,CAACl4G,CAAA,CAAE,EAAEA,CAAA;MAChC;;GAEG,UAAIs0C,QAAA,CAAS4jE,QAAW;IAC7Bn4G,IAAO,GAAAD,MAAA,CAAOC,IAAI,CAACm4G,QAAA;IACnBl3E,GAAA,GAAMjhC,IAAA,CAAKE,MAAM;IACjB,KAAKD,CAAI,MAAGA,CAAI,GAAAghC,GAAA,EAAKhhC,CAAK;MACxBX,EAAA,CAAG6T,IAAI,CAAC+kG,OAAS,EAAAC,QAAQ,CAACn4G,IAAI,CAACC,CAAA,CAAE,CAAC,EAAED,IAAI,CAACC,CAAE;IAC7C;;AAEJ;AAEA;;;;;AAKC;AACM,SAASikF,eAAek0B,EAAqB,EAAEC,EAAqB,EAAE;EAC3E,IAAIp4G,CAAA,EAAWi2C,IAAA,EAAczyC,EAAqB,EAAAC,EAAA;EAElD,IAAI,CAAC00G,EAAA,IAAM,CAACC,EAAA,IAAMD,EAAA,CAAGl4G,MAAM,KAAKm4G,EAAG,CAAAn4G,MAAM,EAAE;IACzC,OAAO,KAAK;;EAGd,KAAKD,CAAA,GAAI,GAAGi2C,IAAO,GAAAkiE,EAAA,CAAGl4G,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAC3CwD,EAAK,GAAA20G,EAAE,CAACn4G,CAAE;IACVyD,EAAK,GAAA20G,EAAE,CAACp4G,CAAE;IAEV,IAAIwD,EAAA,CAAG6yC,YAAY,KAAK5yC,EAAG,CAAA4yC,YAAY,IAAI7yC,EAAA,CAAGsU,KAAK,KAAKrU,EAAG,CAAAqU,KAAK,EAAE;MAChE,OAAO,KAAK;;EAEhB;EAEA,OAAO,IAAI;AACb;AAEA;;;AAGC;AACM,SAASw2B,KAASA,CAAAv2B,MAAS,EAAK;EACrC,IAAIhB,OAAA,CAAQgB,MAAS;IACnB,OAAOA,MAAA,CAAO5D,GAAG,CAACm6B,KAAA;;EAGpB,IAAIgG,QAAA,CAASv8B,MAAS;IACpB,IAAMxM,MAAS,GAAAzL,MAAA,CAAO6Y,MAAM,CAAC,IAAI;IACjC,IAAM5Y,IAAA,GAAOD,MAAO,CAAAC,IAAI,CAACgY,MAAA;IACzB,IAAMsgG,IAAA,GAAOt4G,IAAA,CAAKE,MAAM;IACxB,IAAI8U,CAAI;IAER,OAAOA,CAAA,GAAIsjG,IAAM,IAAEtjG,CAAG;MACpBxJ,MAAM,CAACxL,IAAI,CAACgV,CAAA,CAAE,CAAC,GAAGu5B,KAAM,CAAAv2B,MAAM,CAAChY,IAAI,CAACgV,CAAA,CAAE,CAAC;IACzC;IAEA,OAAOxJ,MAAA;;EAGT,OAAOwM,MAAA;AACT;AAEA,SAASugG,WAAW95G,GAAW,EAAE;EAC/B,OAAO,CAAC,aAAa,aAAa,cAAc,CAACQ,OAAO,CAACR,GAAA,MAAS,CAAC;AACrE;AAEA;;;;;AAKO,SAAS+5G,QAAQ/5G,GAAW,EAAE+M,MAAiB,EAAEwM,MAAiB,EAAEvX,OAAkB,EAAE;EAC7F,IAAI,CAAC83G,UAAA,CAAW95G,GAAM;IACpB;;EAGF,IAAMg6G,IAAA,GAAOjtG,MAAM,CAAC/M,GAAI;EACxB,IAAMi6G,IAAA,GAAO1gG,MAAM,CAACvZ,GAAI;EAExB,IAAI81C,QAAA,CAASkkE,IAAS,KAAAlkE,QAAA,CAASmkE,IAAO;;IAEpCrgG,KAAA,CAAMogG,IAAA,EAAMC,IAAM,EAAAj4G,OAAA;GACb;IACL+K,MAAM,CAAC/M,GAAI,IAAG8vC,KAAM,CAAAmqE,IAAA;;AAExB;AA0BO,SAASrgG,KAASA,CAAA7M,MAAS,EAAEwM,MAAmB,EAAEvX,OAAsB,EAAa;EAC1F,IAAM80F,OAAA,GAAUv+E,OAAQ,CAAAgB,MAAA,IAAUA,MAAS,IAACA,MAAA,CAAO;EACnD,IAAMk+B,IAAA,GAAOq/C,OAAA,CAAQr1F,MAAM;EAE3B,IAAI,CAACq0C,QAAA,CAAS/oC,MAAS;IACrB,OAAOA,MAAA;;EAGT/K,OAAA,GAAUA,OAAA,IAAW,EAAC;EACtB,IAAMk4G,MAAA,GAASl4G,OAAQ,CAAAk4G,MAAM,IAAIH,OAAA;EACjC,IAAI9mF,OAAA;EAEJ,KAAK,IAAIzxB,CAAI,MAAGA,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IAC7ByxB,OAAU,GAAA6jE,OAAO,CAACt1F,CAAE;IACpB,IAAI,CAACs0C,QAAA,CAAS7iB,OAAU;MACtB;;IAGF,IAAM1xB,IAAA,GAAOD,MAAO,CAAAC,IAAI,CAAC0xB,OAAA;IACzB,KAAK,IAAI1c,CAAI,MAAGsjG,IAAO,GAAAt4G,IAAA,CAAKE,MAAM,EAAE8U,CAAA,GAAIsjG,IAAM,IAAEtjG,CAAG;MACjD2jG,MAAA,CAAO34G,IAAI,CAACgV,CAAE,GAAExJ,MAAA,EAAQkmB,OAAS,EAAAjxB,OAAA;IACnC;EACF;EAEA,OAAO+K,MAAA;AACT;AAgBO,SAASwtE,QAAWxtE,MAAS,EAAEwM,MAAmB,EAAa;;EAEpE,OAAOK,KAAA,CAAS7M,MAAA,EAAQwM,MAAQ;IAAC2gG,MAAQ,EAAAC;EAAS;AACpD;AAEA;;;;AAIO,SAASA,SAAUA,CAAAn6G,GAAW,EAAE+M,MAAiB,EAAEwM,MAAiB,EAAE;EAC3E,IAAI,CAACugG,UAAA,CAAW95G,GAAM;IACpB;;EAGF,IAAMg6G,IAAA,GAAOjtG,MAAM,CAAC/M,GAAI;EACxB,IAAMi6G,IAAA,GAAO1gG,MAAM,CAACvZ,GAAI;EAExB,IAAI81C,QAAA,CAASkkE,IAAS,KAAAlkE,QAAA,CAASmkE,IAAO;IACpC1/B,OAAA,CAAQy/B,IAAM,EAAAC,IAAA;GACT,UAAI,CAAC34G,MAAA,CAAOkT,SAAS,CAACC,cAAc,CAACC,IAAI,CAAC3H,MAAA,EAAQ/M,GAAM;IAC7D+M,MAAM,CAAC/M,GAAI,IAAG8vC,KAAM,CAAAmqE,IAAA;;AAExB;AAEA;;;AAGO,SAASG,YAAY5mC,KAAa,EAAErrD,KAAc,EAAEjf,QAAgB,EAAE+pB,OAAe,EAAE;EAC5F,IAAI9K,KAAA,KAAU5nB,SAAW;IACvBoU,OAAA,CAAQC,IAAI,CAAC4+D,KAAA,GAAQ,KAAQ,GAAAtqE,QAAA,GAC3B,kCAAkC+pB,OAAU;;AAElD;AAEA;AACA,IAAMonF,YAAe;;EAEnB,IAAI,SAAAC,EAAAl0G,CAAK;IAAA,OAAAA,CAAA;EAAA;;EAET1F,CAAG,WAAAA,EAAAsmF,CAAK;IAAA,OAAAA,CAAA,CAAEtmF,CAAC;EAAA;EACXC,CAAG,WAAAA,EAAAqmF,CAAK;IAAA,OAAAA,CAAA,CAAErmF,CAAC;EAAA;AACb;AAEA;;AAEC;AACM,SAAS45G,SAAUA,CAAAv6G,GAAW,EAAE;EACrC,IAAMy0E,KAAA,GAAQz0E,GAAI,CAAAyb,KAAK,CAAC;EACxB,IAAMla,IAAA,GAAiB,EAAE;EACzB,IAAIsuC,GAAM;EAAA,IAAA0J,SAAA,GAAAC,0BAAA,CACSi7B,KAAO;IAAA/6B,KAAA;EAAA;IAA1B,KAAAH,SAAA,CAAAzW,CAAA,MAAA4W,KAAA,GAAAH,SAAA,CAAAxW,CAAA,IAAApG,IAAA,GAA0B;MAAA,IAAf69E,IAAA,GAAA9gE,KAAA,CAAAvxB,KAAA;MACT0nB,GAAO,IAAA2qE,IAAA;MACP,IAAI3qE,GAAA,CAAI2pE,QAAQ,CAAC,IAAO;QACtB3pE,GAAA,GAAMA,GAAI,CAAAh5B,KAAK,CAAC,GAAG,CAAC,CAAK;OACpB;QACLtV,IAAA,CAAKsB,IAAI,CAACgtC,GAAA;QACVA,GAAM;;IAEV;EAAA,SAAA3V,GAAA;IAAAqf,SAAA,CAAAhoC,CAAA,CAAA2oB,GAAA;EAAA;IAAAqf,SAAA,CAAAzX,CAAA;EAAA;EACA,OAAOvgC,IAAA;AACT;AAEA,SAASk5G,gBAAgBz6G,GAAW,EAAE;EACpC,IAAMuB,IAAA,GAAOg5G,SAAU,CAAAv6G,GAAA;EACvB,OAAO,UAAAwY,GAAO;IAAA,IAAAwiC,UAAA,GAAAxB,0BAAA,CACIj4C,IAAM;MAAA05C,MAAA;IAAA;MAAtB,KAAAD,UAAA,CAAAlY,CAAA,MAAAmY,MAAA,GAAAD,UAAA,CAAAjY,CAAA,IAAApG,IAAA,GAAsB;QAAA,IAAXpmB,CAAA,GAAA0kC,MAAA,CAAA9yB,KAAA;QACT,IAAI5R,CAAA,KAAM,EAAI;UAGZ;;QAEFiC,GAAM,GAAAA,GAAA,IAAOA,GAAG,CAACjC,CAAE;MACrB;IAAA,SAAA2jB,GAAA;MAAA8gB,UAAA,CAAAzpC,CAAA,CAAA2oB,GAAA;IAAA;MAAA8gB,UAAA,CAAAlZ,CAAA;IAAA;IACA,OAAOtpB,GAAA;EACT;AACF;AAEO,SAAS0nC,iBAAiB1nC,GAAc,EAAExY,GAAW,EAAO;EACjE,IAAMi8E,QAAA,GAAWo+B,YAAY,CAACr6G,GAAI,MAAKq6G,YAAY,CAACr6G,GAAA,CAAI,GAAGy6G,eAAA,CAAgBz6G,GAAG;EAC9E,OAAOi8E,QAAS,CAAAzjE,GAAA;AAClB;AAEA;;AAEC;AACM,SAAS8+D,WAAYA,CAAAh8D,GAAW,EAAE;EACvC,OAAOA,GAAA,CAAIujB,MAAM,CAAC,GAAGriB,WAAW,EAAK,GAAAlB,GAAA,CAAIzE,KAAK,CAAC;AACjD;IAGamrC,OAAU,YAAVA,OAAUA,CAAC75B,KAAmB;EAAA,cAAOA,KAAA,KAAU;AAAA;IAE/Ci0D,UAAa,YAAbA,UAAaA,CAACj0D,KAAqD;EAAA,cAAOA,KAAA,KAAU;AAAA;AAEjG;AACa,IAAA26D,SAAA,GAAY,SAAZA,UAAgB5mE,CAAA,EAAWC,CAAc;EACpD,IAAID,CAAE,CAAAqU,IAAI,KAAKpU,CAAA,CAAEoU,IAAI,EAAE;IACrB,OAAO,KAAK;;EACb,IAAA+yB,UAAA,GAAA9J,0BAAA,CAEkBt9B,CAAG;IAAAqnC,MAAA;EAAA;IAAtB,KAAAD,UAAA,CAAAxgB,CAAA,MAAAygB,MAAA,GAAAD,UAAA,CAAAvgB,CAAA,IAAApG,IAAA,GAAsB;MAAA,IAAX/mB,IAAA,GAAA2tC,MAAA,CAAAp7B,KAAA;MACT,IAAI,CAAChM,CAAA,CAAEm3B,GAAG,CAAC19B,IAAO;QAChB,OAAO,KAAK;;IAEhB;EAAA,SAAAskB,GAAA;IAAAopB,UAAA,CAAA/xC,CAAA,CAAA2oB,GAAA;EAAA;IAAAopB,UAAA,CAAAxhB,CAAA;EAAA;EAEA,OAAO,IAAI;AACb;AAEA;;;AAGC;AACM,SAASukD,aAAcA,CAAA90E,CAAa,EAAE;EAC3C,OAAOA,CAAA,CAAE/H,IAAI,KAAK,SAAa,IAAA+H,CAAA,CAAE/H,IAAI,KAAK,WAAW+H,CAAE,CAAA/H,IAAI,KAAK;AAClE;;AC5ZA;;;AAGC;AAEM,IAAMgZ,EAAK,GAAAre,IAAA,CAAKqe,EAAA;AAChB,IAAMspC,GAAM,OAAItpC,EAAA;AAChB,IAAMk4F,KAAQ,GAAA5uD,GAAA,GAAMtpC,EAAA;AACd,IAAAm4F,QAAA,GAAW/hE,MAAO,CAAAE,iBAAA;AACxB,IAAM8hE,WAAc,GAAAp4F,EAAA,GAAK;AACzB,IAAMmqC,OAAU,GAAAnqC,EAAA,GAAK;AACrB,IAAMq4F,UAAa,GAAAr4F,EAAA,GAAK;AAClB,IAAAs4F,aAAA,GAAgBt4F,EAAK,OAAI;AAEzB,IAAAisF,KAAA,GAAQtqG,IAAK,CAAAsqG,KAAA;AACb,IAAAhvG,IAAA,GAAO0E,IAAK,CAAA1E,IAAA;AAElB,SAASktG,YAAaA,CAAAjsG,CAAS,EAAEC,CAAS,EAAEwkE,OAAe,EAAE;EAClE,OAAOhhE,IAAK,CAAAgD,GAAG,CAACzG,CAAA,GAAIC,CAAK,IAAAwkE,OAAA;AAC3B;AAEA;;AAEC;AACM,SAASmnC,OAAQA,CAAA1oG,KAAa,EAAE;EACrC,IAAMm3G,YAAA,GAAe52G,IAAK,CAAAmC,KAAK,CAAC1C,KAAA;EAChCA,KAAA,GAAQ+oG,YAAA,CAAa/oG,KAAO,EAAAm3G,YAAA,EAAcn3G,KAAQ,WAAQm3G,YAAA,GAAen3G,KAAK;EAC9E,IAAMo3G,SAAA,GAAY72G,IAAA,CAAKorC,GAAG,CAAC,IAAIprC,IAAK,CAAAotB,KAAK,CAACk9E,KAAM,CAAA7qG,KAAA;EAChD,IAAMq3G,QAAA,GAAWr3G,KAAQ,GAAAo3G,SAAA;EACzB,IAAME,YAAA,GAAeD,QAAY,QAAI,CAAI,GAAAA,QAAA,IAAY,IAAI,CAAI,GAAAA,QAAA,IAAY,CAAI,OAAI,EAAE;EACnF,OAAOC,YAAe,GAAAF,SAAA;AACxB;AAEA;;;AAGC;AACM,SAAS52C,UAAWA,CAAAj8C,KAAa,EAAE;EACxC,IAAM0T,MAAA,GAAmB,EAAE;EAC3B,IAAMtsB,IAAA,GAAOpL,IAAK,CAAAoL,IAAI,CAAC4Y,KAAA;EACvB,IAAI3mB,CAAA;EAEJ,KAAKA,CAAI,MAAGA,CAAI,GAAA+N,IAAA,EAAM/N,CAAK;IACzB,IAAI2mB,KAAA,GAAQ3mB,CAAA,KAAM,CAAG;MACnBq6B,MAAA,CAAOh5B,IAAI,CAACrB,CAAA;MACZq6B,MAAO,CAAAh5B,IAAI,CAACslB,KAAQ,GAAA3mB,CAAA;;EAExB;EACA,IAAI+N,IAAU,MAAAA,IAAO,KAAI;IACvBssB,MAAA,CAAOh5B,IAAI,CAAC0M,IAAA;;EAGdssB,MAAA,CAAO/f,IAAI,CAAC,UAACI,CAAA,EAAGC,CAAM;IAAA,OAAAD,CAAA,GAAIC,CAAA;EAAA,GAAGuiB,GAAG;EAChC,OAAO7C,MAAA;AACT;AAEO,SAASg2B,QAASA,CAAA9uB,CAAU,EAAe;EAChD,OAAO,CAAC18B,KAAA,CAAM8wF,UAAW,CAAAp0D,CAAA,MAAiBsoE,QAAS,CAAAtoE,CAAA;AACrD;AAEO,SAAS2pE,YAAYhsG,CAAS,EAAEykE,OAAe,EAAE;EACtD,IAAMg2C,OAAA,GAAUh3G,IAAK,CAAAmC,KAAK,CAAC5F,CAAA;EAC3B,OAAOy6G,OAAY,GAAAh2C,OAAA,IAAYzkE,CAAO,IAACy6G,OAAA,GAAUh2C,OAAY,IAAAzkE,CAAA;AAC/D;AAEA;;;AAGO,SAASstG,kBACdA,CAAAt1C,KAA+B,EAC/B3rD,MAAoC,EACpCsP,QAAgB,EAChB;EACA,IAAI7a,CAAA,EAAWi2C,IAAc,EAAAtvB,KAAA;EAE7B,KAAK3mB,CAAA,GAAI,GAAGi2C,IAAO,GAAAihB,KAAA,CAAMj3D,MAAM,EAAED,CAAA,GAAIi2C,IAAA,EAAMj2C,CAAK;IAC9C2mB,KAAA,GAAQuwC,KAAK,CAACl3D,CAAE,EAAC6a,QAAS;IAC1B,IAAI,CAAChW,KAAA,CAAM8hB,KAAQ;MACjBpb,MAAA,CAAOjJ,GAAG,GAAGK,IAAA,CAAKL,GAAG,CAACiJ,MAAA,CAAOjJ,GAAG,EAAEqkB,KAAA;MAClCpb,MAAA,CAAOlJ,GAAG,GAAGM,IAAA,CAAKN,GAAG,CAACkJ,MAAA,CAAOlJ,GAAG,EAAEskB,KAAA;;EAEtC;AACF;AAEO,SAASolC,SAAUA,CAAA6tD,OAAe,EAAE;EACzC,OAAOA,OAAA,IAAW54F,EAAA,GAAK,GAAE;AAC3B;AAEO,SAAS+oD,SAAUA,CAAA8vC,OAAe,EAAE;EACzC,OAAOA,OAAA,IAAW,MAAM74F,EAAC;AAC3B;AAEA;;;;;;AAMC;AACM,SAASqqF,cAAeA,CAAAnsG,CAAS,EAAE;EACxC,IAAI,CAACq3C,cAAA,CAAer3C,CAAI;IACtB;;EAEF,IAAI6Q,CAAI;EACR,IAAIF,CAAI;EACR,OAAOlN,IAAA,CAAKmC,KAAK,CAAC5F,CAAI,GAAA6Q,CAAA,IAAKA,CAAA,KAAM7Q,CAAG;IAClC6Q,CAAK;IACLF,CAAA;EACF;EACA,OAAOA,CAAA;AACT;AAEA;AACO,SAASsmD,kBACd2jD,WAAkB,EAClBC,UAAiB,EACjB;EACA,IAAMC,mBAAsB,GAAAD,UAAA,CAAW76G,CAAC,GAAG46G,WAAA,CAAY56G,CAAC;EACxD,IAAM+6G,mBAAsB,GAAAF,UAAA,CAAW56G,CAAC,GAAG26G,WAAA,CAAY36G,CAAC;EACxD,IAAM+6G,wBAAA,GAA2Bv3G,IAAK,CAAAoL,IAAI,CAACisG,mBAAA,GAAsBA,mBAAA,GAAsBC,mBAAsB,GAAAA,mBAAA;EAE7G,IAAI36F,KAAQ,GAAA3c,IAAA,CAAKoe,KAAK,CAACk5F,mBAAqB,EAAAD,mBAAA;EAE5C,IAAI16F,KAAA,GAAS,CAAC,MAAM0B,EAAK;IACvB1B,KAAA,IAASgrC,GAAA;;;EAGX,OAAO;IACLhrC,KAAA,EAAAA,KAAA;IACAxR,QAAU,EAAAosG;EACZ;AACF;AAEO,SAAS/Z,sBAAsB7qC,GAAU,EAAEC,GAAU,EAAE;EAC5D,OAAO5yD,IAAA,CAAKoL,IAAI,CAACpL,IAAA,CAAKorC,GAAG,CAACwnB,GAAA,CAAIr2D,CAAC,GAAGo2D,GAAA,CAAIp2D,CAAC,EAAE,KAAKyD,IAAA,CAAKorC,GAAG,CAACwnB,GAAA,CAAIp2D,CAAC,GAAGm2D,GAAI,CAAAn2D,CAAC,EAAE;AACxE;AAEA;;;AAGC;AACM,SAASg7G,WAAWz/F,CAAS,EAAEC,CAAS,EAAE;EAC/C,OAAO,CAACD,CAAA,GAAIC,CAAI,GAAAu+F,KAAI,IAAK5uD,GAAM,GAAAtpC,EAAA;AACjC;AAEA;;;AAGC;AACM,SAAS6zE,eAAgBA,CAAAn6E,CAAS,EAAE;EACzC,OAAO,CAACA,CAAI,GAAA4vC,GAAA,GAAMA,GAAE,IAAKA,GAAA;AAC3B;AAEA;;;AAGO,SAASS,cAAczrC,KAAa,EAAExM,KAAa,EAAEmO,GAAW,EAAEm5F,qBAA+B,EAAE;EACxG,IAAM1/F,CAAA,GAAIm6E,eAAgB,CAAAv1E,KAAA;EAC1B,IAAMgiB,CAAA,GAAIuzD,eAAgB,CAAA/hF,KAAA;EAC1B,IAAM/C,CAAA,GAAI8kF,eAAgB,CAAA5zE,GAAA;EAC1B,IAAMo5F,YAAA,GAAexlB,eAAA,CAAgBvzD,CAAI,GAAA5mB,CAAA;EACzC,IAAM4/F,UAAA,GAAazlB,eAAA,CAAgB9kF,CAAI,GAAA2K,CAAA;EACvC,IAAM6/F,YAAA,GAAe1lB,eAAA,CAAgBn6E,CAAI,GAAA4mB,CAAA;EACzC,IAAMk5E,UAAA,GAAa3lB,eAAA,CAAgBn6E,CAAI,GAAA3K,CAAA;EACvC,OAAO2K,CAAA,KAAM4mB,CAAA,IAAK5mB,CAAM,KAAA3K,CAAA,IAAMqqG,qBAAA,IAAyB94E,CAAM,KAAAvxB,CAAA,IACvDsqG,YAAe,GAAAC,UAAA,IAAcC,YAAe,GAAAC,UAAA;AACpD;AAEA;;;;;;;AAOO,SAAS3wC,WAAYA,CAAAljD,KAAa,EAAErkB,GAAW,EAAED,GAAW,EAAE;EACnE,OAAOM,IAAA,CAAKN,GAAG,CAACC,GAAA,EAAKK,IAAK,CAAAL,GAAG,CAACD,GAAK,EAAAskB,KAAA;AACrC;AAEA;;;AAGC;AACM,SAAS0lD,WAAYA,CAAA1lD,KAAa,EAAE;EACzC,OAAOkjD,WAAA,CAAYljD,KAAO,GAAC,KAAO;AACpC;AAEA;;;;;;;AAOO,SAASoiE,WAAWpiE,KAAa,EAAE7T,KAAa,EAAEmO,GAAW,EAAkB;EAAA,IAAhB0iD,OAAU,GAAA9/D,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,UAAI;EAClF,OAAO8iB,KAAS,IAAAhkB,IAAA,CAAKL,GAAG,CAACwQ,KAAO,EAAAmO,GAAA,IAAO0iD,OAAW,IAAAh9C,KAAA,IAAShkB,IAAK,CAAAN,GAAG,CAACyQ,KAAA,EAAOmO,GAAO,IAAA0iD,OAAA;AACpF;ACpLO,SAAS+vC,OACdA,CAAA+C,KAAgB,EAChB9vF,KAAa,EACb8zF,GAAgC,EAChC;EACAA,GAAM,GAAAA,GAAA,IAAQ,UAAC3iG,KAAA;IAAA,OAAU2+F,KAAK,CAAC3+F,KAAA,CAAM,GAAG6O,KAAI;EAAA;EAC5C,IAAIkuC,EAAA,GAAK4hD,KAAM,CAAAx2G,MAAM,GAAG;EACxB,IAAI20D,EAAK;EACT,IAAI8lD,GAAA;EAEJ,OAAO7lD,EAAA,GAAKD,EAAA,GAAK,CAAG;IAClB8lD,GAAM,GAAC9lD,EAAA,GAAKC,EAAO;IACnB,IAAI4lD,GAAA,CAAIC,GAAM;MACZ9lD,EAAK,GAAA8lD,GAAA;KACA;MACL7lD,EAAK,GAAA6lD,GAAA;;EAET;EAEA,OAAO;IAAC9lD,EAAA,EAAAA,EAAA;IAAIC,EAAA,EAAAA;EAAE;AAChB;AAEA;;;;;;;AAOC;AACM,IAAMH,YAAe,YAAfA,YAAeA,CAC1B+hD,KACA,EAAAj4G,GAAA,EACAmoB,KACA,EAAApG,IAAA;EAAA,OAEAmzF,OAAQ,CAAA+C,KAAA,EAAO9vF,KAAO,EAAApG,IAAA,GAClB,UAAAzI,KAAS;IACT,IAAM6iG,EAAK,GAAAlE,KAAK,CAAC3+F,KAAA,CAAM,CAACtZ,GAAI;IAC5B,OAAOm8G,EAAA,GAAKh0F,KAAS,IAAAg0F,EAAA,KAAOh0F,KAAS,IAAA8vF,KAAK,CAAC3+F,KAAQ,KAAE,CAACtZ,GAAA,CAAI,KAAKmoB,KAAA;GAE/D,aAAA7O,KAAA;IAAA,OAAS2+F,KAAK,CAAC3+F,KAAA,CAAM,CAACtZ,GAAA,CAAI,GAAGmoB,KAAK;EAAA;AAAA;AAExC;;;;;;AAMC;AACY,IAAA8tC,aAAA,GAAgB,SAAhBA,cACXgiD,KACA,EAAAj4G,GAAA,EACAmoB,KAAA;EAAA,OAEA+sF,OAAQ,CAAA+C,KAAA,EAAO9vF,KAAO,YAAA7O,KAAA;IAAA,OAAS2+F,KAAK,CAAC3+F,KAAA,CAAM,CAACtZ,GAAA,CAAI,IAAImoB,KAAO;EAAA;AAAA;AAE7D;;;;;;;AAOO,SAASouF,cAAeA,CAAAv6F,MAAgB,EAAElY,GAAW,EAAED,GAAW,EAAE;EACzE,IAAIyQ,KAAQ;EACZ,IAAImO,GAAA,GAAMzG,MAAA,CAAOva,MAAM;EAEvB,OAAO6S,KAAA,GAAQmO,GAAO,IAAAzG,MAAM,CAAC1H,KAAA,CAAM,GAAGxQ,GAAK;IACzCwQ,KAAA;EACF;EACA,OAAOmO,GAAA,GAAMnO,KAAS,IAAA0H,MAAM,CAACyG,GAAM,KAAE,GAAG5e,GAAK;IAC3C4e,GAAA;EACF;EAEA,OAAOnO,KAAA,GAAQ,CAAK,IAAAmO,GAAA,GAAMzG,MAAO,CAAAva,MAAM,GACnCua,MAAA,CAAOnF,KAAK,CAACvC,KAAO,EAAAmO,GAAA,IACpBzG,MAAM;AACZ;AAEA,IAAMogG,WAAc,IAAC,QAAQ,OAAO,SAAS,UAAU,UAAU;AAgB1D,SAAS79D,kBAAkBma,KAAK,EAAE4E,QAAQ,EAAE;EACjD,IAAI5E,KAAA,CAAM2jD,QAAQ,EAAE;IAClB3jD,KAAA,CAAM2jD,QAAQ,CAACrqE,SAAS,CAACnvC,IAAI,CAACy6D,QAAA;IAC9B;;EAGFh8D,MAAO,CAAAg4B,cAAc,CAACo/B,KAAA,EAAO,UAAY;IACvC1+B,YAAA,EAAc,IAAI;IAClBD,UAAA,EAAY,KAAK;IACjB5R,KAAO;MACL6pB,SAAW,GAACsrB,QAAA;IACd;EACF;EAEA8+C,WAAY,CAAA1jG,OAAO,CAAC,UAAC1Y,GAAQ;IAC3B,IAAM4Y,MAAA,GAAS,YAAY0+D,WAAY,CAAAt3E,GAAA;IACvC,IAAM+Z,IAAA,GAAO2+C,KAAK,CAAC14D,GAAI;IAEvBsB,MAAO,CAAAg4B,cAAc,CAACo/B,KAAA,EAAO14D,GAAK;MAChCg6B,YAAA,EAAc,IAAI;MAClBD,UAAA,EAAY,KAAK;MACjB5R,KAAM,WAAAA,MAAA,EAAS;QAAA,SAAA6sD,IAAA,GAAA3vE,SAAA,CAAA5D,MAAA,EAANoT,IAAI,OAAAyD,KAAA,CAAA08D,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;UAAJpgE,IAAI,CAAAogE,IAAA,IAAA5vE,SAAA,CAAA4vE,IAAA;QAAA;QACX,IAAM1/B,GAAM,GAAAx7B,IAAA,CAAKb,KAAK,CAAC,IAAI,EAAErE,IAAA;QAE7B6jD,KAAA,CAAM2jD,QAAQ,CAACrqE,SAAS,CAACt5B,OAAO,CAAC,UAAC8lB,MAAW;UAC3C,IAAI,OAAOA,MAAM,CAAC5lB,MAAA,CAAO,KAAK,UAAY;YACxC4lB,MAAM,CAAC5lB,MAAA,CAAO,CAAAM,KAAA,CAAdslB,MAAM,EAAY3pB,IAAA;;QAEtB;QAEA,OAAO0gC,GAAA;MACT;IACF;EACF;AACF;AAQO,SAAS6I,oBAAoBsa,KAAK,EAAE4E,QAAQ,EAAE;EACnD,IAAMg/C,IAAA,GAAO5jD,KAAA,CAAM2jD,QAAQ;EAC3B,IAAI,CAACC,IAAM;IACT;;EAGF,IAAMtqE,SAAA,GAAYsqE,IAAA,CAAKtqE,SAAS;EAChC,IAAM14B,KAAA,GAAQ04B,SAAU,CAAAxxC,OAAO,CAAC88D,QAAA;EAChC,IAAIhkD,KAAA,KAAU,CAAC,CAAG;IAChB04B,SAAU,CAAAztB,MAAM,CAACjL,KAAO;;EAG1B,IAAI04B,SAAA,CAAUvwC,MAAM,GAAG,CAAG;IACxB;;EAGF26G,WAAY,CAAA1jG,OAAO,CAAC,UAAC1Y,GAAQ;IAC3B,OAAO04D,KAAK,CAAC14D,GAAI;EACnB;EAEA,OAAO04D,KAAA,CAAM2jD,QAAQ;AACvB;AAEA;;AAEC;AACM,SAASp3D,YAAgBA,CAAArS,KAAU,EAAE;EAC1C,IAAMrvC,GAAA,GAAM,IAAIu3E,GAAO,CAAAloC,KAAA;EAEvB,IAAIrvC,GAAI,CAAAgtB,IAAI,KAAKqiB,KAAA,CAAMnxC,MAAM,EAAE;IAC7B,OAAOmxC,KAAA;;EAGT,OAAOt6B,KAAA,CAAMrS,IAAI,CAAC1C,GAAA;AACpB;AC1LO,SAAS6pE,UAAWA,CAAAmvC,SAAiB,EAAEC,SAAiB,EAAEC,UAAkB,EAAE;EACnF,OAAOD,SAAA,GAAY,GAAM,GAAAD,SAAA,GAAY,KAAQ,GAAAE,UAAA;AAC/C;AAEA;;AAEA;AACa,IAAAlqE,gBAAA,GAAoB,YAAW;EAC1C,IAAI,OAAOpkC,MAAA,KAAW,WAAa;IACjC,OAAO,UAAS3O,QAAQ,EAAE;MACxB,OAAOA,QAAA;IACT;;EAEF,OAAO2O,MAAA,CAAOuuG,qBAAqB;AACrC,CAAK;AAEL;;;AAGC;AACM,SAASx7C,UACdrgE,EAA4B,EAC5B44G,OAAY,EACZ;EACA,IAAIkD,SAAA,GAAY,EAAE;EAClB,IAAIC,OAAA,GAAU,KAAK;EAEnB,OAAO,YAAyB;IAAA,SAAAznC,KAAA,GAAA9vE,SAAA,CAAA5D,MAAA,EAAboT,IAAW,OAAAyD,KAAA,CAAA68D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;MAAXvgE,IAAW,CAAAugE,KAAA,IAAA/vE,SAAA,CAAA+vE,KAAA;IAAA;;IAE5BunC,SAAY,GAAA9nG,IAAA;IACZ,IAAI,CAAC+nG,OAAS;MACZA,OAAA,GAAU,IAAI;MACdrqE,gBAAiB,CAAA79B,IAAI,CAACvG,MAAA,EAAQ,YAAM;QAClCyuG,OAAA,GAAU,KAAK;QACf/7G,EAAG,CAAAqY,KAAK,CAACugG,OAAS,EAAAkD,SAAA;MACpB;;EAEJ;AACF;AAEA;;AAEC;AACM,SAAS/7G,SAAmCC,EAA4B,EAAEC,KAAa,EAAE;EAC9F,IAAIC,OAAA;EACJ,OAAO,YAAyB;IAAA,SAAAu0E,KAAA,GAAAjwE,SAAA,CAAA5D,MAAA,EAAboT,IAAW,OAAAyD,KAAA,CAAAg9D,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;MAAX1gE,IAAW,CAAA0gE,KAAA,IAAAlwE,SAAA,CAAAkwE,KAAA;IAAA;IAC5B,IAAIz0E,KAAO;MACTE,YAAa,CAAAD,OAAA;MACbA,OAAU,GAAAE,UAAA,CAAWJ,EAAA,EAAIC,KAAO,EAAA+T,IAAA;KAC3B;MACLhU,EAAG,CAAAqY,KAAK,CAAC,IAAI,EAAErE,IAAA;;IAEjB,OAAO/T,KAAA;EACT;AACF;AAEA;;;AAGC;AACM,IAAMolE,kBAAqB,YAArBA,kBAAqBA,CAACzB,KAAsC;EAAA,OAAAA,KAAA,KAAU,OAAU,YAASA,KAAU,aAAQ,OAAU;AAAA;AAElI;;;AAGC;AACY,IAAA6B,cAAA,GAAiB,SAAjBA,eAAkB7B,KAAmC,EAAAnwD,KAAA,EAAemO,GAAA;EAAA,OAAgBgiD,KAAU,eAAUnwD,KAAA,GAAQmwD,KAAU,aAAQhiD,GAAA,GAAM,CAACnO,KAAA,GAAQmO,GAAE,IAAK;AAAA;AAErK;;;AAGC;AACY,IAAA08E,MAAA,GAAS,SAATA,OAAU16B,KAAoC,EAAA5iE,IAAA,EAAcC,KAAA,EAAeu7F,GAAiB;EACvG,IAAMwf,KAAA,GAAQxf,GAAM,YAAS,OAAO;EACpC,OAAO54B,KAAA,KAAUo4C,KAAQ,GAAA/6G,KAAA,GAAQ2iE,KAAU,gBAAW,CAAC5iE,IAAO,GAAAC,KAAI,IAAK,IAAID,IAAI;AACjF;AAEA;;;;AAIO,SAASovD,gCAAiCA,CAAA9Y,IAAmC,EAAE8S,MAAsB,EAAE8F,kBAA2B,EAAE;EACzI,IAAM+jC,UAAA,GAAa7pC,MAAA,CAAOxpD,MAAM;EAEhC,IAAI6S,KAAQ;EACZ,IAAIiY,KAAQ,GAAAuoE,UAAA;EAEZ,IAAI38C,IAAA,CAAKkH,OAAO,EAAE;IAChB,IAAOrF,MAAA,GAAmB7B,IAAA,CAAnB6B,MAAA;MAAQe,OAAA,GAAW5C,IAAA,CAAX4C,OAAA;IACf,IAAMr4C,IAAA,GAAOs3C,MAAA,CAAOt3C,IAAI;IACxB,IAAAqyF,qBAAA,GAA2C/6C,MAAA,CAAOxB,aAAa;MAAxD10C,GAAG,GAAAixF,qBAAA,CAAHjxF,GAAG;MAAED,GAAG,GAAAkxF,qBAAA,CAAHlxF,GAAG;MAAE60C,UAAU,GAAAq8C,qBAAA,CAAVr8C,UAAU;MAAEC,UAAU,GAAAo8C,qBAAA,CAAVp8C,UAAU;IAEvC,IAAID,UAAY;MACdpkC,KAAA,GAAQ+2D,WAAY,CAAAlnE,IAAA,CAAKL,GAAG;MAAA;MAE1BoyD,YAAA,CAAanb,OAAS,EAAAr4C,IAAA,EAAMoB,GAAK,EAAAsyD,EAAE;MAAA;MAEnCrF,kBAAqB,GAAA+jC,UAAA,GAAa5+B,YAAa,CAAAjL,MAAA,EAAQvoD,IAAM,EAAAs3C,MAAA,CAAO5xC,gBAAgB,CAACtE,GAAM,GAAAsyD,EAAE,CAC/F,KAAG0+B,UAAa;;IAElB,IAAIn8C,UAAY;MACdpsB,KAAA,GAAQ8+C,WAAY,CAAAlnE,IAAA,CAAKN,GAAG;MAAA;MAE1BqyD,YAAa,CAAAnb,OAAA,EAASf,MAAO,CAAAt3C,IAAI,EAAEmB,GAAA,EAAK,IAAI,CAAE,CAAAwyD,EAAE,GAAG;MAAA;MAEnDtF,kBAAA,GAAqB,CAAI,GAAAmF,YAAA,CAAajL,MAAQ,EAAAvoD,IAAA,EAAMs3C,MAAA,CAAO5xC,gBAAgB,CAACvE,GAAM,OAAI,EAAEwyD,EAAE,GAAG,CAAC,GAChG/hD,KAAA,EAAOwgF,UAAc,IAAAxgF,KAAA;KAChB;MACLiY,KAAA,GAAQuoE,UAAa,GAAAxgF,KAAA;;;EAIzB,OAAO;IAACA,KAAA,EAAAA,KAAA;IAAOiY,KAAA,EAAAA;EAAK;AACtB;AAEA;;;;;AAKC;AACM,SAAS2kC,mBAAoBA,CAAA/Y,IAAI,EAAE;EACxC,IAAOlB,MAAM,GAA0BkB,IAAA,CAAhClB,MAAM;IAAEC,MAAA,GAAwBiB,IAAA,CAAxBjB,MAAA;IAAQ4lE,YAAA,GAAgB3kE,IAAA,CAAhB2kE,YAAA;EACvB,IAAMC,SAAY;IAChBC,IAAA,EAAM/lE,MAAA,CAAOnzC,GAAG;IAChBm5G,IAAA,EAAMhmE,MAAA,CAAOpzC,GAAG;IAChBq5G,IAAA,EAAMhmE,MAAA,CAAOpzC,GAAG;IAChBq5G,IAAA,EAAMjmE,MAAA,CAAOrzC;EACf;EACA,IAAI,CAACi5G,YAAc;IACjB3kE,IAAA,CAAK2kE,YAAY,GAAGC,SAAA;IACpB,OAAO,IAAI;;EAEb,IAAM13F,OAAA,GAAUy3F,YAAA,CAAaE,IAAI,KAAK/lE,MAAA,CAAOnzC,GAAG,IAC7Cg5G,YAAa,CAAAG,IAAI,KAAKhmE,MAAA,CAAOpzC,GAAG,IAChCi5G,YAAA,CAAaI,IAAI,KAAKhmE,MAAO,CAAApzC,GAAG,IAChCg5G,YAAa,CAAAK,IAAI,KAAKjmE,MAAA,CAAOrzC,GAAG;EAEnCvC,MAAO,CAAA6X,MAAM,CAAC2jG,YAAc,EAAAC,SAAA;EAC5B,OAAO13F,OAAA;AACT;AC/IA,IAAM+3F,MAAS,YAATA,MAASA,CAACh2F,CAAc;EAAA,OAAAA,CAAA,KAAM,KAAKA,CAAM;AAAA;AAC/C,IAAMi2F,SAAA,GAAY,SAAZA,UAAaj2F,CAAA,EAAW0b,CAAW,EAAAzxB,CAAA;EAAA,OAAc,EAAElN,IAAA,CAAKorC,GAAG,CAAC,CAAG,QAAMnoB,CAAK,MAAM,IAAAjjB,IAAA,CAAKqyB,GAAG,CAAC,CAACpP,CAAI,GAAA0b,CAAA,IAAKgpB,GAAA,GAAMz6C,CAAC;AAAA;AAChH,IAAMisG,UAAA,GAAa,SAAbA,WAAcl2F,CAAW,EAAA0b,CAAA,EAAWzxB,CAAA;EAAA,OAAclN,IAAK,CAAAorC,GAAG,CAAC,CAAG,GAAC,KAAKnoB,CAAK,IAAAjjB,IAAA,CAAKqyB,GAAG,CAAE,CAAApP,CAAI,GAAA0b,CAAA,IAAKgpB,GAAA,GAAMz6C,CAAK;AAAA;AAE7G;;;;AAIC;AAAA,IACKkjC,OAAU;EACdE,MAAA,EAAQ,SAAAA,OAACrtB,CAAc;IAAA,OAAAA,CAAA;EAAA;EAEvBm2F,UAAY,WAAAA,WAACn2F,CAAA;IAAA,OAAcA,CAAI,GAAAA,CAAA;EAAA;EAE/Bo2F,WAAA,EAAa,SAAAA,YAACp2F,CAAc;IAAA,QAACA,CAAK,IAAAA,CAAA,GAAI;EAAA;EAEtCq2F,aAAe,WAAAA,cAACr2F,CAAA;IAAA,OAAgB,CAAAA,CAAK,OAAE,IAAK,IACxC,GAAM,GAAAA,CAAA,GAAIA,CAAA,GACV,CAAC,OAAQ,EAAEA,CAAA,IAAMA,CAAI,KAAK,KAAE;EAAA;EAEhCs2F,WAAa,WAAAA,YAACt2F,CAAc;IAAA,OAAAA,CAAA,GAAIA,CAAI,GAAAA,CAAA;EAAA;EAEpCu2F,YAAc,WAAAA,aAACv2F,CAAA;IAAA,OAAc,CAACA,CAAA,IAAK,KAAKA,CAAA,GAAIA,CAAI;EAAA;EAEhDw2F,cAAgB,WAAAA,eAACx2F,CAAA;IAAA,OAAgB,CAAAA,CAAK,OAAE,IAAK,IACzC,GAAM,GAAAA,CAAA,GAAIA,CAAA,GAAIA,CACd,UAAQ,CAAAA,CAAA,IAAK,KAAKA,CAAA,GAAIA,CAAI,KAAE;EAAA;EAEhCy2F,WAAA,EAAa,SAAAA,YAACz2F,CAAA;IAAA,OAAcA,CAAI,GAAAA,CAAA,GAAIA,CAAI,GAAAA,CAAA;EAAA;EAExC02F,YAAA,EAAc,SAAAA,aAAC12F,CAAA;IAAA,OAAc,EAAE,CAACA,CAAK,SAAKA,CAAA,GAAIA,CAAI,GAAAA,CAAA,GAAI;EAAA;EAEtD22F,cAAgB,WAAAA,eAAC32F,CAAc;IAAA,OAAC,CAACA,CAAK,OAAE,IAAK,IACzC,GAAM,GAAAA,CAAA,GAAIA,CAAI,GAAAA,CAAA,GAAIA,CAAA,GAClB,CAAC,OAAQ,CAAAA,CAAA,IAAK,KAAKA,CAAI,GAAAA,CAAA,GAAIA,CAAI,KAAE;EAAA;EAErC42F,WAAA,EAAa,SAAAA,YAAC52F,CAAA;IAAA,OAAcA,CAAI,GAAAA,CAAA,GAAIA,CAAA,GAAIA,CAAI,GAAAA,CAAA;EAAA;EAE5C62F,YAAc,WAAAA,aAAC72F,CAAc;IAAA,OAAC,CAAAA,CAAA,IAAK,KAAKA,CAAA,GAAIA,CAAI,GAAAA,CAAA,GAAIA,CAAI;EAAA;EAExD82F,cAAgB,WAAAA,eAAC92F,CAAc;IAAA,OAAC,CAACA,CAAK,OAAE,IAAK,IACzC,GAAM,GAAAA,CAAA,GAAIA,CAAI,GAAAA,CAAA,GAAIA,CAAI,GAAAA,CAAA,GACtB,GAAO,KAACA,CAAK,SAAKA,CAAA,GAAIA,CAAI,GAAAA,CAAA,GAAIA,CAAI,KAAE;EAAA;EAExC+2F,UAAA,EAAY,SAAAA,WAAC/2F,CAAc;IAAA,QAACjjB,IAAA,CAAK+nD,GAAG,CAAC9kC,CAAA,GAAIulC,OAAW;EAAA;EAEpDyxD,WAAA,EAAa,SAAAA,YAACh3F,CAAA;IAAA,OAAcjjB,IAAK,CAAAqyB,GAAG,CAACpP,CAAI,GAAAulC,OAAA;EAAA;EAEzC0xD,aAAe,WAAAA,cAACj3F,CAAc;IAAA,QAAC,GAAO,IAAAjjB,IAAA,CAAK+nD,GAAG,CAAC1pC,EAAK,GAAA4E,CAAA,IAAK;EAAA;EAEzDk3F,UAAA,EAAY,SAAAA,WAACl3F,CAAA;IAAA,OAAcA,CAAC,KAAM,IAAK,CAAI,GAAAjjB,IAAA,CAAKorC,GAAG,CAAC,CAAG,QAAMnoB,CAAA,GAAI,EAAG;EAAA;EAEpEm3F,WAAA,EAAa,SAAAA,YAACn3F,CAAA;IAAA,OAAcA,CAAC,KAAM,IAAK,CAAI,IAACjjB,IAAK,CAAAorC,GAAG,CAAC,GAAG,CAAC,KAAKnoB,CAAA,IAAK,CAAC;EAAA;EAErEo3F,aAAA,EAAe,SAAAA,cAACp3F,CAAA;IAAA,OAAcg2F,MAAO,CAAAh2F,CAAA,IAAKA,CAAA,GAAIA,CAAI,SAC9C,GAAM,GAAAjjB,IAAA,CAAKorC,GAAG,CAAC,CAAG,QAAMnoB,CAAI,OAAI,MAChC,GAAO,KAACjjB,IAAA,CAAKorC,GAAG,CAAC,GAAG,CAAC,MAAMnoB,CAAI,OAAI,MAAM,EAAE;EAAA;EAE/Cq3F,UAAA,EAAY,SAAAA,WAACr3F,CAAA;IAAA,OAAcA,CAAC,IAAK,IAAKA,CAAI,KAAEjjB,IAAA,CAAKoL,IAAI,CAAC,IAAI6X,CAAI,GAAAA,CAAA,IAAK,EAAE;EAAA;EAErEs3F,WAAa,WAAAA,YAACt3F,CAAc;IAAA,OAAAjjB,IAAA,CAAKoL,IAAI,CAAC,IAAI,CAAC6X,CAAK,SAAKA,CAAA;EAAA;EAErDu3F,aAAA,EAAe,SAAAA,cAACv3F,CAAA;IAAA,OAAc,CAAEA,CAAK,OAAE,IAAK,IACxC,CAAC,OAAOjjB,IAAA,CAAKoL,IAAI,CAAC,IAAI6X,CAAI,GAAAA,CAAA,IAAK,KAC/B,GAAO,IAAAjjB,IAAA,CAAKoL,IAAI,CAAC,CAAI,GAAC,CAAA6X,CAAK,SAAKA,CAAA,IAAK,EAAE;EAAA;EAE3Cw3F,aAAe,WAAAA,cAACx3F,CAAA;IAAA,OAAcg2F,MAAO,CAAAh2F,CAAA,IAAKA,CAAA,GAAIi2F,SAAU,CAAAj2F,CAAA,EAAG,OAAO,GAAI;EAAA;EAEtEy3F,cAAgB,WAAAA,eAACz3F,CAAA;IAAA,OAAcg2F,MAAO,CAAAh2F,CAAA,IAAKA,CAAA,GAAIk2F,UAAW,CAAAl2F,CAAA,EAAG,OAAO,GAAI;EAAA;EAExE03F,gBAAA,WAAAA,iBAAiB13F,CAAS,EAAE;IAC1B,IAAM0b,CAAI;IACV,IAAMzxB,CAAI;IACV,OAAO+rG,MAAA,CAAOh2F,CAAK,IAAAA,CAAA,GACjBA,CAAA,GAAI,GACA,SAAMi2F,SAAA,CAAUj2F,CAAI,MAAG0b,CAAG,EAAAzxB,CAAA,IAC1B,MAAM,GAAM,GAAAisG,UAAA,CAAWl2F,CAAA,GAAI,CAAI,MAAG0b,CAAA,EAAGzxB,CAAE;EAC/C;EAEA0tG,UAAA,WAAAA,WAAW33F,CAAS,EAAE;IACpB,IAAM0b,CAAI;IACV,OAAO1b,CAAA,GAAIA,CAAA,IAAM,CAAA0b,CAAI,QAAK1b,CAAA,GAAI0b,CAAA;EAChC;EAEAk8E,WAAA,WAAAA,YAAY53F,CAAS,EAAE;IACrB,IAAM0b,CAAI;IACV,OAAO,CAAC1b,CAAK,SAAKA,CAAK,KAAC0b,CAAI,QAAK1b,CAAA,GAAI0b,CAAA,CAAK;EAC5C;EAEAm8E,aAAA,WAAAA,cAAc73F,CAAS,EAAE;IACvB,IAAI0b,CAAI;IACR,IAAI,CAAC1b,CAAK,OAAE,IAAK,CAAG;MAClB,OAAO,OAAOA,CAAA,GAAIA,CAAK,KAAE,CAAA0b,CAAA,IAAM,KAAK,IAAK,KAAK1b,CAAA,GAAI0b,CAAA,CAAC;;IAErD,OAAO,OAAO,CAAC1b,CAAA,IAAK,KAAKA,CAAA,IAAM,EAAC0b,CAAA,IAAM,KAAK,IAAK,KAAK1b,CAAA,GAAI0b,CAAA,IAAK;EAChE;EAEAo8E,YAAA,EAAc,SAAAA,aAAC93F,CAAc;IAAA,WAAImtB,OAAQ,CAAA4qE,aAAa,CAAC,CAAI,GAAA/3F,CAAA;EAAA;EAE3D+3F,aAAA,WAAAA,cAAc/3F,CAAS,EAAE;IACvB,IAAMwc,CAAI;IACV,IAAM/B,CAAI;IACV,IAAIza,CAAA,GAAK,IAAIya,CAAI;MACf,OAAO+B,CAAA,GAAIxc,CAAI,GAAAA,CAAA;;IAEjB,IAAIA,CAAA,GAAK,IAAIya,CAAI;MACf,OAAO+B,CAAA,IAAKxc,CAAA,IAAM,GAAM,GAAAya,CAAC,IAAKza,CAAI;;IAEpC,IAAIA,CAAA,GAAK,MAAMya,CAAI;MACjB,OAAO+B,CAAA,IAAKxc,CAAA,IAAM,IAAO,GAAAya,CAAC,IAAKza,CAAI;;IAErC,OAAOwc,CAAA,IAAKxc,CAAA,IAAM,KAAQ,GAAAya,CAAC,IAAKza,CAAI;EACtC;EAEAg4F,eAAA,EAAiB,SAAAA,gBAACh4F,CAAc;IAAA,OAACA,CAAA,GAAI,GACjC,GAAAmtB,OAAA,CAAQ2qE,YAAY,CAAC93F,CAAA,GAAI,CAAK,UAC9BmtB,OAAA,CAAQ4qE,aAAa,CAAC/3F,CAAA,GAAI,CAAI,QAAK,MAAM,GAAG;EAAA;AAClD;ACrHO,SAASi4F,mBAAoBA,CAAAl3F,KAAc,EAA2C;EAC3F,IAAIA,KAAA,IAAS1N,OAAA,CAAO0N,KAAA,MAAU,QAAU;IACtC,IAAM3e,IAAA,GAAO2e,KAAA,CAAMzS,QAAQ;IAC3B,OAAOlM,IAAA,KAAS,4BAA4BA,IAAS;;EAGvD,OAAO,KAAK;AACd;AAWO,SAASgnC,KAAMA,CAAAroB,KAAK,EAAE;EAC3B,OAAOk3F,mBAAoB,CAAAl3F,KAAA,IAASA,KAAQ,OAAI+nB,gDAAA,CAAM/nB,KAAM;AAC9D;AAKO,SAASm3F,aAAcA,CAAAn3F,KAAK,EAAE;EACnC,OAAOk3F,mBAAoB,CAAAl3F,KAAA,IACvBA,KACA,OAAI+nB,gDAAM,CAAA/nB,KAAA,EAAOgpB,QAAQ,CAAC,GAAK,EAAAD,MAAM,CAAC,KAAKvO,SAAS,EAAE;AAC5D;AC/BA,IAAM6nB,OAAU,IAAC,KAAK,KAAK,eAAe,UAAU,UAAU;AAC9D,IAAM+0D,MAAS,IAAC,SAAS,eAAe,kBAAkB;AAEnD,SAASC,uBAAwBA,CAAAnrG,QAAQ,EAAE;EAChDA,QAAS,CAAA9Q,GAAG,CAAC,WAAa;IACxBzC,KAAO,EAAAP,SAAA;IACP2xC,QAAU;IACVsC,MAAQ;IACR3zC,EAAI,EAAAN,SAAA;IACJ0F,IAAM,EAAA1F,SAAA;IACNq0C,IAAM,EAAAr0C,SAAA;IACN2F,EAAI,EAAA3F,SAAA;IACJiJ,IAAM,EAAAjJ;EACR;EAEA8T,QAAS,CAAA+/D,QAAQ,CAAC,WAAa;IAC7Bg2B,SAAA,EAAW,KAAK;IAChBr6C,UAAA,EAAY,KAAK;IACjBD,WAAA,EAAa,SAAAA,YAAC3/C,IAAS;MAAA,OAAAA,IAAA,KAAS,YAAgB,IAAAA,IAAA,KAAS,gBAAgBA,IAAS;IAAA;EACpF;EAEAkE,QAAS,CAAA9Q,GAAG,CAAC,YAAc;IACzBg8G,MAAQ;MACN/1G,IAAM;MACNwQ,UAAY,EAAAulG;IACd;IACA/0D,OAAS;MACPhhD,IAAM;MACNwQ,UAAY,EAAAwwC;IACd;EACF;EAEAn2C,QAAS,CAAA+/D,QAAQ,CAAC,YAAc;IAC9Bg2B,SAAW;EACb;EAEA/1F,QAAS,CAAA9Q,GAAG,CAAC,aAAe;IAC1B2xC,MAAQ;MACNc,SAAW;QACT9D,QAAU;MACZ;IACF;IACAyuB,MAAQ;MACN3qB,SAAW;QACT9D,QAAU;MACZ;IACF;IACAoyC,IAAM;MACJ9tC,UAAY;QACV+oE,MAAQ;UACNt5G,IAAM;QACR;QACA07E,OAAS;UACPn4E,IAAM;UACN0oC,QAAA,EAAU;QACZ;MACF;IACF;IACAmyC,IAAM;MACJ7tC,UAAY;QACV+oE,MAAQ;UACNr5G,EAAI;QACN;QACAy7E,OAAS;UACPn4E,IAAM;UACNgrC,MAAQ;UACR3zC,EAAA,EAAI,SAAAA,GAAAuF,CAAA;YAAA,OAAKA,CAAI;UAAA;QACf;MACF;IACF;EACF;AACF;ACvEO,SAASq5G,oBAAqBA,CAAAprG,QAAQ,EAAE;EAC7CA,QAAS,CAAA9Q,GAAG,CAAC,QAAU;IACrB++E,WAAA,EAAa,IAAI;IACjBnyD,OAAS;MACPxuB,GAAK;MACLG,KAAO;MACPF,MAAQ;MACRC,IAAM;IACR;EACF;AACF;ACTA,IAAM69G,SAAA,GAAY,IAAIhuE,GAAA;AAEtB,SAASiuE,eAAgBA,CAAAlwD,MAAc,EAAEztD,OAAkC,EAAE;EAC3EA,OAAA,GAAUA,OAAA,IAAW,EAAC;EACtB,IAAM8/C,QAAW,GAAA2N,MAAA,GAASn4C,IAAK,CAAAC,SAAS,CAACvV,OAAA;EACzC,IAAIo1G,SAAA,GAAYsI,SAAU,CAAAx8G,GAAG,CAAC4+C,QAAA;EAC9B,IAAI,CAACs1D,SAAW;IACdA,SAAA,GAAY,IAAIwI,IAAA,CAAKC,YAAY,CAACpwD,MAAQ,EAAAztD,OAAA;IAC1C09G,SAAU,CAAAn8G,GAAG,CAACu+C,QAAU,EAAAs1D,SAAA;;EAE1B,OAAOA,SAAA;AACT;AAEO,SAAS5nD,YAAaA,CAAAswD,GAAW,EAAErwD,MAAc,EAAEztD,OAAkC,EAAE;EAC5F,OAAO29G,eAAgB,CAAAlwD,MAAA,EAAQztD,OAAS,EAAAozD,MAAM,CAAC0qD,GAAA;AACjD;ACRA,IAAMxR,UAAa;EAOjBtyF,MAAA,WAAAA,OAAOmM,KAAK,EAAE;IACZ,OAAO5P,OAAA,CAAQ4P,KAAS,IAAyBA,KAAA,GAAS,KAAKA,KAAK;EACtE;EAUAomF,OAAA,WAAAA,QAAQxB,SAAS,EAAEzzF,KAAK,EAAEyW,KAAK,EAAE;IAC/B,IAAIg9E,SAAA,KAAc,CAAG;MACnB,OAAO;;IAGT,IAAMt9C,MAAA,GAAS,IAAI,CAACnvD,KAAK,CAAC0B,OAAO,CAACytD,MAAM;IACxC,IAAIswD,QAAA;IACJ,IAAIh6G,KAAA,GAAQgnG,SAAA;IAEZ,IAAIh9E,KAAA,CAAMtuB,MAAM,GAAG,CAAG;MAEpB,IAAMu+G,OAAA,GAAU77G,IAAA,CAAKN,GAAG,CAACM,IAAA,CAAKgD,GAAG,CAAC4oB,KAAK,CAAC,CAAE,EAAC5H,KAAK,CAAG,EAAAhkB,IAAA,CAAKgD,GAAG,CAAC4oB,KAAK,CAACA,KAAA,CAAMtuB,MAAM,GAAG,CAAE,EAAC0mB,KAAK;MACzF,IAAI63F,OAAA,GAAU,IAAQ,IAAAA,OAAA,GAAU,KAAO;QACrCD,QAAW;;MAGbh6G,KAAA,GAAQk6G,cAAA,CAAelT,SAAW,EAAAh9E,KAAA;;IAGpC,IAAMmwF,QAAW,GAAAzR,KAAA,CAAMtqG,IAAK,CAAAgD,GAAG,CAACpB,KAAA;IAOhC,IAAMo6G,UAAA,GAAa95G,KAAM,CAAA65G,QAAA,IAAY,CAAI,GAAA/7G,IAAA,CAAKN,GAAG,CAACM,IAAA,CAAKL,GAAG,CAAC,CAAC,CAAI,GAAAK,IAAA,CAAKotB,KAAK,CAAC2uF,QAAA,GAAW,KAAK,CAAE;IAE7F,IAAMl+G,OAAU;MAAC+9G,QAAA,EAAAA,QAAA;MAAUK,qBAAuB,EAAAD,UAAA;MAAYE,qBAAuB,EAAAF;IAAU;IAC/F7+G,MAAO,CAAA6X,MAAM,CAACnX,OAAS,MAAI,CAACA,OAAO,CAAC+tB,KAAK,CAACqlC,MAAM;IAEhD,OAAO5F,YAAA,CAAau9C,SAAA,EAAWt9C,MAAQ,EAAAztD,OAAA;EACzC;EAWA8G,WAAA,WAAAA,YAAYikG,SAAS,EAAEzzF,KAAK,EAAEyW,KAAK,EAAE;IACnC,IAAIg9E,SAAA,KAAc,CAAG;MACnB,OAAO;;IAET,IAAM33D,MAAS,GAAArlB,KAAK,CAACzW,KAAA,CAAM,CAAC+1F,WAAW,IAAKtC,SAAa,GAAA5oG,IAAA,CAAKorC,GAAG,CAAC,IAAIprC,IAAK,CAAAotB,KAAK,CAACk9E,KAAM,CAAA1B,SAAA;IACvF,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAACrzC,QAAQ,CAACtkB,MAAA,KAAW97B,KAAA,GAAQ,GAAM,GAAAyW,KAAA,CAAMtuB,MAAM,EAAE;MACvE,OAAO6sG,UAAA,CAAWC,OAAO,CAAC75F,IAAI,CAAC,IAAI,EAAEq4F,SAAA,EAAWzzF,KAAO,EAAAyW,KAAA;;IAEzD,OAAO;EACT;AAEF;AAGA,SAASkwF,cAAeA,CAAAlT,SAAS,EAAEh9E,KAAK,EAAE;EAGxC,IAAIhqB,KAAA,GAAQgqB,KAAM,CAAAtuB,MAAM,GAAG,IAAIsuB,KAAK,CAAC,CAAE,EAAC5H,KAAK,GAAG4H,KAAK,CAAC,CAAE,EAAC5H,KAAK,GAAG4H,KAAK,CAAC,CAAE,EAAC5H,KAAK,GAAG4H,KAAK,CAAC,CAAE,EAAC5H,KAAK;EAGhG,IAAIhkB,IAAA,CAAKgD,GAAG,CAACpB,KAAA,KAAU,KAAKgnG,SAAc,KAAA5oG,IAAA,CAAKotB,KAAK,CAACw7E,SAAY;IAE/DhnG,KAAQ,GAAAgnG,SAAA,GAAY5oG,IAAK,CAAAotB,KAAK,CAACw7E,SAAA;;EAEjC,OAAOhnG,KAAA;AACT;AAMA,IAAAsoG,KAAA,GAAe;EAACC,UAAA,EAAAA;AAAU,CAAE;ACnGrB,SAASgS,kBAAmBA,CAAAjsG,QAAQ,EAAE;EAC3CA,QAAS,CAAA9Q,GAAG,CAAC,OAAS;IACpB6tB,OAAA,EAAS,IAAI;IACbxrB,MAAA,EAAQ,KAAK;IACb64B,OAAA,EAAS,KAAK;IACdmsB,WAAA,EAAa,KAAK;IASlBomC,MAAQ;IAER7vC,IAAA,EAAM,IAAI;IAMVwnB,KAAO;IAGPje,IAAM;MACJt5B,OAAA,EAAS,IAAI;MACbrd,SAAW;MACXm+D,eAAA,EAAiB,IAAI;MACrBxM,SAAA,EAAW,IAAI;MACf9B,UAAY;MACZgH,SAAA,EAAW,SAAAA,UAACjvB,IAAA,EAAM35C,OAAY;QAAA,OAAAA,OAAA,CAAQ+R,SAAS;MAAA;MAC/C67D,SAAA,EAAW,SAAAA,UAACj0B,IAAA,EAAM35C,OAAY;QAAA,OAAAA,OAAA,CAAQwuC,KAAK;MAAA;MAC3C5qC,MAAA,EAAQ;IACV;IAEAssD,MAAQ;MACN9gC,OAAA,EAAS,IAAI;MACbq+C,IAAA,EAAM,EAAE;MACRE,UAAY;MACZ9oE,KAAO;IACT;IAGAykE,KAAO;MAELl6C,OAAA,EAAS,KAAK;MAGdgC,IAAM;MAGNjD,OAAS;QACPxuB,GAAK;QACLC,MAAQ;MACV;IACF;IAGAmuB,KAAO;MACL26C,WAAa;MACbC,WAAa;MACbsB,MAAA,EAAQ,KAAK;MACb4E,eAAiB;MACjBF,eAAiB;MACjBxgD,OAAS;MACTiB,OAAA,EAAS,IAAI;MACbyxC,QAAA,EAAU,IAAI;MACdsL,eAAiB;MACjBqC,WAAa;MAEbhxE,QAAU,EAAA6uG,KAAA,CAAMC,UAAU,CAACtyF,MAAM;MACjC46F,KAAA,EAAO,EAAC;MACRxzC,KAAA,EAAO,EAAC;MACRqB,KAAO;MACPsL,UAAY;MAEZgB,iBAAA,EAAmB,KAAK;MACxBI,aAAe;MACfD,eAAiB;IACnB;EACF;EAEA78D,QAAA,CAASugE,KAAK,CAAC,aAAe,WAAS,EAAI;EAC3CvgE,QAAA,CAASugE,KAAK,CAAC,YAAc,WAAS,EAAI;EAC1CvgE,QAAA,CAASugE,KAAK,CAAC,cAAgB,WAAS,EAAI;EAC5CvgE,QAAA,CAASugE,KAAK,CAAC,aAAe,WAAS,EAAI;EAE3CvgE,QAAS,CAAA+/D,QAAQ,CAAC,OAAS;IACzBg2B,SAAA,EAAW,KAAK;IAChBt6C,WAAA,EAAa,SAAAA,YAAC3/C,IAAA;MAAA,OAAS,CAACA,IAAA,CAAK6/C,UAAU,CAAC,aAAa,CAAC7/C,IAAA,CAAK6/C,UAAU,CAAC,OAAY,KAAA7/C,IAAA,KAAS,cAAcA,IAAS;IAAA;IAClH4/C,UAAA,EAAY,SAAAA,WAAC5/C,IAAS;MAAA,OAAAA,IAAA,KAAS,YAAgB,IAAAA,IAAA,KAAS,oBAAoBA,IAAS;IAAA;EACvF;EAEAkE,QAAS,CAAA+/D,QAAQ,CAAC,QAAU;IAC1Bg2B,SAAW;EACb;EAEA/1F,QAAS,CAAA+/D,QAAQ,CAAC,aAAe;IAC/BtkB,WAAA,EAAa,SAAAA,YAAC3/C,IAAA;MAAA,OAASA,IAAS,0BAAqBA,IAAS;IAAA;IAC9D4/C,UAAY,WAAAA,WAAC5/C,IAAA;MAAA,OAASA,IAAS;IAAA;EACjC;AACF;IClGa2jE,SAAY,GAAAxyE,MAAA,CAAO6Y,MAAM,CAAC,IAAI;IAC9Bg6D,WAAc,GAAA7yE,MAAA,CAAO6Y,MAAM,CAAC,IAAI;AAO7C,SAASomG,WAASrlG,IAAI,EAAElb,GAAG,EAAE;EAC3B,IAAI,CAACA,GAAK;IACR,OAAOkb,IAAA;;EAET,IAAM3Z,IAAA,GAAOvB,GAAI,CAAAyb,KAAK,CAAC;EACvB,KAAK,IAAIja,CAAI,MAAGuhC,CAAI,GAAAxhC,IAAA,CAAKE,MAAM,EAAED,CAAA,GAAIuhC,CAAG,IAAEvhC,CAAG;IAC3C,IAAM+U,CAAA,GAAIhV,IAAI,CAACC,CAAE;IACjB0Z,IAAA,GAAOA,IAAI,CAAC3E,CAAE,MAAK2E,IAAI,CAAC3E,CAAA,CAAE,GAAGjV,MAAA,CAAO6Y,MAAM,CAAC,IAAI;EACjD;EACA,OAAOe,IAAA;AACT;AAEA,SAAS3X,KAAIi9G,IAAI,EAAEhtC,KAAK,EAAEx3D,MAAM,EAAE;EAChC,IAAI,OAAOw3D,KAAA,KAAU,QAAU;IAC7B,OAAO55D,KAAA,CAAM2mG,UAAS,CAAAC,IAAA,EAAMhtC,KAAQ,GAAAx3D,MAAA;;EAEtC,OAAOpC,KAAA,CAAM2mG,UAAS,CAAAC,IAAA,EAAM,EAAK,GAAAhtC,KAAA;AACnC;AAAA,IAMaitC,QAAA;EACX,SAAAA,SAAY7oC,YAAY,EAAE8oC,SAAS,EAAE;IAAAvwE,eAAA,OAAAswE,QAAA;IACnC,IAAI,CAACzqE,SAAS,GAAGz1C,SAAA;IACjB,IAAI,CAACqT,eAAe,GAAG;IACvB,IAAI,CAACK,WAAW,GAAG;IACnB,IAAI,CAACu8B,KAAK,GAAG;IACb,IAAI,CAAChhB,QAAQ,GAAG,EAAC;IACjB,IAAI,CAACkxC,gBAAgB,GAAG,UAACxoD,OAAA;MAAA,OAAYA,OAAA,CAAQ5X,KAAK,CAAC+6E,QAAQ,CAAC9d,mBAAmB;IAAA;IAC/E,IAAI,CAACnc,QAAQ,GAAG,EAAC;IACjB,IAAI,CAAClzB,MAAM,GAAG,CACZ,aACA,YACA,SACA,cACA,YACD;IACD,IAAI,CAAC8B,IAAI,GAAG;MACVe,MAAQ;MACRR,IAAM;MACN/I,KAAO;MACPs+C,UAAY;MACZ71C,MAAA,EAAQ;IACV;IACA,IAAI,CAAC41D,KAAK,GAAG,EAAC;IACd,IAAI,CAAC86B,oBAAoB,GAAG,UAACntG,GAAA,EAAKxR,OAAY;MAAA,OAAAs9G,aAAA,CAAct9G,OAAA,CAAQ4R,eAAe;IAAA;IACnF,IAAI,CAACgtG,gBAAgB,GAAG,UAACptG,GAAA,EAAKxR,OAAY;MAAA,OAAAs9G,aAAA,CAAct9G,OAAA,CAAQiS,WAAW;IAAA;IAC3E,IAAI,CAAC4sG,UAAU,GAAG,UAACrtG,GAAA,EAAKxR,OAAY;MAAA,OAAAs9G,aAAA,CAAct9G,OAAA,CAAQwuC,KAAK;IAAA;IAC/D,IAAI,CAACiN,SAAS,GAAG;IACjB,IAAI,CAACuX,WAAW,GAAG;MACjB50D,IAAM;MACN01D,SAAA,EAAW,IAAI;MACfoB,gBAAA,EAAkB;IACpB;IACA,IAAI,CAAC4oB,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACwG,OAAO,GAAG,IAAI;IACnB,IAAI,CAACh2B,OAAO,GAAG,IAAI;IACnB,IAAI,CAACnR,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC/uB,OAAO,GAAG,EAAC;IAChB,IAAI,CAACY,UAAU,GAAG,IAAI;IACtB,IAAI,CAACtvB,KAAK,GAAGnB,SAAA;IACb,IAAI,CAACa,MAAM,GAAG,EAAC;IACf,IAAI,CAACiwD,QAAQ,GAAG,IAAI;IACpB,IAAI,CAAC/P,uBAAuB,GAAG,IAAI;IAEnC,IAAI,CAAC8yB,QAAQ,CAACwD,YAAA;IACd,IAAI,CAAC1+D,KAAK,CAACwnG,SAAA;EACb;EAAApwE,YAAA,CAAAmwE,QAAA;IAAAzgH,GAAA;IAAAmoB,KAAA,EAMA,SAAA5kB,IAAIiwE,KAAK,EAAEx3D,MAAM,EAAE;MACjB,OAAOzY,IAAA,CAAI,IAAI,EAAEiwE,KAAO,EAAAx3D,MAAA;IAC1B;EAAA;IAAAhc,GAAA;IAAAmoB,KAAA,EAKA,SAAAjlB,IAAIswE,KAAK,EAAE;MACT,OAAO+sC,UAAA,CAAS,IAAI,EAAE/sC,KAAA;IACxB;EAAA;IAAAxzE,GAAA;IAAAmoB,KAAA,EAMA,SAAAisD,SAASZ,KAAK,EAAEx3D,MAAM,EAAE;MACtB,OAAOzY,IAAA,CAAI4wE,WAAA,EAAaX,KAAO,EAAAx3D,MAAA;IACjC;EAAA;IAAAhc,GAAA;IAAAmoB,KAAA,EAEA,SAAAqtC,SAASge,KAAK,EAAEx3D,MAAM,EAAE;MACtB,OAAOzY,IAAA,CAAIuwE,SAAA,EAAWN,KAAO,EAAAx3D,MAAA;IAC/B;EAAA;IAAAhc,GAAA;IAAAmoB,KAAA,EAmBA,SAAAysD,MAAMpB,KAAK,EAAErjE,IAAI,EAAEwkE,WAAW,EAAED,UAAU,EAAE;MAAA,IAAAosC,qBAAA;MAC1C,IAAMC,WAAA,GAAcR,UAAS,KAAI,EAAE/sC,KAAA;MACnC,IAAMwtC,iBAAA,GAAoBT,UAAS,KAAI,EAAE5rC,WAAA;MACzC,IAAMssC,WAAA,GAAc,GAAM,GAAA9wG,IAAA;MAE1B7O,MAAO,CAAA4/G,gBAAgB,CAACH,WAAa,GAAAD,qBAAA,OAAAlhE,eAAA,CAAAkhE,qBAAA,EAElCG,WAAA,EAAc;QACb94F,KAAO,EAAA44F,WAAW,CAAC5wG,IAAK;QACxB8pB,QAAA,EAAU;MACZ,IAAA2lB,eAAA,CAAAkhE,qBAAA,EAEC3wG,IAAA,EAAO;QACN4pB,UAAA,EAAY,IAAI;QAChB72B,GAAM,WAAAA,IAAA;UACJ,IAAMs1E,KAAA,GAAQ,IAAI,CAACyoC,WAAY;UAC/B,IAAMl0G,MAAA,GAASi0G,iBAAiB,CAACtsC,UAAW;UAC5C,IAAI5+B,QAAA,CAAS0iC,KAAQ;YACnB,OAAOl3E,MAAO,CAAA6X,MAAM,CAAC,IAAIpM,MAAQ,EAAAyrE,KAAA;;UAEnC,OAAOj5E,cAAA,CAAei5E,KAAO,EAAAzrE,MAAA;QAC/B;QACAxJ,GAAA,WAAAA,IAAI4kB,KAAK,EAAE;UACT,IAAI,CAAC84F,WAAA,CAAY,GAAG94F,KAAA;QACtB;MACF,IAAA24F,qBAAA,CACF;IACF;EAAA;IAAA9gH,GAAA;IAAAmoB,KAAA,EAEA,SAAAjP,MAAMioG,QAAQ,EAAE;MAAA,IAAA7uE,KAAA;MACd6uE,QAAA,CAASzoG,OAAO,CAAC,UAACQ,KAAA;QAAA,OAAUA,KAAA,CAAMo5B,KAAI;MAAA;IACxC;EAAA;EAAA,OAAAmuE,QAAA;AAAA;AAIF,IAAApsG,QAAA,GAAe,eAAgB,IAAIosG,QAAS;EAC1C3wD,WAAA,EAAa,SAAAA,YAAC3/C,IAAA;IAAA,OAAS,CAACA,IAAA,CAAK6/C,UAAU,CAAC;EAAA;EACxCD,UAAY,WAAAA,WAAC5/C,IAAA;IAAA,OAASA,IAAS;EAAA;EAC/B01E,KAAO;IACLukB,SAAW;EACb;EACAp1C,WAAa;IACXlF,WAAA,EAAa,KAAK;IAClBC,UAAA,EAAY;EACd;AACF,CAAG,GAACyvD,uBAAA,EAAyBC,oBAAA,EAAsBa,kBAAA,CAAmB,CAAE;;AC5JxE;;;;;AAKC;AACM,SAASc,YAAaA,CAAApxF,IAAc,EAAE;EAC3C,IAAI,CAACA,IAAA,IAAQ41B,aAAc,CAAA51B,IAAA,CAAKO,IAAI,CAAK,IAAAq1B,aAAA,CAAc51B,IAAK,CAAAe,MAAM,CAAG;IACnE,OAAO,IAAI;;EAGb,OAAO,CAACf,IAAK,CAAAxI,KAAK,GAAGwI,IAAA,CAAKxI,KAAK,GAAG,GAAM,KAAE,KACvCwI,IAAA,CAAKC,MAAM,GAAGD,IAAK,CAAAC,MAAM,GAAG,MAAM,EAAC,CACpC,GAAAD,IAAA,CAAKO,IAAI,GAAG,KACZ,GAAAP,IAAA,CAAKe,MAAM;AACf;AAEA;;AAEC;AACM,SAASy8C,YACdA,CAAAh6D,GAA6B,EAC7BgE,IAA4B,EAC5B+tD,EAAY,EACZ87C,OAAe,EACf9zC,MAAc,EACd;EACA,IAAIyxB,SAAA,GAAYxnF,IAAI,CAAC+1D,MAAO;EAC5B,IAAI,CAACyxB,SAAW;IACdA,SAAY,GAAAxnF,IAAI,CAAC+1D,MAAO,IAAG/5D,GAAA,CAAIkpF,WAAW,CAACnvB,MAAA,EAAQ1mE,KAAK;IACxD0+D,EAAA,CAAG1iE,IAAI,CAAC0qE,MAAA;;EAEV,IAAIyxB,SAAA,GAAYqiB,OAAS;IACvBA,OAAU,GAAAriB,SAAA;;EAEZ,OAAOqiB,OAAA;AACT;AAKA;;AAEC,GAFD,CAEC;AAEM,SAASrR,aACdx8F,GAA6B,EAC7Bwc,IAAY,EACZsxF,aAAqB,EACrBz/D,KAAiF,EACjF;EACAA,KAAA,GAAQA,KAAA,IAAS,EAAC;EAClB,IAAIrqC,IAAA,GAAOqqC,KAAM,CAAArqC,IAAI,GAAGqqC,KAAM,CAAArqC,IAAI,IAAI,EAAC;EACvC,IAAI+tD,EAAA,GAAK1jB,KAAM,CAAAwjB,cAAc,GAAGxjB,KAAM,CAAAwjB,cAAc,IAAI,EAAE;EAE1D,IAAIxjB,KAAA,CAAM7xB,IAAI,KAAKA,IAAM;IACvBxY,IAAO,GAAAqqC,KAAA,CAAMrqC,IAAI,GAAG,EAAC;IACrB+tD,EAAK,GAAA1jB,KAAA,CAAMwjB,cAAc,GAAG,EAAE;IAC9BxjB,KAAA,CAAM7xB,IAAI,GAAGA,IAAA;;EAGfxc,GAAA,CAAIC,IAAI;EAERD,GAAA,CAAIwc,IAAI,GAAGA,IAAA;EACX,IAAIqxF,OAAU;EACd,IAAM5pE,IAAA,GAAO6pE,aAAA,CAAc7/G,MAAM;EACjC,IAAID,CAAA,EAAWqtC,CAAW,EAAAq+B,IAAA,EAAcq0C,KAAwB,EAAAC,WAAA;EAChE,KAAKhgH,CAAI,MAAGA,CAAI,GAAAi2C,IAAA,EAAMj2C,CAAK;IACzB+/G,KAAQ,GAAAD,aAAa,CAAC9/G,CAAE;;IAGxB,IAAI+/G,KAAA,KAAUhhH,SAAa,IAAAghH,KAAA,KAAU,IAAI,IAAI,CAAChpG,OAAA,CAAQgpG,KAAQ;MAC5DF,OAAA,GAAU7zC,YAAa,CAAAh6D,GAAA,EAAKgE,IAAM,EAAA+tD,EAAA,EAAI87C,OAAS,EAAAE,KAAA;KAC1C,UAAIhpG,OAAA,CAAQgpG,KAAQ;;;MAGzB,KAAK1yE,CAAA,GAAI,GAAGq+B,IAAO,GAAAq0C,KAAA,CAAM9/G,MAAM,EAAEotC,CAAA,GAAIq+B,IAAA,EAAMr+B,CAAK;QAC9C2yE,WAAc,GAAAD,KAAK,CAAC1yE,CAAE;;QAEtB,IAAI2yE,WAAA,KAAgBjhH,SAAa,IAAAihH,WAAA,KAAgB,IAAI,IAAI,CAACjpG,OAAA,CAAQipG,WAAc;UAC9EH,OAAA,GAAU7zC,YAAa,CAAAh6D,GAAA,EAAKgE,IAAM,EAAA+tD,EAAA,EAAI87C,OAAS,EAAAG,WAAA;;MAEnD;;EAEJ;EAEAhuG,GAAA,CAAIW,OAAO;EAEX,IAAMqxD,KAAA,GAAQD,EAAG,CAAA9jE,MAAM,GAAG;EAC1B,IAAI+jE,KAAA,GAAQ87C,aAAc,CAAA7/G,MAAM,EAAE;IAChC,KAAKD,CAAI,MAAGA,CAAI,GAAAgkE,KAAA,EAAOhkE,CAAK;MAC1B,OAAOgW,IAAI,CAAC+tD,EAAE,CAAC/jE,CAAA,CAAE,CAAC;IACpB;IACA+jE,EAAG,CAAAhhD,MAAM,CAAC,CAAG,EAAAihD,KAAA;;EAEf,OAAO67C,OAAA;AACT;AAEA;;;;;;;;AAQO,SAASvzC,WAAYA,CAAAxtE,KAAY,EAAEqtE,KAAa,EAAE9mE,KAAa,EAAE;EACtE,IAAM65D,gBAAA,GAAmBpgE,KAAA,CAAMsgE,uBAAuB;EACtD,IAAM6gD,SAAA,GAAY56G,KAAA,KAAU,CAAI,GAAA1C,IAAA,CAAKN,GAAG,CAACgD,KAAA,GAAQ,CAAG,SAAO,CAAC;EAC5D,OAAO1C,IAAA,CAAKmC,KAAK,CAAE,CAAAqnE,KAAQ,GAAA8zC,SAAQ,IAAK/gD,gBAAA,IAAoBA,gBAAmB,GAAA+gD,SAAA;AACjF;AAEA;;AAEC;AACM,SAASxhC,YAAY/xE,MAAyB,EAAEsF,GAA8B,EAAE;EACrFA,GAAM,GAAAA,GAAA,IAAOtF,MAAO,CAAAgxC,UAAU,CAAC;EAE/B1rC,GAAA,CAAIC,IAAI;;;EAGRD,GAAA,CAAIkuG,cAAc;EAClBluG,GAAI,CAAAmuG,SAAS,CAAC,CAAG,KAAGzzG,MAAA,CAAOrH,KAAK,EAAEqH,MAAA,CAAOpH,MAAM;EAC/C0M,GAAA,CAAIW,OAAO;AACb;AASO,SAASy7E,UACdp8E,GAA6B,EAC7BxR,OAAyB,EACzBtB,CAAS,EACTC,CAAS,EACT;;EAEA89F,eAAA,CAAgBjrF,GAAK,EAAAxR,OAAA,EAAStB,CAAG,EAAAC,CAAA,EAAG,IAAI;AAC1C;AAEA;AACO,SAAS89F,eACdA,CAAAjrF,GAA6B,EAC7BxR,OAAyB,EACzBtB,CAAS,EACTC,CAAS,EACTuiC,CAAS,EACT;EACA,IAAI15B,IAAA,EAAco4G,OAAiB,EAAAC,OAAA,EAAiBtxF,IAAc,EAAA8zE,YAAA,EAAsBx9F,KAAA,EAAei7G,QAAkB,EAAAC,QAAA;EACzH,IAAMv6F,KAAA,GAAQxlB,OAAA,CAAQouD,UAAU;EAChC,IAAM3uC,QAAA,GAAWzf,OAAA,CAAQyf,QAAQ;EACjC,IAAMupC,MAAA,GAAShpD,OAAA,CAAQgpD,MAAM;EAC7B,IAAIiiD,GAAM,GAAC,CAAAxrF,QAAA,IAAY,KAAKm5F,WAAA;EAE5B,IAAIpzF,KAAA,IAAS/M,OAAA,CAAO+M,KAAA,MAAU,QAAU;IACtChe,IAAA,GAAOge,KAAA,CAAM9R,QAAQ;IACrB,IAAIlM,IAAA,KAAS,2BAA+B,IAAAA,IAAA,KAAS,4BAA8B;MACjFgK,GAAA,CAAIC,IAAI;MACRD,GAAI,CAAAo3E,SAAS,CAAClqF,CAAG,EAAAC,CAAA;MACjB6S,GAAA,CAAIswB,MAAM,CAACmpE,GAAA;MACXz5F,GAAA,CAAIwuG,SAAS,CAACx6F,KAAA,EAAO,CAACA,KAAA,CAAM3gB,KAAK,GAAG,GAAG,CAAC2gB,KAAA,CAAM1gB,MAAM,GAAG,GAAG0gB,KAAA,CAAM3gB,KAAK,EAAE2gB,KAAA,CAAM1gB,MAAM;MACnF0M,GAAA,CAAIW,OAAO;MACX;;;EAIJ,IAAI9N,KAAA,CAAM2kD,MAAW,KAAAA,MAAA,IAAU,CAAG;IAChC;;EAGFx3C,GAAA,CAAIE,SAAS;EAEb,QAAQ8T,KAAA;;IAEN;MACE,IAAI0b,CAAG;QACL1vB,GAAI,CAAAyuG,OAAO,CAACvhH,CAAG,EAAAC,CAAA,EAAGuiC,CAAA,GAAI,CAAG,EAAA8nB,MAAA,EAAQ,GAAG,CAAG,EAAAc,GAAA;OAClC;QACLt4C,GAAA,CAAI87C,GAAG,CAAC5uD,CAAG,EAAAC,CAAA,EAAGqqD,MAAA,EAAQ,CAAG,EAAAc,GAAA;;MAE3Bt4C,GAAA,CAAImzE,SAAS;MACb;IACF,KAAK;MACH9/E,KAAQ,GAAAq8B,CAAA,GAAIA,CAAI,OAAI8nB,MAAM;MAC1Bx3C,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAyD,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAApmG,KAAA,EAAOlG,CAAI,GAAAwD,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1DiiD,GAAO,IAAA6N,aAAA;MACPtnG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAyD,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAApmG,KAAA,EAAOlG,CAAI,GAAAwD,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1DiiD,GAAO,IAAA6N,aAAA;MACPtnG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAyD,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAApmG,KAAA,EAAOlG,CAAI,GAAAwD,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1Dx3C,GAAA,CAAImzE,SAAS;MACb;IACF,KAAK;;;;;;;;MAQH0d,YAAA,GAAer5C,MAAS;MACxBz6B,IAAA,GAAOy6B,MAAS,GAAAq5C,YAAA;MAChBud,OAAA,GAAUz9G,IAAK,CAAA+nD,GAAG,CAAC+gD,GAAA,GAAM4N,UAAc,IAAAtqF,IAAA;MACvCuxF,QAAW,GAAA39G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAM,GAAA4N,UAAA,KAAe33E,CAAA,GAAIA,CAAI,OAAImhE,YAAe,GAAA9zE,IAAI,CAAD;MACvEsxF,OAAA,GAAU19G,IAAK,CAAAqyB,GAAG,CAACy2E,GAAA,GAAM4N,UAAc,IAAAtqF,IAAA;MACvCwxF,QAAW,GAAA59G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAM,GAAA4N,UAAA,KAAe33E,CAAA,GAAIA,CAAI,OAAImhE,YAAe,GAAA9zE,IAAI,CAAD;MACvE/c,GAAI,CAAA87C,GAAG,CAAC5uD,CAAI,GAAAohH,QAAA,EAAUnhH,CAAA,GAAIkhH,OAAS,EAAAxd,YAAA,EAAc4I,GAAM,GAAAzqF,EAAA,EAAIyqF,GAAM,GAAAtgD,OAAA;MACjEn5C,GAAI,CAAA87C,GAAG,CAAC5uD,CAAI,GAAAqhH,QAAA,EAAUphH,CAAA,GAAIihH,OAAS,EAAAvd,YAAA,EAAc4I,GAAA,GAAMtgD,OAAS,EAAAsgD,GAAA;MAChEz5F,GAAI,CAAA87C,GAAG,CAAC5uD,CAAI,GAAAohH,QAAA,EAAUnhH,CAAA,GAAIkhH,OAAS,EAAAxd,YAAA,EAAc4I,GAAA,EAAKA,GAAM,GAAAtgD,OAAA;MAC5Dn5C,GAAI,CAAA87C,GAAG,CAAC5uD,CAAI,GAAAqhH,QAAA,EAAUphH,CAAA,GAAIihH,OAAS,EAAAvd,YAAA,EAAc4I,GAAM,GAAAtgD,OAAA,EAASsgD,GAAM,GAAAzqF,EAAA;MACtEhP,GAAA,CAAImzE,SAAS;MACb;IACF,KAAK;MACH,IAAI,CAACllE,QAAU;QACb8O,IAAO,GAAApsB,IAAA,CAAK+9G,OAAO,GAAGl3D,MAAA;QACtBnkD,KAAQ,GAAAq8B,CAAA,GAAIA,CAAI,OAAI3S,IAAI;QACxB/c,GAAI,CAAArE,IAAI,CAACzO,CAAI,GAAAmG,KAAA,EAAOlG,CAAA,GAAI4vB,IAAM,MAAI1pB,KAAA,EAAO,CAAI,GAAA0pB,IAAA;QAC7C;;MAEF08E,GAAO,IAAA4N,UAAA;IACT;IACA,KAAK;MACHiH,QAAW,GAAA39G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7C42D,OAAU,GAAAz9G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1B62D,OAAU,GAAA19G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAAjiD,MAAA;MAC1B+2D,QAAW,GAAA59G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7Cx3C,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7BpuG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7BpuG,GAAA,CAAImzE,SAAS;MACb;IACF,KAAK;MACHsmB,GAAO,IAAA4N,UAAA;IACT;IACA,KAAK;MACHiH,QAAW,GAAA39G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7C42D,OAAU,GAAAz9G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1B62D,OAAU,GAAA19G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAAjiD,MAAA;MAC1B+2D,QAAW,GAAA59G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7Cx3C,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7BpuG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7B;IACF,KAAK;MACHE,QAAW,GAAA39G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7C42D,OAAU,GAAAz9G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1B62D,OAAU,GAAA19G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAAjiD,MAAA;MAC1B+2D,QAAW,GAAA59G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7Cx3C,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7BpuG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7B3U,GAAO,IAAA4N,UAAA;MACPiH,QAAW,GAAA39G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7C42D,OAAU,GAAAz9G,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAO,IAAAjiD,MAAA;MAC1B62D,OAAU,GAAA19G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAAjiD,MAAA;MAC1B+2D,QAAW,GAAA59G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAA,KAAQ/pE,CAAI,GAAAA,CAAA,GAAI,CAAI,GAAA8nB,MAAM,CAAD;MAC7Cx3C,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAohH,QAAA,EAAUnhH,CAAI,GAAAkhH,OAAA;MAC7BruG,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7BpuG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAqhH,QAAA,EAAUphH,CAAI,GAAAihH,OAAA;MAC7B;IACF,KAAK;MACHA,OAAA,GAAU1+E,CAAA,GAAIA,CAAI,OAAI/+B,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAA,IAAOjiD,MAAM;MAC5C62D,OAAU,GAAA19G,IAAA,CAAKqyB,GAAG,CAACy2E,GAAO,IAAAjiD,MAAA;MAC1Bx3C,GAAA,CAAIu+D,MAAM,CAACrxE,CAAI,GAAAkhH,OAAA,EAASjhH,CAAI,GAAAkhH,OAAA;MAC5BruG,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAkhH,OAAA,EAASjhH,CAAI,GAAAkhH,OAAA;MAC5B;IACF,KAAK;MACHruG,GAAI,CAAAu+D,MAAM,CAACrxE,CAAG,EAAAC,CAAA;MACd6S,GAAA,CAAIw+D,MAAM,CAACtxE,CAAA,GAAIyD,IAAA,CAAK+nD,GAAG,CAAC+gD,GAAA,KAAQ/pE,CAAA,GAAIA,CAAI,OAAI8nB,MAAM,CAAD,EAAIrqD,CAAA,GAAIwD,IAAK,CAAAqyB,GAAG,CAACy2E,GAAO,IAAAjiD,MAAA;MACzE;IACF,KAAK,KAAK;MACRx3C,GAAA,CAAImzE,SAAS;MACb;EACJ;EAEAnzE,GAAA,CAAIspC,IAAI;EACR,IAAI96C,OAAA,CAAQ8R,WAAW,GAAG,CAAG;IAC3BN,GAAA,CAAIy+D,MAAM;;AAEd;AAEA;;;;;;;AAOO,SAAS5a,cACdA,CAAAp1D,KAAY,EACZo/C,IAAU,EACVya,MAAe,EACf;EACAA,MAAS,GAAAA,MAAA,IAAU;EAEnB,OAAO,CAACza,IAAA,IAASp/C,KAAS,IAAAA,KAAA,CAAMvB,CAAC,GAAG2gD,IAAK,CAAAx/C,IAAI,GAAGi6D,MAAA,IAAU75D,KAAM,CAAAvB,CAAC,GAAG2gD,IAAA,CAAKv/C,KAAK,GAAGg6D,MACjF,IAAA75D,KAAA,CAAMtB,CAAC,GAAG0gD,IAAK,CAAA1/C,GAAG,GAAGm6D,MAAA,IAAU75D,KAAM,CAAAtB,CAAC,GAAG0gD,IAAA,CAAKz/C,MAAM,GAAGk6D,MAAA;AACzD;AAEO,SAASyW,SAAS/+D,GAA6B,EAAE6tC,IAAU,EAAE;EAClE7tC,GAAA,CAAIC,IAAI;EACRD,GAAA,CAAIE,SAAS;EACbF,GAAA,CAAIrE,IAAI,CAACkyC,IAAA,CAAKx/C,IAAI,EAAEw/C,IAAA,CAAK1/C,GAAG,EAAE0/C,IAAA,CAAKv/C,KAAK,GAAGu/C,IAAA,CAAKx/C,IAAI,EAAEw/C,IAAA,CAAKz/C,MAAM,GAAGy/C,IAAA,CAAK1/C,GAAG;EAC5E6R,GAAA,CAAI2tC,IAAI;AACV;AAEO,SAASyxB,UAAWA,CAAAp/D,GAA6B,EAAE;EACxDA,GAAA,CAAIW,OAAO;AACb;AAEA;;AAEC;AACM,SAASi3E,cACdA,CAAA53E,GAA6B,EAC7BtK,QAAe,EACf6D,MAAa,EACbo1G,IAAc,EACd/hH,IAAa,EACb;EACA,IAAI,CAAC8I,QAAU;IACb,OAAOsK,GAAA,CAAIw+D,MAAM,CAACjlE,MAAA,CAAOrM,CAAC,EAAEqM,MAAA,CAAOpM,CAAC;;EAEtC,IAAIP,IAAA,KAAS,QAAU;IACrB,IAAMgiH,QAAA,GAAW,CAACl5G,QAAA,CAASxI,CAAC,GAAGqM,MAAA,CAAOrM,CAAA,IAAK;IAC3C8S,GAAA,CAAIw+D,MAAM,CAACowC,QAAU,EAAAl5G,QAAA,CAASvI,CAAC;IAC/B6S,GAAA,CAAIw+D,MAAM,CAACowC,QAAU,EAAAr1G,MAAA,CAAOpM,CAAC;EAC/B,OAAO,IAAIP,IAAA,KAAS,OAAY,MAAC,CAAC+hH,IAAM;IACtC3uG,GAAA,CAAIw+D,MAAM,CAAC9oE,QAAA,CAASxI,CAAC,EAAEqM,MAAA,CAAOpM,CAAC;GAC1B;IACL6S,GAAA,CAAIw+D,MAAM,CAACjlE,MAAA,CAAOrM,CAAC,EAAEwI,QAAA,CAASvI,CAAC;;EAEjC6S,GAAA,CAAIw+D,MAAM,CAACjlE,MAAA,CAAOrM,CAAC,EAAEqM,MAAA,CAAOpM,CAAC;AAC/B;AAEA;;;AAGO,SAAS4qF,eACd/3E,GAA6B,EAC7BtK,QAAqB,EACrB6D,MAAmB,EACnBo1G,IAAc,EACd;EACA,IAAI,CAACj5G,QAAU;IACb,OAAOsK,GAAA,CAAIw+D,MAAM,CAACjlE,MAAA,CAAOrM,CAAC,EAAEqM,MAAA,CAAOpM,CAAC;;EAEtC6S,GAAA,CAAI6uG,aAAa,CACfF,IAAO,GAAAj5G,QAAA,CAASo5G,IAAI,GAAGp5G,QAAA,CAASq5G,IAAI,EACpCJ,IAAA,GAAOj5G,QAAS,CAAAs5G,IAAI,GAAGt5G,QAAA,CAASu5G,IAAI,EACpCN,IAAA,GAAOp1G,MAAO,CAAAw1G,IAAI,GAAGx1G,MAAA,CAAOu1G,IAAI,EAChCH,IAAA,GAAOp1G,MAAO,CAAA01G,IAAI,GAAG11G,MAAA,CAAOy1G,IAAI,EAChCz1G,MAAA,CAAOrM,CAAC,EACRqM,MAAA,CAAOpM,CAAC;AACZ;AAEA,SAAS+hH,aAAcA,CAAAlvG,GAA6B,EAAE5T,IAAoB,EAAE;EAC1E,IAAIA,IAAA,CAAKwxE,WAAW,EAAE;IACpB59D,GAAI,CAAAo3E,SAAS,CAAChrF,IAAA,CAAKwxE,WAAW,CAAC,EAAE,EAAExxE,IAAA,CAAKwxE,WAAW,CAAC,CAAE;;EAGxD,IAAI,CAACxrB,aAAA,CAAchmD,IAAK,CAAA6hB,QAAQ,CAAG;IACjCjO,GAAI,CAAAswB,MAAM,CAAClkC,IAAA,CAAK6hB,QAAQ;;EAG1B,IAAI7hB,IAAA,CAAK4wC,KAAK,EAAE;IACdh9B,GAAI,CAAAG,SAAS,GAAG/T,IAAA,CAAK4wC,KAAK;;EAG5B,IAAI5wC,IAAA,CAAKswE,SAAS,EAAE;IAClB18D,GAAI,CAAA08D,SAAS,GAAGtwE,IAAA,CAAKswE,SAAS;;EAGhC,IAAItwE,IAAA,CAAKywE,YAAY,EAAE;IACrB78D,GAAI,CAAA68D,YAAY,GAAGzwE,IAAA,CAAKywE,YAAY;;AAExC;AAEA,SAASsyC,aACPnvG,GAA6B,EAC7B9S,CAAS,EACTC,CAAS,EACTiwD,IAAY,EACZhxD,IAAoB,EACpB;EACA,IAAIA,IAAK,CAAAi/F,aAAa,IAAIj/F,IAAA,CAAKgjH,SAAS,EAAE;IACxC;;;;;;AAMC;IACD,IAAMC,OAAA,GAAUrvG,GAAI,CAAAkpF,WAAW,CAAC9rC,IAAA;IAChC,IAAM/uD,IAAA,GAAOnB,CAAI,GAAAmiH,OAAA,CAAQC,qBAAqB;IAC9C,IAAMhhH,KAAA,GAAQpB,CAAI,GAAAmiH,OAAA,CAAQE,sBAAsB;IAChD,IAAMphH,GAAA,GAAMhB,CAAI,GAAAkiH,OAAA,CAAQG,uBAAuB;IAC/C,IAAMphH,MAAA,GAASjB,CAAI,GAAAkiH,OAAA,CAAQI,wBAAwB;IACnD,IAAMC,WAAA,GAActjH,IAAK,CAAAi/F,aAAa,GAAI,CAAAl9F,GAAM,GAAAC,MAAK,IAAK,IAAIA,MAAM;IAEpE4R,GAAI,CAAAQ,WAAW,GAAGR,GAAA,CAAIG,SAAS;IAC/BH,GAAA,CAAIE,SAAS;IACbF,GAAA,CAAIO,SAAS,GAAGnU,IAAK,CAAAujH,eAAe,IAAI;IACxC3vG,GAAI,CAAAu+D,MAAM,CAAClwE,IAAM,EAAAqhH,WAAA;IACjB1vG,GAAI,CAAAw+D,MAAM,CAAClwE,KAAO,EAAAohH,WAAA;IAClB1vG,GAAA,CAAIy+D,MAAM;;AAEd;AAEA,SAASmxC,YAAaA,CAAA5vG,GAA6B,EAAE5T,IAAqB,EAAE;EAC1E,IAAMyjH,QAAA,GAAW7vG,GAAA,CAAIG,SAAS;EAE9BH,GAAI,CAAAG,SAAS,GAAG/T,IAAA,CAAK4wC,KAAK;EAC1Bh9B,GAAA,CAAIK,QAAQ,CAACjU,IAAK,CAAAiC,IAAI,EAAEjC,IAAA,CAAK+B,GAAG,EAAE/B,IAAK,CAAAiH,KAAK,EAAEjH,IAAA,CAAKkH,MAAM;EACzD0M,GAAA,CAAIG,SAAS,GAAG0vG,QAAA;AAClB;AAEA;;AAEC;AACM,SAAS1wC,WACdn/D,GAA6B,EAC7B4f,IAAuB,EACvB1yB,CAAS,EACTC,CAAS,EACTqvB,IAAoB,EAEpB;EAAA,IADApwB,IAAuB,GAAAyF,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,QAAE;EAEzB,IAAMwgE,KAAA,GAAQttD,OAAQ,CAAA6a,IAAA,IAAQA,IAAO,IAACA,IAAA,CAAK;EAC3C,IAAM6+C,MAAA,GAASryE,IAAK,CAAAgxE,WAAW,GAAG,CAAK,IAAAhxE,IAAA,CAAK8wE,WAAW,KAAK;EAC5D,IAAIlvE,CAAW,EAAAovD,IAAA;EAEfp9C,GAAA,CAAIC,IAAI;EACRD,GAAI,CAAAwc,IAAI,GAAGA,IAAA,CAAKu9C,MAAM;EACtBm1C,aAAA,CAAclvG,GAAK,EAAA5T,IAAA;EAEnB,KAAK4B,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAIqkE,KAAA,CAAMpkE,MAAM,EAAE,EAAED,CAAG;IACjCovD,IAAO,GAAAiV,KAAK,CAACrkE,CAAE;IAEf,IAAI5B,IAAA,CAAKoxE,QAAQ,EAAE;MACjBoyC,YAAa,CAAA5vG,GAAA,EAAK5T,IAAA,CAAKoxE,QAAQ;;IAGjC,IAAIiB,MAAQ;MACV,IAAIryE,IAAA,CAAK8wE,WAAW,EAAE;QACpBl9D,GAAI,CAAAQ,WAAW,GAAGpU,IAAA,CAAK8wE,WAAW;;MAGpC,IAAI,CAAC9qB,aAAA,CAAchmD,IAAK,CAAAgxE,WAAW,CAAG;QACpCp9D,GAAI,CAAAO,SAAS,GAAGnU,IAAA,CAAKgxE,WAAW;;MAGlCp9D,GAAA,CAAI8vG,UAAU,CAAC1yD,IAAA,EAAMlwD,CAAG,EAAAC,CAAA,EAAGf,IAAA,CAAKyuD,QAAQ;;IAG1C76C,GAAA,CAAIorF,QAAQ,CAAChuC,IAAA,EAAMlwD,CAAG,EAAAC,CAAA,EAAGf,IAAA,CAAKyuD,QAAQ;IACtCs0D,YAAa,CAAAnvG,GAAA,EAAK9S,CAAG,EAAAC,CAAA,EAAGiwD,IAAM,EAAAhxD,IAAA;IAE9Be,CAAK,IAAAi4C,MAAA,CAAO5oB,IAAA,CAAK81C,UAAU;EAC7B;EAEAtyD,GAAA,CAAIW,OAAO;AACb;AAEA;;;;AAIC;AACM,SAAS69E,mBACdx+E,GAA6B,EAC7BrE,IAA2C,EAC3C;EACA,IAAOzO,CAAC,GAAqByO,IAAA,CAAtBzO,CAAC;IAAEC,CAAC,GAAkBwO,IAAA,CAAnBxO,CAAC;IAAEuiC,CAAC,GAAe/zB,IAAA,CAAhB+zB,CAAC;IAAEnC,CAAC,GAAY5xB,IAAA,CAAb4xB,CAAC;IAAEiqB,MAAM,GAAI77C,IAAA,CAAV67C,MAAM;;EAGzBx3C,GAAA,CAAI87C,GAAG,CAAC5uD,CAAA,GAAIsqD,MAAO,CAAA2lC,OAAO,EAAEhwF,CAAI,GAAAqqD,MAAA,CAAO2lC,OAAO,EAAE3lC,MAAA,CAAO2lC,OAAO,EAAE,GAAM,GAAAnuE,EAAA,EAAIA,EAAA,EAAI,IAAI;;EAGlFhP,GAAA,CAAIw+D,MAAM,CAACtxE,CAAA,EAAGC,CAAI,GAAAogC,CAAA,GAAIiqB,MAAA,CAAO6lC,UAAU;;EAGvCr9E,GAAA,CAAI87C,GAAG,CAAC5uD,CAAA,GAAIsqD,MAAO,CAAA6lC,UAAU,EAAElwF,CAAI,GAAAogC,CAAA,GAAIiqB,MAAO,CAAA6lC,UAAU,EAAE7lC,MAAO,CAAA6lC,UAAU,EAAEruE,EAAA,EAAImqC,OAAA,EAAS,IAAI;;EAG9Fn5C,GAAA,CAAIw+D,MAAM,CAACtxE,CAAA,GAAIwiC,CAAA,GAAI8nB,MAAO,CAAA8lC,WAAW,EAAEnwF,CAAI,GAAAogC,CAAA;;EAG3CvtB,GAAA,CAAI87C,GAAG,CAAC5uD,CAAA,GAAIwiC,CAAI,GAAA8nB,MAAA,CAAO8lC,WAAW,EAAEnwF,CAAA,GAAIogC,CAAI,GAAAiqB,MAAA,CAAO8lC,WAAW,EAAE9lC,MAAA,CAAO8lC,WAAW,EAAEnkC,OAAA,EAAS,GAAG,IAAI;;EAGpGn5C,GAAA,CAAIw+D,MAAM,CAACtxE,CAAA,GAAIwiC,CAAG,EAAAviC,CAAA,GAAIqqD,MAAA,CAAO4lC,QAAQ;;EAGrCp9E,GAAA,CAAI87C,GAAG,CAAC5uD,CAAA,GAAIwiC,CAAI,GAAA8nB,MAAA,CAAO4lC,QAAQ,EAAEjwF,CAAA,GAAIqqD,MAAO,CAAA4lC,QAAQ,EAAE5lC,MAAO,CAAA4lC,QAAQ,EAAE,CAAG,GAACjkC,OAAA,EAAS,IAAI;;EAGxFn5C,GAAA,CAAIw+D,MAAM,CAACtxE,CAAI,GAAAsqD,MAAA,CAAO2lC,OAAO,EAAEhwF,CAAA;AACjC;ACpgBA,IAAM4iH,WAAc;AACpB,IAAMC,UAAa;AAEnB;;;GAAA;;;;;;;AAWC;AACM,SAASC,aAAat7F,KAAsB,EAAEoI,IAAY,EAAU;EACzE,IAAMmzF,OAAA,GAAU,CAAC,KAAKv7F,KAAI,EAAGw7F,KAAK,CAACJ,WAAA;EACnC,IAAI,CAACG,OAAW,IAAAA,OAAO,CAAC,EAAE,KAAK,QAAU;IACvC,OAAOnzF,IAAO;;EAGhBpI,KAAQ,IAACu7F,OAAO,CAAC,CAAE;EAEnB,QAAQA,OAAO,CAAC,CAAE;IAChB,KAAK;MACH,OAAOv7F,KAAA;IACT,KAAK;MACHA,KAAS;MACT;EAGJ;EAEA,OAAOoI,IAAO,GAAApI,KAAA;AAChB;AAEA,IAAMy7F,YAAe,YAAfA,YAAeA,CAACx9G,CAAe;EAAA,QAACA,CAAK;AAAA;AAQpC,SAASygF,kBAAkB1+D,KAAsC,EAAE7F,KAAwC,EAAE;EAClH,IAAMmgB,GAAA,GAAM,EAAC;EACb,IAAMohF,QAAA,GAAW/tE,QAAS,CAAAxzB,KAAA;EAC1B,IAAM/gB,IAAA,GAAOsiH,QAAW,GAAAviH,MAAA,CAAOC,IAAI,CAAC+gB,KAAA,IAASA,KAAK;EAClD,IAAMwhG,IAAA,GAAOhuE,QAAS,CAAA3tB,KAAA,IAClB07F,QACE,aAAAr/G,IAAA;IAAA,OAAQjF,cAAe,CAAA4oB,KAAK,CAAC3jB,IAAA,CAAK,EAAE2jB,KAAK,CAAC7F,KAAK,CAAC9d,IAAK,EAAC,CACtD;EAAA,cAAAA,IAAQ;IAAA,OAAA2jB,KAAK,CAAC3jB,IAAA,CAAK;EAAA,IACrB;IAAA,OAAM2jB,KAAK;EAAA;EAAA,IAAAihC,UAAA,GAAA5P,0BAAA,CAEIj4C,IAAM;IAAA8nD,MAAA;EAAA;IAAzB,KAAAD,UAAA,CAAAtmB,CAAA,MAAAumB,MAAA,GAAAD,UAAA,CAAArmB,CAAA,IAAApG,IAAA,GAAyB;MAAA,IAAdn4B,IAAA,GAAA6kD,MAAA,CAAAlhC,KAAA;MACTsa,GAAG,CAACj+B,IAAA,CAAK,GAAGo/G,YAAA,CAAaE,IAAK,CAAAt/G,IAAA;IAChC;EAAA,SAAA01B,GAAA;IAAAkvB,UAAA,CAAA73C,CAAA,CAAA2oB,GAAA;EAAA;IAAAkvB,UAAA,CAAAtnB,CAAA;EAAA;EACA,OAAOW,GAAA;AACT;AAEA;;;;;;;AAOC;AACM,SAAS4tD,MAAOA,CAAAloE,KAA4B,EAAE;EACnD,OAAO0+D,iBAAA,CAAkB1+D,KAAO;IAACxmB,GAAK;IAAKG,KAAO;IAAKF,MAAQ;IAAKC,IAAM;EAAG;AAC/E;AAEA;;;;;;AAMC;AACM,SAAS2uF,aAAcA,CAAAroE,KAA2B,EAAE;EACzD,OAAO0+D,iBAAA,CAAkB1+D,KAAO,GAAC,WAAW,YAAY,cAAc,cAAc;AACtF;AAEA;;;;;;;AAOC;AACM,SAAS20C,SAAUA,CAAA30C,KAAqB,EAAa;EAC1D,IAAM3P,GAAA,GAAM63E,MAAO,CAAAloE,KAAA;EAEnB3P,GAAA,CAAI3R,KAAK,GAAG2R,GAAA,CAAI3W,IAAI,GAAG2W,GAAA,CAAI1W,KAAK;EAChC0W,GAAA,CAAI1R,MAAM,GAAG0R,GAAA,CAAI7W,GAAG,GAAG6W,GAAA,CAAI5W,MAAM;EAEjC,OAAO4W,GAAA;AACT;AAEA;;;;;;AAMC;AAEM,SAASotD,OAAO5jE,OAA0B,EAAEyC,QAA4B,EAAE;EAC/EzC,OAAA,GAAUA,OAAA,IAAW,EAAC;EACtByC,QAAW,GAAAA,QAAA,IAAY4P,QAAA,CAAS2b,IAAI;EAEpC,IAAIO,IAAA,GAAOhxB,cAAe,CAAAyC,OAAA,CAAQuuB,IAAI,EAAE9rB,QAAA,CAAS8rB,IAAI;EAErD,IAAI,OAAOA,IAAA,KAAS,QAAU;IAC5BA,IAAA,GAAOye,QAAA,CAASze,IAAM;;EAExB,IAAI/I,KAAA,GAAQjoB,cAAe,CAAAyC,OAAA,CAAQwlB,KAAK,EAAE/iB,QAAA,CAAS+iB,KAAK;EACxD,IAAIA,KAAA,IAAS,CAAC,CAAC,KAAKA,KAAI,EAAGm8F,KAAK,CAACH,UAAa;IAC5C7uG,OAAQ,CAAAC,IAAI,CAAC,oCAAoC4S,KAAQ;IACzDA,KAAQ,GAAAjnB,SAAA;;EAGV,IAAMyvB,IAAO;IACXe,MAAA,EAAQxxB,cAAe,CAAAyC,OAAA,CAAQ+uB,MAAM,EAAEtsB,QAAA,CAASssB,MAAM;IACtD+0C,UAAA,EAAY29C,YAAA,CAAalkH,cAAe,CAAAyC,OAAA,CAAQ8jE,UAAU,EAAErhE,QAAA,CAASqhE,UAAU,CAAG,EAAAv1C,IAAA;IAClFA,IAAA,EAAAA,IAAA;IACA/I,KAAA,EAAAA,KAAA;IACAyI,MAAA,EAAQ1wB,cAAe,CAAAyC,OAAA,CAAQiuB,MAAM,EAAExrB,QAAA,CAASwrB,MAAM;IACtDs9C,MAAQ;EACV;EAEAv9C,IAAK,CAAAu9C,MAAM,GAAG6zC,YAAa,CAAApxF,IAAA;EAC3B,OAAOA,IAAA;AACT;AAEA;;;;;;;;;;;AAWO,SAAS0L,QAAQqoF,MAAsB,EAAE7rG,OAAgB,EAAEoB,KAAc,EAAEujB,IAA6B,EAAE;EAC/G,IAAImnF,SAAA,GAAY,IAAI;EACpB,IAAIxiH,CAAA,EAAWi2C,IAAc,EAAAtvB,KAAA;EAE7B,KAAK3mB,CAAA,GAAI,GAAGi2C,IAAO,GAAAssE,MAAA,CAAOtiH,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAC/C2mB,KAAQ,GAAA47F,MAAM,CAACviH,CAAE;IACjB,IAAI2mB,KAAA,KAAU5nB,SAAW;MACvB;;IAEF,IAAI2X,OAAY,KAAA3X,SAAA,IAAa,OAAO4nB,KAAA,KAAU,UAAY;MACxDA,KAAA,GAAQA,KAAM,CAAAjQ,OAAA;MACd8rG,SAAA,GAAY,KAAK;;IAEnB,IAAI1qG,KAAA,KAAU/Y,SAAa,IAAAgY,OAAA,CAAQ4P,KAAQ;MACzCA,KAAA,GAAQA,KAAK,CAAC7O,KAAQ,GAAA6O,KAAA,CAAM1mB,MAAM,CAAC;MACnCuiH,SAAA,GAAY,KAAK;;IAEnB,IAAI77F,KAAA,KAAU5nB,SAAW;MACvB,IAAIs8B,IAAA,IAAQ,CAACmnF,SAAW;QACtBnnF,IAAK,CAAAmnF,SAAS,GAAG,KAAK;;MAExB,OAAO77F,KAAA;;EAEX;AACF;AAEA;;;;;;AAMO,SAASghD,SAAUA,CAAA86C,MAAqC,EAAEt7C,KAAsB,EAAE/d,WAAoB,EAAE;EAC7G,IAAO9mD,GAAA,GAAYmgH,MAAA,CAAZngH,GAAA;IAAKD,GAAA,GAAOogH,MAAA,CAAPpgH,GAAA;EACZ,IAAM63D,MAAA,GAASlN,WAAY,CAAAma,KAAA,EAAO,CAAC9kE,GAAA,GAAMC,GAAE,IAAK;EAChD,IAAMogH,QAAA,GAAW,SAAXA,SAAY/7F,KAAe,EAAAzV,GAAA;IAAA,OAAgBk4C,WAAA,IAAeziC,KAAU,SAAI,CAAI,GAAAA,KAAA,GAAQzV,GAAG;EAAA;EAC7F,OAAO;IACL5O,GAAA,EAAKogH,QAAS,CAAApgH,GAAA,EAAK,CAACK,IAAA,CAAKgD,GAAG,CAACu0D,MAAA;IAC7B73D,GAAA,EAAKqgH,QAAA,CAASrgH,GAAK,EAAA63D,MAAA;EACrB;AACF;AAUO,SAAS/gB,cAAcwpE,aAAqB,EAAEjsG,OAAe,EAAE;EACpE,OAAO5W,MAAA,CAAO6X,MAAM,CAAC7X,MAAO,CAAA6Y,MAAM,CAACgqG,aAAgB,GAAAjsG,OAAA;AACrD;;AC7LA;;;;;;;;;AASC;AACM,SAAS0kE,eAIdA,CAAA79B,MAAS,EAKT;EAAA,IAAA+F,MAAA;EAAA,IAJA5C,QAAW,GAAA78C,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,OAAC,GAAG;EAAA,IACf++G,UAAc,GAAA/+G,SAAA,CAAA5D,MAAA,OAAA4D,SAAA,MAAA9E,SAAA;EAAA,IACdkE,QAA4B,GAAAY,SAAA,CAAA5D,MAAA,OAAA4D,SAAA,MAAA9E,SAAA;EAAA,IAC5B8jH,SAAA,GAAAh/G,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAY;IAAA,OAAM05C,MAAM,CAAC,EAAE;EAAA;EAE3B,IAAMulE,eAAA,GAAkBF,UAAc,IAAArlE,MAAA;EACtC,IAAI,OAAOt6C,QAAA,KAAa,WAAa;IACnCA,QAAA,GAAW8/G,QAAA,CAAS,WAAa,EAAAxlE,MAAA;;EAEnC,IAAM8C,KAA6B,IAAAiD,MAAA,OAAAlF,eAAA,CAAAkF,MAAA,EAChCrrB,MAAA,CAAOK,WAAW,EAAG,WAAA8lB,eAAA,CAAAkF,MAAA,gBACV,IAAI,GAAAlF,eAAA,CAAAkF,MAAA,aACP/F,MAAA,GAAAa,eAAA,CAAAkF,MAAA,iBACIw/D,eAAA,GAAA1kE,eAAA,CAAAkF,MAAA,eACFrgD,QAAA,GAAAm7C,eAAA,CAAAkF,MAAA,gBACCu/D,SAAA,GAAAzkE,eAAA,CAAAkF,MAAA,cACF,SAAA0Q,SAACge,KAAA;IAAA,OAAqBoJ,eAAgB,EAACpJ,KAAA,EAAAz9D,MAAA,CAAAisB,kBAAA,CAAU+c,MAAA,IAASmD,QAAA,EAAUoiE,eAAiB,EAAA7/G,QAAA;EAAA,IAAAqgD,MAAA,CACjG;EACA,OAAO,IAAI0/D,KAAA,CAAM3iE,KAAO;IACtB;;AAEC;IACD4iE,cAAe,WAAAA,eAAA13G,MAAM,EAAEvI,IAAY,EAAE;MACnC,OAAOuI,MAAM,CAACvI,IAAK;MACnB,OAAOuI,MAAA,CAAOmxE,KAAK;MACnB,OAAOn/B,MAAM,CAAC,EAAE,CAACv6C,IAAA,CAAK;MACtB,OAAO,IAAI;IACb;IAEA;;AAEC;IACDtB,GAAI,WAAAA,IAAA6J,MAAM,EAAEvI,IAAY,EAAE;MACxB,OAAOkgH,OAAA,CAAQ33G,MAAQ,EAAAvI,IAAA,EACrB;QAAA,OAAMmgH,oBAAqB,CAAAngH,IAAA,EAAM09C,QAAA,EAAUnD,MAAQ,EAAAhyC,MAAA;MAAA;IACvD;IAEA;;;AAGC;IACD63G,wBAAyB,WAAAA,yBAAA73G,MAAM,EAAEvI,IAAI,EAAE;MACrC,OAAOqgH,OAAA,CAAQD,wBAAwB,CAAC73G,MAAA,CAAO+3G,OAAO,CAAC,EAAE,EAAEtgH,IAAA;IAC7D;IAEA;;AAEC;IACD02B,cAAiB,WAAAA,eAAA;MACf,OAAO2pF,OAAQ,CAAA3pF,cAAc,CAAC6jB,MAAM,CAAC,CAAE;IACzC;IAEA;;AAEC;IACDzL,GAAI,WAAAA,IAAAvmC,MAAM,EAAEvI,IAAY,EAAE;MACxB,OAAOugH,oBAAA,CAAqBh4G,MAAQ,EAAA2sD,QAAQ,CAACl1D,IAAA;IAC/C;IAEA;;;IAGAwgH,OAAA,WAAAA,QAAQj4G,MAAM,EAAE;MACd,OAAOg4G,oBAAqB,CAAAh4G,MAAA;IAC9B;IAEA;;AAEC;IACDxJ,GAAA,WAAAA,IAAIwJ,MAAM,EAAEvI,IAAY,EAAE2jB,KAAK,EAAE;MAC/B,IAAM88F,OAAA,GAAUl4G,MAAA,CAAOm4G,QAAQ,KAAKn4G,MAAO,CAAAm4G,QAAQ,GAAGb,SAAU;MAChEt3G,MAAM,CAACvI,IAAA,CAAK,GAAGygH,OAAO,CAACzgH,IAAK,IAAG2jB,KAAA;MAC/B,OAAOpb,MAAA,CAAOmxE,KAAK;MACnB,OAAO,IAAI;IACb;EACF;AACF;AAEA;;;;;;;;AAQO,SAAS5B,eAId7a,KAA0B,EAC1BvpD,OAAkB,EAClBitG,QAA8B,EAC9B1oC,kBAAuC,EACvC;EACA,IAAM56B,KAA4B;IAChCU,UAAA,EAAY,KAAK;IACjB63B,MAAQ,EAAA3Y,KAAA;IACRhhC,QAAU,EAAAvoB,OAAA;IACVktG,SAAW,EAAAD,QAAA;IACXxrD,MAAA,EAAQ,IAAImhB,GAAA;IACZlD,YAAA,EAAcA,YAAA,CAAanW,KAAO,EAAAgb,kBAAA;IAClC3U,UAAA,EAAY,SAAAA,WAACt0D,GAAA;MAAA,OAAmB8oE,cAAe,CAAA7a,KAAA,EAAOjuD,GAAA,EAAK2xG,QAAU,EAAA1oC,kBAAA;IAAA;IACrEjnB,QAAU,WAAAA,SAACge,KAAA;MAAA,OAAqB8I,cAAe,CAAA7a,KAAA,CAAMjM,QAAQ,CAACge,KAAA,GAAQt7D,OAAA,EAASitG,QAAU,EAAA1oC,kBAAA;IAAA;EAC3F;EACA,OAAO,IAAI+nC,KAAA,CAAM3iE,KAAO;IACtB;;AAEC;IACD4iE,cAAe,WAAAA,eAAA13G,MAAM,EAAEvI,IAAI,EAAE;MAC3B,OAAOuI,MAAM,CAACvI,IAAK;MACnB,OAAOi9D,KAAK,CAACj9D,IAAK;MAClB,OAAO,IAAI;IACb;IAEA;;AAEC;IACDtB,GAAA,WAAAA,IAAI6J,MAAM,EAAEvI,IAAY,EAAE6gH,QAAQ,EAAE;MAClC,OAAOX,OAAA,CAAQ33G,MAAQ,EAAAvI,IAAA,EACrB;QAAA,OAAM8gH,mBAAA,CAAoBv4G,MAAA,EAAQvI,IAAM,EAAA6gH,QAAA;MAAA;IAC5C;IAEA;;;AAGC;IACDT,wBAAyB,WAAAA,yBAAA73G,MAAM,EAAEvI,IAAI,EAAE;MACrC,OAAOuI,MAAA,CAAO6qE,YAAY,CAACoB,OAAO,GAC9B6rC,OAAQ,CAAAvxE,GAAG,CAACmuB,KAAA,EAAOj9D,IAAQ;QAACu1B,UAAA,EAAY,IAAI;QAAEC,YAAA,EAAc;MAAI,IAAIz5B,SAAS,GAC7EskH,OAAA,CAAQD,wBAAwB,CAACnjD,KAAA,EAAOj9D,IAAK;IACnD;IAEA;;AAEC;IACD02B,cAAiB,WAAAA,eAAA;MACf,OAAO2pF,OAAA,CAAQ3pF,cAAc,CAACumC,KAAA;IAChC;IAEA;;AAEC;IACDnuB,GAAI,WAAAA,IAAAvmC,MAAM,EAAEvI,IAAI,EAAE;MAChB,OAAOqgH,OAAA,CAAQvxE,GAAG,CAACmuB,KAAO,EAAAj9D,IAAA;IAC5B;IAEA;;AAEC;IACDwgH,OAAU,WAAAA,QAAA;MACR,OAAOH,OAAA,CAAQG,OAAO,CAACvjD,KAAA;IACzB;IAEA;;AAEC;IACDl+D,GAAA,WAAAA,IAAIwJ,MAAM,EAAEvI,IAAI,EAAE2jB,KAAK,EAAE;MACvBs5C,KAAK,CAACj9D,IAAA,CAAK,GAAG2jB,KAAA;MACd,OAAOpb,MAAM,CAACvI,IAAK;MACnB,OAAO,IAAI;IACb;EACF;AACF;AAEA;;AAEC;AACM,SAASozE,YACdA,CAAAnW,KAAoB,EAER;EAAA,IADZptD,QAA+B,GAAAhP,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA;IAACyzE,UAAA,EAAY,IAAI;IAAEC,SAAA,EAAW;EAAI,CAAC;EAElE,IAAAwsC,kBAAA,GAA0G9jD,KAAA,CAAnG3R,WAAc;IAAdA,WAAc,GAAAy1D,kBAAA,cAAAlxG,QAAA,CAASykE,UAAU,GAAAysC,kBAAA;IAAAC,iBAAA,GAAkE/jD,KAAA,CAAhE1R,UAAa;IAAbA,UAAa,GAAAy1D,iBAAA,cAAAnxG,QAAA,CAAS0kE,SAAS,GAAAysC,iBAAA;IAAAC,eAAA,GAAiChkD,KAAA,CAA/BikD,QAAW;IAAXA,QAAW,GAAAD,eAAA,cAAApxG,QAAA,CAAS2kE,OAAO,GAAAysC,eAAA;EACtG,OAAO;IACLzsC,OAAS,EAAA0sC,QAAA;IACT5sC,UAAY,EAAAhpB,WAAA;IACZipB,SAAW,EAAAhpB,UAAA;IACXgtB,YAAA,EAAcX,UAAW,CAAAtsB,WAAA,IAAeA,WAAc;MAAA,OAAMA,WAAW;IAAA;IACvEktB,WAAA,EAAaZ,UAAW,CAAArsB,UAAA,IAAcA,UAAa;MAAA,OAAMA,UAAU;IAAA;EACrE;AACF;AAEA,IAAM41D,OAAA,GAAU,SAAVA,QAAWrpG,MAAgB,EAAAnM,IAAA;EAAA,OAAiBmM,MAAA,GAASA,MAAS,GAAAg7D,WAAA,CAAYnnE,IAAA,IAAQA,IAAI;AAAA;AAC5F,IAAMy1G,gBAAA,GAAmB,SAAnBA,iBAAoBphH,IAAA,EAAc2jB,KAAA;EAAA,OAAmB2tB,QAAS,CAAA3tB,KAAA,KAAU3jB,IAAA,KAAS,UACpF,KAAAlD,MAAO,CAAA45B,cAAc,CAAC/S,KAAW,UAAI,IAAIA,KAAM,CAAA/N,WAAW,KAAK9Y,MAAK;AAAA;AAEvE,SAASojH,QACP33G,MAAiB,EACjBvI,IAAY,EACZk3B,OAAsB,EACtB;EACA,IAAIp6B,MAAA,CAAOkT,SAAS,CAACC,cAAc,CAACC,IAAI,CAAC3H,MAAA,EAAQvI,IAAO;IACtD,OAAOuI,MAAM,CAACvI,IAAK;;EAGrB,IAAM2jB,KAAQ,GAAAuT,OAAA;;EAEd3uB,MAAM,CAACvI,IAAA,CAAK,GAAG2jB,KAAA;EACf,OAAOA,KAAA;AACT;AAEA,SAASm9F,oBACPv4G,MAAoB,EACpBvI,IAAY,EACZ6gH,QAAmB,EACnB;EACA,IAAOjrC,MAAM,GAAoDrtE,MAAA,CAA1DqtE,MAAM;IAAE35C,QAAQ,GAA0C1zB,MAAA,CAAlD0zB,QAAQ;IAAE2kF,SAAA,GAAwCr4G,MAAA,CAAxCq4G,SAAA;IAAyBjxC,WAAW,GAAIpnE,MAAA,CAA7B6qE,YAAA;EACpC,IAAIzvD,KAAQ,GAAAiyD,MAAM,CAAC51E,IAAA,CAAK;;EAGxB,IAAI43E,UAAW,CAAAj0D,KAAA,KAAUgsD,WAAY,CAAA4I,YAAY,CAACv4E,IAAO;IACvD2jB,KAAQ,GAAA09F,kBAAA,CAAmBrhH,IAAM,EAAA2jB,KAAA,EAAOpb,MAAQ,EAAAs4G,QAAA;;EAElD,IAAI9sG,OAAQ,CAAA4P,KAAA,KAAUA,KAAM,CAAA1mB,MAAM,EAAE;IAClC0mB,KAAA,GAAQ29F,aAAc,CAAAthH,IAAA,EAAM2jB,KAAO,EAAApb,MAAA,EAAQonE,WAAA,CAAY6I,WAAW;;EAEpE,IAAI4oC,gBAAA,CAAiBphH,IAAA,EAAM2jB,KAAQ;;IAEjCA,KAAA,GAAQm0D,cAAA,CAAen0D,KAAO,EAAAsY,QAAA,EAAU2kF,SAAA,IAAaA,SAAS,CAAC5gH,IAAA,CAAK,EAAE2vE,WAAA;;EAExE,OAAOhsD,KAAA;AACT;AAEA,SAAS09F,mBACPrhH,IAAY,EACZuhH,QAAqD,EACrDh5G,MAAoB,EACpBs4G,QAAmB,EACnB;EACA,IAAOjrC,MAAA,GAAuCrtE,MAAA,CAAvCqtE,MAAA;IAAQ35C,QAAA,GAA+B1zB,MAAA,CAA/B0zB,QAAA;IAAU2kF,SAAS,GAAYr4G,MAAA,CAArBq4G,SAAS;IAAEzrD,MAAM,GAAI5sD,MAAA,CAAV4sD,MAAM;EAC1C,IAAIA,MAAA,CAAOrmB,GAAG,CAAC9uC,IAAO;IACpB,MAAM,IAAIuU,KAAM,0BAAyBT,KAAM,CAAArS,IAAI,CAAC0zD,MAAA,EAAQ3jD,IAAI,CAAC,IAAQ,WAAOxR,IAAM;;EAExFm1D,MAAA,CAAOjnD,GAAG,CAAClO,IAAA;EACX,IAAI2jB,KAAA,GAAQ49F,QAAS,CAAAtlF,QAAA,EAAU2kF,SAAa,IAAAC,QAAA;EAC5C1rD,MAAA,UAAa,CAACn1D,IAAA;EACd,IAAIohH,gBAAA,CAAiBphH,IAAA,EAAM2jB,KAAQ;;IAEjCA,KAAA,GAAQ69F,iBAAkB,CAAA5rC,MAAA,CAAO0qC,OAAO,EAAE1qC,MAAA,EAAQ51E,IAAM,EAAA2jB,KAAA;;EAE1D,OAAOA,KAAA;AACT;AAEA,SAAS29F,cACPthH,IAAY,EACZ2jB,KAAgB,EAChBpb,MAAoB,EACpBiwE,WAAqC,EACrC;EACA,IAAO5C,MAAM,GAAoDrtE,MAAA,CAA1DqtE,MAAM;IAAE35C,QAAQ,GAA0C1zB,MAAA,CAAlD0zB,QAAQ;IAAE2kF,SAAA,GAAwCr4G,MAAA,CAAxCq4G,SAAA;IAAyBjxC,WAAW,GAAIpnE,MAAA,CAA7B6qE,YAAA;EAEpC,IAAI,OAAOn3C,QAAS,CAAAnnB,KAAK,KAAK,eAAe0jE,WAAA,CAAYx4E,IAAO;IAC9D,OAAO2jB,KAAK,CAACsY,QAAA,CAASnnB,KAAK,GAAG6O,KAAA,CAAM1mB,MAAM,CAAC;EAC7C,OAAO,IAAIq0C,QAAA,CAAS3tB,KAAK,CAAC,EAAE,CAAG;;IAE7B,IAAM87B,GAAM,GAAA97B,KAAA;IACZ,IAAM42B,MAAA,GAASq7B,MAAA,CAAO0qC,OAAO,CAAC9+F,MAAM,CAAC,UAAA8c,CAAA;MAAA,OAAKA,CAAM,KAAAmhB,GAAA;IAAA;IAChD97B,KAAA,GAAQ,EAAE;IAAA,IAAAqxC,UAAA,GAAAhgB,0BAAA,CACSyK,GAAK;MAAAwV,MAAA;IAAA;MAAxB,KAAAD,UAAA,CAAA12B,CAAA,MAAA22B,MAAA,GAAAD,UAAA,CAAAz2B,CAAA,IAAApG,IAAA,GAAwB;QAAA,IAAb/mB,IAAA,GAAA6jD,MAAA,CAAAtxC,KAAA;QACT,IAAM8zD,QAAW,GAAA+pC,iBAAA,CAAkBjnE,MAAQ,EAAAq7B,MAAA,EAAQ51E,IAAM,EAAAoR,IAAA;QACzDuS,KAAM,CAAAtlB,IAAI,CAACy5E,cAAe,CAAAL,QAAA,EAAUx7C,QAAA,EAAU2kF,SAAa,IAAAA,SAAS,CAAC5gH,IAAA,CAAK,EAAE2vE,WAAA;MAC9E;IAAA,SAAAj6C,GAAA;MAAAs/B,UAAA,CAAAjoD,CAAA,CAAA2oB,GAAA;IAAA;MAAAs/B,UAAA,CAAA13B,CAAA;IAAA;;EAEF,OAAO3Z,KAAA;AACT;AAEA,SAAS89F,gBACPxhH,QAA8F,EAC9FD,IAAuB,EACvB2jB,KAAc,EACd;EACA,OAAOi0D,UAAW,CAAA33E,QAAA,IAAYA,QAAS,CAAAD,IAAA,EAAM2jB,KAAA,IAAS1jB,QAAQ;AAChE;AAEA,IAAMyhH,QAAW,YAAXA,QAAWA,CAAClmH,GAAwB,EAAAmb,MAAA;EAAA,OAAsBnb,GAAA,KAAQ,IAAI,GAAGmb,MAC3E,UAAOnb,GAAQ,gBAAWkgD,gBAAiB,CAAA/kC,MAAA,EAAQnb,GAAA,IAAOO,SAAS;AAAA;AAEvE,SAAS4lH,UACP5iH,GAAmB,EACnB6iH,YAAyB,EACzBpmH,GAAsB,EACtBqmH,cAAiC,EACjCl+F,KAAc,EACd;EAAA,IAAAm0C,UAAA,GAAA9iB,0BAAA,CACqB4sE,YAAc;IAAA7pD,MAAA;EAAA;IAAnC,KAAAD,UAAA,CAAAx5B,CAAA,MAAAy5B,MAAA,GAAAD,UAAA,CAAAv5B,CAAA,IAAApG,IAAA,GAAmC;MAAA,IAAxBxhB,MAAA,GAAAohD,MAAA,CAAAp0C,KAAA;MACT,IAAMqrD,KAAA,GAAQ0yC,QAAA,CAASlmH,GAAK,EAAAmb,MAAA;MAC5B,IAAIq4D,KAAO;QACTjwE,GAAA,CAAImP,GAAG,CAAC8gE,KAAA;QACR,IAAM/uE,QAAW,GAAAwhH,eAAA,CAAgBzyC,KAAM,CAAA42B,SAAS,EAAEpqG,GAAK,EAAAmoB,KAAA;QACvD,IAAI,OAAO1jB,QAAa,oBAAeA,QAAa,KAAAzE,GAAA,IAAOyE,QAAA,KAAa4hH,cAAgB;;;UAGtF,OAAO5hH,QAAA;;OAEJ,UAAI+uE,KAAA,KAAU,KAAK,IAAI,OAAO6yC,cAAmB,oBAAermH,GAAA,KAAQqmH,cAAgB;;;QAG7F,OAAO,IAAI;;IAEf;EAAA,SAAAnsF,GAAA;IAAAoiC,UAAA,CAAA/qD,CAAA,CAAA2oB,GAAA;EAAA;IAAAoiC,UAAA,CAAAx6B,CAAA;EAAA;EACA,OAAO,KAAK;AACd;AAEA,SAASkkF,kBACPI,YAAyB,EACzBnqC,QAAuB,EACvBz3E,IAAuB,EACvB2jB,KAAc,EACd;EACA,IAAMi8F,UAAA,GAAanoC,QAAA,CAASqqC,WAAW;EACvC,IAAM7hH,QAAW,GAAAwhH,eAAA,CAAgBhqC,QAAS,CAAAmuB,SAAS,EAAE5lG,IAAM,EAAA2jB,KAAA;EAC3D,IAAMo+F,SAAY,MAAAxwG,MAAA,CAAAisB,kBAAA,CAAIokF,YAAA,GAAApkF,kBAAA,CAAiBoiF,UAAA,EAAW;EAClD,IAAM7gH,GAAA,GAAM,IAAIu3E,GAAA;EAChBv3E,GAAA,CAAImP,GAAG,CAACyV,KAAA;EACR,IAAInoB,GAAA,GAAMwmH,gBAAiB,CAAAjjH,GAAA,EAAKgjH,SAAW,EAAA/hH,IAAA,EAAMC,QAAA,IAAYD,IAAM,EAAA2jB,KAAA;EACnE,IAAInoB,GAAA,KAAQ,IAAI,EAAE;IAChB,OAAO,KAAK;;EAEd,IAAI,OAAOyE,QAAA,KAAa,WAAe,IAAAA,QAAA,KAAaD,IAAM;IACxDxE,GAAA,GAAMwmH,gBAAiB,CAAAjjH,GAAA,EAAKgjH,SAAW,EAAA9hH,QAAA,EAAUzE,GAAK,EAAAmoB,KAAA;IACtD,IAAInoB,GAAA,KAAQ,IAAI,EAAE;MAChB,OAAO,KAAK;;;EAGhB,OAAO48E,eAAgB,CAAAtkE,KAAA,CAAMrS,IAAI,CAAC1C,GAAM,IAAC,GAAG,EAAE6gH,UAAY,EAAA3/G,QAAA,EACxD;IAAA,OAAMgiH,YAAA,CAAaxqC,QAAA,EAAUz3E,IAAgB,EAAA2jB,KAAA;EAAA;AACjD;AAEA,SAASq+F,iBACPjjH,GAAmB,EACnBgjH,SAAsB,EACtBvmH,GAAsB,EACtByE,QAA2B,EAC3BmR,IAAa,EACb;EACA,OAAO5V,GAAK;IACVA,GAAA,GAAMmmH,SAAU,CAAA5iH,GAAA,EAAKgjH,SAAW,EAAAvmH,GAAA,EAAKyE,QAAU,EAAAmR,IAAA;EACjD;EACA,OAAO5V,GAAA;AACT;AAEA,SAASymH,aACPxqC,QAAuB,EACvBz3E,IAAY,EACZ2jB,KAAc,EACd;EACA,IAAMhN,MAAA,GAAS8gE,QAAA,CAASuc,UAAU;EAClC,IAAI,EAAEh0F,IAAQ,IAAA2W,MAAK,CAAI;IACrBA,MAAM,CAAC3W,IAAK,IAAG,EAAC;;EAElB,IAAMuI,MAAA,GAASoO,MAAM,CAAC3W,IAAK;EAC3B,IAAI+T,OAAA,CAAQxL,MAAW,KAAA+oC,QAAA,CAAS3tB,KAAQ;;IAEtC,OAAOA,KAAA;;EAET,OAAOpb,MAAA,IAAU,EAAC;AACpB;AAEA,SAAS43G,qBACPngH,IAAY,EACZ09C,QAAkB,EAClBnD,MAAmB,EACnB0iB,KAAoB,EACpB;EACA,IAAIt5C,KAAA;EAAA,IAAAi3C,UAAA,GAAA5lB,0BAAA,CACiB0I,QAAU;IAAAmd,MAAA;EAAA;IAA/B,KAAAD,UAAA,CAAAt8B,CAAA,MAAAu8B,MAAA,GAAAD,UAAA,CAAAr8B,CAAA,IAAApG,IAAA,GAA+B;MAAA,IAApBrgB,MAAA,GAAA+iD,MAAA,CAAAl3C,KAAA;MACTA,KAAQ,GAAAo8F,QAAA,CAASoB,OAAQ,CAAArpG,MAAA,EAAQ9X,IAAO,GAAAu6C,MAAA;MACxC,IAAI,OAAO52B,KAAA,KAAU,WAAa;QAChC,OAAOy9F,gBAAA,CAAiBphH,IAAA,EAAM2jB,KAC1B,IAAA69F,iBAAA,CAAkBjnE,MAAA,EAAQ0iB,KAAO,EAAAj9D,IAAA,EAAM2jB,KAAA,IACvCA,KAAK;;IAEb;EAAA,SAAA+R,GAAA;IAAAklC,UAAA,CAAA7tD,CAAA,CAAA2oB,GAAA;EAAA;IAAAklC,UAAA,CAAAt9B,CAAA;EAAA;AACF;AAEA,SAASyiF,QAASA,CAAAvkH,GAAW,EAAE++C,MAAmB,EAAE;EAAA,IAAA6gB,UAAA,GAAApmB,0BAAA,CAC9BuF,MAAQ;IAAA8gB,MAAA;EAAA;IAA5B,KAAAD,UAAA,CAAA98B,CAAA,MAAA+8B,MAAA,GAAAD,UAAA,CAAA78B,CAAA,IAAApG,IAAA,GAA4B;MAAA,IAAjB62C,KAAA,GAAA3T,MAAA,CAAA13C,KAAA;MACT,IAAI,CAACqrD,KAAO;QACV;;MAEF,IAAMrrD,KAAA,GAAQqrD,KAAK,CAACxzE,GAAI;MACxB,IAAI,OAAOmoB,KAAA,KAAU,WAAa;QAChC,OAAOA,KAAA;;IAEX;EAAA,SAAA+R,GAAA;IAAA0lC,UAAA,CAAAruD,CAAA,CAAA2oB,GAAA;EAAA;IAAA0lC,UAAA,CAAA99B,CAAA;EAAA;AACF;AAEA,SAASijF,qBAAqBh4G,MAAqB,EAAE;EACnD,IAAIxL,IAAA,GAAOwL,MAAA,CAAOmxE,KAAK;EACvB,IAAI,CAAC38E,IAAM;IACTA,IAAA,GAAOwL,MAAO,CAAAmxE,KAAK,GAAGwoC,wBAAA,CAAyB35G,MAAA,CAAO+3G,OAAO;;EAE/D,OAAOvjH,IAAA;AACT;AAEA,SAASmlH,yBAAyB3nE,MAAmB,EAAE;EACrD,IAAMx7C,GAAA,GAAM,IAAIu3E,GAAA;EAAA,IAAA1a,UAAA,GAAA5mB,0BAAA,CACIuF,MAAQ;IAAAshB,MAAA;EAAA;IAA5B,KAAAD,UAAA,CAAAt9B,CAAA,MAAAu9B,MAAA,GAAAD,UAAA,CAAAr9B,CAAA,IAAApG,IAAA,GAA4B;MAAA,IAAjB62C,KAAA,GAAAnT,MAAA,CAAAl4C,KAAA;MAAA,IAAAqqD,WAAA,GAAAh5B,0BAAA,CACSl4C,MAAO,CAAAC,IAAI,CAACiyE,KAAO,EAAAxtD,MAAM,CAAC,UAAAzP,CAAK;UAAA,QAACA,CAAE,CAAAy5C,UAAU,CAAC,GAAO;QAAA;QAAAyiB,OAAA;MAAA;QAAtE,KAAAD,WAAA,CAAA1vC,CAAA,MAAA2vC,OAAA,GAAAD,WAAA,CAAAzvC,CAAA,IAAApG,IAAA,GAAsE;UAAA,IAA3D38B,GAAA,GAAAyyE,OAAA,CAAAtqD,KAAA;UACT5kB,GAAA,CAAImP,GAAG,CAAC1S,GAAA;QACV;MAAA,SAAAk6B,GAAA;QAAAs4C,WAAA,CAAAjhE,CAAA,CAAA2oB,GAAA;MAAA;QAAAs4C,WAAA,CAAA1wC,CAAA;MAAA;IACF;EAAA,SAAA5H,GAAA;IAAAkmC,UAAA,CAAA7uD,CAAA,CAAA2oB,GAAA;EAAA;IAAAkmC,UAAA,CAAAt+B,CAAA;EAAA;EACA,OAAOxpB,KAAA,CAAMrS,IAAI,CAAC1C,GAAA;AACpB;AAEO,SAASmvD,4BACdva,IAAmC,EACnC3gC,IAAiB,EACjBlD,KAAa,EACbiY,KAAa,EACb;EACA,IAAOytB,MAAM,GAAI7B,IAAA,CAAV6B,MAAM;EACb,IAAAqT,kBAAA,GAAoB,IAAI,CAACtR,QAAQ,CAA1B/7C,GAAM;IAANA,GAAM,GAAAqtD,kBAAA,oBAAAA,kBAAA;EACb,IAAMxT,MAAA,GAAS,IAAIvhC,KAAoB,CAAAiU,KAAA;EACvC,IAAI/qB,CAAA,EAAWi2C,IAAA,EAAcn+B,KAAe,EAAA1D,IAAA;EAE5C,KAAKpU,CAAA,GAAI,GAAGi2C,IAAO,GAAAlrB,KAAK,EAAE/qB,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;IACvC8X,KAAA,GAAQ9X,CAAI,GAAA8S,KAAA;IACZsB,IAAO,GAAA4B,IAAI,CAAC8B,KAAM;IAClBugC,MAAM,CAACr4C,CAAA,CAAE,GAAG;MACV6gC,CAAA,EAAG2X,MAAO,CAAAn0C,KAAK,CAACq6C,gBAAA,CAAiBtqC,IAAA,EAAM5V,GAAM,GAAAsZ,KAAA;IAC/C;EACF;EACA,OAAOugC,MAAA;AACT;AClcA,IAAM8sE,OAAA,GAAU/tE,MAAO,CAAA+tE,OAAO,IAAI;AAGlC,IAAMC,QAAA,GAAW,SAAXA,SAAY37D,MAAA,EAAuBzpD,CAAmC;EAAA,OAAAA,CAAA,GAAIypD,MAAA,CAAOxpD,MAAM,IAAI,CAACwpD,MAAM,CAACzpD,CAAE,EAAC8pD,IAAI,IAAIL,MAAM,CAACzpD,CAAE;AAAA;AAC7H,IAAMqlH,YAAA,GAAe,SAAfA,aAAgBppE,SAAA;EAAA,OAAyBA,SAAc,WAAM,MAAM,GAAG;AAAA;AAErE,SAASqpE,YACd30D,UAAuB,EACvB40D,WAAwB,EACxBC,UAAuB,EACvB5/F,CAAS,EAIP;;;;EAMF,IAAMle,QAAW,GAAAipD,UAAA,CAAW7G,IAAI,GAAGy7D,WAAA,GAAc50D,UAAU;EAC3D,IAAMl/B,OAAU,GAAA8zF,WAAA;EAChB,IAAMhqF,IAAO,GAAAiqF,UAAA,CAAW17D,IAAI,GAAGy7D,WAAA,GAAcC,UAAU;EACvD,IAAMC,GAAA,GAAMtlB,qBAAA,CAAsB1uE,OAAS,EAAA/pB,QAAA;EAC3C,IAAMg+G,GAAA,GAAMvlB,qBAAA,CAAsB5kE,IAAM,EAAA9J,OAAA;EAExC,IAAIk0F,GAAM,GAAAF,GAAA,IAAOA,GAAA,GAAMC,GAAE;EACzB,IAAIE,GAAM,GAAAF,GAAA,IAAOD,GAAA,GAAMC,GAAE;;EAGzBC,GAAM,GAAA9gH,KAAA,CAAM8gH,GAAO,QAAIA,GAAG;EAC1BC,GAAM,GAAA/gH,KAAA,CAAM+gH,GAAO,QAAIA,GAAG;EAE1B,IAAMC,EAAA,GAAKjgG,CAAI,GAAA+/F,GAAA;EACf,IAAMG,EAAA,GAAKlgG,CAAI,GAAAggG,GAAA;EAEf,OAAO;IACLl+G,QAAU;MACRxI,CAAG,EAAAuyB,OAAA,CAAQvyB,CAAC,GAAG2mH,EAAM,IAAAtqF,IAAA,CAAKr8B,CAAC,GAAGwI,QAAS,CAAAxI,CAAC,CAAD;MACvCC,CAAG,EAAAsyB,OAAA,CAAQtyB,CAAC,GAAG0mH,EAAM,IAAAtqF,IAAA,CAAKp8B,CAAC,GAAGuI,QAAS,CAAAvI,CAAC;IAC1C;IACAo8B,IAAM;MACJr8B,CAAG,EAAAuyB,OAAA,CAAQvyB,CAAC,GAAG4mH,EAAM,IAAAvqF,IAAA,CAAKr8B,CAAC,GAAGwI,QAAS,CAAAxI,CAAC,CAAD;MACvCC,CAAG,EAAAsyB,OAAA,CAAQtyB,CAAC,GAAG2mH,EAAM,IAAAvqF,IAAA,CAAKp8B,CAAC,GAAGuI,QAAS,CAAAvI,CAAC;IAC1C;EACF;AACF;AAEA;;AAEC;AACD,SAAS4mH,cAAeA,CAAAt8D,MAAqB,EAAEu8D,MAAgB,EAAEC,EAAY,EAAE;EAC7E,IAAMC,SAAA,GAAYz8D,MAAA,CAAOxpD,MAAM;EAE/B,IAAIkmH,MAAA,EAAgBC,KAAe,EAAAC,IAAA,EAAcC,gBAA0B,EAAAC,YAAA;EAC3E,IAAIC,UAAA,GAAapB,QAAA,CAAS37D,MAAQ;EAClC,KAAK,IAAIzpD,CAAI,MAAGA,CAAA,GAAIkmH,SAAY,MAAG,EAAElmH,CAAG;IACtCumH,YAAe,GAAAC,UAAA;IACfA,UAAa,GAAApB,QAAA,CAAS37D,MAAA,EAAQzpD,CAAI;IAClC,IAAI,CAACumH,YAAgB,KAACC,UAAY;MAChC;;IAGF,IAAIrb,YAAA,CAAa6a,MAAM,CAAChmH,CAAE,GAAE,GAAGmlH,OAAU;MACvCc,EAAE,CAACjmH,CAAE,IAAGimH,EAAE,CAACjmH,CAAA,GAAI,EAAE,GAAG;MACpB;;IAGFmmH,MAAA,GAASF,EAAE,CAACjmH,CAAA,CAAE,GAAGgmH,MAAM,CAAChmH,CAAE;IAC1BomH,KAAA,GAAQH,EAAE,CAACjmH,CAAA,GAAI,EAAE,GAAGgmH,MAAM,CAAChmH,CAAE;IAC7BsmH,gBAAmB,GAAA3jH,IAAA,CAAKorC,GAAG,CAACo4E,MAAA,EAAQ,KAAKxjH,IAAK,CAAAorC,GAAG,CAACq4E,KAAO;IACzD,IAAIE,gBAAA,IAAoB,CAAG;MACzB;;IAGFD,IAAO,OAAI1jH,IAAK,CAAAoL,IAAI,CAACu4G,gBAAA;IACrBL,EAAE,CAACjmH,CAAE,IAAGmmH,MAAA,GAASE,IAAO,GAAAL,MAAM,CAAChmH,CAAE;IACjCimH,EAAE,CAACjmH,CAAA,GAAI,CAAE,IAAGomH,KAAA,GAAQC,IAAO,GAAAL,MAAM,CAAChmH,CAAE;EACtC;AACF;AAEA,SAASymH,gBAAgBh9D,MAAqB,EAAEw8D,EAAY,EAA8B;EAAA,IAA5BhqE,SAAA,GAAAp4C,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAuB,GAAG;EACtF,IAAM6iH,SAAA,GAAYrB,YAAa,CAAAppE,SAAA;EAC/B,IAAMiqE,SAAA,GAAYz8D,MAAA,CAAOxpD,MAAM;EAC/B,IAAIsE,KAAA,EAAeoiH,WAAkC,EAAAJ,YAAA;EACrD,IAAIC,UAAA,GAAapB,QAAA,CAAS37D,MAAQ;EAElC,KAAK,IAAIzpD,CAAI,MAAGA,CAAI,GAAAkmH,SAAA,EAAW,EAAElmH,CAAG;IAClC2mH,WAAc,GAAAJ,YAAA;IACdA,YAAe,GAAAC,UAAA;IACfA,UAAa,GAAApB,QAAA,CAAS37D,MAAA,EAAQzpD,CAAI;IAClC,IAAI,CAACumH,YAAc;MACjB;;IAGF,IAAM38D,MAAA,GAAS28D,YAAY,CAACtqE,SAAU;IACtC,IAAM4N,MAAA,GAAS08D,YAAY,CAACG,SAAU;IACtC,IAAIC,WAAa;MACfpiH,KAAA,GAAQ,CAACqlD,MAAA,GAAS+8D,WAAW,CAAC1qE,SAAA,CAAU,IAAI;MAC5CsqE,YAAY,OAAAhyG,MAAA,CAAO0nC,SAAA,EAAY,GAAG2N,MAAS,GAAArlD,KAAA;MAC3CgiH,YAAY,OAAAhyG,MAAA,CAAOmyG,SAAU,EAAE,GAAG78D,MAAS,GAAAtlD,KAAA,GAAQ0hH,EAAE,CAACjmH,CAAE;;IAE1D,IAAIwmH,UAAY;MACdjiH,KAAA,GAAQ,CAACiiH,UAAU,CAACvqE,SAAU,IAAG2N,MAAK,IAAK;MAC3C28D,YAAY,OAAAhyG,MAAA,CAAO0nC,SAAA,EAAY,GAAG2N,MAAS,GAAArlD,KAAA;MAC3CgiH,YAAY,OAAAhyG,MAAA,CAAOmyG,SAAU,EAAE,GAAG78D,MAAS,GAAAtlD,KAAA,GAAQ0hH,EAAE,CAACjmH,CAAE;;EAE5D;AACF;AAEA;;;;;AAKC;AACM,SAAS4mH,oBAAoBn9D,MAAqB,EAA8B;EAAA,IAA5BxN,SAAA,GAAAp4C,SAAA,CAAA5D,MAAA,QAAA4D,SAAA,QAAA9E,SAAA,GAAA8E,SAAA,MAAuB,GAAG;EACnF,IAAM6iH,SAAA,GAAYrB,YAAa,CAAAppE,SAAA;EAC/B,IAAMiqE,SAAA,GAAYz8D,MAAA,CAAOxpD,MAAM;EAC/B,IAAM+lH,MAAmB,GAAAlvG,KAAA,CAAMovG,SAAW,EAAA5qE,IAAI,CAAC;EAC/C,IAAM2qE,EAAA,GAAenvG,KAAM,CAAAovG,SAAA;;EAG3B,IAAIlmH,CAAA,EAAG2mH,WAAkC,EAAAJ,YAAA;EACzC,IAAIC,UAAA,GAAapB,QAAA,CAAS37D,MAAQ;EAElC,KAAKzpD,CAAI,MAAGA,CAAI,GAAAkmH,SAAA,EAAW,EAAElmH,CAAG;IAC9B2mH,WAAc,GAAAJ,YAAA;IACdA,YAAe,GAAAC,UAAA;IACfA,UAAa,GAAApB,QAAA,CAAS37D,MAAA,EAAQzpD,CAAI;IAClC,IAAI,CAACumH,YAAc;MACjB;;IAGF,IAAIC,UAAY;MACd,IAAMK,UAAA,GAAaL,UAAU,CAACvqE,SAAA,CAAU,GAAGsqE,YAAY,CAACtqE,SAAU;;MAGlE+pE,MAAM,CAAChmH,CAAE,IAAG6mH,UAAe,SAAI,CAACL,UAAU,CAACE,SAAA,CAAU,GAAGH,YAAY,CAACG,SAAA,CAAU,IAAIG,UAAA,GAAa,CAAC;;IAEnGZ,EAAE,CAACjmH,CAAE,IAAG,CAAC2mH,WAAc,GAAAX,MAAM,CAAChmH,CAAE,IAC5B,CAACwmH,UAAA,GAAaR,MAAM,CAAChmH,CAAA,GAAI,EAAE,GACxB/B,IAAA,CAAK+nH,MAAM,CAAChmH,CAAI,KAAE,MAAM/B,IAAK,CAAA+nH,MAAM,CAAChmH,CAAE,KAAK,IAC1C,CAACgmH,MAAM,CAAChmH,CAAA,GAAI,EAAE,GAAGgmH,MAAM,CAAChmH,CAAE,CAAD,IAAK,CAAC;EACzC;EAEA+lH,cAAA,CAAet8D,MAAA,EAAQu8D,MAAQ,EAAAC,EAAA;EAE/BQ,eAAA,CAAgBh9D,MAAA,EAAQw8D,EAAI,EAAAhqE,SAAA;AAC9B;AAEA,SAAS6qE,gBAAgBrgB,EAAU,EAAEnkG,GAAW,EAAED,GAAW,EAAE;EAC7D,OAAOM,IAAA,CAAKN,GAAG,CAACM,IAAA,CAAKL,GAAG,CAACmkG,EAAA,EAAIpkG,GAAM,GAAAC,GAAA;AACrC;AAEA,SAAS+qF,eAAgBA,CAAA5jC,MAAqB,EAAE5J,IAAe,EAAE;EAC/D,IAAI7/C,CAAA,EAAGi2C,IAAM,EAAAx1C,KAAA,EAAOsmH,MAAQ,EAAAC,UAAA;EAC5B,IAAIC,UAAa,GAAApxD,cAAA,CAAepM,MAAM,CAAC,EAAE,EAAE5J,IAAA;EAC3C,KAAK7/C,CAAA,GAAI,GAAGi2C,IAAO,GAAAwT,MAAA,CAAOxpD,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;IAC/CgnH,UAAa,GAAAD,MAAA;IACbA,MAAS,GAAAE,UAAA;IACTA,UAAa,GAAAjnH,CAAA,GAAIi2C,IAAA,GAAO,CAAK,IAAA4f,cAAA,CAAepM,MAAM,CAACzpD,CAAA,GAAI,EAAE,EAAE6/C,IAAA;IAC3D,IAAI,CAACknE,MAAQ;MACX;;IAEFtmH,KAAQ,GAAAgpD,MAAM,CAACzpD,CAAE;IACjB,IAAIgnH,UAAY;MACdvmH,KAAM,CAAAqgH,IAAI,GAAGgG,eAAA,CAAgBrmH,KAAM,CAAAqgH,IAAI,EAAEjhE,IAAK,CAAAx/C,IAAI,EAAEw/C,IAAA,CAAKv/C,KAAK;MAC9DG,KAAM,CAAAugH,IAAI,GAAG8F,eAAA,CAAgBrmH,KAAM,CAAAugH,IAAI,EAAEnhE,IAAK,CAAA1/C,GAAG,EAAE0/C,IAAA,CAAKz/C,MAAM;;IAEhE,IAAI6mH,UAAY;MACdxmH,KAAM,CAAAsgH,IAAI,GAAG+F,eAAA,CAAgBrmH,KAAM,CAAAsgH,IAAI,EAAElhE,IAAK,CAAAx/C,IAAI,EAAEw/C,IAAA,CAAKv/C,KAAK;MAC9DG,KAAM,CAAAwgH,IAAI,GAAG6F,eAAA,CAAgBrmH,KAAM,CAAAwgH,IAAI,EAAEphE,IAAK,CAAA1/C,GAAG,EAAE0/C,IAAA,CAAKz/C,MAAM;;EAElE;AACF;AAEA;;AAEC;AACM,SAASysF,0BACdA,CAAApjC,MAAqB,EACrBjpD,OAAO,EACPq/C,IAAe,EACfzM,IAAa,EACb6I,SAAoB,EACpB;EACA,IAAIj8C,CAAA,EAAWi2C,IAAA,EAAcx1C,KAAoB,EAAAymH,aAAA;;EAGjD,IAAI1mH,OAAA,CAAQ2vD,QAAQ,EAAE;IACpB1G,MAAA,GAASA,MAAA,CAAOjlC,MAAM,CAAC,UAACiiF,EAAO;MAAA,QAACA,EAAA,CAAG38C,IAAI;IAAA;;EAGzC,IAAItpD,OAAA,CAAQspF,sBAAsB,KAAK,UAAY;IACjD88B,mBAAA,CAAoBn9D,MAAQ,EAAAxN,SAAA;GACvB;IACL,IAAI7e,IAAA,GAAOgW,IAAO,GAAAqW,MAAM,CAACA,MAAA,CAAOxpD,MAAM,GAAG,CAAE,IAAGwpD,MAAM,CAAC,CAAE;IACvD,KAAKzpD,CAAA,GAAI,GAAGi2C,IAAO,GAAAwT,MAAA,CAAOxpD,MAAM,EAAED,CAAA,GAAIi2C,IAAM,IAAEj2C,CAAG;MAC/CS,KAAQ,GAAAgpD,MAAM,CAACzpD,CAAE;MACjBknH,aAAgB,GAAA5B,WAAA,CACdloF,IAAA,EACA38B,KACA,EAAAgpD,MAAM,CAAC9mD,IAAK,CAAAL,GAAG,CAACtC,CAAI,MAAGi2C,IAAA,IAAQ7C,IAAA,GAAO,IAAI,MAAM6C,IAAK,GACrDz1C,OAAA,CAAQqpF,OAAO;MAEjBppF,KAAA,CAAMqgH,IAAI,GAAGoG,aAAc,CAAAx/G,QAAQ,CAACxI,CAAC;MACrCuB,KAAA,CAAMugH,IAAI,GAAGkG,aAAc,CAAAx/G,QAAQ,CAACvI,CAAC;MACrCsB,KAAA,CAAMsgH,IAAI,GAAGmG,aAAc,CAAA3rF,IAAI,CAACr8B,CAAC;MACjCuB,KAAA,CAAMwgH,IAAI,GAAGiG,aAAc,CAAA3rF,IAAI,CAACp8B,CAAC;MACjCi+B,IAAO,GAAA38B,KAAA;IACT;;EAGF,IAAID,OAAA,CAAQ6sF,eAAe,EAAE;IAC3BA,eAAA,CAAgB5jC,MAAQ,EAAA5J,IAAA;;AAE5B;;ACzNA;;;;;;GAAA;;;AAWO,SAASghB,eAA2BA,CAAA;EACzC,OAAO,OAAOl0D,MAAA,KAAW,WAAe,WAAOC,QAAa;AAC9D;AAEA;;AAEC;AACM,SAAS6yD,cAAeA,CAAA0nD,OAA0B,EAAqB;EAC5E,IAAIxtG,MAAA,GAASwtG,OAAA,CAAQvtG,UAAU;EAC/B,IAAID,MAAU,IAAAA,MAAA,CAAOzF,QAAQ,OAAO,qBAAuB;IACzDyF,MAAS,GAACA,MAAA,CAAsBytG,IAAI;;EAEtC,OAAOztG,MAAA;AACT;AAEA;;;AAGC;AAED,SAAS0tG,aAAcA,CAAAC,UAA2B,EAAE5tG,IAAiB,EAAE6tG,cAAsB,EAAE;EAC7F,IAAIC,aAAA;EACJ,IAAI,OAAOF,UAAA,KAAe,QAAU;IAClCE,aAAA,GAAgBh6E,QAAA,CAAS85E,UAAY;IAErC,IAAIA,UAAW,CAAAtoH,OAAO,CAAC,SAAS,CAAC,CAAG;;MAElCwoH,aAAA,GAAgBA,aAAiB,SAAO9tG,IAAK,CAAAE,UAAU,CAAC2tG,cAAe;;GAEpE;IACLC,aAAgB,GAAAF,UAAA;;EAGlB,OAAOE,aAAA;AACT;AAEA,IAAM/2F,gBAAA,GAAmB,SAAnBA,iBAAoBrV,OAAA;EAAA,OACxBA,OAAQ,CAAApM,aAAa,CAACsM,WAAW,CAACmV,gBAAgB,CAACrV,OAAA,EAAS,IAAI;AAAA;AAE3D,SAAS2kC,SAAS4U,EAAe,EAAE95C,QAAgB,EAAU;EAClE,OAAO4V,gBAAA,CAAiBkkC,EAAI,EAAAjkC,gBAAgB,CAAC7V,QAAA;AAC/C;AAEA,IAAMw/C,SAAY,IAAC,OAAO,SAAS,UAAU,OAAO;AACpD,SAASotD,mBAAmBC,MAA2B,EAAE1hG,KAAa,EAAE2hG,MAAe,EAAa;EAClG,IAAMttF,MAAA,GAAS,EAAC;EAChBstF,MAAS,GAAAA,MAAA,GAAS,GAAM,GAAAA,MAAA,GAAS,EAAE;EACnC,KAAK,IAAI3nH,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAI,GAAGA,CAAK;IAC1B,IAAMm3D,GAAA,GAAMkD,SAAS,CAACr6D,CAAE;IACxBq6B,MAAM,CAAC88B,GAAI,IAAGw+B,UAAW,CAAA+xB,MAAM,CAAC1hG,KAAQ,SAAMmxC,GAAM,GAAAwwD,MAAA,CAAO,CAAK;EAClE;EACAttF,MAAA,CAAOh1B,KAAK,GAAGg1B,MAAA,CAAOh6B,IAAI,GAAGg6B,MAAA,CAAO/5B,KAAK;EACzC+5B,MAAA,CAAO/0B,MAAM,GAAG+0B,MAAA,CAAOl6B,GAAG,GAAGk6B,MAAA,CAAOj6B,MAAM;EAC1C,OAAOi6B,MAAA;AACT;AAEA,IAAMutF,YAAA,GAAe,SAAfA,aAAgB1oH,CAAA,EAAWC,CAAA,EAAWoM,MAC1C;EAAA,OAAC,CAAArM,CAAI,QAAKC,CAAA,GAAI,OAAO,CAACoM,MAAA,IAAU,CAACA,MAAC,CAAuBs8G,UAAU,CAAD;AAAA;AAEpE;;;;AAIC;AACD,SAASC,kBACP/3G,CAAkC,EAClCrD,MAAyB,EAKvB;EACF,IAAMgX,OAAA,GAAU3T,CAAC,CAAiB2T,OAAO;EACzC,IAAM3L,MAAA,GAAU2L,OAAA,IAAWA,OAAQ,CAAAzjB,MAAM,GAAGyjB,OAAO,CAAC,CAAE,IAAG3T,CAAC;EAC1D,IAAOq6C,OAAA,GAAoBryC,MAAA,CAApBqyC,OAAA;IAASC,OAAA,GAAWtyC,MAAA,CAAXsyC,OAAA;EAChB,IAAIgN,GAAA,GAAM,KAAK;EACf,IAAIn4D,CAAG,EAAAC,CAAA;EACP,IAAIyoH,YAAa,CAAAx9D,OAAA,EAASC,OAAS,EAAAt6C,CAAA,CAAExE,MAAM,CAAG;IAC5CrM,CAAI,GAAAkrD,OAAA;IACJjrD,CAAI,GAAAkrD,OAAA;GACC;IACL,IAAM18C,IAAA,GAAOjB,MAAA,CAAO4B,qBAAqB;IACzCpP,CAAA,GAAI6Y,MAAO,CAAAvJ,OAAO,GAAGb,IAAA,CAAKtN,IAAI;IAC9BlB,CAAA,GAAI4Y,MAAO,CAAAtJ,OAAO,GAAGd,IAAA,CAAKxN,GAAG;IAC7Bk3D,GAAA,GAAM,IAAI;;EAEZ,OAAO;IAACn4D,CAAA,EAAAA,CAAA;IAAGC,CAAA,EAAAA,CAAA;IAAGk4D,GAAA,EAAAA;EAAG;AACnB;AAEA;;;;;AAKC;AAEM,SAASn5D,oBACdO,KAAmD,EACnDK,KAAY,EACc;EAC1B,IAAI,YAAYL,KAAO;IACrB,OAAOA,KAAA;;EAGT,IAAOiO,MAAA,GAAmC5N,KAAA,CAAnC4N,MAAA;IAAQ0yD,uBAAA,GAA2BtgE,KAAA,CAA3BsgE,uBAAA;EACf,IAAMp5C,KAAA,GAAQyK,gBAAiB,CAAA/jB,MAAA;EAC/B,IAAMq7G,SAAA,GAAY/hG,KAAM,CAAA+2C,SAAS,KAAK;EACtC,IAAMirD,QAAA,GAAWP,kBAAA,CAAmBzhG,KAAO;EAC3C,IAAMiiG,OAAA,GAAUR,kBAAmB,CAAAzhG,KAAA,EAAO,QAAU;EACpD,IAAAkiG,kBAAA,GAAoBJ,iBAAA,CAAkBrpH,KAAO,EAAAiO,MAAA;IAAtCxN,CAAA,GAAAgpH,kBAAA,CAAAhpH,CAAA;IAAGC,CAAA,GAAA+oH,kBAAA,CAAA/oH,CAAA;IAAGk4D,GAAG,GAAA6wD,kBAAA,CAAH7wD,GAAG;EAChB,IAAM+oD,OAAA,GAAU4H,QAAA,CAAS3nH,IAAI,IAAIg3D,GAAO,IAAA4wD,OAAA,CAAQ5nH,IAAI,CAAD;EACnD,IAAMggH,OAAA,GAAU2H,QAAA,CAAS7nH,GAAG,IAAIk3D,GAAO,IAAA4wD,OAAA,CAAQ9nH,GAAG,CAAD;EAEjD,IAAKkF,KAAA,GAAiBvG,KAAA,CAAjBuG,KAAA;IAAOC,MAAA,GAAUxG,KAAA,CAAVwG,MAAA;EACZ,IAAIyiH,SAAW;IACb1iH,KAAA,IAAS2iH,QAAS,CAAA3iH,KAAK,GAAG4iH,OAAA,CAAQ5iH,KAAK;IACvCC,MAAA,IAAU0iH,QAAS,CAAA1iH,MAAM,GAAG2iH,OAAA,CAAQ3iH,MAAM;;EAE5C,OAAO;IACLpG,CAAG,EAAAyD,IAAA,CAAKmC,KAAK,CAAC,CAAC5F,CAAI,GAAAkhH,OAAM,IAAK/6G,KAAA,GAAQqH,MAAO,CAAArH,KAAK,GAAG+5D,uBAAA;IACrDjgE,CAAG,EAAAwD,IAAA,CAAKmC,KAAK,CAAC,CAAC3F,CAAI,GAAAkhH,OAAM,IAAK/6G,MAAA,GAASoH,MAAO,CAAApH,MAAM,GAAG85D,uBAAA;EACzD;AACF;AAEA,SAAS+oD,iBAAiBz7G,MAAyB,EAAErH,KAAa,EAAEC,MAAc,EAAkB;EAClG,IAAIunD,QAAkB,EAAAC,SAAA;EAEtB,IAAIznD,KAAA,KAAUtG,SAAa,IAAAuG,MAAA,KAAWvG,SAAW;IAC/C,IAAMygE,SAAA,GAAYC,cAAe,CAAA/yD,MAAA;IACjC,IAAI,CAAC8yD,SAAW;MACdn6D,KAAA,GAAQqH,MAAA,CAAOizD,WAAW;MAC1Br6D,MAAA,GAASoH,MAAA,CAAO07G,YAAY;KACvB;MACL,IAAMz6G,IAAO,GAAA6xD,SAAA,CAAUlxD,qBAAqB;MAC5C,IAAM+5G,cAAA,GAAiB53F,gBAAiB,CAAA+uC,SAAA;MACxC,IAAM8oD,eAAA,GAAkBb,kBAAmB,CAAAY,cAAA,EAAgB,QAAU;MACrE,IAAME,gBAAA,GAAmBd,kBAAA,CAAmBY,cAAgB;MAC5DhjH,KAAA,GAAQsI,IAAA,CAAKtI,KAAK,GAAGkjH,gBAAA,CAAiBljH,KAAK,GAAGijH,eAAA,CAAgBjjH,KAAK;MACnEC,MAAA,GAASqI,IAAA,CAAKrI,MAAM,GAAGijH,gBAAA,CAAiBjjH,MAAM,GAAGgjH,eAAA,CAAgBhjH,MAAM;MACvEunD,QAAA,GAAWw6D,aAAc,CAAAgB,cAAA,CAAex7D,QAAQ,EAAE2S,SAAW;MAC7D1S,SAAA,GAAYu6D,aAAc,CAAAgB,cAAA,CAAev7D,SAAS,EAAE0S,SAAW;;;EAGnE,OAAO;IACLn6D,KAAA,EAAAA,KAAA;IACAC,MAAA,EAAAA,MAAA;IACAunD,QAAA,EAAUA,QAAY,IAAAssD,QAAA;IACtBrsD,SAAA,EAAWA,SAAa,IAAAqsD;EAC1B;AACF;AAEA,IAAMqP,MAAA,GAAS,SAATA,OAAU5jH,CAAA;EAAA,OAAcjC,IAAA,CAAKmC,KAAK,CAACF,CAAA,GAAI,EAAM;AAAA;AAEnD;AACO,SAASo3D,eACdtvD,MAAyB,EACzB+7G,OAAgB,EAChBC,QAAiB,EACjBj6D,WAAoB,EACe;EACnC,IAAMzoC,KAAA,GAAQyK,gBAAiB,CAAA/jB,MAAA;EAC/B,IAAMu6D,OAAA,GAAUwgD,kBAAA,CAAmBzhG,KAAO;EAC1C,IAAM6mC,QAAA,GAAWw6D,aAAc,CAAArhG,KAAA,CAAM6mC,QAAQ,EAAEngD,MAAA,EAAQ,aAAkB,KAAAysG,QAAA;EACzE,IAAMrsD,SAAA,GAAYu6D,aAAc,CAAArhG,KAAA,CAAM8mC,SAAS,EAAEpgD,MAAA,EAAQ,cAAmB,KAAAysG,QAAA;EAC5E,IAAMwP,aAAA,GAAgBR,gBAAiB,CAAAz7G,MAAA,EAAQ+7G,OAAS,EAAAC,QAAA;EACxD,IAAKrjH,KAAA,GAAiBsjH,aAAA,CAAjBtjH,KAAA;IAAOC,MAAA,GAAUqjH,aAAA,CAAVrjH,MAAA;EAEZ,IAAI0gB,KAAA,CAAM+2C,SAAS,KAAK,aAAe;IACrC,IAAMkrD,OAAA,GAAUR,kBAAmB,CAAAzhG,KAAA,EAAO,QAAU;IACpD,IAAMgiG,QAAA,GAAWP,kBAAA,CAAmBzhG,KAAO;IAC3C3gB,KAAA,IAAS2iH,QAAS,CAAA3iH,KAAK,GAAG4iH,OAAA,CAAQ5iH,KAAK;IACvCC,MAAA,IAAU0iH,QAAS,CAAA1iH,MAAM,GAAG2iH,OAAA,CAAQ3iH,MAAM;;EAE5CD,KAAA,GAAQ1C,IAAA,CAAKN,GAAG,CAAC,CAAG,EAAAgD,KAAA,GAAQ4hE,OAAA,CAAQ5hE,KAAK;EACzCC,MAAS,GAAA3C,IAAA,CAAKN,GAAG,CAAC,GAAGosD,WAAA,GAAcppD,KAAQ,GAAAopD,WAAA,GAAcnpD,MAAS,GAAA2hE,OAAA,CAAQ3hE,MAAM;EAChFD,KAAA,GAAQmjH,MAAA,CAAO7lH,IAAK,CAAAL,GAAG,CAAC+C,KAAO,EAAAwnD,QAAA,EAAU87D,aAAA,CAAc97D,QAAQ;EAC/DvnD,MAAA,GAASkjH,MAAA,CAAO7lH,IAAK,CAAAL,GAAG,CAACgD,MAAQ,EAAAwnD,SAAA,EAAW67D,aAAA,CAAc77D,SAAS;EACnE,IAAIznD,KAAA,IAAS,CAACC,MAAQ;;;IAGpBA,MAAA,GAASkjH,MAAA,CAAOnjH,KAAQ;;EAG1B,IAAMujH,cAAA,GAAiBH,OAAY,KAAA1pH,SAAA,IAAa2pH,QAAa,KAAA3pH,SAAA;EAE7D,IAAI6pH,cAAA,IAAkBn6D,WAAA,IAAek6D,aAAc,CAAArjH,MAAM,IAAIA,MAAS,GAAAqjH,aAAA,CAAcrjH,MAAM,EAAE;IAC1FA,MAAA,GAASqjH,aAAA,CAAcrjH,MAAM;IAC7BD,KAAA,GAAQmjH,MAAO,CAAA7lH,IAAA,CAAKotB,KAAK,CAACzqB,MAAS,GAAAmpD,WAAA;;EAGrC,OAAO;IAACppD,KAAA,EAAAA,KAAA;IAAOC,MAAA,EAAAA;EAAM;AACvB;AAEA;;;;;;AAMO,SAASi5E,WACdA,CAAAz/E,KAAY,EACZ+pH,UAAkB,EAClBC,UAAoB,EACJ;EAChB,IAAMC,UAAA,GAAaF,UAAc;EACjC,IAAMG,YAAA,GAAermH,IAAK,CAAAotB,KAAK,CAACjxB,KAAA,CAAMwG,MAAM,GAAGyjH,UAAA;EAC/C,IAAME,WAAA,GAActmH,IAAK,CAAAotB,KAAK,CAACjxB,KAAA,CAAMuG,KAAK,GAAG0jH,UAAA;EAE7CjqH,KAAA,CAAMwG,MAAM,GAAG3C,IAAA,CAAKotB,KAAK,CAACjxB,KAAA,CAAMwG,MAAM;EACtCxG,KAAA,CAAMuG,KAAK,GAAG1C,IAAA,CAAKotB,KAAK,CAACjxB,KAAA,CAAMuG,KAAK;EAEpC,IAAMqH,MAAA,GAAS5N,KAAA,CAAM4N,MAAM;;;;EAK3B,IAAIA,MAAA,CAAOsZ,KAAK,KAAK8iG,UAAA,IAAe,CAACp8G,MAAO,CAAAsZ,KAAK,CAAC1gB,MAAM,IAAI,CAACoH,MAAA,CAAOsZ,KAAK,CAAC3gB,KAAK,CAAI;IACjFqH,MAAO,CAAAsZ,KAAK,CAAC1gB,MAAM,MAAAiP,MAAA,CAAMzV,KAAM,CAAAwG,MAAM,OAAI;IACzCoH,MAAO,CAAAsZ,KAAK,CAAC3gB,KAAK,MAAAkP,MAAA,CAAMzV,KAAM,CAAAuG,KAAK,OAAI;;EAGzC,IAAIvG,KAAA,CAAMsgE,uBAAuB,KAAK2pD,UAC/B,IAAAr8G,MAAA,CAAOpH,MAAM,KAAK0jH,YAClB,IAAAt8G,MAAA,CAAOrH,KAAK,KAAK4jH,WAAa;IACnCnqH,KAAA,CAAMsgE,uBAAuB,GAAG2pD,UAAA;IAChCr8G,MAAA,CAAOpH,MAAM,GAAG0jH,YAAA;IAChBt8G,MAAA,CAAOrH,KAAK,GAAG4jH,WAAA;IACfnqH,KAAM,CAAAkT,GAAG,CAACk3G,YAAY,CAACH,UAAA,EAAY,CAAG,KAAGA,UAAA,EAAY,CAAG;IACxD,OAAO,IAAI;;EAEb,OAAO,KAAK;AACd;AAEA;;;;;AAKa,IAAA3rD,4BAAA,GAAgC,YAAW;EACtD,IAAI+rD,gBAAA,GAAmB,KAAK;EAC5B,IAAI;IACF,IAAM3oH,OAAU;MACd,IAAI68D,OAAUA,CAAA;QACZ8rD,gBAAA,GAAmB,IAAI;QACvB,OAAO,KAAK;MACd;IACF;IAEAx8G,MAAA,CAAOf,gBAAgB,CAAC,MAAQ,MAAI,EAAEpL,OAAA;IACtCmM,MAAA,CAAOnB,mBAAmB,CAAC,MAAQ,MAAI,EAAEhL,OAAA;EAC3C,EAAE,OAAOuP,CAAG;;;EAGZ,OAAOo5G,gBAAA;AACT,CAAK;AAEL;;;;;;;;AAQC;AAEM,SAASlsD,aACd7hD,OAAoB,EACpBP,QAA4B,EACR;EACpB,IAAM8L,KAAA,GAAQo5B,QAAA,CAAS3kC,OAAS,EAAAP,QAAA;EAChC,IAAMqnG,OAAU,GAAAv7F,KAAA,IAASA,KAAM,CAAAw7F,KAAK,CAAC;EACrC,OAAOD,OAAA,GAAU,CAACA,OAAO,CAAC,EAAE,GAAGnjH,SAAS;AAC1C;;AC/RA;;;AAGO,SAAS4sF,aAAaxiF,EAAS,EAAE0X,EAAS,EAAE+E,CAAS,EAAEhnB,IAAK,EAAE;EACnE,OAAO;IACLM,CAAG,EAAAiK,EAAA,CAAGjK,CAAC,GAAG0mB,CAAK,IAAA/E,EAAA,CAAG3hB,CAAC,GAAGiK,EAAG,CAAAjK,CAAC,CAAD;IACzBC,CAAG,EAAAgK,EAAA,CAAGhK,CAAC,GAAGymB,CAAK,IAAA/E,EAAA,CAAG1hB,CAAC,GAAGgK,EAAG,CAAAhK,CAAC;EAC5B;AACF;AAEA;;;AAGO,SAASssF,sBACdtiF,EAAS,EACT0X,EAAS,EACT+E,CAAS,EAAEhnB,IAAkC,EAC7C;EACA,OAAO;IACLM,CAAG,EAAAiK,EAAA,CAAGjK,CAAC,GAAG0mB,CAAK,IAAA/E,EAAA,CAAG3hB,CAAC,GAAGiK,EAAG,CAAAjK,CAAC,CAAD;IACzBC,CAAG,EAAAP,IAAA,KAAS,QAAW,GAAAgnB,CAAA,GAAI,GAAM,GAAAzc,EAAA,CAAGhK,CAAC,GAAG0hB,EAAG,CAAA1hB,CAAC,GACxCP,IAAA,KAAS,OAAU,GAAAgnB,CAAA,GAAI,IAAIzc,EAAG,CAAAhK,CAAC,GAAG0hB,EAAA,CAAG1hB,CAAC,GACpCymB,CAAI,OAAI/E,EAAG,CAAA1hB,CAAC,GAAGgK,EAAA,CAAGhK;EAC1B;AACF;AAEA;;;AAGO,SAASusF,qBAAqBviF,EAAe,EAAE0X,EAAe,EAAE+E,CAAS,EAAEhnB,IAAK,EAAE;EACvF,IAAMwqH,GAAM;IAAClqH,CAAA,EAAGiK,EAAA,CAAG43G,IAAI;IAAE5hH,CAAA,EAAGgK,EAAA,CAAG83G;EAAI;EACnC,IAAMoI,GAAM;IAACnqH,CAAA,EAAG2hB,EAAA,CAAGigG,IAAI;IAAE3hH,CAAA,EAAG0hB,EAAA,CAAGmgG;EAAI;EACnC,IAAMtmG,CAAA,GAAIixE,YAAa,CAAAxiF,EAAA,EAAIigH,GAAK,EAAAxjG,CAAA;EAChC,IAAMjL,CAAA,GAAIgxE,YAAa,CAAAy9B,GAAA,EAAKC,GAAK,EAAAzjG,CAAA;EACjC,IAAMwa,CAAA,GAAIurD,YAAa,CAAA09B,GAAA,EAAKxoG,EAAI,EAAA+E,CAAA;EAChC,IAAMya,CAAA,GAAIsrD,YAAa,CAAAjxE,CAAA,EAAGC,CAAG,EAAAiL,CAAA;EAC7B,IAAM7V,CAAA,GAAI47E,YAAa,CAAAhxE,CAAA,EAAGylB,CAAG,EAAAxa,CAAA;EAC7B,OAAO+lE,YAAA,CAAatrD,CAAA,EAAGtwB,CAAG,EAAA6V,CAAA;AAC5B;AChCA,IAAM0jG,qBAAwB,YAAxBA,qBAAwBA,CAASC,KAAa,EAAElkH,KAAa,EAAc;EAC/E,OAAO;IACLnG,CAAA,WAAAA,EAAEA,EAAC,EAAE;MACH,OAAOqqH,KAAA,GAAQA,KAAA,GAAQlkH,KAAQ,GAAAnG,EAAA;IACjC;IACAu+F,QAAA,WAAAA,SAAS/7D,CAAC,EAAE;MACVr8B,KAAQ,GAAAq8B,CAAA;IACV;IACAgtC,SAAA,WAAAA,UAAUzL,KAAK,EAAE;MACf,IAAIA,KAAA,KAAU,QAAU;QACtB,OAAOA,KAAA;;MAET,OAAOA,KAAA,KAAU,OAAU,YAAS,OAAO;IAC7C;IACA+5B,KAAM,WAAAA,MAAA99F,CAAC,EAAEynB,KAAK,EAAE;MACd,OAAOznB,CAAI,GAAAynB,KAAA;IACb;IACAw1E,UAAW,WAAAA,WAAAj9F,CAAC,EAAE+7F,SAAS,EAAE;MACvB,OAAO/7F,CAAI,GAAA+7F,SAAA;IACb;EACF;AACF;AAEA,IAAMuuB,qBAAA,GAAwB,SAAxBA,sBAAA,EAA+C;EACnD,OAAO;IACLtqH,CAAA,WAAAA,EAAEA,GAAC,EAAE;MACH,OAAOA,GAAA;IACT;IACAu+F,QAAS,WAAAA,SAAA/7D,CAAC,EAAE,EACZ;IACAgtC,SAAA,WAAAA,UAAUzL,KAAK,EAAE;MACf,OAAOA,KAAA;IACT;IACA+5B,KAAM,WAAAA,MAAA99F,CAAC,EAAEynB,KAAK,EAAE;MACd,OAAOznB,CAAI,GAAAynB,KAAA;IACb;IACAw1E,UAAW,WAAAA,WAAAj9F,CAAC,EAAEuqH,UAAU,EAAE;MACxB,OAAOvqH,CAAA;IACT;EACF;AACF;AAEO,SAAS68F,aAAcA,CAAAF,GAAY,EAAE0tB,KAAa,EAAElkH,KAAa,EAAE;EACxE,OAAOw2F,GAAM,GAAAytB,qBAAA,CAAsBC,KAAO,EAAAlkH,KAAA,IAASmkH,qBAAuB;AAC5E;AAEO,SAASlsB,sBAAsBtrF,GAA6B,EAAE4O,SAAwB,EAAE;EAC7F,IAAIoF,KAA4B,EAAA7iB,QAAA;EAChC,IAAIyd,SAAA,KAAc,KAAS,IAAAA,SAAA,KAAc,KAAO;IAC9CoF,KAAQ,GAAAhU,GAAA,CAAItF,MAAM,CAACsZ,KAAK;IACxB7iB,QAAW,IACT6iB,KAAA,CAAM0K,gBAAgB,CAAC,cACvB1K,KAAA,CAAM0jG,mBAAmB,CAAC,aAC3B;IAED1jG,KAAM,CAAA2jG,WAAW,CAAC,aAAa/oG,SAAW;IACzC5O,GAAA,CAAiD43G,iBAAiB,GAAGzmH,QAAA;;AAE1E;AAEO,SAAS26F,qBAAqB9rF,GAA6B,EAAE7O,QAA2B,EAAE;EAC/F,IAAIA,QAAA,KAAapE,SAAW;IAC1B,OAAQiT,GAAA,CAAiD43G,iBAAiB;IAC1E53G,GAAA,CAAItF,MAAM,CAACsZ,KAAK,CAAC2jG,WAAW,CAAC,WAAa,EAAAxmH,QAAQ,CAAC,EAAE,EAAEA,QAAQ,CAAC,CAAE;;AAEtE;AC/DA,SAAS0mH,UAAWA,CAAAhvG,QAAQ,EAAE;EAC5B,IAAIA,QAAA,KAAa,OAAS;IACxB,OAAO;MACLivG,OAAS,EAAA/+D,aAAA;MACTg/D,OAAS,EAAA5P,UAAA;MACT3D,SAAW,EAAA3hB;IACb;;EAEF,OAAO;IACLi1B,OAAS,EAAA/gC,UAAA;IACTghC,OAAS,WAAAA,QAACrvG,CAAG,EAAAC,CAAA;MAAA,OAAMD,CAAI,GAAAC,CAAA;IAAA;IACvB67F,SAAA,EAAW,SAAAA,UAAAt3G,CAAK;MAAA,OAAAA,CAAA;IAAA;EAClB;AACF;AAEA,SAAS8qH,gBAAiBA,CAAArqH,IAAA,EAAkC;EAAA,IAAjCmT,KAAK,GAAAnT,IAAA,CAALmT,KAAK;IAAEmO,GAAG,GAAAthB,IAAA,CAAHshB,GAAG;IAAE8J,KAAK,GAAAprB,IAAA,CAALorB,KAAK;IAAEqoB,IAAI,GAAAzzC,IAAA,CAAJyzC,IAAI;IAAEptB,KAAK,GAAArmB,IAAA,CAALqmB,KAAK;EACvD,OAAO;IACLlT,KAAA,EAAOA,KAAQ,GAAAiY,KAAA;IACf9J,GAAA,EAAKA,GAAM,GAAA8J,KAAA;IACXqoB,IAAA,EAAMA,IAAA,IAAQ,CAACnyB,GAAA,GAAMnO,KAAQ,QAAKiY,KAAU;IAC5C/E,KAAA,EAAAA;EACF;AACF;AAEA,SAASikG,WAAWn6D,OAAO,EAAErG,MAAM,EAAE+lC,MAAM,EAAE;EAC3C,IAAO30E,QAAA,GAA8C20E,MAAA,CAA9C30E,QAAA;IAAiBqvG,UAAA,GAA6B16B,MAAA,CAApC18E,KAAA;IAAwBq3G,QAAQ,GAAI36B,MAAA,CAAjBvuE,GAAA;EACpC,IAAAmpG,WAAA,GAA6BP,UAAW,CAAAhvG,QAAA;IAAjCivG,OAAO,GAAAM,WAAA,CAAPN,OAAO;IAAEtT,SAAS,GAAA4T,WAAA,CAAT5T,SAAS;EACzB,IAAMzrF,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;EAE3B,IAAK6S,KAAK,GAAeg9C,OAAA,CAApBh9C,KAAK;IAAEmO,GAAA,GAAa6uC,OAAA,CAAb7uC,GAAA;IAAKmyB,IAAA,GAAQ0c,OAAA,CAAR1c,IAAA;EACjB,IAAIpzC,CAAG,EAAAi2C,IAAA;EAEP,IAAI7C,IAAM;IACRtgC,KAAS,IAAAiY,KAAA;IACT9J,GAAO,IAAA8J,KAAA;IACP,KAAK/qB,CAAA,GAAI,GAAGi2C,IAAO,GAAAlrB,KAAK,EAAE/qB,CAAI,GAAAi2C,IAAA,EAAM,EAAEj2C,CAAG;MACvC,IAAI,CAAC8pH,OAAQ,CAAAtT,SAAA,CAAU/sD,MAAM,CAAC32C,KAAQ,GAAAiY,KAAA,CAAM,CAAClQ,QAAA,CAAS,CAAG,EAAAqvG,UAAA,EAAYC,QAAW;QAC9E;;MAEFr3G,KAAA;MACAmO,GAAA;IACF;IACAnO,KAAS,IAAAiY,KAAA;IACT9J,GAAO,IAAA8J,KAAA;;EAGT,IAAI9J,GAAA,GAAMnO,KAAO;IACfmO,GAAO,IAAA8J,KAAA;;EAET,OAAO;IAACjY,KAAA,EAAAA,KAAA;IAAOmO,GAAA,EAAAA,GAAA;IAAKmyB,IAAA,EAAAA,IAAA;IAAMptB,KAAA,EAAO8pC,OAAA,CAAQ9pC;EAAK;AAChD;AAgBO,SAASwuE,aAAcA,CAAA1kC,OAAO,EAAErG,MAAM,EAAE+lC,MAAM,EAAE;EACrD,IAAI,CAACA,MAAQ;IACX,OAAO,CAAC1/B,OAAA,CAAQ;;EAGlB,IAAOj1C,QAAA,GAA8C20E,MAAA,CAA9C30E,QAAA;IAAiBqvG,UAAA,GAA6B16B,MAAA,CAApC18E,KAAA;IAAwBq3G,QAAQ,GAAI36B,MAAA,CAAjBvuE,GAAA;EACpC,IAAM8J,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;EAC3B,IAAAoqH,YAAA,GAAsCR,UAAW,CAAAhvG,QAAA;IAA1CkvG,OAAA,GAAAM,YAAA,CAAAN,OAAA;IAASD,OAAA,GAAAO,YAAA,CAAAP,OAAA;IAAStT,SAAS,GAAA6T,YAAA,CAAT7T,SAAS;EAClC,IAAA8T,WAAA,GAAkCL,UAAW,CAAAn6D,OAAA,EAASrG,MAAQ,EAAA+lC,MAAA;IAAvD18E,KAAA,GAAAw3G,WAAA,CAAAx3G,KAAA;IAAOmO,GAAA,GAAAqpG,WAAA,CAAArpG,GAAA;IAAKmyB,IAAA,GAAAk3E,WAAA,CAAAl3E,IAAA;IAAMptB,KAAA,GAAAskG,WAAA,CAAAtkG,KAAA;EAEzB,IAAMqU,MAAA,GAAS,EAAE;EACjB,IAAIkwF,MAAA,GAAS,KAAK;EAClB,IAAIC,QAAA,GAAW,IAAI;EACnB,IAAI7jG,KAAA,EAAOlmB,KAAO,EAAAgqH,SAAA;EAElB,IAAMC,aAAA,GAAgB,SAAhBA,cAAA;IAAA,OAAsBZ,OAAQ,CAAAI,UAAA,EAAYO,SAAA,EAAW9jG,KAAU,KAAAojG,OAAA,CAAQG,UAAA,EAAYO,SAAe;EAAA;EACxG,IAAME,WAAA,GAAc,SAAdA,YAAA;IAAA,OAAoBZ,OAAQ,CAAAI,QAAA,EAAUxjG,KAAA,MAAW,CAAK,IAAAmjG,OAAA,CAAQK,QAAA,EAAUM,SAAW,EAAA9jG,KAAA;EAAA;EACzF,IAAMikG,WAAA,GAAc,SAAdA,YAAA;IAAA,OAAoBL,MAAU,IAAAG,aAAA;EAAA;EACpC,IAAMG,UAAA,GAAa,SAAbA,WAAA;IAAA,OAAmB,CAACN,MAAU,IAAAI,WAAA;EAAA;EAEpC,KAAK,IAAI3qH,CAAA,GAAI8S,KAAO,EAAAsqB,IAAA,GAAOtqB,KAAA,EAAO9S,CAAK,IAAAihB,GAAA,EAAK,EAAEjhB,CAAG;IAC/CS,KAAQ,GAAAgpD,MAAM,CAACzpD,CAAA,GAAI+qB,KAAM;IAEzB,IAAItqB,KAAA,CAAMqpD,IAAI,EAAE;MACd;;IAGFnjC,KAAQ,GAAA6vF,SAAA,CAAU/1G,KAAK,CAACoa,QAAS;IAEjC,IAAI8L,KAAA,KAAU8jG,SAAW;MACvB;;IAGFF,MAAS,GAAAT,OAAA,CAAQnjG,KAAA,EAAOujG,UAAY,EAAAC,QAAA;IAEpC,IAAIK,QAAA,KAAa,IAAI,IAAII,WAAe;MACtCJ,QAAA,GAAWT,OAAQ,CAAApjG,KAAA,EAAOujG,UAAgB,UAAIlqH,CAAA,GAAIo9B,IAAI;;IAGxD,IAAIotF,QAAA,KAAa,IAAI,IAAIK,UAAc;MACrCxwF,MAAO,CAAAh5B,IAAI,CAAC2oH,gBAAiB;QAACl3G,KAAO,EAAA03G,QAAA;QAAUvpG,GAAK,EAAAjhB,CAAA;QAAGozC,IAAA,EAAAA,IAAA;QAAMroB,KAAA,EAAAA,KAAA;QAAO/E,KAAA,EAAAA;MAAK;MACzEwkG,QAAA,GAAW,IAAI;;IAEjBptF,IAAO,GAAAp9B,CAAA;IACPyqH,SAAY,GAAA9jG,KAAA;EACd;EAEA,IAAI6jG,QAAA,KAAa,IAAI,EAAE;IACrBnwF,MAAO,CAAAh5B,IAAI,CAAC2oH,gBAAiB;MAACl3G,KAAO,EAAA03G,QAAA;MAAUvpG,GAAA,EAAAA,GAAA;MAAKmyB,IAAA,EAAAA,IAAA;MAAMroB,KAAA,EAAAA,KAAA;MAAO/E,KAAA,EAAAA;IAAK;;EAGxE,OAAOqU,MAAA;AACT;AAYO,SAAS0yD,eAAe39B,IAAI,EAAEogC,MAAM,EAAE;EAC3C,IAAMn1D,MAAA,GAAS,EAAE;EACjB,IAAM4xD,QAAA,GAAW78B,IAAA,CAAK68B,QAAQ;EAE9B,KAAK,IAAIjsF,CAAI,MAAGA,CAAA,GAAIisF,QAAS,CAAAhsF,MAAM,EAAED,CAAK;IACxC,IAAM8qH,GAAA,GAAMt2B,aAAA,CAAcvI,QAAQ,CAACjsF,CAAA,CAAE,EAAEovD,IAAA,CAAK3F,MAAM,EAAE+lC,MAAA;IACpD,IAAIs7B,GAAA,CAAI7qH,MAAM,EAAE;MACdo6B,MAAA,CAAOh5B,IAAI,CAAAqW,KAAA,CAAX2iB,MAAA,EAAAmG,kBAAA,CAAesqF,GAAA;;EAEnB;EACA,OAAOzwF,MAAA;AACT;AAKA,SAAS0wF,gBAAgBthE,MAAM,EAAE1+B,KAAK,EAAEqoB,IAAI,EAAE+c,QAAQ,EAAE;EACtD,IAAIr9C,KAAQ;EACZ,IAAImO,GAAA,GAAM8J,KAAQ;EAElB,IAAIqoB,IAAA,IAAQ,CAAC+c,QAAU;IAErB,OAAOr9C,KAAA,GAAQiY,KAAA,IAAS,CAAC0+B,MAAM,CAAC32C,KAAM,EAACg3C,IAAI,EAAE;MAC3Ch3C,KAAA;IACF;;EAIF,OAAOA,KAAA,GAAQiY,KAAS,IAAA0+B,MAAM,CAAC32C,KAAM,EAACg3C,IAAI,EAAE;IAC1Ch3C,KAAA;EACF;EAGAA,KAAS,IAAAiY,KAAA;EAET,IAAIqoB,IAAM;IAERnyB,GAAO,IAAAnO,KAAA;;EAGT,OAAOmO,GAAA,GAAMnO,KAAA,IAAS22C,MAAM,CAACxoC,GAAA,GAAM8J,KAAM,EAAC++B,IAAI,EAAE;IAC9C7oC,GAAA;EACF;EAGAA,GAAO,IAAA8J,KAAA;EAEP,OAAO;IAACjY,KAAA,EAAAA,KAAA;IAAOmO,GAAA,EAAAA;EAAG;AACpB;AASA,SAAS+pG,cAAcvhE,MAAM,EAAE32C,KAAK,EAAEzQ,GAAG,EAAE+wC,IAAI,EAAE;EAC/C,IAAMroB,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;EAC3B,IAAMo6B,MAAA,GAAS,EAAE;EACjB,IAAI9Z,IAAO,GAAAzN,KAAA;EACX,IAAIsqB,IAAA,GAAOqsB,MAAM,CAAC32C,KAAM;EACxB,IAAImO,GAAA;EAEJ,KAAKA,GAAA,GAAMnO,KAAQ,MAAGmO,GAAO,IAAA5e,GAAA,EAAK,EAAE4e,GAAK;IACvC,IAAMgxB,GAAM,GAAAwX,MAAM,CAACxoC,GAAA,GAAM8J,KAAM;IAC/B,IAAIknB,GAAI,CAAA6X,IAAI,IAAI7X,GAAA,CAAIr+B,IAAI,EAAE;MACxB,IAAI,CAACwpB,IAAK,CAAA0sB,IAAI,EAAE;QACd1W,IAAA,GAAO,KAAK;QACZ/Y,MAAA,CAAOh5B,IAAI,CAAC;UAACyR,KAAA,EAAOA,KAAQ,GAAAiY,KAAA;UAAO9J,GAAA,EAAK,CAACA,GAAM,QAAK8J,KAAA;UAAOqoB,IAAA,EAAAA;QAAI;QAE/DtgC,KAAA,GAAQyN,IAAO,GAAA0xB,GAAA,CAAIr+B,IAAI,GAAGqN,GAAA,GAAM,IAAI;;KAEjC;MACLV,IAAO,GAAAU,GAAA;MACP,IAAImc,IAAA,CAAK0sB,IAAI,EAAE;QACbh3C,KAAQ,GAAAmO,GAAA;;;IAGZmc,IAAO,GAAA6U,GAAA;EACT;EAEA,IAAI1xB,IAAA,KAAS,IAAI,EAAE;IACjB8Z,MAAA,CAAOh5B,IAAI,CAAC;MAACyR,KAAA,EAAOA,KAAQ,GAAAiY,KAAA;MAAO9J,GAAA,EAAKV,IAAO,GAAAwK,KAAA;MAAOqoB,IAAA,EAAAA;IAAI;;EAG5D,OAAO/Y,MAAA;AACT;AAUO,SAASyyD,iBAAiB19B,IAAI,EAAE67D,cAAc,EAAE;EACrD,IAAMxhE,MAAA,GAAS2F,IAAA,CAAK3F,MAAM;EAC1B,IAAM0G,QAAW,GAAAf,IAAA,CAAK5uD,OAAO,CAAC2vD,QAAQ;EACtC,IAAMplC,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;EAE3B,IAAI,CAAC8qB,KAAO;IACV,OAAO,EAAE;;EAGX,IAAMqoB,IAAO,IAAC,CAACgc,IAAA,CAAKjc,KAAK;EACzB,IAAA+3E,gBAAA,GAAqBH,eAAA,CAAgBthE,MAAQ,EAAA1+B,KAAA,EAAOqoB,IAAM,EAAA+c,QAAA;IAAnDr9C,KAAA,GAAAo4G,gBAAA,CAAAp4G,KAAA;IAAOmO,GAAA,GAAAiqG,gBAAA,CAAAjqG,GAAA;EAEd,IAAIkvC,QAAA,KAAa,IAAI,EAAE;IACrB,OAAOg7D,aAAA,CAAc/7D,IAAM,GAAC;MAACt8C,KAAA,EAAAA,KAAA;MAAOmO,GAAA,EAAAA,GAAA;MAAKmyB,IAAA,EAAAA;IAAI,EAAE,EAAEqW,MAAQ,EAAAwhE,cAAA;;EAG3D,IAAM5oH,GAAM,GAAA4e,GAAA,GAAMnO,KAAQ,GAAAmO,GAAA,GAAM8J,KAAA,GAAQ9J,GAAG;EAC3C,IAAMmqG,YAAA,GAAe,CAAC,CAACh8D,IAAA,CAAKwD,SAAS,IAAI9/C,KAAA,KAAU,CAAK,IAAAmO,GAAA,KAAQ8J,KAAQ;EACxE,OAAOogG,aAAA,CAAc/7D,IAAM,EAAA47D,aAAA,CAAcvhE,MAAA,EAAQ32C,KAAO,EAAAzQ,GAAA,EAAK+oH,YAAA,GAAe3hE,MAAQ,EAAAwhE,cAAA;AACtF;AAQA,SAASE,cAAc/7D,IAAI,EAAE68B,QAAQ,EAAExiC,MAAM,EAAEwhE,cAAc,EAAE;EAC7D,IAAI,CAACA,cAAkB,KAACA,cAAA,CAAe3kD,UAAU,IAAI,CAAC7c,MAAQ;IAC5D,OAAOwiC,QAAA;;EAET,OAAOo/B,eAAA,CAAgBj8D,IAAM,EAAA68B,QAAA,EAAUxiC,MAAQ,EAAAwhE,cAAA;AACjD;AASA,SAASI,gBAAgBj8D,IAAI,EAAE68B,QAAQ,EAAExiC,MAAM,EAAEwhE,cAAc,EAAE;EAC/D,IAAMK,YAAe,GAAAl8D,IAAA,CAAKjb,MAAM,CAACuJ,UAAU;EAC3C,IAAM6tE,SAAA,GAAYC,SAAU,CAAAp8D,IAAA,CAAK5uD,OAAO;EACxC,IAAsB61C,YAAA,GAAqC+Y,IAAA,CAApDO,aAAe;IAAwBQ,QAAQ,GAAKf,IAAA,CAAvB5uD,OAAA,CAAU2vD,QAAQ;EACtD,IAAMplC,KAAA,GAAQ0+B,MAAA,CAAOxpD,MAAM;EAC3B,IAAMo6B,MAAA,GAAS,EAAE;EACjB,IAAIoxF,SAAY,GAAAF,SAAA;EAChB,IAAIz4G,KAAQ,GAAAm5E,QAAQ,CAAC,EAAE,CAACn5E,KAAK;EAC7B,IAAI9S,CAAI,GAAA8S,KAAA;EAER,SAAS44G,SAASpqF,CAAC,EAAEvxB,CAAC,EAAEuvB,CAAC,EAAEqsF,EAAE,EAAE;IAC7B,IAAM9sH,GAAM,GAAAsxD,QAAA,GAAW,CAAC,IAAI,CAAC;IAC7B,IAAI7uB,CAAA,KAAMvxB,CAAG;MACX;;IAGFuxB,CAAK,IAAAvW,KAAA;IACL,OAAO0+B,MAAM,CAACnoB,CAAA,GAAIvW,KAAM,EAAC++B,IAAI,EAAE;MAC7BxoB,CAAK,IAAAziC,GAAA;IACP;IACA,OAAO4qD,MAAM,CAAC15C,CAAA,GAAIgb,KAAM,EAAC++B,IAAI,EAAE;MAC7B/5C,CAAK,IAAAlR,GAAA;IACP;IACA,IAAIyiC,CAAA,GAAIvW,KAAU,KAAAhb,CAAA,GAAIgb,KAAO;MAC3BsP,MAAA,CAAOh5B,IAAI,CAAC;QAACyR,KAAA,EAAOwuB,CAAI,GAAAvW,KAAA;QAAO9J,GAAA,EAAKlR,CAAI,GAAAgb,KAAA;QAAOqoB,IAAM,EAAA9T,CAAA;QAAGtZ,KAAO,EAAA2lG;MAAE;MACjEF,SAAY,GAAAE,EAAA;MACZ74G,KAAA,GAAQ/C,CAAI,GAAAgb,KAAA;;EAEhB;EAAA,IAAAsrD,WAAA,GAAAr+B,0BAAA,CAEsBi0C,QAAU;IAAA3V,OAAA;EAAA;IAAhC,KAAAD,WAAA,CAAA/0C,CAAA,MAAAg1C,OAAA,GAAAD,WAAA,CAAA90C,CAAA,IAAApG,IAAA,GAAgC;MAAA,IAArB20B,OAAA,GAAAwmB,OAAA,CAAA3vD,KAAA;MACT7T,KAAQ,GAAAq9C,QAAA,GAAWr9C,KAAQ,GAAAg9C,OAAA,CAAQh9C,KAAK;MACxC,IAAIsqB,IAAO,GAAAqsB,MAAM,CAAC32C,KAAA,GAAQiY,KAAM;MAChC,IAAI/E,KAAA;MACJ,KAAKhmB,CAAA,GAAI8S,KAAQ,MAAG9S,CAAA,IAAK8vD,OAAQ,CAAA7uC,GAAG,EAAEjhB,CAAK;QACzC,IAAMymG,EAAK,GAAAh9C,MAAM,CAACzpD,CAAA,GAAI+qB,KAAM;QAC5B/E,KAAA,GAAQwlG,SAAU,CAAAP,cAAA,CAAe3kD,UAAU,CAACntB,aAAA,CAAcmyE,YAAc;UACtEtjH,IAAM;UACNkB,EAAI,EAAAk0B,IAAA;UACJj0B,EAAI,EAAAs9F,EAAA;UACJmlB,WAAA,EAAa,CAAC5rH,CAAI,QAAK+qB,KAAA;UACvB8gG,WAAA,EAAa7rH,CAAI,GAAA+qB,KAAA;UACjBsrB,YAAA,EAAAA;QACF;QACA,IAAIy1E,YAAA,CAAa9lG,KAAA,EAAOylG,SAAY;UAClCC,QAAA,CAAS54G,KAAO,EAAA9S,CAAA,GAAI,CAAG,EAAA8vD,OAAA,CAAQ1c,IAAI,EAAEq4E,SAAA;;QAEvCruF,IAAO,GAAAqpE,EAAA;QACPglB,SAAY,GAAAzlG,KAAA;MACd;MACA,IAAIlT,KAAA,GAAQ9S,CAAA,GAAI,CAAG;QACjB0rH,QAAA,CAAS54G,KAAO,EAAA9S,CAAA,GAAI,CAAG,EAAA8vD,OAAA,CAAQ1c,IAAI,EAAEq4E,SAAA;;IAEzC;EAAA,SAAA/yF,GAAA;IAAA29C,WAAA,CAAAtmE,CAAA,CAAA2oB,GAAA;EAAA;IAAA29C,WAAA,CAAA/1C,CAAA;EAAA;EAEA,OAAOjG,MAAA;AACT;AAEA,SAASmxF,UAAUhrH,OAAO,EAAE;EAC1B,OAAO;IACL4R,eAAA,EAAiB5R,OAAA,CAAQ4R,eAAe;IACxCq3E,cAAA,EAAgBjpF,OAAA,CAAQipF,cAAc;IACtCzb,UAAA,EAAYxtE,OAAA,CAAQwtE,UAAU;IAC9BE,gBAAA,EAAkB1tE,OAAA,CAAQ0tE,gBAAgB;IAC1C8Z,eAAA,EAAiBxnF,OAAA,CAAQwnF,eAAe;IACxC11E,WAAA,EAAa9R,OAAA,CAAQ8R,WAAW;IAChCG,WAAA,EAAajS,OAAA,CAAQiS;EACvB;AACF;AAEA,SAASq5G,YAAaA,CAAA9lG,KAAK,EAAEylG,SAAS,EAAE;EACtC,IAAI,CAACA,SAAW;IACd,OAAO,KAAK;;EAEd,IAAMprE,KAAA,GAAQ,EAAE;EAChB,IAAM0rE,QAAW,YAAXA,QAAWA,CAASvtH,GAAG,EAAEmoB,KAAK,EAAE;IACpC,IAAI,CAACk3F,mBAAA,CAAoBl3F,KAAQ;MAC/B,OAAOA,KAAA;;IAET,IAAI,CAAC05B,KAAA,CAAM6X,QAAQ,CAACvxC,KAAQ;MAC1B05B,KAAA,CAAMh/C,IAAI,CAACslB,KAAA;;IAEb,OAAO05B,KAAA,CAAMrhD,OAAO,CAAC2nB,KAAA;EACvB;EACA,OAAO7Q,IAAA,CAAKC,SAAS,CAACiQ,KAAA,EAAO+lG,QAAA,MAAcj2G,IAAK,CAAAC,SAAS,CAAC01G,SAAW,EAAAM,QAAA;AACvE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UE3WA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;;;;WCrBA;;;;;;;;;;;;;;;ACA6B;AACiB;AACG;AAEjD3sF,2DAAkB,CAAC,CAAC;AACpB1H,8DAAe,CAAC,CAAC,C","sources":["webpack://restaurant-page/./node_modules/chartjs-plugin-zoom/dist/chartjs-plugin-zoom.esm.js","webpack://restaurant-page/./node_modules/css-loader/dist/runtime/api.js","webpack://restaurant-page/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://restaurant-page/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://restaurant-page/./node_modules/hammerjs/hammer.js","webpack://restaurant-page/./src/chart-init.js","webpack://restaurant-page/./src/data-load.js","webpack://restaurant-page/./src/data-storage.js","webpack://restaurant-page/./src/search.js","webpack://restaurant-page/./src/styles/style.scss","webpack://restaurant-page/./src/styles/style.scss?e5d8","webpack://restaurant-page/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://restaurant-page/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://restaurant-page/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://restaurant-page/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://restaurant-page/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://restaurant-page/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://restaurant-page/./node_modules/@kurkle/color/dist/color.esm.js","webpack://restaurant-page/./node_modules/chart.js/auto/auto.js","webpack://restaurant-page/../src/core/core.animator.js","webpack://restaurant-page/../src/core/core.animation.js","webpack://restaurant-page/../src/core/core.animations.js","webpack://restaurant-page/../src/core/core.datasetController.js","webpack://restaurant-page/../src/controllers/controller.bar.js","webpack://restaurant-page/../src/controllers/controller.bubble.js","webpack://restaurant-page/../src/controllers/controller.doughnut.js","webpack://restaurant-page/../src/controllers/controller.line.js","webpack://restaurant-page/../src/controllers/controller.polarArea.js","webpack://restaurant-page/../src/controllers/controller.pie.js","webpack://restaurant-page/../src/controllers/controller.radar.js","webpack://restaurant-page/../src/controllers/controller.scatter.js","webpack://restaurant-page/../src/core/core.adapters.ts","webpack://restaurant-page/../src/core/core.interaction.js","webpack://restaurant-page/../src/core/core.layouts.js","webpack://restaurant-page/../src/platform/platform.base.js","webpack://restaurant-page/../src/platform/platform.basic.js","webpack://restaurant-page/../src/platform/platform.dom.js","webpack://restaurant-page/../src/platform/index.js","webpack://restaurant-page/../src/core/core.element.ts","webpack://restaurant-page/../src/core/core.scale.autoskip.js","webpack://restaurant-page/../src/core/core.scale.js","webpack://restaurant-page/../src/core/core.typedRegistry.js","webpack://restaurant-page/../src/core/core.registry.js","webpack://restaurant-page/../src/core/core.plugins.js","webpack://restaurant-page/../src/core/core.config.js","webpack://restaurant-page/../src/core/core.controller.js","webpack://restaurant-page/../src/elements/element.arc.ts","webpack://restaurant-page/../src/elements/element.line.js","webpack://restaurant-page/../src/elements/element.point.ts","webpack://restaurant-page/../src/elements/element.bar.js","webpack://restaurant-page/../src/plugins/plugin.colors.ts","webpack://restaurant-page/../src/plugins/plugin.decimation.js","webpack://restaurant-page/../src/plugins/plugin.filler/filler.segment.js","webpack://restaurant-page/../src/plugins/plugin.filler/filler.helper.js","webpack://restaurant-page/../src/plugins/plugin.filler/filler.options.js","webpack://restaurant-page/../src/plugins/plugin.filler/filler.target.stack.js","webpack://restaurant-page/../src/plugins/plugin.filler/simpleArc.js","webpack://restaurant-page/../src/plugins/plugin.filler/filler.target.js","webpack://restaurant-page/../src/plugins/plugin.filler/filler.drawing.js","webpack://restaurant-page/../src/plugins/plugin.filler/index.js","webpack://restaurant-page/../src/plugins/plugin.legend.js","webpack://restaurant-page/../src/plugins/plugin.title.js","webpack://restaurant-page/../src/plugins/plugin.subtitle.js","webpack://restaurant-page/../src/plugins/plugin.tooltip.js","webpack://restaurant-page/../src/scales/scale.category.js","webpack://restaurant-page/../src/scales/scale.linearbase.js","webpack://restaurant-page/../src/scales/scale.linear.js","webpack://restaurant-page/../src/scales/scale.logarithmic.js","webpack://restaurant-page/../src/scales/scale.radialLinear.js","webpack://restaurant-page/../src/scales/scale.time.js","webpack://restaurant-page/../src/scales/scale.timeseries.js","webpack://restaurant-page/../src/index.ts","webpack://restaurant-page/../../src/helpers/helpers.core.ts","webpack://restaurant-page/../../src/helpers/helpers.math.ts","webpack://restaurant-page/../../src/helpers/helpers.collection.ts","webpack://restaurant-page/../../src/helpers/helpers.extras.ts","webpack://restaurant-page/../../src/helpers/helpers.easing.ts","webpack://restaurant-page/../../src/helpers/helpers.color.ts","webpack://restaurant-page/../../src/core/core.animations.defaults.js","webpack://restaurant-page/../../src/core/core.layouts.defaults.js","webpack://restaurant-page/../../src/helpers/helpers.intl.ts","webpack://restaurant-page/../../src/core/core.ticks.js","webpack://restaurant-page/../../src/core/core.scale.defaults.js","webpack://restaurant-page/../../src/core/core.defaults.js","webpack://restaurant-page/../../src/helpers/helpers.canvas.ts","webpack://restaurant-page/../../src/helpers/helpers.options.ts","webpack://restaurant-page/../../src/helpers/helpers.config.ts","webpack://restaurant-page/../../src/helpers/helpers.curve.ts","webpack://restaurant-page/../../src/helpers/helpers.dom.ts","webpack://restaurant-page/../../src/helpers/helpers.interpolation.ts","webpack://restaurant-page/../../src/helpers/helpers.rtl.ts","webpack://restaurant-page/../../src/helpers/helpers.segment.js","webpack://restaurant-page/./node_modules/chart.js/helpers/helpers.js","webpack://restaurant-page/webpack/bootstrap","webpack://restaurant-page/webpack/runtime/compat get default export","webpack://restaurant-page/webpack/runtime/define property getters","webpack://restaurant-page/webpack/runtime/global","webpack://restaurant-page/webpack/runtime/hasOwnProperty shorthand","webpack://restaurant-page/webpack/runtime/make namespace object","webpack://restaurant-page/webpack/runtime/publicPath","webpack://restaurant-page/webpack/runtime/jsonp chunk loading","webpack://restaurant-page/webpack/runtime/nonce","webpack://restaurant-page/./src/index.js"],"sourcesContent":["/*!\n* chartjs-plugin-zoom v2.0.1\n* undefined\n * (c) 2016-2023 chartjs-plugin-zoom Contributors\n * Released under the MIT License\n */\nimport Hammer from 'hammerjs';\nimport { each, valueOrDefault, callback, sign, getRelativePosition } from 'chart.js/helpers';\n\nconst getModifierKey = opts => opts && opts.enabled && opts.modifierKey;\nconst keyPressed = (key, event) => key && event[key + 'Key'];\nconst keyNotPressed = (key, event) => key && !event[key + 'Key'];\n\n/**\n * @param {string|function} mode can be 'x', 'y' or 'xy'\n * @param {string} dir can be 'x' or 'y'\n * @param {import('chart.js').Chart} chart instance of the chart in question\n * @returns {boolean}\n */\nfunction directionEnabled(mode, dir, chart) {\n  if (mode === undefined) {\n    return true;\n  } else if (typeof mode === 'string') {\n    return mode.indexOf(dir) !== -1;\n  } else if (typeof mode === 'function') {\n    return mode({chart}).indexOf(dir) !== -1;\n  }\n\n  return false;\n}\n\nfunction directionsEnabled(mode, chart) {\n  if (typeof mode === 'function') {\n    mode = mode({chart});\n  }\n  if (typeof mode === 'string') {\n    return {x: mode.indexOf('x') !== -1, y: mode.indexOf('y') !== -1};\n  }\n\n  return {x: false, y: false};\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n * @param {function} fn - Function to call. No arguments are passed.\n * @param {number} delay - Delay in ms. 0 = immediate invocation.\n * @returns {function}\n */\nfunction debounce(fn, delay) {\n  let timeout;\n  return function() {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, delay);\n    return delay;\n  };\n}\n\n/**\n * Checks which axis is under the mouse cursor.\n * @param {{x: number, y: number}} point - the mouse location\n * @param {import('chart.js').Chart} [chart] instance of the chart in question\n * @return {import('chart.js').Scale}\n */\nfunction getScaleUnderPoint({x, y}, chart) {\n  const scales = chart.scales;\n  const scaleIds = Object.keys(scales);\n  for (let i = 0; i < scaleIds.length; i++) {\n    const scale = scales[scaleIds[i]];\n    if (y >= scale.top && y <= scale.bottom && x >= scale.left && x <= scale.right) {\n      return scale;\n    }\n  }\n  return null;\n}\n\n/**\n * Evaluate the chart's mode, scaleMode, and overScaleMode properties to\n * determine which axes are eligible for scaling.\n * options.overScaleMode can be a function if user want zoom only one scale of many for example.\n * @param options - Zoom or pan options\n * @param {{x: number, y: number}} point - the mouse location\n * @param {import('chart.js').Chart} [chart] instance of the chart in question\n * @return {import('chart.js').Scale[]}\n */\nfunction getEnabledScalesByPoint(options, point, chart) {\n  const {mode = 'xy', scaleMode, overScaleMode} = options || {};\n  const scale = getScaleUnderPoint(point, chart);\n\n  const enabled = directionsEnabled(mode, chart);\n  const scaleEnabled = directionsEnabled(scaleMode, chart);\n\n  // Convert deprecated overScaleEnabled to new scaleEnabled.\n  if (overScaleMode) {\n    const overScaleEnabled = directionsEnabled(overScaleMode, chart);\n    for (const axis of ['x', 'y']) {\n      if (overScaleEnabled[axis]) {\n        scaleEnabled[axis] = enabled[axis];\n        enabled[axis] = false;\n      }\n    }\n  }\n\n  if (scale && scaleEnabled[scale.axis]) {\n    return [scale];\n  }\n\n  const enabledScales = [];\n  each(chart.scales, function(scaleItem) {\n    if (enabled[scaleItem.axis]) {\n      enabledScales.push(scaleItem);\n    }\n  });\n  return enabledScales;\n}\n\nconst chartStates = new WeakMap();\n\nfunction getState(chart) {\n  let state = chartStates.get(chart);\n  if (!state) {\n    state = {\n      originalScaleLimits: {},\n      updatedScaleLimits: {},\n      handlers: {},\n      panDelta: {}\n    };\n    chartStates.set(chart, state);\n  }\n  return state;\n}\n\nfunction removeState(chart) {\n  chartStates.delete(chart);\n}\n\nfunction zoomDelta(scale, zoom, center) {\n  const range = scale.max - scale.min;\n  const newRange = range * (zoom - 1);\n\n  const centerPoint = scale.isHorizontal() ? center.x : center.y;\n  // `scale.getValueForPixel()` can return a value less than the `scale.min` or\n  // greater than `scale.max` when `centerPoint` is outside chartArea.\n  const minPercent = Math.max(0, Math.min(1,\n    (scale.getValueForPixel(centerPoint) - scale.min) / range || 0\n  ));\n\n  const maxPercent = 1 - minPercent;\n\n  return {\n    min: newRange * minPercent,\n    max: newRange * maxPercent\n  };\n}\n\nfunction getLimit(state, scale, scaleLimits, prop, fallback) {\n  let limit = scaleLimits[prop];\n  if (limit === 'original') {\n    const original = state.originalScaleLimits[scale.id][prop];\n    limit = valueOrDefault(original.options, original.scale);\n  }\n  return valueOrDefault(limit, fallback);\n}\n\nfunction getRange(scale, pixel0, pixel1) {\n  const v0 = scale.getValueForPixel(pixel0);\n  const v1 = scale.getValueForPixel(pixel1);\n  return {\n    min: Math.min(v0, v1),\n    max: Math.max(v0, v1)\n  };\n}\n\nfunction updateRange(scale, {min, max}, limits, zoom = false) {\n  const state = getState(scale.chart);\n  const {id, axis, options: scaleOpts} = scale;\n\n  const scaleLimits = limits && (limits[id] || limits[axis]) || {};\n  const {minRange = 0} = scaleLimits;\n  const minLimit = getLimit(state, scale, scaleLimits, 'min', -Infinity);\n  const maxLimit = getLimit(state, scale, scaleLimits, 'max', Infinity);\n\n  const range = zoom ? Math.max(max - min, minRange) : scale.max - scale.min;\n  const offset = (range - max + min) / 2;\n  min -= offset;\n  max += offset;\n\n  if (min < minLimit) {\n    min = minLimit;\n    max = Math.min(minLimit + range, maxLimit);\n  } else if (max > maxLimit) {\n    max = maxLimit;\n    min = Math.max(maxLimit - range, minLimit);\n  }\n  scaleOpts.min = min;\n  scaleOpts.max = max;\n\n  state.updatedScaleLimits[scale.id] = {min, max};\n\n  // return true if the scale range is changed\n  return scale.parse(min) !== scale.min || scale.parse(max) !== scale.max;\n}\n\nfunction zoomNumericalScale(scale, zoom, center, limits) {\n  const delta = zoomDelta(scale, zoom, center);\n  const newRange = {min: scale.min + delta.min, max: scale.max - delta.max};\n  return updateRange(scale, newRange, limits, true);\n}\n\nfunction zoomRectNumericalScale(scale, from, to, limits) {\n  updateRange(scale, getRange(scale, from, to), limits, true);\n}\n\nconst integerChange = (v) => v === 0 || isNaN(v) ? 0 : v < 0 ? Math.min(Math.round(v), -1) : Math.max(Math.round(v), 1);\n\nfunction existCategoryFromMaxZoom(scale) {\n  const labels = scale.getLabels();\n  const maxIndex = labels.length - 1;\n\n  if (scale.min > 0) {\n    scale.min -= 1;\n  }\n  if (scale.max < maxIndex) {\n    scale.max += 1;\n  }\n}\n\nfunction zoomCategoryScale(scale, zoom, center, limits) {\n  const delta = zoomDelta(scale, zoom, center);\n  if (scale.min === scale.max && zoom < 1) {\n    existCategoryFromMaxZoom(scale);\n  }\n  const newRange = {min: scale.min + integerChange(delta.min), max: scale.max - integerChange(delta.max)};\n  return updateRange(scale, newRange, limits, true);\n}\n\nfunction scaleLength(scale) {\n  return scale.isHorizontal() ? scale.width : scale.height;\n}\n\nfunction panCategoryScale(scale, delta, limits) {\n  const labels = scale.getLabels();\n  const lastLabelIndex = labels.length - 1;\n  let {min, max} = scale;\n  // The visible range. Ticks can be skipped, and thus not reliable.\n  const range = Math.max(max - min, 1);\n  // How many pixels of delta is required before making a step. stepSize, but limited to max 1/10 of the scale length.\n  const stepDelta = Math.round(scaleLength(scale) / Math.max(range, 10));\n  const stepSize = Math.round(Math.abs(delta / stepDelta));\n  let applied;\n  if (delta < -stepDelta) {\n    max = Math.min(max + stepSize, lastLabelIndex);\n    min = range === 1 ? max : max - range;\n    applied = max === lastLabelIndex;\n  } else if (delta > stepDelta) {\n    min = Math.max(0, min - stepSize);\n    max = range === 1 ? min : min + range;\n    applied = min === 0;\n  }\n\n  return updateRange(scale, {min, max}, limits) || applied;\n}\n\nconst OFFSETS = {\n  second: 500, // 500 ms\n  minute: 30 * 1000, // 30 s\n  hour: 30 * 60 * 1000, // 30 m\n  day: 12 * 60 * 60 * 1000, // 12 h\n  week: 3.5 * 24 * 60 * 60 * 1000, // 3.5 d\n  month: 15 * 24 * 60 * 60 * 1000, // 15 d\n  quarter: 60 * 24 * 60 * 60 * 1000, // 60 d\n  year: 182 * 24 * 60 * 60 * 1000 // 182 d\n};\n\nfunction panNumericalScale(scale, delta, limits, canZoom = false) {\n  const {min: prevStart, max: prevEnd, options} = scale;\n  const round = options.time && options.time.round;\n  const offset = OFFSETS[round] || 0;\n  const newMin = scale.getValueForPixel(scale.getPixelForValue(prevStart + offset) - delta);\n  const newMax = scale.getValueForPixel(scale.getPixelForValue(prevEnd + offset) - delta);\n  const {min: minLimit = -Infinity, max: maxLimit = Infinity} = canZoom && limits && limits[scale.axis] || {};\n  if (isNaN(newMin) || isNaN(newMax) || newMin < minLimit || newMax > maxLimit) {\n    // At limit: No change but return true to indicate no need to store the delta.\n    // NaN can happen for 0-dimension scales (either because they were configured\n    // with min === max or because the chart has 0 plottable area).\n    return true;\n  }\n  return updateRange(scale, {min: newMin, max: newMax}, limits, canZoom);\n}\n\nfunction panNonLinearScale(scale, delta, limits) {\n  return panNumericalScale(scale, delta, limits, true);\n}\n\nconst zoomFunctions = {\n  category: zoomCategoryScale,\n  default: zoomNumericalScale,\n};\n\nconst zoomRectFunctions = {\n  default: zoomRectNumericalScale,\n};\n\nconst panFunctions = {\n  category: panCategoryScale,\n  default: panNumericalScale,\n  logarithmic: panNonLinearScale,\n  timeseries: panNonLinearScale,\n};\n\nfunction shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits) {\n  const {id, options: {min, max}} = scale;\n  if (!originalScaleLimits[id] || !updatedScaleLimits[id]) {\n    return true;\n  }\n  const previous = updatedScaleLimits[id];\n  return previous.min !== min || previous.max !== max;\n}\n\nfunction removeMissingScales(limits, scales) {\n  each(limits, (opt, key) => {\n    if (!scales[key]) {\n      delete limits[key];\n    }\n  });\n}\n\nfunction storeOriginalScaleLimits(chart, state) {\n  const {scales} = chart;\n  const {originalScaleLimits, updatedScaleLimits} = state;\n\n  each(scales, function(scale) {\n    if (shouldUpdateScaleLimits(scale, originalScaleLimits, updatedScaleLimits)) {\n      originalScaleLimits[scale.id] = {\n        min: {scale: scale.min, options: scale.options.min},\n        max: {scale: scale.max, options: scale.options.max},\n      };\n    }\n  });\n\n  removeMissingScales(originalScaleLimits, scales);\n  removeMissingScales(updatedScaleLimits, scales);\n  return originalScaleLimits;\n}\n\nfunction doZoom(scale, amount, center, limits) {\n  const fn = zoomFunctions[scale.type] || zoomFunctions.default;\n  callback(fn, [scale, amount, center, limits]);\n}\n\nfunction doZoomRect(scale, amount, from, to, limits) {\n  const fn = zoomRectFunctions[scale.type] || zoomRectFunctions.default;\n  callback(fn, [scale, amount, from, to, limits]);\n}\n\nfunction getCenter(chart) {\n  const ca = chart.chartArea;\n  return {\n    x: (ca.left + ca.right) / 2,\n    y: (ca.top + ca.bottom) / 2,\n  };\n}\n\n/**\n * @param chart The chart instance\n * @param {number | {x?: number, y?: number, focalPoint?: {x: number, y: number}}} amount The zoom percentage or percentages and focal point\n * @param {string} [transition] Which transition mode to use. Defaults to 'none'\n */\nfunction zoom(chart, amount, transition = 'none') {\n  const {x = 1, y = 1, focalPoint = getCenter(chart)} = typeof amount === 'number' ? {x: amount, y: amount} : amount;\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n\n  storeOriginalScaleLimits(chart, state);\n\n  const xEnabled = x !== 1;\n  const yEnabled = y !== 1;\n  const enabledScales = getEnabledScalesByPoint(zoomOptions, focalPoint, chart);\n\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      doZoom(scale, x, focalPoint, limits);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      doZoom(scale, y, focalPoint, limits);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(zoomOptions.onZoom, [{chart}]);\n}\n\nfunction zoomRect(chart, p0, p1, transition = 'none') {\n  const state = getState(chart);\n  const {options: {limits, zoom: zoomOptions}} = state;\n  const {mode = 'xy'} = zoomOptions;\n\n  storeOriginalScaleLimits(chart, state);\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n\n  each(chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      doZoomRect(scale, p0.x, p1.x, limits);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      doZoomRect(scale, p0.y, p1.y, limits);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(zoomOptions.onZoom, [{chart}]);\n}\n\nfunction zoomScale(chart, scaleId, range, transition = 'none') {\n  storeOriginalScaleLimits(chart, getState(chart));\n  const scale = chart.scales[scaleId];\n  updateRange(scale, range, undefined, true);\n  chart.update(transition);\n}\n\nfunction resetZoom(chart, transition = 'default') {\n  const state = getState(chart);\n  const originalScaleLimits = storeOriginalScaleLimits(chart, state);\n\n  each(chart.scales, function(scale) {\n    const scaleOptions = scale.options;\n    if (originalScaleLimits[scale.id]) {\n      scaleOptions.min = originalScaleLimits[scale.id].min.options;\n      scaleOptions.max = originalScaleLimits[scale.id].max.options;\n    } else {\n      delete scaleOptions.min;\n      delete scaleOptions.max;\n    }\n  });\n  chart.update(transition);\n  callback(state.options.zoom.onZoomComplete, [{chart}]);\n}\n\nfunction getOriginalRange(state, scaleId) {\n  const original = state.originalScaleLimits[scaleId];\n  if (!original) {\n    return;\n  }\n  const {min, max} = original;\n  return valueOrDefault(max.options, max.scale) - valueOrDefault(min.options, min.scale);\n}\n\nfunction getZoomLevel(chart) {\n  const state = getState(chart);\n  let min = 1;\n  let max = 1;\n  each(chart.scales, function(scale) {\n    const origRange = getOriginalRange(state, scale.id);\n    if (origRange) {\n      const level = Math.round(origRange / (scale.max - scale.min) * 100) / 100;\n      min = Math.min(min, level);\n      max = Math.max(max, level);\n    }\n  });\n  return min < 1 ? min : max;\n}\n\nfunction panScale(scale, delta, limits, state) {\n  const {panDelta} = state;\n  // Add possible cumulative delta from previous pan attempts where scale did not change\n  const storedDelta = panDelta[scale.id] || 0;\n  if (sign(storedDelta) === sign(delta)) {\n    delta += storedDelta;\n  }\n  const fn = panFunctions[scale.type] || panFunctions.default;\n  if (callback(fn, [scale, delta, limits])) {\n    // The scale changed, reset cumulative delta\n    panDelta[scale.id] = 0;\n  } else {\n    // The scale did not change, store cumulative delta\n    panDelta[scale.id] = delta;\n  }\n}\n\nfunction pan(chart, delta, enabledScales, transition = 'none') {\n  const {x = 0, y = 0} = typeof delta === 'number' ? {x: delta, y: delta} : delta;\n  const state = getState(chart);\n  const {options: {pan: panOptions, limits}} = state;\n  const {onPan} = panOptions || {};\n\n  storeOriginalScaleLimits(chart, state);\n\n  const xEnabled = x !== 0;\n  const yEnabled = y !== 0;\n\n  each(enabledScales || chart.scales, function(scale) {\n    if (scale.isHorizontal() && xEnabled) {\n      panScale(scale, x, limits, state);\n    } else if (!scale.isHorizontal() && yEnabled) {\n      panScale(scale, y, limits, state);\n    }\n  });\n\n  chart.update(transition);\n\n  callback(onPan, [{chart}]);\n}\n\nfunction getInitialScaleBounds(chart) {\n  const state = getState(chart);\n  storeOriginalScaleLimits(chart, state);\n  const scaleBounds = {};\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min, max} = state.originalScaleLimits[scaleId] || {min: {}, max: {}};\n    scaleBounds[scaleId] = {min: min.scale, max: max.scale};\n  }\n\n  return scaleBounds;\n}\n\nfunction isZoomedOrPanned(chart) {\n  const scaleBounds = getInitialScaleBounds(chart);\n  for (const scaleId of Object.keys(chart.scales)) {\n    const {min: originalMin, max: originalMax} = scaleBounds[scaleId];\n\n    if (originalMin !== undefined && chart.scales[scaleId].min !== originalMin) {\n      return true;\n    }\n\n    if (originalMax !== undefined && chart.scales[scaleId].max !== originalMax) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction removeHandler(chart, type) {\n  const {handlers} = getState(chart);\n  const handler = handlers[type];\n  if (handler && handler.target) {\n    handler.target.removeEventListener(type, handler);\n    delete handlers[type];\n  }\n}\n\nfunction addHandler(chart, target, type, handler) {\n  const {handlers, options} = getState(chart);\n  const oldHandler = handlers[type];\n  if (oldHandler && oldHandler.target === target) {\n    // already attached\n    return;\n  }\n  removeHandler(chart, type);\n  handlers[type] = (event) => handler(chart, event, options);\n  handlers[type].target = target;\n  target.addEventListener(type, handlers[type]);\n}\n\nfunction mouseMove(chart, event) {\n  const state = getState(chart);\n  if (state.dragStart) {\n    state.dragging = true;\n    state.dragEnd = event;\n    chart.update('none');\n  }\n}\n\nfunction keyDown(chart, event) {\n  const state = getState(chart);\n  if (!state.dragStart || event.key !== 'Escape') {\n    return;\n  }\n\n  removeHandler(chart, 'keydown');\n  state.dragging = false;\n  state.dragStart = state.dragEnd = null;\n  chart.update('none');\n}\n\nfunction zoomStart(chart, event, zoomOptions) {\n  const {onZoomStart, onZoomRejected} = zoomOptions;\n  if (onZoomStart) {\n    const point = getRelativePosition(event, chart);\n    if (callback(onZoomStart, [{chart, event, point}]) === false) {\n      callback(onZoomRejected, [{chart, event}]);\n      return false;\n    }\n  }\n}\n\nfunction mouseDown(chart, event) {\n  const state = getState(chart);\n  const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n  if (\n    event.button !== 0 ||\n    keyPressed(getModifierKey(panOptions), event) ||\n    keyNotPressed(getModifierKey(zoomOptions.drag), event)\n  ) {\n    return callback(zoomOptions.onZoomRejected, [{chart, event}]);\n  }\n\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n  state.dragStart = event;\n\n  addHandler(chart, chart.canvas, 'mousemove', mouseMove);\n  addHandler(chart, window.document, 'keydown', keyDown);\n}\n\nfunction computeDragRect(chart, mode, beginPointEvent, endPointEvent) {\n  const xEnabled = directionEnabled(mode, 'x', chart);\n  const yEnabled = directionEnabled(mode, 'y', chart);\n  let {top, left, right, bottom, width: chartWidth, height: chartHeight} = chart.chartArea;\n\n  const beginPoint = getRelativePosition(beginPointEvent, chart);\n  const endPoint = getRelativePosition(endPointEvent, chart);\n\n  if (xEnabled) {\n    left = Math.min(beginPoint.x, endPoint.x);\n    right = Math.max(beginPoint.x, endPoint.x);\n  }\n\n  if (yEnabled) {\n    top = Math.min(beginPoint.y, endPoint.y);\n    bottom = Math.max(beginPoint.y, endPoint.y);\n  }\n  const width = right - left;\n  const height = bottom - top;\n\n  return {\n    left,\n    top,\n    right,\n    bottom,\n    width,\n    height,\n    zoomX: xEnabled && width ? 1 + ((chartWidth - width) / chartWidth) : 1,\n    zoomY: yEnabled && height ? 1 + ((chartHeight - height) / chartHeight) : 1\n  };\n}\n\nfunction mouseUp(chart, event) {\n  const state = getState(chart);\n  if (!state.dragStart) {\n    return;\n  }\n\n  removeHandler(chart, 'mousemove');\n  const {mode, onZoomComplete, drag: {threshold = 0}} = state.options.zoom;\n  const rect = computeDragRect(chart, mode, state.dragStart, event);\n  const distanceX = directionEnabled(mode, 'x', chart) ? rect.width : 0;\n  const distanceY = directionEnabled(mode, 'y', chart) ? rect.height : 0;\n  const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n\n  // Remove drag start and end before chart update to stop drawing selected area\n  state.dragStart = state.dragEnd = null;\n\n  if (distance <= threshold) {\n    state.dragging = false;\n    chart.update('none');\n    return;\n  }\n\n  zoomRect(chart, {x: rect.left, y: rect.top}, {x: rect.right, y: rect.bottom}, 'zoom');\n\n  setTimeout(() => (state.dragging = false), 500);\n  callback(onZoomComplete, [{chart}]);\n}\n\nfunction wheelPreconditions(chart, event, zoomOptions) {\n  // Before preventDefault, check if the modifier key required and pressed\n  if (keyNotPressed(getModifierKey(zoomOptions.wheel), event)) {\n    callback(zoomOptions.onZoomRejected, [{chart, event}]);\n    return;\n  }\n\n  if (zoomStart(chart, event, zoomOptions) === false) {\n    return;\n  }\n\n  // Prevent the event from triggering the default behavior (e.g. content scrolling).\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  // Firefox always fires the wheel event twice:\n  // First without the delta and right after that once with the delta properties.\n  if (event.deltaY === undefined) {\n    return;\n  }\n  return true;\n}\n\nfunction wheel(chart, event) {\n  const {handlers: {onZoomComplete}, options: {zoom: zoomOptions}} = getState(chart);\n\n  if (!wheelPreconditions(chart, event, zoomOptions)) {\n    return;\n  }\n\n  const rect = event.target.getBoundingClientRect();\n  const speed = 1 + (event.deltaY >= 0 ? -zoomOptions.wheel.speed : zoomOptions.wheel.speed);\n  const amount = {\n    x: speed,\n    y: speed,\n    focalPoint: {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    }\n  };\n\n  zoom(chart, amount);\n\n  if (onZoomComplete) {\n    onZoomComplete();\n  }\n}\n\nfunction addDebouncedHandler(chart, name, handler, delay) {\n  if (handler) {\n    getState(chart).handlers[name] = debounce(() => callback(handler, [{chart}]), delay);\n  }\n}\n\nfunction addListeners(chart, options) {\n  const canvas = chart.canvas;\n  const {wheel: wheelOptions, drag: dragOptions, onZoomComplete} = options.zoom;\n\n  // Install listeners. Do this dynamically based on options so that we can turn zoom on and off\n  // We also want to make sure listeners aren't always on. E.g. if you're scrolling down a page\n  // and the mouse goes over a chart you don't want it intercepted unless the plugin is enabled\n  if (wheelOptions.enabled) {\n    addHandler(chart, canvas, 'wheel', wheel);\n    addDebouncedHandler(chart, 'onZoomComplete', onZoomComplete, 250);\n  } else {\n    removeHandler(chart, 'wheel');\n  }\n  if (dragOptions.enabled) {\n    addHandler(chart, canvas, 'mousedown', mouseDown);\n    addHandler(chart, canvas.ownerDocument, 'mouseup', mouseUp);\n  } else {\n    removeHandler(chart, 'mousedown');\n    removeHandler(chart, 'mousemove');\n    removeHandler(chart, 'mouseup');\n    removeHandler(chart, 'keydown');\n  }\n}\n\nfunction removeListeners(chart) {\n  removeHandler(chart, 'mousedown');\n  removeHandler(chart, 'mousemove');\n  removeHandler(chart, 'mouseup');\n  removeHandler(chart, 'wheel');\n  removeHandler(chart, 'click');\n  removeHandler(chart, 'keydown');\n}\n\nfunction createEnabler(chart, state) {\n  return function(recognizer, event) {\n    const {pan: panOptions, zoom: zoomOptions = {}} = state.options;\n    if (!panOptions || !panOptions.enabled) {\n      return false;\n    }\n    const srcEvent = event && event.srcEvent;\n    if (!srcEvent) { // Sometimes Hammer queries this with a null event.\n      return true;\n    }\n    if (!state.panning && event.pointerType === 'mouse' && (\n      keyNotPressed(getModifierKey(panOptions), srcEvent) || keyPressed(getModifierKey(zoomOptions.drag), srcEvent))\n    ) {\n      callback(panOptions.onPanRejected, [{chart, event}]);\n      return false;\n    }\n    return true;\n  };\n}\n\nfunction pinchAxes(p0, p1) {\n  // fingers position difference\n  const pinchX = Math.abs(p0.clientX - p1.clientX);\n  const pinchY = Math.abs(p0.clientY - p1.clientY);\n\n  // diagonal fingers will change both (xy) axes\n  const p = pinchX / pinchY;\n  let x, y;\n  if (p > 0.3 && p < 1.7) {\n    x = y = true;\n  } else if (pinchX > pinchY) {\n    x = true;\n  } else {\n    y = true;\n  }\n  return {x, y};\n}\n\nfunction handlePinch(chart, state, e) {\n  if (state.scale) {\n    const {center, pointers} = e;\n    // Hammer reports the total scaling. We need the incremental amount\n    const zoomPercent = 1 / state.scale * e.scale;\n    const rect = e.target.getBoundingClientRect();\n    const pinch = pinchAxes(pointers[0], pointers[1]);\n    const mode = state.options.zoom.mode;\n    const amount = {\n      x: pinch.x && directionEnabled(mode, 'x', chart) ? zoomPercent : 1,\n      y: pinch.y && directionEnabled(mode, 'y', chart) ? zoomPercent : 1,\n      focalPoint: {\n        x: center.x - rect.left,\n        y: center.y - rect.top\n      }\n    };\n\n    zoom(chart, amount);\n\n    // Keep track of overall scale\n    state.scale = e.scale;\n  }\n}\n\nfunction startPinch(chart, state) {\n  if (state.options.zoom.pinch.enabled) {\n    state.scale = 1;\n  }\n}\n\nfunction endPinch(chart, state, e) {\n  if (state.scale) {\n    handlePinch(chart, state, e);\n    state.scale = null; // reset\n    callback(state.options.zoom.onZoomComplete, [{chart}]);\n  }\n}\n\nfunction handlePan(chart, state, e) {\n  const delta = state.delta;\n  if (delta) {\n    state.panning = true;\n    pan(chart, {x: e.deltaX - delta.x, y: e.deltaY - delta.y}, state.panScales);\n    state.delta = {x: e.deltaX, y: e.deltaY};\n  }\n}\n\nfunction startPan(chart, state, event) {\n  const {enabled, onPanStart, onPanRejected} = state.options.pan;\n  if (!enabled) {\n    return;\n  }\n  const rect = event.target.getBoundingClientRect();\n  const point = {\n    x: event.center.x - rect.left,\n    y: event.center.y - rect.top\n  };\n\n  if (callback(onPanStart, [{chart, event, point}]) === false) {\n    return callback(onPanRejected, [{chart, event}]);\n  }\n\n  state.panScales = getEnabledScalesByPoint(state.options.pan, point, chart);\n  state.delta = {x: 0, y: 0};\n  clearTimeout(state.panEndTimeout);\n  handlePan(chart, state, event);\n}\n\nfunction endPan(chart, state) {\n  state.delta = null;\n  if (state.panning) {\n    state.panEndTimeout = setTimeout(() => (state.panning = false), 500);\n    callback(state.options.pan.onPanComplete, [{chart}]);\n  }\n}\n\nconst hammers = new WeakMap();\nfunction startHammer(chart, options) {\n  const state = getState(chart);\n  const canvas = chart.canvas;\n  const {pan: panOptions, zoom: zoomOptions} = options;\n\n  const mc = new Hammer.Manager(canvas);\n  if (zoomOptions && zoomOptions.pinch.enabled) {\n    mc.add(new Hammer.Pinch());\n    mc.on('pinchstart', () => startPinch(chart, state));\n    mc.on('pinch', (e) => handlePinch(chart, state, e));\n    mc.on('pinchend', (e) => endPinch(chart, state, e));\n  }\n\n  if (panOptions && panOptions.enabled) {\n    mc.add(new Hammer.Pan({\n      threshold: panOptions.threshold,\n      enable: createEnabler(chart, state)\n    }));\n    mc.on('panstart', (e) => startPan(chart, state, e));\n    mc.on('panmove', (e) => handlePan(chart, state, e));\n    mc.on('panend', () => endPan(chart, state));\n  }\n\n  hammers.set(chart, mc);\n}\n\nfunction stopHammer(chart) {\n  const mc = hammers.get(chart);\n  if (mc) {\n    mc.remove('pinchstart');\n    mc.remove('pinch');\n    mc.remove('pinchend');\n    mc.remove('panstart');\n    mc.remove('pan');\n    mc.remove('panend');\n    mc.destroy();\n    hammers.delete(chart);\n  }\n}\n\nvar version = \"2.0.1\";\n\nfunction draw(chart, caller, options) {\n  const dragOptions = options.zoom.drag;\n  const {dragStart, dragEnd} = getState(chart);\n\n  if (dragOptions.drawTime !== caller || !dragEnd) {\n    return;\n  }\n  const {left, top, width, height} = computeDragRect(chart, options.zoom.mode, dragStart, dragEnd);\n  const ctx = chart.ctx;\n\n  ctx.save();\n  ctx.beginPath();\n  ctx.fillStyle = dragOptions.backgroundColor || 'rgba(225,225,225,0.3)';\n  ctx.fillRect(left, top, width, height);\n\n  if (dragOptions.borderWidth > 0) {\n    ctx.lineWidth = dragOptions.borderWidth;\n    ctx.strokeStyle = dragOptions.borderColor || 'rgba(225,225,225)';\n    ctx.strokeRect(left, top, width, height);\n  }\n  ctx.restore();\n}\n\nvar plugin = {\n  id: 'zoom',\n\n  version,\n\n  defaults: {\n    pan: {\n      enabled: false,\n      mode: 'xy',\n      threshold: 10,\n      modifierKey: null,\n    },\n    zoom: {\n      wheel: {\n        enabled: false,\n        speed: 0.1,\n        modifierKey: null\n      },\n      drag: {\n        enabled: false,\n        drawTime: 'beforeDatasetsDraw',\n        modifierKey: null\n      },\n      pinch: {\n        enabled: false\n      },\n      mode: 'xy',\n    }\n  },\n\n  start: function(chart, _args, options) {\n    const state = getState(chart);\n    state.options = options;\n\n    if (Object.prototype.hasOwnProperty.call(options.zoom, 'enabled')) {\n      console.warn('The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`.');\n    }\n    if (Object.prototype.hasOwnProperty.call(options.zoom, 'overScaleMode')\n      || Object.prototype.hasOwnProperty.call(options.pan, 'overScaleMode')) {\n      console.warn('The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired).');\n    }\n\n    if (Hammer) {\n      startHammer(chart, options);\n    }\n\n    chart.pan = (delta, panScales, transition) => pan(chart, delta, panScales, transition);\n    chart.zoom = (args, transition) => zoom(chart, args, transition);\n    chart.zoomRect = (p0, p1, transition) => zoomRect(chart, p0, p1, transition);\n    chart.zoomScale = (id, range, transition) => zoomScale(chart, id, range, transition);\n    chart.resetZoom = (transition) => resetZoom(chart, transition);\n    chart.getZoomLevel = () => getZoomLevel(chart);\n    chart.getInitialScaleBounds = () => getInitialScaleBounds(chart);\n    chart.isZoomedOrPanned = () => isZoomedOrPanned(chart);\n  },\n\n  beforeEvent(chart) {\n    const state = getState(chart);\n    if (state.panning || state.dragging) {\n      // cancel any event handling while panning or dragging\n      return false;\n    }\n  },\n\n  beforeUpdate: function(chart, args, options) {\n    const state = getState(chart);\n    state.options = options;\n    addListeners(chart, options);\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    draw(chart, 'beforeDatasetsDraw', options);\n  },\n\n  afterDatasetsDraw(chart, _args, options) {\n    draw(chart, 'afterDatasetsDraw', options);\n  },\n\n  beforeDraw(chart, _args, options) {\n    draw(chart, 'beforeDraw', options);\n  },\n\n  afterDraw(chart, _args, options) {\n    draw(chart, 'afterDraw', options);\n  },\n\n  stop: function(chart) {\n    removeListeners(chart);\n\n    if (Hammer) {\n      stopHammer(chart);\n    }\n    removeState(chart);\n  },\n\n  panFunctions,\n  zoomFunctions,\n  zoomRectFunctions,\n};\n\nexport { plugin as default, pan, resetZoom, zoom, zoomRect, zoomScale };\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import Hammer from \"hammerjs\";\nimport Chart from \"chart.js/auto\";\nimport zoomPlugin, { zoom } from \"chartjs-plugin-zoom\";\nconst chartElement = document.querySelector(\"#temperature-chart\");\nfunction deviceIsMobile() {\n  return window.innerWidth < 650;\n}\nlet weatherData = {\n  labels: [\n    \"00:00\",\n    \"01:00\",\n    \"02:00\",\n    \"03:00\",\n    \"04:00\",\n    \"05:00\",\n    \"06:00\",\n    \"07:00\",\n    \"08:00\",\n    \"09:00\",\n    \"10:00\",\n    \"11:00\",\n    \"12:00\",\n    \"13:00\",\n    \"14:00\",\n    \"15:00\",\n    \"16:00\",\n    \"17:00\",\n    \"18:00\",\n    \"19:00\",\n    \"20:00\",\n    \"21:00\",\n    \"22:00\",\n    \"23:00\",\n  ],\n  datasets: [\n    {\n      label: \"Temperature\",\n      borderColor: \"#c32860\" /* line color */,\n      pointBorderColor: \"#b80043\" /* point color */,\n      pointBorderWidth: 4,\n      borderWidth: 4,\n      pointHoverBorderWidth: 8,\n      data: [],\n      lineTension: 0.45,\n    },\n    {\n      label: \"Feels like\",\n      borderColor: \"#2880c3\" /* line color */,\n      pointBorderColor: \"#0068b8\" /* point color */,\n      pointBorderWidth: 4,\n      borderWidth: 4,\n      pointHoverBorderWidth: 8,\n      data: [],\n      lineTension: 0.45,\n    },\n  ],\n};\nlet chartOptions = {\n  scales: {\n    x: {\n      /* make x scale limited in size */\n      min: 0,\n      max: 6,\n      ticks: {\n        font: {\n          weight: \"600\",\n        },\n      },\n    },\n    y: {\n      min: 0,\n      max: 30,\n      ticks: {\n        stepSize: 5,\n        font: {\n          weight: \"600\",\n        },\n      },\n    },\n  },\n  layout: {\n    padding: 10,\n  },\n  plugins: {\n    zoom: {\n      /* plugin for making chart \"scrollable\", meaning you can pan it */\n      pan: {\n        enabled: true,\n        mode: \"x\",\n      },\n    },\n    tooltip: {\n      /* tooltip sytling */\n      titleFont: {\n        weight: \"700\",\n        size: 12,\n      },\n      bodyFont: {\n        weight: \"600\",\n        size: 15,\n      },\n      displayColors: false,\n      bodyFontSize: 20,\n      callbacks: {\n        label: function (context) {\n          return context.dataset.data[context.dataIndex] + \"\";\n        },\n      },\n    },\n    legend: {\n      labels: {\n        font: {\n          family:\n            \"'Ubuntu', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n          size: 12,\n        },\n      },\n    },\n  },\n  responsive: deviceIsMobile(),\n};\nfunction initChart() {\n  /* hide chart and create it's default options\n  whenever we want to load a new one, we just change\n  the settings and data that we need and update the chart*/\n  window.tempChart = new Chart(chartElement, {\n    type: \"line\",\n    data: weatherData,\n    options: chartOptions,\n  });\n  Chart.register(zoomPlugin);\n  chartElement.style.display = \"none\";\n  /* \n      -> tempChart\n         -> config\n            -> _config\n               -> data\n                  -> datasets\n                  -> labels\n               -> options\n                  -> plugins\n                  -> scales\n                  -> layout\n  */\n}\nfunction roundToMultipleOf5(number) {\n  return Math.floor(number / 5) * 5;\n}\nexport function loadChart(\n  tempsByHour,\n  feelsLikeByHour,\n  startingHour = 0,\n  showInCelsius = true\n) {\n  /* define the data and options we update */\n  const data = tempChart.config._config.data;\n  const options = tempChart.config._config.options;\n  /* if no data is found hide chart and abort*/\n  if (\n    tempsByHour === undefined ||\n    !tempsByHour.length ||\n    !feelsLikeByHour.length\n  ) {\n    chartElement.style.display = \"none\";\n    return;\n  }\n  /* get line and point color for the chart from body css variables */\n  const body = document.querySelector(\"body\");\n  const chartLineColor1 = getComputedStyle(body).getPropertyValue(\n    \"--chart-line-color1\"\n  );\n  const chartPointColor1 = getComputedStyle(body).getPropertyValue(\n    \"--chart-point-color1\"\n  );\n  const chartLineColor2 = getComputedStyle(body).getPropertyValue(\n    \"--chart-line-color2\"\n  );\n  const chartPointColor2 = getComputedStyle(body).getPropertyValue(\n    \"--chart-point-color2\"\n  );\n  /* set labels */\n  if (showInCelsius) {\n    data.datasets[0].label = \"Temperature (C)\";\n    data.datasets[1].label = \"Feels like (C)\";\n    options.plugins.tooltip.callbacks.label = function (context) {\n      return context.dataset.data[context.dataIndex] + \"C\";\n    };\n  } else {\n    data.datasets[0].label = \"Temperature (F)\";\n    data.datasets[1].label = \"Feels like (F)\";\n    options.plugins.tooltip.callbacks.label = function (context) {\n      return context.dataset.data[context.dataIndex] + \"F\";\n    };\n  }\n  /* set weather data and chart colors */\n  data.datasets[0].data = tempsByHour;\n  data.datasets[0].borderColor = chartLineColor1;\n  data.datasets[0].pointBorderColor = chartPointColor1;\n  data.datasets[1].data = feelsLikeByHour;\n  data.datasets[1].borderColor = chartLineColor2;\n  data.datasets[1].pointBorderColor = chartPointColor2;\n\n  /* set x and y axis min and max */\n  const numberOfHoursDisplayed = 6;\n  if (startingHour < 19) {\n    options.scales.x.min = startingHour;\n    options.scales.x.max = startingHour + numberOfHoursDisplayed - 1;\n  } else {\n    options.scales.x.min = 23 - numberOfHoursDisplayed;\n    options.scales.x.max = 23;\n  }\n  options.scales.y.min = roundToMultipleOf5(\n    Math.min.apply(Math, tempsByHour.concat(feelsLikeByHour)) - 5\n  );\n  options.scales.y.max = roundToMultipleOf5(\n    Math.max.apply(Math, tempsByHour.concat(feelsLikeByHour)) + 5\n  );\n  /* show chart */\n  tempChart.update(\"none\");\n  chartElement.style.display = \"block\";\n}\ninitChart();\n","/* uses data from weather api and loads it into the DOM */\nimport { loadChart } from \"./chart-init\";\nimport cloudQuestion from \"./assets/images/cloud-question.svg\";\nlet lastData, lastDayLoaded;\n\nfunction temperatureSystemIsInCelsius() {\n  /* returns true if temperatures should be\n     shown in celsius, false for farenheit */\n  const metricRadioButton = document.querySelector(\n    \".metric-imperial-toggle .metric input\"\n  );\n  return metricRadioButton.checked;\n}\nfunction loadGeneralInfo(data, showInCelsius) {\n  const temperatureElement = document.querySelector(\n    \".general-info .temperature-info\"\n  );\n  const weatherInfoElement = document.querySelector(\n    \".general-info .weather-info\"\n  );\n  const feelslikeTemperature = Math.round(\n    data.current[showInCelsius ? \"feelslike_c\" : \"feelslike_f\"]\n  );\n\n  temperatureElement.textContent = `${feelslikeTemperature}`;\n  weatherInfoElement.textContent = data.current.condition.text;\n}\nfunction loadLocation(data) {\n  const locationElement = document.querySelector(\".location\");\n  locationElement.textContent = data.location.name;\n}\nfunction loadSpecificDayForecast(\n  dayElement,\n  temperatureText,\n  weatherIconURL,\n  weatherIconAlt\n) {\n  /* dayElement should be either the element for today, tomorrow or overmorrow */\n  const dayTemperature = dayElement.querySelector(\".temperature\");\n  const dayWeatherIcon = dayElement.querySelector(\"img.weather-icon\");\n  dayTemperature.textContent = temperatureText;\n  dayWeatherIcon.src = weatherIconURL;\n  dayWeatherIcon.alt = weatherIconAlt;\n}\nfunction loadAllDaysForecast(data, showInCelsius) {\n  const todayElement = document.querySelector(\".three-day-forecast .today\");\n  const tomorrowElement = document.querySelector(\n    \".three-day-forecast .tomorrow\"\n  );\n  const overmorrowElement = document.querySelector(\n    \".three-day-forecast .overmorrow\"\n  );\n  const days = data.forecast.forecastday;\n  days.forEach((forecastday, index) => {\n    let element;\n    switch (index) {\n      case 0:\n        element = todayElement;\n        break;\n      case 1:\n        element = tomorrowElement;\n        break;\n      case 2:\n        element = overmorrowElement;\n        break;\n      default:\n        throw new Error(\"More than 3 days forecast?\");\n    }\n\n    let temperature;\n    if (showInCelsius) temperature = forecastday.day.avgtemp_c;\n    else temperature = forecastday.day.avgtemp_f;\n    const temperatureText = `${temperature}${showInCelsius ? \"C\" : \"F\"}`;\n    const weatherIconURL = `https:${forecastday.day.condition.icon}`;\n    /* for some reason the api does not \n    include the https: so we add it manually */\n    const weatherIconAlt = forecastday.day.condition.text;\n\n    loadSpecificDayForecast(\n      element,\n      temperatureText,\n      weatherIconURL,\n      weatherIconAlt\n    );\n  });\n}\nfunction loadAllHoursForecast(data, dayIndex, showInCelsius) {\n  /* hours data is the hours branch of the specific \n    day the user is asking for(today by default) */\n  const hoursData = data.forecast.forecastday[dayIndex].hour;\n  const hourlyForecast = document.querySelector(\".hourly-forecast\");\n  hoursData.forEach((hour, index) => {\n    const hourElement = hourlyForecast.querySelector(`.hour-${index}`);\n    const temperatureElement = hourElement.querySelector(\".temperature\");\n    const weatherIcon = hourElement.querySelector(\".weather-icon\");\n    temperatureElement.textContent = `${\n      showInCelsius ? hour.temp_c : hour.temp_f\n    }${showInCelsius ? \"C\" : \"F\"}`;\n    weatherIcon.src = `https:${hour.condition.icon}`;\n    weatherIcon.alt = hour.condition.text;\n  });\n}\nfunction scrollToHour(hour) {\n  const hourlyForecast = document.querySelector(\".hourly-forecast\");\n  hourlyForecast.scrollTo({\n    top: 0,\n    left: hour * 75,\n  });\n}\nfunction loadUnknownLocation(showInCelsius) {\n  /* declarations for all data elements in the DOM */\n  const generalInfoTemperatureElement = document.querySelector(\n    \".general-info .temperature-info\"\n  );\n  const generalInfoWeatherInfoElement = document.querySelector(\n    \".general-info .weather-info\"\n  );\n  const locationElement = document.querySelector(\".location\");\n  const todayElement = document.querySelector(\".three-day-forecast .today\");\n  const todayTemperatureElement = todayElement.querySelector(\".temperature\");\n  const todayWeatherIconElement = todayElement.querySelector(\".weather-icon\");\n  const tomorrowElement = document.querySelector(\n    \".three-day-forecast .tomorrow\"\n  );\n  const tomorrowTemperatureElement =\n    tomorrowElement.querySelector(\".temperature\");\n  const tomorrowWeatherIconElement =\n    tomorrowElement.querySelector(\".weather-icon\");\n  const overmorrowElement = document.querySelector(\n    \".three-day-forecast .overmorrow\"\n  );\n  const overmorrowTemperatureElement =\n    overmorrowElement.querySelector(\".temperature\");\n  const overmorrowWeatherIconElement =\n    overmorrowElement.querySelector(\".weather-icon\");\n  const hoursElements = document.querySelectorAll(\".hourly-forecast .hour\");\n  const usefulInfoCardElements =\n    document.querySelectorAll(\".useful-info .card\");\n\n  /* actually changing the data elements in the DOM */\n  generalInfoTemperatureElement.textContent = \"...\";\n  generalInfoWeatherInfoElement.textContent = \"Unknown\";\n  locationElement.textContent = \"unknown location\";\n\n  todayTemperatureElement.textContent = `?${showInCelsius ? \"C\" : \"F\"}`;\n  todayWeatherIconElement.src = cloudQuestion;\n  todayWeatherIconElement.alt = \"unknown weather\";\n\n  tomorrowTemperatureElement.textContent = `?${showInCelsius ? \"C\" : \"F\"}`;\n  tomorrowWeatherIconElement.src = cloudQuestion;\n  tomorrowWeatherIconElement.alt = \"unknown weather\";\n\n  overmorrowTemperatureElement.textContent = `?${showInCelsius ? \"C\" : \"F\"}`;\n  overmorrowWeatherIconElement.src = cloudQuestion;\n  overmorrowWeatherIconElement.alt = \"unknown weather\";\n\n  loadChart();\n\n  hoursElements.forEach((hourElement) => {\n    const hourTemperatureElement = hourElement.querySelector(\".temperature\");\n    const hourWeathherIconElement = hourElement.querySelector(\".weather-icon\");\n    hourTemperatureElement.textContent = `?${showInCelsius ? \"C\" : \"F\"}`;\n    hourWeathherIconElement.src = cloudQuestion;\n    hourWeathherIconElement.alt = \"unknown weather\";\n  });\n  usefulInfoCardElements.forEach((cardElement) => {\n    const cardElementInfo = cardElement.querySelector(\".info\");\n    cardElementInfo.textContent = \"?\";\n  });\n}\nfunction locationSeededRNG(latitude, longitude, min, max) {\n  /* assigns random number for each location \n  between min and max using latitude and longitude */\n  max = Math.floor(max);\n  min = Math.floor(min);\n  const location = Math.abs(latitude * longitude * 10000);\n  const x = Math.sin(location) * 10000;\n  return (Math.abs(Math.floor(x)) % (max - min + 1)) + min;\n}\nfunction loadColorPreset(colorPresetNumber) {\n  const body = document.querySelector(\"body\");\n  body.classList.remove(`color-preset-1`);\n  body.classList.remove(`color-preset-2`);\n  body.classList.remove(`color-preset-3`);\n  body.classList.add(`color-preset-${colorPresetNumber}`);\n}\nfunction loadUsefulInfo(data, showInCelsius) {\n  /* we will assume that if temps are in celsius then \n  the rest of the stuff is also in the metric system*/\n  /* declarations for all data elements in the DOM */\n  const humidityElementInfo = document.querySelector(\".humidity .info\");\n  const feelsLikeElementInfo = document.querySelector(\".feels-like .info\");\n  const windSpeedElementInfo = document.querySelector(\".wind-speed .info\");\n  const windDirectionElementInfo = document.querySelector(\n    \".wind-direction .info\"\n  );\n  const uvIndexElementInfo = document.querySelector(\".uv-index .info\");\n  const cloudCoverElementInfo = document.querySelector(\".cloud-cover .info\");\n  const visibility = document.querySelector(\".visibility .info\");\n  const chanceOfRainElementInfo = document.querySelector(\".rain-chance .info\");\n\n  /* actually changing the data elements in the DOM */\n  humidityElementInfo.textContent = `${data.current.humidity}%`;\n\n  feelsLikeElementInfo.textContent = `${\n    data.current[showInCelsius ? \"feelslike_c\" : \"feelslike_f\"]\n  }${showInCelsius ? \"C\" : \"F\"}`;\n\n  windSpeedElementInfo.textContent = `${\n    data.current[showInCelsius ? \"wind_kph\" : \"wind_mph\"]\n  }${showInCelsius ? \"km/h\" : \"mph\"}`;\n\n  windDirectionElementInfo.textContent = data.current.wind_dir;\n\n  const uvIndex = +data.current.uv;\n  if (uvIndex <= 2) uvIndexElementInfo.textContent = \"Low\";\n  else if (uvIndex <= 5) uvIndexElementInfo.textContent = \"Moderate\";\n  else if (uvIndex <= 7) uvIndexElementInfo.textContent = \"High\";\n  else if (uvIndex <= 10) uvIndexElementInfo.textContent = \"Very high\";\n  else uvIndexElementInfo.textContent = \"Extreme\";\n\n  cloudCoverElementInfo.textContent = `${data.current.cloud}%`;\n\n  visibility.textContent = `${\n    data.current[showInCelsius ? \"vis_km\" : \"vis_miles\"]\n  }${showInCelsius ? \"km\" : \"miles\"}`;\n\n  chanceOfRainElementInfo.textContent = `${data.forecast.forecastday[0].day.daily_chance_of_rain}%`;\n}\nfunction loadRealData(data, showInCelsius, chartAndHoursDay) {\n  /* chartAndHoursDay represents the day for which \n  the chart and hours tab show the temps:\n  0 - today\n  1 - tomorrow\n  2 - overmorrow \n  */\n  const currentHour =\n    chartAndHoursDay === 0 ? +data.current.last_updated.slice(-5, -3) : 0;\n  /* for tomorrow and overmorrow, the hours displayed start at 0 */\n  let tempsByHour = [],\n    feelsLikeByHour = [];\n  data.forecast.forecastday[chartAndHoursDay].hour.forEach((hour) => {\n    if (showInCelsius) {\n      tempsByHour.push(hour.temp_c);\n      feelsLikeByHour.push(hour.feelslike_c);\n    } else {\n      tempsByHour.push(hour.temp_f);\n      feelsLikeByHour.push(hour.feelslike_f);\n    }\n  });\n  loadColorPreset(\n    locationSeededRNG(data.location.lat, data.location.lon, 1, 3)\n  );\n  loadGeneralInfo(data, showInCelsius);\n  loadLocation(data, showInCelsius);\n  loadAllDaysForecast(data, showInCelsius);\n  loadChart(tempsByHour, feelsLikeByHour, currentHour, showInCelsius);\n  loadAllHoursForecast(data, chartAndHoursDay, showInCelsius);\n  scrollToHour(currentHour);\n  loadUsefulInfo(data, showInCelsius);\n  lastDayLoaded = chartAndHoursDay;\n}\nfunction addDaysListeners() {\n  /* adds listeners so that if you click on a specific \n  day it shows the charts and temps for that day */\n  const todayElement = document.querySelector(\".today\"),\n    tomorrowElement = document.querySelector(\".tomorrow\"),\n    overmorrowElement = document.querySelector(\".overmorrow\");\n\n  todayElement.addEventListener(\"click\", (event) => {\n    const showInCelsius = temperatureSystemIsInCelsius();\n    if (typeof lastData !== \"undefined\" && lastData.error === undefined)\n      loadRealData(lastData, showInCelsius, 0);\n  });\n  tomorrowElement.addEventListener(\"click\", (event) => {\n    const showInCelsius = temperatureSystemIsInCelsius();\n    if (typeof lastData !== \"undefined\" && lastData.error === undefined)\n      loadRealData(lastData, showInCelsius, 1);\n  });\n  overmorrowElement.addEventListener(\"click\", (event) => {\n    const showInCelsius = temperatureSystemIsInCelsius();\n    if (typeof lastData !== \"undefined\" && lastData.error === undefined)\n      loadRealData(lastData, showInCelsius, 2);\n  });\n}\nfunction addMetricImperialToggleListeners() {\n  /* declare metric and imperial DOM elements */\n  const metricLabel = document.querySelector(\".metric-imperial-toggle .metric\");\n  const metricRadioButton = metricLabel.querySelector(\"input\");\n  const imperialLabel = document.querySelector(\n    \".metric-imperial-toggle .imperial\"\n  );\n  const imperialRadioButton = imperialLabel.querySelector(\"input\");\n\n  /* add listeners for them that add or remove class \n  checked to the label and reload the data with the \n  other measurement system on change */\n  metricRadioButton.addEventListener(\"change\", () => {\n    if (metricRadioButton.checked) {\n      imperialLabel.classList.remove(\"checked\");\n      metricLabel.classList.add(\"checked\");\n      if (typeof lastData !== \"undefined\" && lastData.error === undefined)\n        loadRealData(lastData, true, lastDayLoaded);\n    }\n  });\n  imperialRadioButton.addEventListener(\"change\", () => {\n    if (imperialRadioButton.checked) {\n      metricLabel.classList.remove(\"checked\");\n      imperialLabel.classList.add(\"checked\");\n      if (typeof lastData !== \"undefined\" && lastData.error === undefined)\n        loadRealData(lastData, false, lastDayLoaded);\n    }\n  });\n}\nexport function loadData(data) {\n  const showInCelsius = temperatureSystemIsInCelsius();\n  if (typeof data.error !== \"undefined\") {\n    if (data.error.code === 1006)\n      /* location not found error code */\n      loadUnknownLocation(showInCelsius);\n    else if (data.error.code)\n      /* unknown error */\n      throw new Error(\"Odd weather api error\");\n  } else loadRealData(data, showInCelsius, 0);\n  lastData = data;\n}\nexport function storeData() {\n  return {\n    lastData,\n    showInCelsius: temperatureSystemIsInCelsius(),\n  };\n}\naddDaysListeners();\naddMetricImperialToggleListeners();\n","import { storeData, loadData } from \"./data-load\";\n\nfunction storeAllData() {\n  const allData = storeData();\n  localStorage.setItem(\"lastData\", JSON.stringify(allData.lastData));\n  localStorage.setItem(\"showInCelsius\", allData.showInCelsius);\n}\nfunction loadAllData() {\n  const lastData = JSON.parse(localStorage.getItem(\"lastData\")),\n    showInCelsius = localStorage.getItem(\"showInCelsius\");\n\n  if (showInCelsius === \"false\") {\n    /* the toggle itself is remembered but the .checked class isn't */\n    const metricLabel = document.querySelector(\n      \".metric-imperial-toggle label.metric\"\n    );\n    console.log(1);\n    const imperialLabel = document.querySelector(\n      \".metric-imperial-toggle label.imperial\"\n    );\n    metricLabel.classList.remove(\"checked\");\n    imperialLabel.classList.add(\"checked\");\n  }\n  if (typeof lastData !== \"undefined\")\n    setTimeout(() => {\n      loadData(lastData, 0);\n    }, 10); /* for some reason sometimes chart does not load unless i do this */\n}\n\nexport function addLocalStorage() {\n  window.addEventListener(\"beforeunload\", storeAllData);\n  window.addEventListener(\"load\", loadAllData);\n}\n","import { loadData } from \"./data-load\";\n\nconst searchInput = document.querySelector(\"input.search\");\nconst searchIcon = document.querySelector(\".search-bar .search-icon\");\n\nasync function search(value) {\n  const response = await fetch(\n    `https://api.weatherapi.com/v1/forecast.json?key=79d8d8857bb04a6ca2c170633231207&q=${value}&days=3`\n  );\n  const data = await response.json();\n  loadData(data);\n}\nexport function addSearchListeners() {\n  searchInput.addEventListener(\"keypress\", (event) => {\n    if (event.key === \"Enter\" && searchInput.value !== \"\")\n      search(searchInput.value);\n  });\n  searchIcon.addEventListener(\"click\", (event) => {\n    if (searchInput.value !== \"\") search(searchInput.value);\n  });\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../assets/images/backgrounds/red.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../assets/images/backgrounds/blue.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../assets/images/backgrounds/green.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../assets/images/wave.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body {\\n  margin: 0;\\n  padding: 0;\\n  color: #212529; /* new black */\\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n  --chart-line-color1: #c32860;\\n  --chart-point-color1: #b80043;\\n  --chart-line-color2: #2880c3;\\n  --chart-point-color2: #0068b8;\\n}\\nbody.color-preset-1 {\\n  --background-src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  --location-color: #7e1234;\\n  --hourly-forecast-background: #7e12341a;\\n}\\nbody.color-preset-2 {\\n  --background-src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n  --location-color: hsl(240, 75%, 28%);\\n  --hourly-forecast-background: #005e9921;\\n}\\nbody.color-preset-3 {\\n  --background-src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n  --location-color: hsl(157, 80%, 20%);\\n  --hourly-forecast-background: #05990021;\\n}\\n\\ninput {\\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\n\\nh1 {\\n  font-size: clamp(2vw, 1.5rem, 12vw);\\n  font-weight: 600;\\n}\\n\\n.background {\\n  position: fixed;\\n  width: 100vw;\\n  height: 100vh;\\n  top: 0;\\n  left: 0;\\n  background-image: var(--background-src);\\n  background-position: bottom;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  z-index: -2;\\n}\\n\\n.general-info {\\n  position: fixed;\\n  top: min(150px, 20vh);\\n  z-index: -1;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 0px;\\n  width: 100vw;\\n  color: #e0e0e0;\\n}\\n.general-info .temperature-info {\\n  font-size: 5rem;\\n  font-weight: 300;\\n  letter-spacing: -2px;\\n  /* this before is added to center the number \\n  without taking the degree symbol into account */\\n  margin-left: 23px;\\n}\\n.general-info .weather-info {\\n  font-size: 1.4rem;\\n  font-weight: normal;\\n  text-align: center;\\n}\\n.general-info .search-bar {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  gap: 10px;\\n  width: min(70vw, 200px);\\n  height: 25px;\\n  margin-top: 30px;\\n  padding: 2px 10px 2px 10px;\\n  border-radius: 12px;\\n  border: 3px solid #f3f4f5;\\n  outline: none;\\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);\\n  background-color: rgba(255, 255, 255, 0.5);\\n  transition: all 0.1s ease-out;\\n}\\n.general-info .search-bar:hover, .general-info .search-bar:focus-within {\\n  background-color: #f3f3f3;\\n}\\n.general-info .search-bar .search {\\n  box-sizing: border-box;\\n  background-color: transparent;\\n  border: none;\\n  outline: none;\\n  height: 90%;\\n  width: 50%;\\n  flex: 1;\\n}\\n.general-info .search-bar .search-icon {\\n  height: 17px;\\n  color: #212529;\\n}\\n\\n.scroll-content {\\n  background-color: transparent;\\n  margin-top: calc(100vh - 200px);\\n}\\n.scroll-content .waves {\\n  height: 100px;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");\\n  background-size: cover;\\n}\\n\\n.extra-info {\\n  background-color: #f3f4f5;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.extra-info .location {\\n  margin-bottom: 20px;\\n  text-transform: capitalize;\\n  text-align: center;\\n  font-size: min(2.5rem, 15vw);\\n  font-weight: normal;\\n  letter-spacing: 1px;\\n  color: var(--location-color);\\n  opacity: 0.8;\\n}\\n\\n.three-day-forecast {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  width: 100vw;\\n  margin-top: 20px;\\n  margin-bottom: 10px;\\n}\\n.three-day-forecast .day {\\n  box-sizing: border-box;\\n  padding: 0px 20px 0px 20px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  gap: min(15px, 4vw);\\n  font-size: clamp(3vw, 1.2rem, 8vw);\\n  font-weight: 600;\\n}\\n.three-day-forecast .day .day-text {\\n  margin-right: auto;\\n}\\n.three-day-forecast .day .weather-icon {\\n  height: 2.5rem;\\n}\\n\\n.hourly-forecast-container {\\n  box-sizing: border-box;\\n  width: 100vw;\\n  padding: 20px;\\n}\\n\\n.hourly-forecast {\\n  overflow: scroll;\\n  box-sizing: border-box;\\n  margin-top: 10px;\\n  padding: 20px;\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: row;\\n  gap: 30px;\\n  font-weight: 600;\\n  background-color: var(--hourly-forecast-background);\\n}\\n.hourly-forecast .hour {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 10px;\\n  width: min(45px, 20vw);\\n  flex: 0 0 auto;\\n}\\n.hourly-forecast .weather-icon {\\n  height: 2.5rem;\\n}\\n\\n.useful-info {\\n  box-sizing: border-box;\\n  width: 100vw;\\n  padding: 20px;\\n}\\n.useful-info .cards-container {\\n  width: 100%;\\n  border-radius: 20px;\\n  background-color: rgba(33, 37, 41, 0.1);\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  overflow: hidden;\\n}\\n.useful-info .cards-container .card {\\n  box-sizing: border-box;\\n  width: clamp(70px, 20vw, 100px);\\n  padding: 10px;\\n  border: 1px solid white;\\n  aspect-ratio: 2/3;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: space-evenly;\\n  flex: 1 1 0;\\n  font-size: clamp(2.5vw, 0.8rem, 10vw);\\n}\\n.useful-info .cards-container .card .icon {\\n  height: 30%;\\n}\\n.useful-info .cards-container .card .description {\\n  text-align: center;\\n  font-weight: 600;\\n}\\n.useful-info .cards-container .card .info {\\n  font-weight: 500;\\n}\\n\\n.metric-imperial-toggle {\\n  box-sizing: border-box;\\n  width: 100vw;\\n  padding: 20px;\\n}\\n.metric-imperial-toggle .checkbox-container {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  gap: 40px;\\n}\\n.metric-imperial-toggle .checkbox-container label {\\n  background-color: #f1f1f1;\\n  box-sizing: border-box;\\n  width: 150px;\\n  height: 50px;\\n  padding: 10px;\\n  display: flex;\\n  align-items: center;\\n  flex-direction: row;\\n  gap: 10px;\\n  transition: box-shadow 0.2s ease-out;\\n  border: 1px solid rgba(33, 37, 41, 0.2235294118);\\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\\n}\\n.metric-imperial-toggle .checkbox-container label:hover {\\n  box-shadow: 0 8px 12px 0 rgba(0, 0, 0, 0.2);\\n  cursor: pointer;\\n}\\n.metric-imperial-toggle .checkbox-container label.checked {\\n  border: 1px solid #212529;\\n}\\n\\n@media (max-width: 180px) or ((min-width: 450px) and (max-width: 650px)) {\\n  .useful-info .cards-container {\\n    flex-wrap: nowrap;\\n    justify-content: start;\\n    overflow: scroll;\\n  }\\n}\\n@media (max-width: 250px) {\\n  .three-day-forecast .day .weather-icon {\\n    display: none;\\n  }\\n}\\n@media (max-width: 350px) {\\n  canvas#temperature-chart {\\n    display: none !important;\\n  }\\n}\\n@media (min-width: 650px) {\\n  h1 {\\n    margin-top: 5px;\\n  }\\n  .general-info {\\n    top: 50px;\\n  }\\n  .general-info .temperature-info {\\n    font-size: 7rem;\\n  }\\n  .general-info .weather-info {\\n    font-size: 1.6rem;\\n  }\\n  .general-info .search-bar {\\n    width: 300px;\\n    height: 30px;\\n  }\\n  .general-info input {\\n    font-size: 1rem;\\n  }\\n  .scroll-content {\\n    margin-top: 300px;\\n  }\\n  .scroll-content .waves {\\n    display: none;\\n  }\\n  .extra-info {\\n    background-color: transparent;\\n    display: grid;\\n    box-sizing: border-box;\\n    width: 100vw;\\n    height: calc(100vh - 300px);\\n    padding: 20px;\\n    grid-template-columns: 1fr 1fr 1fr 1fr;\\n    grid-template-rows: 1fr 1fr 1fr 1fr;\\n    gap: 20px;\\n    grid-template-areas: \\\"location location chart chart chart\\\" \\\"daily daily chart chart chart\\\" \\\"info info hourly hourly hourly\\\" \\\"info info toggle toggle toggle\\\";\\n  }\\n  .extra-info > * {\\n    box-sizing: border-box !important;\\n    width: 100% !important;\\n    height: 100% !important;\\n    border-radius: 20px !important;\\n    margin: 0 !important;\\n    opacity: 1 !important;\\n    background-color: rgba(255, 255, 255, 0.8) !important;\\n  }\\n  .extra-info .location {\\n    grid-area: location;\\n    padding: 20px 30px 20px 30px;\\n    border-radius: 20px;\\n    color: var(--location-color);\\n    font-size: clamp(2rem, 2.5vw, 2.5rem);\\n    display: grid;\\n    place-items: center center;\\n  }\\n  .extra-info .three-day-forecast {\\n    grid-area: daily;\\n    padding: 20px 10px 20px 10px;\\n    color: #212529;\\n    justify-content: space-evenly;\\n  }\\n  .extra-info .three-day-forecast .day {\\n    gap: max(10px, 1.2vw);\\n    font-size: min(3vw, 1.9rem);\\n    font-weight: 500;\\n  }\\n  .extra-info #temperature-chart {\\n    grid-area: chart;\\n  }\\n  .extra-info .hourly-forecast-container {\\n    grid-area: hourly;\\n  }\\n  .extra-info .useful-info {\\n    grid-area: info;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n  .extra-info .useful-info h1 {\\n    flex: 1 1 auto;\\n  }\\n  .extra-info .useful-info .cards-container {\\n    display: grid;\\n    flex: 1 1 auto;\\n    grid-template-rows: 1fr 1fr;\\n    grid-template-columns: 1fr 1fr 1fr 1fr;\\n    place-items: stretch;\\n    background-color: rgba(33, 37, 41, 0);\\n    border: 1px solid white;\\n    box-shadow: 0 8px 12px 0 rgba(0, 0, 0, 0.2);\\n  }\\n  .extra-info .useful-info .cards-container .card {\\n    overflow: hidden;\\n    box-sizing: border-box;\\n    font-size: 1rem;\\n    width: 100%;\\n    height: 100%;\\n    aspect-ratio: auto;\\n  }\\n  .extra-info .useful-info .cards-container .card .description {\\n    font-size: min(1.9vw, 1rem);\\n  }\\n  .extra-info .useful-info .cards-container .card .info {\\n    font-size: min(1.9vw, 1rem);\\n  }\\n  .extra-info .metric-imperial-toggle {\\n    grid-area: toggle;\\n    display: grid;\\n    place-items: center left;\\n  }\\n  .extra-info .metric-imperial-toggle h1 {\\n    margin-bottom: 20px;\\n  }\\n  .extra-info .metric-imperial-toggle .checkbox-container {\\n    width: min(100%, 500px);\\n    height: 70px;\\n    gap: 30px;\\n    overflow: hidden;\\n  }\\n  .extra-info .metric-imperial-toggle label {\\n    flex: 1 1 0;\\n    height: 60px;\\n    font-size: 1.1rem;\\n  }\\n  .extra-info .metric-imperial-toggle label.checked {\\n    border: 2px solid #212529;\\n  }\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles/style.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"body {\\n  margin: 0;\\n  padding: 0;\\n  color: #212529; /* new black */\\n\\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto,\\n    Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n  --chart-line-color1: #c32860;\\n  --chart-point-color1: #b80043;\\n  --chart-line-color2: #2880c3;\\n  --chart-point-color2: #0068b8;\\n  &.color-preset-1 {\\n    --background-src: url(../assets/images/backgrounds/red.jpg);\\n    // --color1: #291129;\\n    // --color2: #2f1524;\\n    // --color3: #7e1234;\\n    // --color4: #a01c35;\\n    --location-color: #7e1234;\\n    --hourly-forecast-background: #7e12341a;\\n  }\\n  &.color-preset-2 {\\n    --background-src: url(../assets/images/backgrounds/blue.jpg);\\n    --location-color: hsl(240, 75%, 28%);\\n    --hourly-forecast-background: #005e9921;\\n  }\\n  &.color-preset-3 {\\n    --background-src: url(../assets/images/backgrounds/green.jpg);\\n    --location-color: hsl(157, 80%, 20%);\\n    --hourly-forecast-background: #05990021;\\n  }\\n}\\ninput {\\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto,\\n    Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\nh1 {\\n  font-size: clamp(2vw, 1.5rem, 12vw);\\n  font-weight: 600;\\n}\\n.background {\\n  position: fixed;\\n  width: 100vw;\\n  height: 100vh;\\n  top: 0;\\n  left: 0;\\n\\n  background-image: var(--background-src);\\n  background-position: bottom;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n\\n  z-index: -2;\\n}\\n.general-info {\\n  position: fixed;\\n  top: min(150px, 20vh);\\n  z-index: -1;\\n\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 0px;\\n\\n  width: 100vw;\\n\\n  color: #e0e0e0;\\n\\n  .temperature-info {\\n    font-size: 5rem;\\n    font-weight: 300;\\n    letter-spacing: -2px;\\n    /* this before is added to center the number \\n    without taking the degree symbol into account */\\n    margin-left: 23px;\\n  }\\n  .weather-info {\\n    font-size: 1.4rem;\\n    font-weight: normal;\\n    text-align: center;\\n  }\\n  .search-bar {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    gap: 10px;\\n\\n    width: min(70vw, 200px);\\n    height: 25px;\\n    margin-top: 30px;\\n    padding: 2px 10px 2px 10px;\\n\\n    border-radius: 12px;\\n    border: 3px solid #f3f4f5;\\n    outline: none;\\n    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1),\\n      0 8px 10px -6px rgb(0 0 0 / 0.1);\\n    background-color: rgba(255, 255, 255, 0.5);\\n    transition: all 0.1s ease-out;\\n    &:hover,\\n    &:focus-within {\\n      background-color: #f3f3f3;\\n    }\\n    .search {\\n      box-sizing: border-box;\\n      background-color: transparent;\\n      border: none;\\n      outline: none;\\n      height: 90%;\\n      width: 50%;\\n      flex: 1;\\n    }\\n    .search-icon {\\n      height: 17px;\\n      color: #212529;\\n    }\\n  }\\n}\\n.scroll-content {\\n  background-color: transparent;\\n  margin-top: calc(100vh - 200px);\\n  .waves {\\n    height: 100px;\\n    background-image: url(../assets/images/wave.svg);\\n    background-size: cover;\\n  }\\n}\\n.extra-info {\\n  background-color: #f3f4f5;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\\n  .location {\\n    margin-bottom: 20px;\\n\\n    text-transform: capitalize;\\n    text-align: center;\\n    font-size: min(2.5rem, 15vw);\\n    font-weight: normal;\\n    letter-spacing: 1px;\\n\\n    color: var(--location-color);\\n    opacity: 0.8;\\n  }\\n}\\n.three-day-forecast {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n\\n  width: 100vw;\\n  margin-top: 20px;\\n  margin-bottom: 10px;\\n  .day {\\n    box-sizing: border-box;\\n    padding: 0px 20px 0px 20px;\\n\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    gap: min(15px, 4vw);\\n\\n    font-size: clamp(3vw, 1.2rem, 8vw);\\n    font-weight: 600;\\n    .day-text {\\n      margin-right: auto;\\n    }\\n    .weather-icon {\\n      height: 2.5rem;\\n    }\\n  }\\n}\\n.hourly-forecast-container {\\n  box-sizing: border-box;\\n  width: 100vw;\\n  padding: 20px;\\n}\\n.hourly-forecast {\\n  overflow: scroll;\\n  box-sizing: border-box;\\n  margin-top: 10px;\\n  padding: 20px;\\n  border-radius: 20px;\\n  display: flex;\\n  flex-direction: row;\\n  gap: 30px;\\n  font-weight: 600;\\n\\n  background-color: var(--hourly-forecast-background);\\n  .hour {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    gap: 10px;\\n    width: min(45px, 20vw);\\n    flex: 0 0 auto;\\n  }\\n  .weather-icon {\\n    height: 2.5rem;\\n  }\\n}\\n.useful-info {\\n  box-sizing: border-box;\\n  width: 100vw;\\n  padding: 20px;\\n  .cards-container {\\n    width: 100%;\\n    border-radius: 20px;\\n    background-color: rgba(#212529, 0.1);\\n\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    overflow: hidden;\\n\\n    .card {\\n      box-sizing: border-box;\\n      width: clamp(70px, 20vw, 100px);\\n      padding: 10px;\\n      border: 1px solid white;\\n      aspect-ratio: 2/3;\\n\\n      display: flex;\\n      flex-direction: column;\\n      align-items: center;\\n      justify-content: space-evenly;\\n      flex: 1 1 0;\\n      font-size: clamp(2.5vw, 0.8rem, 10vw);\\n      .icon {\\n        height: 30%;\\n      }\\n      .description {\\n        text-align: center;\\n        font-weight: 600;\\n      }\\n      .info {\\n        font-weight: 500;\\n      }\\n    }\\n  }\\n}\\n.metric-imperial-toggle {\\n  box-sizing: border-box;\\n  width: 100vw;\\n  padding: 20px;\\n  .checkbox-container {\\n    width: 100%;\\n    display: flex;\\n    flex-direction: row;\\n    gap: 40px;\\n    label {\\n      background-color: #f1f1f1;\\n      box-sizing: border-box;\\n      width: 150px;\\n      height: 50px;\\n      padding: 10px;\\n      display: flex;\\n      align-items: center;\\n      flex-direction: row;\\n      gap: 10px;\\n\\n      transition: box-shadow 0.2s ease-out;\\n\\n      border: 1px solid #21252939;\\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\\n      &:hover {\\n        box-shadow: 0 8px 12px 0 rgba(0, 0, 0, 0.2);\\n        cursor: pointer;\\n      }\\n      &.checked {\\n        border: 1px solid #212529;\\n      }\\n    }\\n  }\\n}\\n@media (max-width: 180px) or ((min-width: 450px) and (max-width: 650px)) {\\n  .useful-info .cards-container {\\n    flex-wrap: nowrap;\\n    justify-content: start;\\n    overflow: scroll;\\n  }\\n}\\n@media (max-width: 250px) {\\n  .three-day-forecast .day .weather-icon {\\n    display: none;\\n  }\\n}\\n@media (max-width: 350px) {\\n  canvas#temperature-chart {\\n    display: none !important ;\\n  }\\n}\\n@media (min-width: 650px) {\\n  h1 {\\n    margin-top: 5px;\\n  }\\n  .general-info {\\n    top: 50px;\\n    .temperature-info {\\n      font-size: 7rem;\\n    }\\n    .weather-info {\\n      font-size: 1.6rem;\\n    }\\n    .search-bar {\\n      width: 300px;\\n      height: 30px;\\n    }\\n    input {\\n      font-size: 1rem;\\n    }\\n  }\\n  .scroll-content {\\n    margin-top: 300px;\\n    .waves {\\n      display: none;\\n    }\\n  }\\n  .extra-info {\\n    background-color: transparent;\\n    display: grid;\\n    box-sizing: border-box;\\n    width: 100vw;\\n    height: calc(100vh - 300px);\\n    padding: 20px;\\n    grid-template-columns: 1fr 1fr 1fr 1fr;\\n    grid-template-rows: 1fr 1fr 1fr 1fr;\\n    gap: 20px;\\n    grid-template-areas:\\n      \\\"location location chart chart chart\\\"\\n      \\\"daily daily chart chart chart\\\"\\n      \\\"info info hourly hourly hourly\\\"\\n      \\\"info info toggle toggle toggle\\\";\\n    & > * {\\n      box-sizing: border-box !important;\\n      width: 100% !important;\\n      height: 100% !important;\\n      border-radius: 20px !important;\\n      margin: 0 !important;\\n      opacity: 1 !important;\\n      background-color: rgba(#fff, 0.8) !important;\\n    }\\n    .location {\\n      grid-area: location;\\n      padding: 20px 30px 20px 30px;\\n      border-radius: 20px;\\n      color: var(--location-color);\\n      font-size: clamp(2rem, 2.5vw, 2.5rem);\\n      display: grid;\\n      place-items: center center;\\n    }\\n    .three-day-forecast {\\n      grid-area: daily;\\n      padding: 20px 10px 20px 10px;\\n      color: #212529;\\n      justify-content: space-evenly;\\n      .day {\\n        gap: max(10px, 1.2vw);\\n        font-size: min(3vw, 1.9rem);\\n        font-weight: 500;\\n      }\\n    }\\n    #temperature-chart {\\n      grid-area: chart;\\n    }\\n    .hourly-forecast-container {\\n      grid-area: hourly;\\n    }\\n    .useful-info {\\n      grid-area: info;\\n      display: flex;\\n      flex-direction: column;\\n      h1 {\\n        flex: 1 1 auto;\\n      }\\n      .cards-container {\\n        display: grid;\\n        flex: 1 1 auto;\\n        grid-template-rows: 1fr 1fr;\\n        grid-template-columns: 1fr 1fr 1fr 1fr;\\n        place-items: stretch;\\n        background-color: rgba(#212529, 0);\\n        border: 1px solid white;\\n        box-shadow: 0 8px 12px 0 rgba(0, 0, 0, 0.2);\\n        .card {\\n          overflow: hidden;\\n          box-sizing: border-box;\\n          font-size: 1rem;\\n          width: 100%;\\n          height: 100%;\\n          aspect-ratio: auto;\\n          .description {\\n            font-size: min(1.9vw, 1rem);\\n          }\\n          .info {\\n            font-size: min(1.9vw, 1rem);\\n          }\\n        }\\n      }\\n    }\\n    .metric-imperial-toggle {\\n      grid-area: toggle;\\n      display: grid;\\n      place-items: center left;\\n      h1 {\\n        margin-bottom: 20px;\\n      }\\n      .checkbox-container {\\n        width: min(100%, 500px);\\n        height: 70px;\\n        gap: 30px;\\n        overflow: hidden;\\n      }\\n      label {\\n        flex: 1 1 0;\\n        height: 60px;\\n        font-size: 1.1rem;\\n        &.checked {\\n          border: 2px solid #212529;\\n        }\\n      }\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./style.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","import {Chart, registerables} from '../dist/chart.js';\n\nChart.register(...registerables);\n\nexport * from '../dist/chart.js';\nexport default Chart;\n","import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n","import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n","import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n","import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\n\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {\n  _arrayUnique, isArray, isNullOrUndef,\n  valueOrDefault, resolveObjectKey, sign, defined\n} from '../helpers/index.js';\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\n\n/**\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\n * @private\n */\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      // Ignore truncated pixels\n      return;\n    }\n    if (defined(prev)) {\n      // curr - prev === 0 is ignored\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\n/**\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\n * @private\n */\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    // When bar thickness is enforced, category and bar percentages are ignored.\n    // Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\n    // and deprecate barPercentage since this value is ignored when thickness is absolute.\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\n\n/**\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\n * percentage options are 1), based on the previous and following categories. This mode\n * generates bars with different widths when data are not evenly spaced.\n * @private\n */\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n\n  if (prev === null) {\n    // first data: its size is double based on the next point or,\n    // if it's also the last data, we use the scale size.\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    // last data: its size is also double based on the previous point.\n    next = curr + curr - prev;\n  }\n\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  // Store `barEnd` (furthest away from origin) as parsed value,\n  // to make stacking straight forward\n  item[vScale.axis] = barEnd;\n\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\n\nexport default class BarController extends DatasetController {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'bar',\n\n    categoryPercentage: 0.8,\n    barPercentage: 0.9,\n    grouped: true,\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'base', 'width', 'height']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n        offset: true,\n        grid: {\n          offset: true\n        }\n      },\n      _value_: {\n        type: 'linear',\n        beginAtZero: true,\n      }\n    }\n  };\n\n\n  /**\n\t * Overriding primitive data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding array data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding object data parsing since we support mixed primitive/array\n\t * value-scale data for float bars\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      // float bar: only one end of the bar is considered by `super`\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n\n    super.initialize();\n\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n\n  /**\n\t * Returns the stacks based on groups and bar visibility.\n\t * @param {number} [last] - The dataset index\n\t * @param {number} [dataIndex] - The data index of the ruler\n\t * @returns {string[]} The list of stack IDs\n\t * @private\n\t */\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n\n    const skipNull = (meta) => {\n      const parsed = meta.controller.getParsed(dataIndex);\n      const val = parsed && parsed[meta.vScale.axis];\n\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n\n      // stacked   | meta.stack\n      //           | found | not found | undefined\n      // false     |   x   |     x     |     x\n      // true      |       |     x     |\n      // undefined |       |     x     |     x\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n\n    // No stacks? that means there is no visible data. Let's still initialize an `undefined`\n    // stack where possible invisible bars will be located.\n    // https://github.com/chartjs/Chart.js/issues/6368\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n\n    return stacks;\n  }\n\n  /**\n\t * Returns the effective number of stacks based on groups and bar visibility.\n\t * @private\n\t */\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n\n  /**\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t * @param {number} [datasetIndex] - The dataset index\n\t * @param {string} [name] - The stack name to find\n   * @param {number} [dataIndex]\n\t * @returns {number} The stack index\n\t * @private\n\t */\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1; // indexOf returns -1 if element is not present\n\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      // bar thickness ratio used for non-grouped bars\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n\n  /**\n\t * Note: pixel values are not clamped to the scale area.\n\t * @private\n\t */\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked, index: datasetIndex}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      // bars crossing origin are not stacked\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      // When not visible, no height\n      head = base;\n    }\n\n    size = head - base;\n\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n\n      if (_stacked && !floating) {\n        // visual data coordinates after applying minBarLength\n        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n      }\n    }\n\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      // For non-grouped bar charts, exact pixel values are used\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {valueOrDefault} from '../helpers/helpers.core.js';\n\nexport default class BubbleController extends DatasetController {\n\n  static id = 'bubble';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'borderWidth', 'radius']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n\n  update(mode) {\n    const points = this._cachedMeta.data;\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n\n    // In case values were cached (and thus frozen), we need to clone the values\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n\n    // Custom radius resolution\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n\n    return values;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isObject, resolveObjectKey, toPercentage, toDimension, valueOrDefault} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {toRadians, PI, TAU, HALF_PI, _angleBetween} from '../helpers/helpers.math.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  // If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\n\nexport default class DoughnutController extends DatasetController {\n\n  static id = 'doughnut';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'arc',\n    animation: {\n      // Boolean - Whether we animate the rotation of the Doughnut\n      animateRotate: true,\n      // Boolean - Whether we animate scaling the Doughnut from the centre\n      animateScale: false\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n      },\n    },\n    // The percentage of the chart that we cut out of the middle.\n    cutout: '50%',\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%',\n\n    // Spacing between arcs\n    spacing: 0,\n\n    indexAxis: 'r',\n  };\n\n  static descriptors = {\n    _scriptable: (name) => name !== 'spacing',\n    _indexable: (name) => name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash'),\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    // Need to override these to give a nice default\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n\n  linkScales() {}\n\n  /**\n\t * Override data parsing, since we are not using scales\n\t */\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n\n  /**\n\t * @private\n\t */\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n\n  /**\n\t * Get the maximal rotation & circumference extents\n\t * across all visible datasets.\n\t */\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n\n    // Compute the maximal rotation & circumference limits.\n    // If we only consider our dataset, this can cause problems when two datasets\n    // are both less than a circle with different rotations (starting angles)\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n\n    meta.total = this.calculateTotal();\n\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @private\n   */\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n\n    return total;\n  }\n\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n\n    if (!arcs) {\n      // Find the outmost visible dataset\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n\n    if (!arcs) {\n      return 0;\n    }\n\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n\n  getMaxOffset(arcs) {\n    let max = 0;\n\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n\n  /**\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\n\t * @private\n\t */\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n\n    return ringWeightOffset;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n\n  /**\n\t * Returns the sum of all visible data set weights.\n\t * @private\n\t */\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {toRadians, PI, formatNumber, _parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class PolarAreaController extends DatasetController {\n\n  static id = 'polarArea';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    dataElementType: 'arc',\n    animation: {\n      animateRotate: true,\n      animateScale: true\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n      },\n    },\n    indexAxis: 'r',\n    startAngle: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    },\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n        angleLines: {\n          display: false\n        },\n        beginAtZero: true,\n        grid: {\n          circular: true\n        },\n        pointLabels: {\n          display: false\n        },\n        startAngle: 0\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @protected\n   */\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n\n    return range;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n\n    const defaultAngle = 360 / this.countVisibleElements();\n\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\n","import DoughnutController from './controller.doughnut.js';\n\n// Pie charts are Doughnut chart with different defaults\nexport default class PieController extends DoughnutController {\n\n  static id = 'pie';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    // The percentage of the chart that we cut out of the middle.\n    cutout: 0,\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%'\n  };\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {_parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class RadarController extends DatasetController {\n\n  static id = 'radar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n    indexAxis: 'r',\n    showLine: true,\n    elements: {\n      line: {\n        fill: 'start'\n      }\n    },\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n\n    // Update Line\n    line.points = points;\n    // In resize mode only point locations change, so no need to set the points or options.\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n\n      this.updateElement(line, undefined, properties, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class ScatterController extends DatasetController {\n\n  static id = 'scatter';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n    showLine: false,\n    fill: false\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n\n    interaction: {\n      mode: 'point'\n    },\n\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + ')'\n    };\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    if (this.options.showLine) {\n\n      // https://github.com/chartjs/Chart.js/issues/11333\n      if (!this.datasetElementType) {\n        this.addElements();\n      }\n      const {dataset: line, _dataset} = meta;\n\n      // Update Line\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    } else if (this.datasetElementType) {\n      // https://github.com/chartjs/Chart.js/issues/11333\n      delete meta.dataset;\n      this.datasetElementType = false;\n    }\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  addElements() {\n    const {showLine} = this.options;\n\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = this.chart.registry.getElement('line');\n    }\n\n    super.addElements();\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n\n    if (!data.length) {\n      return border;\n    }\n\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\n","/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<string, string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: TimeUnit): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: TimeUnit): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek'): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<string, string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase\n};\n","import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n","import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n","\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n","/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n","/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\n\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n","import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n","import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n","import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n","import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n","import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n","import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n","import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n","import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n","import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the envent inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n","import Element from '../core/core.element.js';\nimport {_angleBetween, getAngleFromPoint, TAU, HALF_PI, valueOrDefault} from '../helpers/index.js';\nimport {PI, _isBetween, _limitValue} from '../helpers/helpers.math.js';\nimport {_readValueToProps} from '../helpers/helpers.options.js';\nimport type {ArcOptions, Point} from '../types/index.js';\n\n\nfunction clipArc(ctx: CanvasRenderingContext2D, element: ArcElement, endAngle: number) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n\n  // Draw an inner border by clipping the arc and drawing a double-width border\n  // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\n/**\n * Parse border radius from the provided options\n */\nfunction parseBorderRadius(arc: ArcElement, innerRadius: number, outerRadius: number, angleDelta: number) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  // Outer limits are complicated. We want to compute the available angular distance at\n  // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n  // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n  //\n  // If the borderRadius is large, that value can become negative.\n  // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n  // we know that the thickness term will dominate and compute the limits at that point\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\n\n/**\n * Convert (r, ) to (x, y)\n */\nfunction rThetaToXY(r: number, theta: number, x: number, y: number) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\n\n\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */\nfunction pathArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  end: number,\n  circular: boolean,\n) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n\n  let spacingOffset = 0;\n  const alpha = end - start;\n\n  if (spacing) {\n    // When spacing is present, it is the same for all items\n    // So we adjust the start and end angle of the arc such that\n    // the distance is the same as it would be without the spacing\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius(element, innerRadius, outerRadius, endAngle - startAngle);\n\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n\n  ctx.beginPath();\n\n  if (circular) {\n    // The first arc segments from point 1 to point a to point 2\n    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n\n    // The corner segment from point 2 to point 3\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n\n    // The line from point 3 to point 4\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n\n    // The corner segment from point 4 to point 5\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n\n    // The inner arc from point 5 to point b to point 6\n    const innerMidAdjustedAngle = ((endAngle - (innerEnd / innerRadius)) + (startAngle + (innerStart / innerRadius))) / 2;\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), innerMidAdjustedAngle, true);\n    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + (innerStart / innerRadius), true);\n\n    // The corner segment from point 6 to point 7\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n\n    // The line from point 7 to point 8\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n\n    // The corner segment from point 8 to point 1\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawBorder(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference, options} = element;\n  const {borderWidth, borderJoinStyle, borderDash, borderDashOffset} = options;\n  const inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  ctx.setLineDash(borderDash || []);\n  ctx.lineDashOffset = borderDashOffset;\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.stroke();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  if (!fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.stroke();\n  }\n}\n\nexport interface ArcProps extends Point {\n  startAngle: number;\n  endAngle: number;\n  innerRadius: number;\n  outerRadius: number;\n  circumference: number;\n}\n\nexport default class ArcElement extends Element<ArcProps, ArcOptions> {\n\n  static id = 'arc';\n\n  static defaults = {\n    borderAlign: 'center',\n    borderColor: '#fff',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: undefined,\n    borderRadius: 0,\n    borderWidth: 2,\n    offset: 0,\n    spacing: 0,\n    angle: undefined,\n    circular: true,\n  };\n\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor'\n  };\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash'\n  };\n\n  circumference: number;\n  endAngle: number;\n  fullCircles: number;\n  innerRadius: number;\n  outerRadius: number;\n  pixelMargin: number;\n  startAngle: number;\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(chartX: number, chartY: number, useFinalPosition: boolean) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n    return (betweenAngles && withinRadius);\n  }\n\n  getCenterPoint(useFinalPosition: boolean) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n\n  tooltipPosition(useFinalPosition: boolean) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 4;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n\n    ctx.save();\n\n    const halfAngle = (this.startAngle + this.endAngle) / 2;\n    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n    const radiusOffset = offset * fix;\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n\n    drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, circular);\n\n    ctx.restore();\n  }\n}\n","import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n","import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n","import Element from '../core/core.element.js';\nimport {isObject, _isBetween, _limitValue} from '../helpers/index.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {toTRBL, toTRBLCorners} from '../helpers/helpers.options.js';\n\n/** @typedef {{ x: number, y: number, base: number, horizontal: boolean, width: number, height: number }} BarProps */\n\n/**\n * Helper function to get the bounds of the bar regardless of the orientation\n * @param {BarElement} bar the bar\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the bar\n * @private\n */\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = /** @type {BarProps} */ (bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition));\n\n  let left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {left, top, right, bottom};\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n\n  // If the value is an object, assume the user knows what they are doing\n  // and apply as directed.\n  const enableBorder = enableBorderRadius || isObject(value);\n\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nexport default class BarElement extends Element {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderSkipped: 'start',\n    borderWidth: 0,\n    borderRadius: 0,\n    inflateAmount: 'auto',\n    pointStyle: undefined\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = /** @type {BarProps} */ (this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition));\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n","import {DoughnutController, PolarAreaController} from '../index.js';\nimport type {Chart, ChartDataset} from '../types.js';\n\nexport interface ColorsPluginOptions {\n  enabled?: boolean;\n  forceOverride?: boolean;\n}\n\ninterface ColorsDescriptor {\n  backgroundColor?: unknown;\n  borderColor?: unknown;\n}\n\nconst BORDER_COLORS = [\n  'rgb(54, 162, 235)', // blue\n  'rgb(255, 99, 132)', // red\n  'rgb(255, 159, 64)', // orange\n  'rgb(255, 205, 86)', // yellow\n  'rgb(75, 192, 192)', // green\n  'rgb(153, 102, 255)', // purple\n  'rgb(201, 203, 207)' // grey\n];\n\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map(color => color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\n\nfunction getBorderColor(i: number) {\n  return BORDER_COLORS[i % BORDER_COLORS.length];\n}\n\nfunction getBackgroundColor(i: number) {\n  return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\n\nfunction colorizeDefaultDataset(dataset: ChartDataset, i: number) {\n  dataset.borderColor = getBorderColor(i);\n  dataset.backgroundColor = getBackgroundColor(i);\n\n  return ++i;\n}\n\nfunction colorizeDoughnutDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBorderColor(i++));\n\n  return i;\n}\n\nfunction colorizePolarAreaDataset(dataset: ChartDataset, i: number) {\n  dataset.backgroundColor = dataset.data.map(() => getBackgroundColor(i++));\n\n  return i;\n}\n\nfunction getColorizer(chart: Chart) {\n  let i = 0;\n\n  return (dataset: ChartDataset, datasetIndex: number) => {\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n\n    if (controller instanceof DoughnutController) {\n      i = colorizeDoughnutDataset(dataset, i);\n    } else if (controller instanceof PolarAreaController) {\n      i = colorizePolarAreaDataset(dataset, i);\n    } else if (controller) {\n      i = colorizeDefaultDataset(dataset, i);\n    }\n  };\n}\n\nfunction containsColorsDefinitions(\n  descriptors: ColorsDescriptor[] | Record<string, ColorsDescriptor>\n) {\n  let k: number | string;\n\n  for (k in descriptors) {\n    if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction containsColorsDefinition(\n  descriptor: ColorsDescriptor\n) {\n  return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\n\nexport default {\n  id: 'colors',\n\n  defaults: {\n    enabled: true,\n    forceOverride: false\n  } as ColorsPluginOptions,\n\n  beforeLayout(chart: Chart, _args, options: ColorsPluginOptions) {\n    if (!options.enabled) {\n      return;\n    }\n\n    const {\n      data: {datasets},\n      options: chartOptions\n    } = chart.config;\n    const {elements} = chartOptions;\n\n    if (!options.forceOverride && (containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || (elements && containsColorsDefinitions(elements)))) {\n      return;\n    }\n\n    const colorizer = getColorizer(chart);\n\n    datasets.forEach(colorizer);\n  }\n};\n","import {_limitValue, _lookupByKey, isNullOrUndef, resolve} from '../helpers/index.js';\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  /**\n   * Implementation of the Largest Triangle Three Buckets algorithm.\n   *\n   * This implementation is based on the original implementation by Sveinn Steinarsson\n   * in https://github.com/sveinn-steinarsson/flot-downsample/blob/master/jquery.flot.downsample.js\n   *\n   * The original implementation is MIT licensed.\n   */\n  const samples = options.samples || availableWidth;\n  // There are less points than the threshold, returning the whole array\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  const decimated = [];\n\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  // Starting from offset\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n\n    // Adding offset\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n\n    // Adding offset\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n\n    // Note that this is changed from the original algorithm which initializes these\n    // values to 1. The reason for this change is that if the area is small, nextA\n    // would never be set and thus a crash would occur in the next loop as `a` would become\n    // `undefined`. Since the area is always positive, but could be 0 in the case of a flat trace,\n    // initializing with a negative number is the correct solution.\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  // Include the last point\n  decimated[sampledIndex++] = data[endIndex];\n\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      // Use point.x here because we're computing the average data `x` value\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      // Push up to 4 points, 3 for the last interval and the first point for this interval\n      const lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        // The interval is defined by 4 points: start, min, max, end.\n        // The starting point is already considered at this point, so we need to determine which\n        // of the other points to add. We need to sort these points to ensure the decimated data\n        // is still sorted and then ensure there are no duplicates.\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n\n      // lastIndex === startIndex will occur when a range has only 1 point which could\n      // happen with very uneven data\n      if (i > 0 && lastIndex !== startIndex) {\n        // Last point in the previous interval\n        decimated.push(data[lastIndex]);\n      }\n\n      // Start of the new interval\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: data,\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count;\n\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {start, count};\n}\n\nexport default {\n  id: 'decimation',\n\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      // The decimation plugin may have been previously enabled. Need to remove old `dataset._data` handlers\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    // Assume the entire chart is available to show a few more points than needed\n    const availableWidth = chart.width;\n\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        // Decimation is only supported for lines that have an X indexAxis\n        return;\n      }\n\n      if (!meta.controller.supportsDecimation) {\n        // Only line datasets are supported\n        return;\n      }\n\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        // Only linear interpolation is supported\n        return;\n      }\n\n      if (chart.options.parsing) {\n        // Plugin only supports data that does not need parsing\n        return;\n      }\n\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        // No decimation is required until we are above this threshold\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        // First time we are seeing this dataset\n        // We override the 'data' property with a setter that stores the\n        // raw data in _data, but reads the decimated data from _decimated\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      // Point the chart to the decimated data\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n","import {_boundSegment, _boundSegments, _normalizeAngle} from '../../helpers/index.js';\n\nexport function _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = _findSegmentEnd(start, end, points);\n\n    const bounds = _getBounds(property, points[start], points[end], segment.loop);\n\n    if (!target.segments) {\n      // Special case for boundary not supporting `segments` (simpleArc)\n      // Bounds are provided as `target` for partial circle, or undefined for full circle\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n\n    // Get all segments from `target` that intersect the bounds of current segment of `line`\n    const targetSegments = _boundSegments(target, bounds);\n\n    for (const tgt of targetSegments) {\n      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\n\nexport function _getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\n\nexport function _pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = _findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\n\nexport function _findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n","/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {isArray} from '../../helpers/index.js';\nimport {_pointsFromSegments} from './filler.segment.js';\n\n/**\n * @param {PointElement[] | { x: number; y: number; }} boundary\n * @param {LineElement} line\n * @return {LineElement?}\n */\nexport function _createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    // @ts-ignore\n    points = boundary;\n  } else {\n    points = _pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nexport function _shouldApplyFill(source) {\n  return source && source.fill !== false;\n}\n","import {isObject, isFinite, valueOrDefault} from '../../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.line.js').default } LineElement\n * @typedef { import('../../types/index.js').FillTarget } FillTarget\n * @typedef { import('../../types/index.js').ComplexFillTarget } ComplexFillTarget\n */\n\nexport function _resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\n/**\n * @param {LineElement} line\n * @param {number} index\n * @param {number} count\n */\nexport function _decodeFill(line, index, count) {\n  /** @type {string | {value: number}} */\n  const fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  let target = parseFloat(fill);\n\n  if (isFinite(target) && Math.floor(target) === target) {\n    return decodeTargetIndex(fill[0], index, target, count);\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction decodeTargetIndex(firstCh, index, target, count) {\n  if (firstCh === '-' || firstCh === '+') {\n    target = index + target;\n  }\n\n  if (target === index || target < 0 || target >= count) {\n    return false;\n  }\n\n  return target;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @returns {number | null}\n */\nexport function _getTargetPixel(fill, scale) {\n  let pixel = null;\n  if (fill === 'start') {\n    pixel = scale.bottom;\n  } else if (fill === 'end') {\n    pixel = scale.top;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    pixel = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    pixel = scale.getBasePixel();\n  }\n  return pixel;\n}\n\n/**\n * @param {FillTarget | ComplexFillTarget} fill\n * @param {Scale} scale\n * @param {number} startValue\n * @returns {number | undefined}\n */\nexport function _getTargetValue(fill, scale, startValue) {\n  let value;\n\n  if (fill === 'start') {\n    value = startValue;\n  } else if (fill === 'end') {\n    value = scale.options.reverse ? scale.min : scale.max;\n  } else if (isObject(fill)) {\n    // @ts-ignore\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  return value;\n}\n\n/**\n * @param {LineElement} line\n */\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\n","/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nimport {LineElement} from '../../elements/index.js';\nimport {_isBetween} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\n\n/**\n * @param {{ chart: Chart; scale: Scale; index: number; line: LineElement; }} source\n * @return {LineElement}\n */\nexport function _buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));\n\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @return {LineElement[]}\n */\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\n\n/**\n * @param {PointElement[]} points\n * @param {PointElement} sourcePoint\n * @param {LineElement[]} linesBelow\n */\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      // First point of an segment -> need to add another point before this,\n      // from next line below.\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        // In the middle of an segment, no need to add more points.\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\n\n/**\n * @param {LineElement} line\n * @param {PointElement} sourcePoint\n * @param {string} property\n * @returns {{point?: PointElement, first?: boolean, last?: boolean}}\n */\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\n","import {TAU} from '../../helpers/index.js';\n\n// TODO: use elements.ArcElement instead\nexport class simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\n","import {isFinite} from '../../helpers/index.js';\nimport {_createBoundaryLine} from './filler.helper.js';\nimport {_getTargetPixel, _getTargetValue} from './filler.options.js';\nimport {_buildStackLine} from './filler.target.stack.js';\nimport {simpleArc} from './simpleArc.js';\n\n/**\n * @typedef { import('../../core/core.controller.js').default } Chart\n * @typedef { import('../../core/core.scale.js').default } Scale\n * @typedef { import('../../elements/element.point.js').default } PointElement\n */\n\nexport function _getTarget(source) {\n  const {chart, fill, line} = source;\n\n  if (isFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return _buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  const boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return _createBoundaryLine(boundary, line);\n}\n\n/**\n * @param {Chart} chart\n * @param {number} index\n */\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\n\n\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  const pixel = _getTargetPixel(fill, scale);\n\n  if (isFinite(pixel)) {\n    const horizontal = scale.isHorizontal();\n\n    return {\n      x: horizontal ? pixel : null,\n      y: horizontal ? null : pixel\n    };\n  }\n\n  return null;\n}\n\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const start = options.reverse ? scale.max : scale.min;\n  const value = _getTargetValue(fill, scale, start);\n  const target = [];\n\n  if (options.grid.circular) {\n    const center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (let i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\n\n","import {clipArea, unclipArea} from '../../helpers/index.js';\nimport {_findSegmentEnd, _getBounds, _segments} from './filler.segment.js';\nimport {_getTarget} from './filler.target.js';\n\nexport function _drawfill(ctx, source, area) {\n  const target = _getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    clipVertical(ctx, target, area.top);\n    fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    clipVertical(ctx, target, area.bottom);\n  }\n  fill(ctx, {line, target, color: below, scale, property});\n\n  ctx.restore();\n}\n\nfunction clipVertical(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[_findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n\n    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));\n\n    ctx.beginPath();\n\n    const lineLoop = !!line.pathSegment(ctx, src);\n\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n\n    ctx.restore();\n  }\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\n","/**\n * Plugin based on discussion from the following Chart.js issues:\n * @see https://github.com/chartjs/Chart.js/issues/2380#issuecomment-279961569\n * @see https://github.com/chartjs/Chart.js/issues/2440#issuecomment-256461897\n */\n\nimport LineElement from '../../elements/element.line.js';\nimport {_drawfill} from './filler.drawing.js';\nimport {_shouldApplyFill} from './filler.helper.js';\nimport {_decodeFill, _resolveTarget} from './filler.options.js';\n\nexport default {\n  id: 'filler',\n\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: _decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = _resolveTarget(sources, i, options.propagate);\n    }\n  },\n\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n      if (draw && source.fill) {\n        _drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n\n      if (_shouldApplyFill(source)) {\n        _drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n\n    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    _drawfill(chart.ctx, source, chart.chartArea);\n  },\n\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n","import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n","import Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {PI, isArray, toPadding, toFont} from '../helpers/index.js';\nimport {_toLeftRightCenter, _alignStartEnd} from '../helpers/helpers.extras.js';\nimport {renderText} from '../helpers/helpers.canvas.js';\n\nexport class Title extends Element {\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n\n    this.left = 0;\n    this.top = 0;\n\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n\n    if (!opts.display) {\n      return;\n    }\n\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\n\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nexport default {\n  id: 'title',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Title,\n\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000         // by default greater than legend (1000) to be above\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n","import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n","import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n","import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n","import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n","import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, /** @type {Unit} */ (parser))\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n","import TimeScale from './scale.time.js';\nimport {_lookupByKey} from '../helpers/helpers.collection.js';\n\n/**\n * Linearly interpolates the given source `val` using the table. If value is out of bounds, values\n * at edges are used for the interpolation.\n * @param {object} table\n * @param {number} val\n * @param {boolean} [reverse] lookup time based on position instead of vice versa\n * @return {object}\n */\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nclass TimeSeriesScale extends TimeScale {\n\n  static id = 'timeseries';\n\n  /**\n   * @type {any}\n   */\n  static defaults = TimeScale.defaults;\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {object[]} */\n    this._table = [];\n    /** @type {number} */\n    this._minPos = undefined;\n    /** @type {number} */\n    this._tableRange = undefined;\n  }\n\n  /**\n\t * @protected\n\t */\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n\n  /**\n\t * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\n\t * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\n\t * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\n\t * extremity (left + width or top + height). Note that it would be more optimized to directly\n\t * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\n\t * to create the lookup table. The table ALWAYS contains at least two items: min and max.\n\t * @param {number[]} timestamps\n\t * @return {object[]}\n\t * @protected\n\t */\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n\n    if (items.length < 2) {\n      // In case there is less that 2 timestamps between min and max, the scale is defined by min and max\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n\n      // only add points that breaks the scale linearity\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n\n  /**\n    * Generates all timestamps defined in the data.\n    * Important: this method can return ticks outside the min and max range, it's the\n    * responsibility of the calling code to clamp values if needed.\n    * @protected\n    */\n  _generate() {\n    const min = this.min;\n    const max = this.max;\n    let timestamps = super.getDataTimestamps();\n    if (!timestamps.includes(min) || !timestamps.length) {\n      timestamps.splice(0, 0, min);\n    }\n    if (!timestamps.includes(max) || timestamps.length === 1) {\n      timestamps.push(max);\n    }\n    return timestamps.sort((a, b) => a - b);\n  }\n\n  /**\n\t * Returns all timestamps\n\t * @return {number[]}\n\t * @private\n\t */\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      // If combining labels and data (data might not contain all labels),\n      // we need to recheck uniqueness and sort\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n\n    return timestamps;\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\n\nexport default TimeSeriesScale;\n","export * from './controllers/index.js';\nexport * from './core/index.js';\nexport * from './elements/index.js';\nexport * from './platform/index.js';\nexport * from './plugins/index.js';\nexport * from './scales/index.js';\n\nimport * as controllers from './controllers/index.js';\nimport * as elements from './elements/index.js';\nimport * as plugins from './plugins/index.js';\nimport * as scales from './scales/index.js';\n\nexport {\n  controllers,\n  elements,\n  plugins,\n  scales,\n};\n\nexport const registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n","/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || typeof value === 'undefined';\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n","export * from '../dist/helpers.js';\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","import \"./styles/style.scss\";\nimport { addSearchListeners } from \"./search\";\nimport { addLocalStorage } from \"./data-storage\";\n\naddSearchListeners();\naddLocalStorage();\n"],"names":["Hammer","each","valueOrDefault","callback","sign","getRelativePosition","getModifierKey","opts","enabled","modifierKey","keyPressed","key","event","keyNotPressed","directionEnabled","mode","dir","chart","undefined","indexOf","directionsEnabled","x","y","debounce","fn","delay","timeout","clearTimeout","setTimeout","getScaleUnderPoint","_ref","scales","scaleIds","Object","keys","i","length","scale","top","bottom","left","right","getEnabledScalesByPoint","options","point","_ref2","_ref2$mode","scaleMode","overScaleMode","scaleEnabled","overScaleEnabled","_i","_arr","axis","enabledScales","scaleItem","push","chartStates","WeakMap","getState","state","get","originalScaleLimits","updatedScaleLimits","handlers","panDelta","set","removeState","zoomDelta","zoom","center","range","max","min","newRange","centerPoint","isHorizontal","minPercent","Math","getValueForPixel","maxPercent","getLimit","scaleLimits","prop","fallback","limit","original","id","getRange","pixel0","pixel1","v0","v1","updateRange","_ref3","limits","arguments","scaleOpts","_scaleLimits$minRange","minRange","minLimit","Infinity","maxLimit","offset","parse","zoomNumericalScale","delta","zoomRectNumericalScale","from","to","integerChange","v","isNaN","round","existCategoryFromMaxZoom","labels","getLabels","maxIndex","zoomCategoryScale","scaleLength","width","height","panCategoryScale","lastLabelIndex","stepDelta","stepSize","abs","applied","OFFSETS","second","minute","hour","day","week","month","quarter","year","panNumericalScale","canZoom","prevStart","prevEnd","time","newMin","getPixelForValue","newMax","_ref4","_ref4$min","_ref4$max","panNonLinearScale","zoomFunctions","category","zoomRectFunctions","panFunctions","logarithmic","timeseries","shouldUpdateScaleLimits","_scale$options","previous","removeMissingScales","opt","storeOriginalScaleLimits","doZoom","amount","type","doZoomRect","getCenter","ca","chartArea","transition","_ref5","_ref5$x","_ref5$y","_ref5$focalPoint","focalPoint","_state$options","zoomOptions","xEnabled","yEnabled","update","onZoom","zoomRect","p0","p1","_state$options2","_zoomOptions$mode","zoomScale","scaleId","resetZoom","scaleOptions","onZoomComplete","getOriginalRange","getZoomLevel","origRange","level","panScale","storedDelta","pan","_ref6","_ref6$x","_ref6$y","_state$options3","panOptions","_ref7","onPan","getInitialScaleBounds","scaleBounds","_i2","_Object$keys","_ref8","isZoomedOrPanned","_i3","_Object$keys2","_scaleBounds$scaleId","originalMin","originalMax","removeHandler","_getState","handler","target","removeEventListener","addHandler","_getState2","oldHandler","addEventListener","mouseMove","dragStart","dragging","dragEnd","keyDown","zoomStart","onZoomStart","onZoomRejected","mouseDown","_state$options4","_state$options4$zoom","button","drag","canvas","window","document","computeDragRect","beginPointEvent","endPointEvent","_chart$chartArea","chartWidth","chartHeight","beginPoint","endPoint","zoomX","zoomY","mouseUp","_state$options$zoom","_state$options$zoom$d","threshold","rect","distanceX","distanceY","distance","sqrt","wheelPreconditions","wheel","cancelable","preventDefault","deltaY","_getState3","getBoundingClientRect","speed","clientX","clientY","addDebouncedHandler","name","addListeners","_options$zoom","wheelOptions","dragOptions","ownerDocument","removeListeners","createEnabler","recognizer","_state$options5","_state$options5$zoom","srcEvent","panning","pointerType","onPanRejected","pinchAxes","pinchX","pinchY","p","handlePinch","e","pointers","zoomPercent","pinch","startPinch","endPinch","handlePan","deltaX","panScales","startPan","_state$options$pan","onPanStart","panEndTimeout","endPan","onPanComplete","hammers","startHammer","mc","Manager","add","Pinch","on","Pan","enable","stopHammer","remove","destroy","version","draw","caller","_getState4","drawTime","_computeDragRect","ctx","save","beginPath","fillStyle","backgroundColor","fillRect","borderWidth","lineWidth","strokeStyle","borderColor","strokeRect","restore","plugin","defaults","start","_args","prototype","hasOwnProperty","call","console","warn","args","beforeEvent","beforeUpdate","beforeDatasetsDraw","afterDatasetsDraw","beforeDraw","afterDraw","stop","default","module","exports","cssWithMappingToString","list","toString","map","item","content","needLayer","concat","join","modules","media","dedupe","supports","layer","alreadyImportedModules","k","_k","url","String","__esModule","test","slice","hash","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","exportName","VENDOR_PREFIXES","TEST_ELEMENT","createElement","TYPE_FUNCTION","now","Date","setTimeoutContext","context","bindFn","invokeArrayArg","arg","Array","isArray","obj","iterator","forEach","deprecate","method","message","deprecationMessage","Error","stack","log","apply","assign","TypeError","output","index","source","nextKey","extend","dest","src","merge","inherit","child","base","properties","baseP","childP","create","constructor","_super","boundFn","boolOrFn","val","_typeof","ifUndefined","val1","val2","addEventListeners","types","splitStr","removeEventListeners","hasParent","node","parent","parentNode","inStr","str","find","trim","split","inArray","findByKey","toArray","uniqueArray","sort","results","values","sortUniqueArray","a","b","prefixed","property","prefix","camelProp","toUpperCase","_uniqueId","uniqueId","getWindowForElement","element","doc","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","inputTarget","domHandler","ev","init","evEl","evTarget","evWin","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","MouseInput","TouchMouseInput","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","timeStamp","deltaTime","angle","getAngle","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","offsetDelta","prevDelta","last","lastInterval","velocity","velocityX","velocityY","direction","p2","props","atan2","PI","end","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","MEhandler","which","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","store","pointerEvents","PEhandler","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","TEhandler","touches","normalizeSingleTouches","all","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","MTEhandler","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","TMEhandler","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","eventData","setLastTouch","lastTouch","lts","removeLastTouch","t","dx","dy","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","value","compute","actions","touchAction","recognizers","getTouchAction","cleanTouchActions","preventDefaults","prevented","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","touchMap","cssSupports","CSS","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","simultaneous","requireFail","recognizeWith","otherRecognizer","getRecognizerByNameIfManager","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","stateStr","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","directionStr","AttrRecognizer","attrTest","optionPointers","isRecognized","isValid","PanRecognizer","pX","pY","directionTest","hasMoved","PinchRecognizer","inOut","PressRecognizer","_timer","_input","validPointers","validMovement","validTime","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","preset","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","oldCssProps","toggleCssProps","force","stopped","curRecognizer","existing","events","off","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","Tap","Swipe","Rotate","Press","freeGlobal","define","amd","Chart","zoomPlugin","chartElement","querySelector","deviceIsMobile","innerWidth","weatherData","datasets","label","pointBorderColor","pointBorderWidth","pointHoverBorderWidth","lineTension","chartOptions","ticks","font","weight","layout","padding","plugins","tooltip","titleFont","size","bodyFont","displayColors","bodyFontSize","callbacks","dataset","dataIndex","legend","family","responsive","initChart","tempChart","register","display","roundToMultipleOf5","number","floor","loadChart","tempsByHour","feelsLikeByHour","startingHour","showInCelsius","config","_config","body","chartLineColor1","getComputedStyle","getPropertyValue","chartPointColor1","chartLineColor2","chartPointColor2","numberOfHoursDisplayed","cloudQuestion","lastData","lastDayLoaded","temperatureSystemIsInCelsius","metricRadioButton","checked","loadGeneralInfo","temperatureElement","weatherInfoElement","feelslikeTemperature","current","textContent","condition","text","loadLocation","locationElement","location","loadSpecificDayForecast","dayElement","temperatureText","weatherIconURL","weatherIconAlt","dayTemperature","dayWeatherIcon","alt","loadAllDaysForecast","todayElement","tomorrowElement","overmorrowElement","days","forecast","forecastday","temperature","avgtemp_c","avgtemp_f","icon","loadAllHoursForecast","dayIndex","hoursData","hourlyForecast","hourElement","weatherIcon","temp_c","temp_f","scrollToHour","scrollTo","loadUnknownLocation","generalInfoTemperatureElement","generalInfoWeatherInfoElement","todayTemperatureElement","todayWeatherIconElement","tomorrowTemperatureElement","tomorrowWeatherIconElement","overmorrowTemperatureElement","overmorrowWeatherIconElement","hoursElements","querySelectorAll","usefulInfoCardElements","hourTemperatureElement","hourWeathherIconElement","cardElement","cardElementInfo","locationSeededRNG","latitude","longitude","sin","loadColorPreset","colorPresetNumber","classList","loadUsefulInfo","humidityElementInfo","feelsLikeElementInfo","windSpeedElementInfo","windDirectionElementInfo","uvIndexElementInfo","cloudCoverElementInfo","visibility","chanceOfRainElementInfo","humidity","wind_dir","uvIndex","uv","cloud","daily_chance_of_rain","loadRealData","chartAndHoursDay","currentHour","last_updated","feelslike_c","feelslike_f","lat","lon","addDaysListeners","error","addMetricImperialToggleListeners","metricLabel","imperialLabel","imperialRadioButton","loadData","code","storeData","storeAllData","allData","localStorage","setItem","loadAllData","getItem","addLocalStorage","_regeneratorRuntime","Op","hasOwn","defineProperty","desc","$Symbol","Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","enumerable","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","object","reverse","pop","skipTempReset","prev","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","searchInput","searchIcon","search","_x","_search","_callee","response","_callee$","_context","fetch","json","addSearchListeners","lim","l","h","p2b","b2p","n2b","b2n","n2p","map$1","A","B","C","D","E","F","c","d","f","hex","_toConsumableArray","h1","h2","eq","isShort","r","g","hexParse","len","ret","alpha","hexString","HUE_RE","hsl2rgbn","s","n","hsv2rgbn","hwb2rgbn","w","rgb","hueValue","rgb2hsl","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","m","exec","rotate","deg","hslString","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","tkeys","j","ok","nk","parseInt","names","nameParse","transparent","RGB_RE","rgbParse","rgbString","pow","interpolate","rgb1","rgb2","modHSL","ratio","tmp","clone","proto","fromObject","functionParse","Color","_classCallCheck","_rgb","_valid","_createClass","mix","color","c1","c2","w2","w1","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","index_esm","registerables","Animator","_request","_charts","Map","_running","_lastDate","_notify","anims","date","listeners","numSteps","duration","initial","currentStep","_refresh","_this","requestAnimFrame","_update","_this2","remaining","running","items","_active","_total","tick","_getAnims","charts","progress","listen","cb","_this$_getAnims$items","has","reduce","acc","cur","_duration","cancel","animator","interpolators","boolean","factor","c0","valid","Animation","cfg","currentValue","_fn","_easing","effects","easing","linear","_start","_loop","loop","_target","_prop","_from","_to","_promises","active","elapsed","remain","wait","promises","res","rej","resolved","Animations","_chart","_properties","configure","isObject","animationOptions","animation","animatedProps","getOwnPropertyNames","_animationOptions","option","_animateOptions","newOptions","resolveTargetOptions","animations","_createAnimations","$shared","awaitAll","$animations","anim","scaleClip","allowedOverflow","defaultClip","xScale","yScale","toClip","disabled","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","ilen","applyStack","dsIndex","singleMode","datasetIndex","otherValue","isNumberFinite","convertObjectDataToArray","adata","isStacked","meta","stacked","getStackKey","indexScale","valueScale","getUserBounds","_scale$getUserBounds","minDefined","maxDefined","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","_iterator","_createForOfIteratorHelper","getMatchingVisibleMetas","_step","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","vAxis","itemStacks","_top","_bottom","visualValues","_visualValues","getFirstScaleId","shift","createDatasetContext","createContext","createDataContext","raw","clearStacks","_parsed","_iterator2","_step2","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","hidden","_stacked","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","addElements","fill","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","indexAxis","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","_destroy","unlistenArrayEvents","_dataCheck","isExtensible","listenArrayEvents","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","scopes","getOptionScopes","createResolver","getContext","parsing","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","singleScale","_parsed$i","_defineProperty","_this$_parsing","_this$_parsing$xAxisK","xAxisKey","_this$_parsing$yAxisK","yAxisKey","resolveObjectKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","otherScale","_getUserBounds","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","clip","elements","area","drawActiveElementsOnTop","getStyle","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","elementType","_this3","cache","cacheKey","sharing","defined","datasetElementScopeKeys","prefixes","resolveNamedOptions","freeze","_resolveAnimations","datasetAnimationScopeKeys","_cacheable","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","_iterator3","_step3","_step3$value","_slicedToArray","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","arr","updateElements","removed","_sync","_args2","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","getAllScaleValues","_cache","$bar","visibleMetas","_arrayUnique","computeMinSampleSize","_length","curr","updateMinAndPrev","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","isNullOrUndef","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","borderProps","horizontal","setBorderSkipped","edge","borderSkipped","_borderProps","enableBorderRadius","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","_DatasetController","_inherits","_createSuper","_this$_parsing2","_this$_parsing2$xAxis","_this$_parsing2$yAxis","iAxisKey","vAxisKey","_get","_getPrototypeOf","bars","getBasePixel","_getRuler","_this$_getSharedOptio","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","_getStacks","grouped","skipNull","_iterator4","_step4","_getStackCount","_getStackIndex","_startPixel","_endPixel","_this$_cachedMeta","_this$options","baseValue","minBarLength","floating","getDataVisibility","startPixel","getPixelForDecimal","endPixel","halfGrid","getLineWidthForValue","maxBarThickness","stackIndex","rects","numbers","_index_","grid","_value_","beginAtZero","BubbleController","_DatasetController2","_super2","radius","points","_this$_cachedMeta2","_this$_getSharedOptio2","iPixel","vPixel","skip","getRatioAndOffset","circumference","cutout","ratioX","ratioY","offsetX","offsetY","TAU","startAngle","endAngle","startX","cos","startY","endX","endY","calcMax","_angleBetween","calcMin","maxX","maxY","HALF_PI","minX","minY","DoughnutController","_DatasetController3","_super3","_this4","innerRadius","outerRadius","getter","_this$_parsing$key","_getRotation","toRadians","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","toPercentage","chartWeight","_getRingWeight","_this$_getRotationExt","_getRatioAndOffset","maxWidth","maxHeight","maxRadius","toDimension","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_this$_getSharedOptio3","arc","metaData","formatNumber","locale","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","_scriptable","_indexable","startsWith","aspectRatio","generateLabels","_chart$legend$options2","pointStyle","fontColor","onClick","legendItem","toggleDataVisibility","LineController","_DatasetController4","_super4","line","_meta$data","_dataset","animationsDisabled","_getStartAndCountOfVi","_getStartAndCountOfVisiblePoints","_scaleRangesChanged","_datasetIndex","_decimated","showLine","segment","animated","_this$_cachedMeta3","_this$_getSharedOptio4","_this$options2","spanGaps","maxGapLength","isNumber","directUpdate","pointsCount","prevParsed","nullData","border","firstPoint","lastPoint","updateControlPoints","PolarAreaController","_DatasetController5","_super5","_this5","_parseObjectDataRadialScale","bind","_updateRadius","_this6","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","_this7","_chart$legend$options3","angleLines","circular","pointLabels","PieController","_DoughnutController","_super6","RadarController","_DatasetController6","_super7","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","_DatasetController7","_super8","_meta$data2","_getStartAndCountOfVi2","registry","getElement","_this$_cachedMeta4","_this$options3","interaction","abstract","DateAdapterBase","formats","format","diff","startOf","endOf","override","members","adapters","_date","binarySearch","metaset","intersect","lookupMethod","_reversePixels","_rlookupByKey","_lookupByKey","el","lo","hi","evaluateInteractionItems","position","getSortedVisibleDatasetMetas","_metasets$i","_binarySearch","getDistanceMetricForAxis","useX","useY","pt1","pt2","getIntersectItems","useFinalPosition","includeInvisible","isPointInArea","evaluationFunc","_isPointInArea","inRange","getNearestRadialItems","_element$getProps","getProps","_getAngleFromPoint","getAngleFromPoint","getNearestCartesianItems","distanceMetric","minDistance","getCenterPoint","pointInArea","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","array","pos","filterDynamicPositionByAxis","box","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","_box","_box$options","_box$options$stackWei","buildStacks","layouts","_iterator5","_step5","includes","_stack","placed","setLayoutDims","params","vBoxMaxWidth","hBoxMaxHeight","fullSize","availableWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","change","getMargins","marginForPositions","positions","margin","fitBoxes","refitBoxes","refit","_updateDims","setBoxDims","placeBoxes","userPadding","_iterator6","_step6","addBox","_layers","z","removeBox","layoutItem","minPadding","toPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","BasePlatform","acquireContext","releaseContext","listener","getDevicePixelRatio","getMaximumSize","isAttached","updateConfig","BasicPlatform","_BasePlatform","_super9","EXPANDO_KEY","EVENT_TYPES","pointerenter","pointerleave","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","boxSizing","displayWidth","readUsedSize","displayHeight","eventListenerOptions","supportsEventListenerOptions","passive","addListener","removeListener","fromNativeEvent","_getRelativePosition","nodeListContains","nodeList","_iterator7","_step7","contains","createAttachObserver","observer","MutationObserver","entries","trigger","_iterator8","_step8","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","_iterator9","_step9","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","devicePixelRatio","resize","currentDevicePixelRatio","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","container","_getParentNode","throttled","clientWidth","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","proxy","DomPlatform","_BasePlatform2","_super10","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","_detectPlatform","_isDomSupported","OffscreenCanvas","Element","tooltipPosition","_this$getProps","hasValue","final","_this8","autoSkip","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","major","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","tickLength","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","_factorize","ceil","majorStart","majorEnd","reverseAlign","align","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","epsilon","lineValue","garbageCollect","caches","gc","gcLen","getTickMarkLength","drawTicks","getTitleHeight","toFont","lines","lineHeight","createScaleContext","createTickContext","titleAlign","_toLeftRightCenter","titleArgs","titleX","titleY","_alignStartEnd","positionAxisID","Scale","_Element","_super11","_this9","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","setContext","suggestedMin","suggestedMax","finiteOrDefault","_this$getUserBounds","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","margins","_this$options4","grace","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","minRotation","maxRotation","tickWidth","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","_limitValue","title","toDegrees","asin","_this$options5","titleOpts","gridOpts","titleHeight","_this$_getLabelSizes","tickPadding","angleRadians","labelHeight","mirror","labelWidth","_calculatePadding","_handleMargins","_this$options6","_this$options6$ticks","isRotated","labelsBelowTicks","offsetLeft","offsetRight","_this$options7","isFullSize","_computeLabelSizes","widths","heights","widestLabelSize","highestLabelSize","jlen","tickFont","fontString","nestedLabel","_resolveTickFontOptions","string","_measureText","valueAt","idx","pixel","decimal","_int16Range","_alignPixel","getDecimalForPixel","getBaseValue","optionTicks","rot","autoSkipPadding","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","step","optsAtIndex","optsAtIndexBorder","lineColor","borderDash","dash","borderDashOffset","dashOffset","tickColor","tickBorderDash","tickBorderDashOffset","crossAlign","tickAndPadding","hTickAndPadding","textAlign","lineCount","textOffset","textBaseline","_getXAxisLabelAlignment","_getYAxisLabelAlignment","labelOffset","halfCount","strokeColor","textStrokeColor","strokeWidth","textStrokeWidth","tickTextAlign","showLabelBackdrop","backdrop","labelPadding","backdropPadding","backdropColor","translation","_this$options8","_this$options9","_this$options9$ticks","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","moveTo","lineTo","stroke","drawOnChartArea","drawBorder","_this$options10","lastLineWidth","drawLabels","clipArea","_iterator10","_step10","renderTextOptions","renderText","unclipArea","drawTitle","_this$options11","_titleArgs","_this10","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","scope","isForType","isPrototypeOf","parentScope","isIChartComponent","registerDefaults","overrides","unregister","itemDefaults","defaultRoutes","routeDefaults","descriptors","describe","routes","propertyParts","sourceName","sourceScope","parts","targetName","targetScope","route","Registry","controllers","_typedRegistries","_len","_key","_each","_len2","_key2","addControllers","_len3","_key3","_len4","_key4","addPlugins","_len5","_key5","addScales","_len6","_key6","getController","getPlugin","removeControllers","_len7","_key7","removeElements","_len8","_key8","removePlugins","_len9","_key9","removeScales","_len10","_key10","typedRegistry","_this11","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","_capitalize","PluginService","_init","notify","hook","_createDescriptors","_descriptors","_iterator11","_step11","descriptor","invalidate","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","localIds","local","getOpts","_iterator12","_step12","pluginOpts","pluginScopeKeys","scriptable","indexable","allKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","_len11","_key11","_scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","_proxy","defaultId","defaultScaleOptions","mergeIf","defaultID","initOptions","initData","initConfig","keyCache","keysCached","Set","cachedKeys","generate","addIfFound","Config","_scopeCache","_resolverCache","platform","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","_getResolver","getResolver","resolver","subPrefixes","needContext","isFunction","subResolver","_attachContext","_iterator13","_step13","descriptorDefaults","_getResolver2","resolverCache","_createResolver","hasFunction","_descriptors2","isScriptable","isIndexable","_iterator14","_step14","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","_i4","_keys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","getSizeForArea","field","getDatasetArea","userConfig","_this12","initialCanvas","existingChart","uid","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","_this$options12","maintainAspectRatio","retinaScale","bindEvents","clearCanvas","_resize","_resizeBeforeDraw","newSize","newRatio","onResize","render","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","_this13","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","_this14","buildOrUpdateControllers","newControllers","order","visible","ControllerClass","_defaults$datasets$ty","_resetElements","_this15","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_this$getDatasetMeta","_minPadding","autoPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","_this16","existingEvents","newEvents","setsEqual","unbindEvents","changes","_getUniformDataChanges","_iterator15","_step15","_step15$value","datasetCount","makeSet","changeSet","_this17","noArea","_this17$_layers","_idx","_updateDataset","_this$_resizeBeforeDr","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","hide","show","_stop","toBase64Image","_this$canvas","toDataURL","bindUserEvents","bindResponsiveEvents","_this18","_add","_this19","_remove","detached","_this20","updateHoverStyle","getActiveElements","setActiveElements","activeElements","_this21","lastActive","_elementsEqual","pluginId","replay","hoverOptions","hover","deactivated","activated","_this22","eventFilter","_handleEvent","_this$_active","_getActiveElements","_isClickEvent","onHover","invalidatePlugins","clipArc","pixelMargin","angleMargin","closePath","toRadiusCorners","_readValueToProps","parseBorderRadius$1","angleDelta","o","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","noSpacingInnerRadius","noSpacingOuterRadius","avNogSpacingRadius","adjustedAngle","beta","angleOffset","_parseBorderRadius$","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","drawArc","fullCircles","borderJoinStyle","inner","lineJoin","ArcElement","_Element2","_super12","_this23","_assertThisInitialized","chartX","chartY","_getAngleFromPoint2","_this$getProps2","rAdjust","betweenAngles","withinRadius","_isBetween","_this$getProps3","_this$options13","halfAngle","halfRadius","translate","fix","radiusOffset","setStyle","lineCap","borderCapStyle","getLineMethod","stepped","_steppedLineTo","tension","cubicInterpolationMode","_bezierCurveTo","pathVars","_params$start","paramsStart","_params$end","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","_pathVars","lineMethod","_ref5$move","fastPathSegment","_pathVars2","_ref6$move","avgX","countX","prevX","lastY","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","_steppedInterpolation","_bezierInterpolation","_pointInLine","strokePathWithCache","path","_path","Path2D","strokePathDirect","segments","segmentMethod","_iterator16","_step16","usePath2D","LineElement","_Element3","_super13","_this24","_points","_segments","_pointsUpdated","_updateBezierControlPoints","_computeSegments","_boundSegments","_interpolate","_segments$i","interpolated","_iterator17","_step17","capBezierPoints","inRange$1","_el$getProps","hitRadius","PointElement","_Element4","_super14","_this25","mouseX","mouseY","_this$getProps4","inXRange","inYRange","_this$getProps5","hoverRadius","drawPoint","getBarBounds","bar","_bar$getProps","half","skipOrLimit","parseBorderWidth","maxW","maxH","toTRBL","parseBorderRadius","_bar$getProps2","toTRBLCorners","maxR","enableBorder","topLeft","topRight","bottomLeft","bottomRight","boundingRects","bounds","outer","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","inflateRect","refRect","BarElement","_Element5","_super15","_this26","_this$options14","_boundingRects","addRectPath","addRoundedRectPath","_this$getProps6","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","colorizeDefaultDataset","colorizeDoughnutDataset","colorizePolarAreaDataset","getColorizer","containsColorsDefinitions","containsColorsDefinition","plugin_colors","forceOverride","_chart$config","colorizer","lttbDecimation","samples","decimated","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","_data$a","pointAx","pointAy","minMaxDecimation","minIndex","startIndex","xMin","xMax","lastIndex","intermediateIndex1","intermediateIndex2","_objectSpread","cleanDecimatedDataset","cleanDecimatedData","getStartAndCountOfVisiblePointsSimplified","pointCount","_iScale$getUserBounds","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","_getStartAndCountOfVi3","tpoints","_iterator18","_step18","_findSegmentEnd","_getBounds","targetSegments","_iterator19","_step19","tgt","subBounds","fillSources","_boundSegment","_iterator20","_step20","fillSource","_getEdge","_normalizeAngle","_pointsFromSegments","boundary","_ref7$x","_ref7$y","linePoints","_createBoundaryLine","_shouldApplyFill","_resolveTarget","sources","propagate","visited","_decodeFill","parseFillOption","parseFloat","decodeTargetIndex","firstCh","_getTargetPixel","_getTargetValue","fillOption","_buildStackLine","sourcePoints","linesBelow","getLinesBelow","addPointsBelow","below","unshift","sourcePoint","postponed","_findPoint","findPoint","pointValue","firstValue","lastValue","simpleArc","_getTarget","getLineByIndex","computeBoundary","computeCircularBoundary","computeLinearBoundary","_source$scale","_drawfill","lineOpts","_ref9","_ref9$above","above","_ref9$below","doFill","clipVertical","clipY","lineLoop","_iterator21","_step21","_iterator22","_step22","_step22$value","_src$style","_src$style2","_src$style2$backgroun","notShape","clipBounds","interpolatedLineTo","targetLoop","_scale$chart$chartAre","_ref10","interpolatedPoint","afterDatasetsUpdate","$filler","beforeDatasetDraw","getBoxSize","labelOpts","_labelOpts$boxHeight","boxHeight","_labelOpts$boxWidth","boxWidth","usePointStyle","pointStyleWidth","itemHeight","itemsEqual","Legend","_Element6","_super16","_this27","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","_this28","labelFont","_computeTitleHeight","_getBoxSize","_fitRows","_fitCols","hitboxes","totalHeight","row","itemWidth","measureText","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","_calculateItemSize","calculateItemSize","adjustHitBoxes","_this$options15","rtl","rtlHelper","getRtlAdapter","_iterator23","_step23","hitbox","leftForLtr","_iterator24","_step24","_draw","_this29","defaultColor","halfFontSize","cursor","_getBoxSize2","drawLegendBox","lineDash","drawOptions","SQRT2","xPlus","drawPointLegend","yBoxTop","xBoxLeft","fillText","strikethrough","overrideTextDirection","textDirection","textWidth","setWidth","realX","_textX","fontLineHeight","calculateLegendItemHeight","restoreTextDirection","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","calculateItemWidth","calculateItemHeight","legendItemText","plugin_legend","_element","afterEvent","ci","_chart$legend$options","useBorderRadius","Title","_Element7","_super17","_this30","_padding","textSize","_drawArgs","fontOpts","_this$_drawArgs","createTitle","titleBlock","plugin_title","plugin_subtitle","positioners","average","eventPosition","nearestElement","distanceBetweenPoints","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","_controller$getLabelA","formattedValue","getTooltipSize","footer","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","cornerRadius","_toTRBLCorners","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","beforeTitle","noop","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","_Element8","_super18","_this31","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","_this32","bodyItems","scoped","getAfterBody","getFooter","_createItems","_this33","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","_toTRBLCorners2","ptX","ptY","pt","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","_toTRBLCorners3","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","_this34","_ref11","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","_fallback","addIfString","addedLabels","findOrAddLabel","lastIndexOf","_getLabelForValue","CategoryScale","_Scale","_super19","_this35","_startValue","_valueRange","_addedLabels","added","_iterator25","_step25","_step25$value","isFinite","_this$getUserBounds2","_this$getMinMax","generateTicks$1","generationOptions","dataRange","MIN_SPACING","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceNum","niceMin","niceMax","numSpaces","almostWhole","almostEquals","decimalPlaces","_decimalPlaces","relativeLabelSize","tickValue","_ref12","rad","LinearScaleBase","_Scale2","_super20","_this36","_endValue","handleTickRangeOptions","_this$getUserBounds3","setMin","setMax","minSign","maxSign","getTickLimit","computeTickLimit","numericGeneratorOptions","_setMinAndMaxByKey","LinearScale","_LinearScaleBase","_super21","_this$getMinMax2","Ticks","formatters","numeric","log10Floor","log10","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","startExp","generateTicks","_ref13","minExp","exp","significand","lastTick","LogarithmicScale","_Scale3","_super22","_this37","_zero","_this$getMinMax3","_this$getUserBounds4","getTickBackdropHeight","measureLabelSize","_longestText","determineLimits","fitWithPointLabels","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","hLimits","vLimits","updateLimits","setCenterPoint","_pointLabelItems","buildPointLabelItems","createPointLabelItem","itemOpts","outerDistance","extra","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","isNotOverlapped","apexesInArea","_opts$pointLabels","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","createPointLabelContext","RadialLinearScale","_LinearScaleBase2","_super23","_this38","_this$getMinMax4","_this39","leftMovement","rightMovement","topMovement","bottomMovement","angleMultiplier","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","distanceFromCenter","getBasePosition","getPointLabelPosition","_this$_pointLabelItem","_this$options16","_this40","_this41","animate","INTERVALS","millisecond","common","UNITS","sorter","adapter","_adapter","_scale$_parseOpts","_parseOpts","parser","isoWeekday","determineUnitForAutoTicks","minUnit","capacity","MAX_SAFE_INTEGER","determineUnitForFormatting","determineMajorUnit","addTick","timestamps","_lookup2","_lookup","timestamp","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","_Scale4","_super24","_this42","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_this$getUserBounds5","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","initOffsets","offsetAfterAutoskip","getDecimalForValue","minor","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","formatter","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","normalize","table","prevSource","nextSource","prevTarget","nextTarget","_lookupByKey2","_table$lo","_table$hi","_lookupByKey3","_table$lo2","_table$hi2","span","TimeSeriesScale","_TimeScale","_super25","_this43","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","defaultValue","dimension","endsWith","thisArg","loopable","a0","a1","klen","isValidKey","_merger","tval","sval","merger","_mergerIf","_deprecated","keyResolvers","_","_splitKey","part","_getKeyResolver","PITAU","INFINITY","RAD_PER_DEG","QUARTER_PI","TWO_THIRDS_PI","roundedRange","niceRange","fraction","niceFraction","rounded","degrees","radians","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","_angleDiff","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","cmp","mid","ti","arrayEvents","_chartjs","stub","pixelSize","fontStyle","fontFamily","requestAnimationFrame","argsToUse","ticking","check","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","atEdge","elasticIn","elasticOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","colors","applyAnimationsDefaults","applyLayoutsDefaults","intlCache","getNumberFormat","Intl","NumberFormat","num","notation","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","applyScaleDefaults","getScope$1","root","Defaults","_appliers","hoverBackgroundColor","hoverBorderColor","hoverColor","_Object$definePropert","scopeObject","targetScopeObject","privateName","defineProperties","appliers","toFontString","longest","arrayOfThings","thing","nestedThing","halfWidth","resetTransform","clearRect","xOffset","yOffset","xOffsetW","yOffsetW","drawImage","ellipse","SQRT1_2","flip","midpoint","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","setRenderOpts","decorateText","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","drawBackdrop","oldColor","strokeText","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","objProps","read","inputs","cacheable","minmax","keepZero","parentContext","rootScopes","getTarget","finalRootScopes","_resolve","Proxy","deleteProperty","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","_scopes","getKeysFromAllScopes","ownKeys","storage","_storage","subProxy","_subProxy","receiver","_resolveWithContext","_proxy$_scriptable","_proxy$_indexable","_proxy$_allKeys","_allKeys","readKey","needsSubResolver","_resolveScriptable","_resolveArray","getValue","createSubResolver","resolveFallback","getScope","addScopes","parentScopes","parentFallback","_rootScopes","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","getValueAxis","splineCurve","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","splineCurveMonotone","slopeDelta","capControlPoint","inArea","inAreaPrev","inAreaNext","controlPoints","domNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getPositionedStyle","styles","suffix","useOffsetPos","shadowRoot","getCanvasPosition","borderBox","paddings","borders","_getCanvasPosition","getContainerSize","clientHeight","containerStyle","containerBorder","containerPadding","round1","bbWidth","bbHeight","containerSize","maintainHeight","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","passiveSupported","cp1","cp2","getRightToLeftAdapter","rectX","getLeftToRightAdapter","_itemWidth","getPropertyPriority","setProperty","prevTextDirection","propertyFn","between","compare","normalizeSegment","getSegment","startBound","endBound","_propertyFn","_propertyFn2","_getSegment","inside","subStart","prevValue","startIsBefore","endIsBefore","shouldStart","shouldStop","sub","findStartAndEnd","solidSegments","segmentOptions","_findStartAndEnd","splitByStyles","completeLoop","doSplitByStyles","chartContext","baseStyle","readStyle","prevStyle","addStyle","st","p0DataIndex","p1DataIndex","styleChanged","replacer"],"sourceRoot":""}